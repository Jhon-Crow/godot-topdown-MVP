[18:50:21] [INFO] ============================================================
[18:50:21] [INFO] GAME LOG STARTED
[18:50:21] [INFO] ============================================================
[18:50:21] [INFO] Timestamp: 2026-02-07T18:50:21
[18:50:21] [INFO] Log file: I:/Загрузки/godot exe/фанарик/game_log_20260207_185021.txt
[18:50:21] [INFO] Executable: I:/Загрузки/godot exe/фанарик/Godot-Top-Down-Template.exe
[18:50:21] [INFO] OS: Windows
[18:50:21] [INFO] Debug build: false
[18:50:21] [INFO] Engine version: 4.3-stable (official)
[18:50:21] [INFO] Project: Godot Top-Down Template
[18:50:21] [INFO] ------------------------------------------------------------
[18:50:21] [INFO] [GameManager] GameManager ready
[18:50:21] [INFO] [ScoreManager] ScoreManager ready
[18:50:21] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[18:50:21] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[18:50:21] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[18:50:21] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[18:50:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:21] [INFO] [PenultimateHit] Saturation shader loaded successfully
[18:50:21] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[18:50:21] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[18:50:21] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[18:50:21] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[18:50:21] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[18:50:21] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[18:50:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:21] [INFO] [LastChance] Last chance shader loaded successfully
[18:50:21] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[18:50:21] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[18:50:21] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[18:50:21] [INFO] [LastChance]   Sepia intensity: 0.70
[18:50:21] [INFO] [LastChance]   Brightness: 0.60
[18:50:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[18:50:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[18:50:21] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[18:50:21] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[18:50:21] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[18:50:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:21] [INFO] [CinemaEffects] Created effects layer at layer 99
[18:50:21] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[18:50:21] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[18:50:21] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[18:50:21] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[18:50:21] [INFO] [CinemaEffects]   Grain intensity: 0.15
[18:50:21] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[18:50:21] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[18:50:21] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[18:50:21] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[18:50:21] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[18:50:21] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[18:50:21] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[18:50:21] [INFO] [GrenadeTimerHelper] Autoload ready
[18:50:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:21] [INFO] [PowerFantasy] Saturation shader loaded successfully
[18:50:21] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[18:50:21] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[18:50:21] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[18:50:21] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[18:50:21] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:21] [ENEMY] [Enemy1] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:21] [ENEMY] [Enemy2] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:21] [ENEMY] [Enemy3] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:21] [ENEMY] [Enemy4] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:21] [ENEMY] [Enemy5] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:21] [ENEMY] [Enemy6] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:21] [ENEMY] [Enemy7] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:21] [ENEMY] [Enemy8] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:50:21] [ENEMY] [Enemy9] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:21] [ENEMY] [Enemy10] Death animation component initialized
[18:50:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:50:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:50:21] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:50:21] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:21] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[18:50:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:21] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:21] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:21] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:21] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:21] [INFO] [ReplayManager] Replay data cleared
[18:50:21] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:21] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:21] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:21] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:21] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:21] [INFO] [ReplayManager] Enemies count: 10
[18:50:21] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:21] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:21] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:21] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:21] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:21] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:21] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:21] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:21] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:21] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:21] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:21] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:21] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:21] [INFO] [CinemaEffects] Found player node: Player
[18:50:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[18:50:21] [ENEMY] [Enemy1] Registered as sound listener
[18:50:21] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[18:50:21] [ENEMY] [Enemy2] Registered as sound listener
[18:50:21] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[18:50:21] [ENEMY] [Enemy3] Registered as sound listener
[18:50:21] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[18:50:21] [ENEMY] [Enemy4] Registered as sound listener
[18:50:21] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[18:50:21] [ENEMY] [Enemy5] Registered as sound listener
[18:50:21] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[18:50:21] [ENEMY] [Enemy6] Registered as sound listener
[18:50:21] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[18:50:21] [ENEMY] [Enemy7] Registered as sound listener
[18:50:21] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[18:50:21] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[18:50:21] [ENEMY] [Enemy8] Registered as sound listener
[18:50:21] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[18:50:21] [ENEMY] [Enemy9] Registered as sound listener
[18:50:21] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:50:21] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[18:50:21] [ENEMY] [Enemy10] Registered as sound listener
[18:50:21] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:50:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:21] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:21] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:21] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:21] [INFO] [PenultimateHit] Shader warmup complete in 451 ms
[18:50:21] [INFO] [LastChance] Shader warmup complete in 450 ms
[18:50:21] [INFO] [CinemaEffects] Cinema shader warmup complete in 397 ms
[18:50:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:21] [INFO] [LastChance] Found player: Player
[18:50:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:21] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:21] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:21] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 728 ms
[18:50:22] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:22] [INFO] [Player] Invincibility mode: ON
[18:50:22] [INFO] [GameManager] Invincibility mode toggled: ON
[18:50:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:23] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:23] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[18:50:23] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[18:50:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[18:50:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[18:50:23] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[18:50:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[18:50:23] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:24] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:24] [INFO] [PauseMenu] Armory button pressed
[18:50:24] [INFO] [PauseMenu] Creating new armory menu instance
[18:50:24] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[18:50:24] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[18:50:24] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[18:50:24] [INFO] [PauseMenu] back_pressed signal exists on instance
[18:50:24] [INFO] [PauseMenu] back_pressed signal connected
[18:50:24] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[18:50:24] [INFO] [PauseMenu] _populate_weapon_grid method exists
[18:50:25] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:50:26] [INFO] [ActiveItemManager] Active item changed from None to Flashlight
[18:50:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:26] [ENEMY] [Enemy1] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:26] [ENEMY] [Enemy2] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:26] [ENEMY] [Enemy3] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:26] [ENEMY] [Enemy4] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:26] [ENEMY] [Enemy5] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:26] [ENEMY] [Enemy6] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:26] [ENEMY] [Enemy7] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:26] [ENEMY] [Enemy8] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:26] [ENEMY] [Enemy9] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:26] [ENEMY] [Enemy10] Death animation component initialized
[18:50:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:50:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:26] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:26] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:26] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:26] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:26] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:26] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:26] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:26] [INFO] [ReplayManager] Replay data cleared
[18:50:26] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:26] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:26] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:26] [INFO] [ReplayManager] Enemies count: 10
[18:50:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:26] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:26] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:26] [INFO] [CinemaEffects] Found player node: Player
[18:50:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:50:26] [ENEMY] [Enemy1] Registered as sound listener
[18:50:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:50:26] [ENEMY] [Enemy2] Registered as sound listener
[18:50:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:50:26] [ENEMY] [Enemy3] Registered as sound listener
[18:50:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:50:26] [ENEMY] [Enemy4] Registered as sound listener
[18:50:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:50:26] [ENEMY] [Enemy5] Registered as sound listener
[18:50:26] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:50:26] [ENEMY] [Enemy6] Registered as sound listener
[18:50:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:50:26] [ENEMY] [Enemy7] Registered as sound listener
[18:50:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:50:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:50:26] [ENEMY] [Enemy8] Registered as sound listener
[18:50:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:50:26] [ENEMY] [Enemy9] Registered as sound listener
[18:50:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:50:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:50:26] [ENEMY] [Enemy10] Registered as sound listener
[18:50:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:50:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:26] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:26] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:26] [INFO] [LastChance] Found player: Player
[18:50:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:26] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:27] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:27] [ENEMY] [Enemy1] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:27] [ENEMY] [Enemy2] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:27] [ENEMY] [Enemy3] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:27] [ENEMY] [Enemy4] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:27] [ENEMY] [Enemy5] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:27] [ENEMY] [Enemy6] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:27] [ENEMY] [Enemy7] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:27] [ENEMY] [Enemy8] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:27] [ENEMY] [Enemy9] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:27] [ENEMY] [Enemy10] Death animation component initialized
[18:50:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:50:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:27] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:27] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:27] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:27] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:27] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:27] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:27] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:27] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:27] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:27] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:27] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:27] [INFO] [ReplayManager] Replay data cleared
[18:50:27] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:27] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:27] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:27] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:27] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:27] [INFO] [ReplayManager] Enemies count: 10
[18:50:27] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:27] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:27] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:27] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:27] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:27] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:27] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:27] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:27] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:27] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:27] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:27] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:27] [INFO] [CinemaEffects] Found player node: Player
[18:50:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[18:50:27] [ENEMY] [Enemy1] Registered as sound listener
[18:50:27] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[18:50:27] [ENEMY] [Enemy2] Registered as sound listener
[18:50:27] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[18:50:27] [ENEMY] [Enemy3] Registered as sound listener
[18:50:27] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[18:50:27] [ENEMY] [Enemy4] Registered as sound listener
[18:50:27] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[18:50:27] [ENEMY] [Enemy5] Registered as sound listener
[18:50:27] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[18:50:27] [ENEMY] [Enemy6] Registered as sound listener
[18:50:27] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[18:50:27] [ENEMY] [Enemy7] Registered as sound listener
[18:50:27] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:50:27] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[18:50:27] [ENEMY] [Enemy8] Registered as sound listener
[18:50:27] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[18:50:27] [ENEMY] [Enemy9] Registered as sound listener
[18:50:27] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:50:27] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[18:50:27] [ENEMY] [Enemy10] Registered as sound listener
[18:50:27] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:50:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:27] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:27] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:27] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:27] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:27] [INFO] [LastChance] Found player: Player
[18:50:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:27] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:27] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:28] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:28] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:28] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,860), corner_timer=0.30
[18:50:28] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,860), corner_timer=0.30
[18:50:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,828), corner_timer=-0.02
[18:50:29] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,828), corner_timer=-0.02
[18:50:29] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,828), corner_timer=0.30
[18:50:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,828), corner_timer=0.30
[18:50:29] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,828), corner_timer=-0.02
[18:50:29] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:50:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,828), corner_timer=0.30
[18:50:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,846), corner_timer=-0.02
[18:50:30] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:50:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,846), corner_timer=0.30
[18:50:30] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:30] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:30] [ENEMY] [Enemy1] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:30] [ENEMY] [Enemy2] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:30] [ENEMY] [Enemy3] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:30] [ENEMY] [Enemy4] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:30] [ENEMY] [Enemy5] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:30] [ENEMY] [Enemy6] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:30] [ENEMY] [Enemy7] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:30] [ENEMY] [Enemy8] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:30] [ENEMY] [Enemy9] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:30] [ENEMY] [Enemy10] Death animation component initialized
[18:50:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:50:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:30] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:30] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:30] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:30] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:30] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:30] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:30] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:30] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:30] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:30] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:30] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:30] [INFO] [ReplayManager] Replay data cleared
[18:50:30] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:30] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:30] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:30] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:30] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:30] [INFO] [ReplayManager] Enemies count: 10
[18:50:30] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:30] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:30] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:30] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:30] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:30] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:30] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:30] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:30] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:30] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:30] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:30] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:30] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:30] [INFO] [CinemaEffects] Found player node: Player
[18:50:30] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[18:50:30] [ENEMY] [Enemy1] Registered as sound listener
[18:50:30] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[18:50:30] [ENEMY] [Enemy2] Registered as sound listener
[18:50:30] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[18:50:30] [ENEMY] [Enemy3] Registered as sound listener
[18:50:30] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[18:50:30] [ENEMY] [Enemy4] Registered as sound listener
[18:50:30] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[18:50:30] [ENEMY] [Enemy5] Registered as sound listener
[18:50:30] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[18:50:30] [ENEMY] [Enemy6] Registered as sound listener
[18:50:30] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[18:50:30] [ENEMY] [Enemy7] Registered as sound listener
[18:50:30] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:50:30] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[18:50:30] [ENEMY] [Enemy8] Registered as sound listener
[18:50:30] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[18:50:30] [ENEMY] [Enemy9] Registered as sound listener
[18:50:30] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:50:30] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[18:50:30] [ENEMY] [Enemy10] Registered as sound listener
[18:50:30] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:50:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:30] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:30] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:30] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:30] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:30] [INFO] [LastChance] Found player: Player
[18:50:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:30] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:30] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:31] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:31] [INFO] [Player.Debug] Debug mode toggled: ON
[18:50:31] [INFO] [GameManager] Debug mode toggled: ON
[18:50:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:32] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:32] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[18:50:32] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[18:50:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1193), corner_timer=-0.02
[18:50:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1193), corner_timer=-0.02
[18:50:32] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1188), corner_timer=0.30
[18:50:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1188), corner_timer=0.30
[18:50:32] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1083), corner_timer=-0.02
[18:50:32] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:50:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1078), corner_timer=0.30
[18:50:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,974), corner_timer=-0.02
[18:50:33] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:50:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,969), corner_timer=0.30
[18:50:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,932), corner_timer=-0.02
[18:50:33] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:50:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,932), corner_timer=0.30
[18:50:33] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,930), corner_timer=-0.02
[18:50:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:50:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,929), corner_timer=0.30
[18:50:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:34] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=163.7°, current=-168.8°, player=(450,823), corner_timer=0.00
[18:50:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:50:34] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.5°, current=-9.9°, player=(450,814), corner_timer=0.00
[18:50:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,798), corner_timer=-0.02
[18:50:34] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:50:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,795), corner_timer=0.30
[18:50:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:34] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:50:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,786), corner_timer=-0.02
[18:50:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:50:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,786), corner_timer=0.30
[18:50:34] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[18:50:34] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:50:34] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[18:50:34] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.0°, current=-101.3°, player=(450,786), corner_timer=0.00
[18:50:34] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:50:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:34] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.2°, current=123.7°, player=(450,786), corner_timer=0.00
[18:50:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,786), corner_timer=-0.02
[18:50:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:50:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,786), corner_timer=0.30
[18:50:34] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[18:50:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:35] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[18:50:35] [ENEMY] [Enemy3] Status: BLINDED applied
[18:50:35] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=172.2°, current=172.2°, player=(450,786), corner_timer=0.00
[18:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,786), corner_timer=-0.02
[18:50:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,786), corner_timer=0.30
[18:50:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:35] [ENEMY] [Enemy3] Status: BLINDED removed
[18:50:35] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=172.2°, current=172.2°, player=(450,786), corner_timer=0.00
[18:50:35] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(450,786), corner_timer=-0.02
[18:50:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,786), corner_timer=0.30
[18:50:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5317, 754.0889), source=ENEMY (Enemy3), range=1469, listeners=40
[18:50:35] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[18:50:35] [ENEMY] [Enemy2] Heard gunshot at (684.5317, 754.0889), source_type=1, intensity=0.02, distance=350
[18:50:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:35] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.1°, current=-101.3°, player=(450,786), corner_timer=0.00
[18:50:35] [INFO] [LastChance] Threat detected: Bullet
[18:50:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:35] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:35] [INFO] [Player] Spawning blood effect at (450, 786.38885), dir=(1, 0), lethal=False (C#)
[18:50:35] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 786.3889), dir=(1, 0), lethal=false
[18:50:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:35] [INFO] [ImpactEffects] Blood effect spawned at (450, 786.3889) (scale=1)
[18:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5317, 754.0889), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:35] [INFO] [LastChance] Threat detected: Bullet
[18:50:35] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(450,786), corner_timer=-0.02
[18:50:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,786), corner_timer=0.30
[18:50:35] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:35] [INFO] [Player] Spawning blood effect at (450, 786.38885), dir=(1, 0), lethal=False (C#)
[18:50:35] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 786.3889), dir=(1, 0), lethal=false
[18:50:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:35] [INFO] [ImpactEffects] Blood effect spawned at (450, 786.3889) (scale=1)
[18:50:35] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:50:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5317, 754.0889), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:35] [ENEMY] [Enemy3] Status: BLINDED applied
[18:50:35] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=143.2°, current=172.2°, player=(450,786), corner_timer=0.00
[18:50:36] [INFO] [LastChance] Threat detected: Bullet
[18:50:36] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:36] [INFO] [Player] Spawning blood effect at (450, 786.38885), dir=(1, 0), lethal=False (C#)
[18:50:36] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 786.3889), dir=(1, 0), lethal=false
[18:50:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:36] [INFO] [ImpactEffects] Blood effect spawned at (450, 786.3889) (scale=1)
[18:50:36] [INFO] [BloodDecal] Blood puddle created at (495.5664, 795.699) (added to group)
[18:50:36] [ENEMY] [Enemy3] Status: BLINDED removed
[18:50:36] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[18:50:36] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[18:50:36] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=179.4°, current=144.1°, player=(450,786), corner_timer=0.00
[18:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(646.8006, 784.1687), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:36] [INFO] [LastChance] Threat detected: Bullet
[18:50:36] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:36] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.0°, current=-157.5°, player=(450,786), corner_timer=0.00
[18:50:36] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[18:50:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(583.3566, 791.53455), shooter_id=180824835635, bullet_pos=(500.14618, 796.0591)
[18:50:36] [INFO] [Bullet] Using shooter_position, distance=83,33337
[18:50:36] [INFO] [Bullet] Distance to wall: 83,33337 (5,674322% of viewport)
[18:50:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:36] [INFO] [Bullet] Starting wall penetration at (500.14618, 796.0591)
[18:50:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(450,786), corner_timer=-0.02
[18:50:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:50:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:50:36] [INFO] [Bullet] Exiting penetration at (453.54834, 798.59283) after traveling 41,666668 pixels through wall
[18:50:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:50:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:50:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(450,786), corner_timer=0.30
[18:50:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.4556, 805.9984), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:36] [INFO] [LastChance] Threat detected: Bullet
[18:50:36] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.96655, 806.54095), shooter_id=180824835635, bullet_pos=(524.3036, 807.09515)
[18:50:36] [INFO] [Bullet] Using shooter_position, distance=41,66665
[18:50:36] [INFO] [Bullet] Distance to wall: 41,66665 (2,8371587% of viewport)
[18:50:36] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:50:36] [INFO] [Bullet] Starting wall penetration at (524.3036, 807.09515)
[18:50:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,360956
[18:50:36] [INFO] [Bullet] Body exited signal received for penetrating body
[18:50:36] [INFO] [Bullet] Exiting penetration at (477.64102, 807.7159) after traveling 41,666668 pixels through wall
[18:50:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:50:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:36] [INFO] [BloodDecal] Blood puddle created at (500.8211, 791.85) (added to group)
[18:50:36] [INFO] [BloodDecal] Blood puddle created at (521.8768, 787.7199) (added to group)
[18:50:36] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=157.2°, current=-163.8°, player=(450,786), corner_timer=0.00
[18:50:36] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:50:36] [INFO] [BloodDecal] Blood puddle created at (549.8588, 798.0067) (added to group)
[18:50:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:50:36] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:50:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:50:36] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-94.0°, current=-135.6°, player=(450,786), corner_timer=0.02
[18:50:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:50:36] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[18:50:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:50:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(450,786), corner_timer=-0.02
[18:50:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:50:36] [INFO] [BloodDecal] Blood puddle created at (613.2796, 802.7367) (added to group)
[18:50:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,786), corner_timer=0.30
[18:50:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:36] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[18:50:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(450,786), corner_timer=-0.02
[18:50:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:50:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,786), corner_timer=0.30
[18:50:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:36] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:36] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:36] [ENEMY] [Enemy1] Death animation component initialized
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:36] [ENEMY] [Enemy2] Death animation component initialized
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:36] [ENEMY] [Enemy3] Death animation component initialized
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:36] [ENEMY] [Enemy4] Death animation component initialized
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:36] [ENEMY] [Enemy5] Death animation component initialized
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:36] [ENEMY] [Enemy6] Death animation component initialized
[18:50:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:36] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:36] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:36] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:37] [ENEMY] [Enemy7] Death animation component initialized
[18:50:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:37] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:50:37] [ENEMY] [Enemy8] Death animation component initialized
[18:50:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:37] [ENEMY] [Enemy9] Death animation component initialized
[18:50:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:37] [ENEMY] [Enemy10] Death animation component initialized
[18:50:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:50:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:37] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:37] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:37] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:37] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:37] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:37] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:37] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:37] [INFO] [ReplayManager] Replay data cleared
[18:50:37] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:37] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:37] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:37] [INFO] [ReplayManager] Enemies count: 10
[18:50:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:37] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:37] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:37] [INFO] [CinemaEffects] Found player node: Player
[18:50:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:50:37] [ENEMY] [Enemy1] Registered as sound listener
[18:50:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:50:37] [ENEMY] [Enemy2] Registered as sound listener
[18:50:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:50:37] [ENEMY] [Enemy3] Registered as sound listener
[18:50:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:50:37] [ENEMY] [Enemy4] Registered as sound listener
[18:50:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:50:37] [ENEMY] [Enemy5] Registered as sound listener
[18:50:37] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:50:37] [ENEMY] [Enemy6] Registered as sound listener
[18:50:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:50:37] [ENEMY] [Enemy7] Registered as sound listener
[18:50:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:50:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:50:37] [ENEMY] [Enemy8] Registered as sound listener
[18:50:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:50:37] [ENEMY] [Enemy9] Registered as sound listener
[18:50:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:50:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:50:37] [ENEMY] [Enemy10] Registered as sound listener
[18:50:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:50:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:37] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:37] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:37] [INFO] [LastChance] Found player: Player
[18:50:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:37] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:38] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:38] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,825), corner_timer=0.30
[18:50:38] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,825), corner_timer=0.30
[18:50:38] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[18:50:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:50:38] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[18:50:38] [ENEMY] [Enemy3] Status: BLINDED applied
[18:50:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,735), corner_timer=-0.02
[18:50:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,735), corner_timer=-0.02
[18:50:38] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,733), corner_timer=0.30
[18:50:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,733), corner_timer=0.30
[18:50:38] [ENEMY] [Enemy3] Status: BLINDED removed
[18:50:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:39] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[18:50:39] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:50:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-173.7°, current=-124.5°, player=(450,728), corner_timer=0.00
[18:50:39] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-153.8°, current=-67.5°, player=(450,728), corner_timer=0.00
[18:50:39] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:50:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,728), corner_timer=-0.02
[18:50:39] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:50:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,728), corner_timer=0.30
[18:50:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=20
[18:50:39] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:50:39] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[18:50:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:39] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-145.2°, current=175.9°, player=(450,728), corner_timer=0.05
[18:50:39] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:50:39] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.3°, current=-67.5°, player=(450,728), corner_timer=0.00
[18:50:39] [INFO] [LastChance] Threat detected: Bullet
[18:50:39] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:39] [INFO] [Player] Spawning blood effect at (450, 728.00946), dir=(1, 0), lethal=False (C#)
[18:50:39] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 728.0095), dir=(1, 0), lethal=false
[18:50:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:39] [INFO] [ImpactEffects] Blood effect spawned at (450, 728.0095) (scale=1)
[18:50:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:39] [INFO] [LastChance] Threat detected: Bullet
[18:50:39] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,728), corner_timer=-0.02
[18:50:39] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:50:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,728), corner_timer=0.30
[18:50:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:39] [INFO] [Player] Spawning blood effect at (450, 728.00946), dir=(1, 0), lethal=False (C#)
[18:50:39] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 728.0095), dir=(1, 0), lethal=false
[18:50:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:39] [INFO] [ImpactEffects] Blood effect spawned at (450, 728.0095) (scale=1)
[18:50:39] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[18:50:39] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[18:50:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:50:39] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=68.4°, current=168.8°, player=(450,728), corner_timer=0.00
[18:50:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:39] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[18:50:39] [INFO] [LastChance] Threat detected: Bullet
[18:50:39] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:39] [INFO] [Player] Spawning blood effect at (450, 728.00946), dir=(1, 0), lethal=False (C#)
[18:50:39] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 728.0095), dir=(1, 0), lethal=false
[18:50:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:39] [INFO] [ImpactEffects] Blood effect spawned at (450, 728.0095) (scale=1)
[18:50:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.2068, 772.4717), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:39] [INFO] [LastChance] Threat detected: Bullet
[18:50:39] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (512.8597, 732.5198) (added to group)
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (560.7792, 760.4301) (added to group)
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (536.0815, 711.0033) (added to group)
[18:50:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:39] [INFO] [Player] Spawning blood effect at (450, 728.00946), dir=(1, 0), lethal=False (C#)
[18:50:39] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 728.0095), dir=(1, 0), lethal=false
[18:50:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:39] [INFO] [ImpactEffects] Blood effect spawned at (450, 728.0095) (scale=1)
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (529.3015, 750.2141) (added to group)
[18:50:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.6865, 795.675), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:39] [INFO] [LastChance] Threat detected: Bullet
[18:50:39] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,728), corner_timer=-0.02
[18:50:39] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (587.3373, 772.0555) (added to group)
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (505.946, 738.5172) (added to group)
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (584.5473, 713.7334) (added to group)
[18:50:39] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:50:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,728), corner_timer=0.30
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (540.6132, 713.0416) (added to group)
[18:50:39] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[18:50:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.9452, 819.0131), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[18:50:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.9275, 781.8197), shooter_id=1939026741662, bullet_pos=(304.35913, 713.5667)
[18:50:39] [INFO] [Bullet] Using shooter_position, distance=291,66675
[18:50:39] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[18:50:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:39] [INFO] [LastChance] Threat detected: @Area2D@1415
[18:50:39] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:39] [INFO] [BloodDecal] Blood puddle created at (545.7096, 757.1353) (added to group)
[18:50:40] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (577.6254, 762.8329) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (563.5466, 749.6448) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (506.5131, 748.1702) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (619.8876, 886.028) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (557.0808, 770.5449) (added to group)
[18:50:40] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (548.5146, 734.572) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (541.7347, 805.9905) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (525.1759, 780.6617) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (517.4868, 766.6769) (added to group)
[18:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.3781, 833.2145), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[18:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(578.35474, 797.1713), shooter_id=1939026741662, bullet_pos=(301.6407, 704.9823)
[18:50:40] [INFO] [Bullet] Using shooter_position, distance=291,66675
[18:50:40] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[18:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.9275, 781.8197), shooter_id=1939026741662, bullet_pos=(59.964413, 778.6672)
[18:50:40] [INFO] [Bullet] Using shooter_position, distance=527,9725
[18:50:40] [INFO] [Bullet] Distance to wall: 527,9725 (35,95062% of viewport)
[18:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:40] [INFO] [LastChance] Threat detected: @Area2D@1429
[18:50:40] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (610.9766, 861.1445) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (544.0116, 801.017) (added to group)
[18:50:40] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:40] [INFO] [Player] Spawning blood effect at (450, 728.00946), dir=(1, 0), lethal=False (C#)
[18:50:40] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 728.0095), dir=(1, 0), lethal=false
[18:50:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:40] [INFO] [ImpactEffects] Blood effect spawned at (450, 728.0095) (scale=1)
[18:50:40] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:50:40] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:50:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.3477, 845.9994), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:40] [ENEMY] [Enemy4] Heard gunshot at (605.3477, 845.9994), source_type=1, intensity=1.00, distance=48
[18:50:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[18:50:40] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (557.0257, 718.0972) (added to group)
[18:50:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(578.35474, 797.1713), shooter_id=1939026741662, bullet_pos=(52.68543, 749.5706)
[18:50:40] [INFO] [Bullet] Using shooter_position, distance=527,82007
[18:50:40] [INFO] [Bullet] Distance to wall: 527,82007 (35,94024% of viewport)
[18:50:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:40] [INFO] [LastChance] Threat detected: @Area2D@1440
[18:50:40] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,728), corner_timer=-0.02
[18:50:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:50:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,728), corner_timer=0.30
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (593.6776, 793.9015) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (610.1213, 791.0328) (added to group)
[18:50:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:40] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:40] [ENEMY] [Enemy1] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:40] [ENEMY] [Enemy2] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:40] [ENEMY] [Enemy3] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:40] [ENEMY] [Enemy4] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:40] [ENEMY] [Enemy5] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:40] [ENEMY] [Enemy6] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:40] [ENEMY] [Enemy7] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:40] [ENEMY] [Enemy8] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:40] [ENEMY] [Enemy9] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:40] [ENEMY] [Enemy10] Death animation component initialized
[18:50:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:50:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:40] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:40] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:40] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:40] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:40] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:40] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:40] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:40] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:40] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:40] [INFO] [ReplayManager] Replay data cleared
[18:50:40] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:40] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:40] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:40] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:40] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:40] [INFO] [ReplayManager] Enemies count: 10
[18:50:40] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:40] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:40] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:40] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:40] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:40] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:40] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:40] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:40] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:40] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:40] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:40] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (593.4324, 796.093) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (591.6665, 764.1895) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (550.8633, 803.997) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (533.4185, 798.9552) (added to group)
[18:50:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:40] [INFO] [CinemaEffects] Found player node: Player
[18:50:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:50:40] [ENEMY] [Enemy1] Registered as sound listener
[18:50:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:50:40] [ENEMY] [Enemy2] Registered as sound listener
[18:50:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:50:40] [ENEMY] [Enemy3] Registered as sound listener
[18:50:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:50:40] [ENEMY] [Enemy4] Registered as sound listener
[18:50:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:50:40] [ENEMY] [Enemy5] Registered as sound listener
[18:50:40] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:50:40] [ENEMY] [Enemy6] Registered as sound listener
[18:50:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:50:40] [ENEMY] [Enemy7] Registered as sound listener
[18:50:40] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:50:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:50:40] [ENEMY] [Enemy8] Registered as sound listener
[18:50:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:50:40] [ENEMY] [Enemy9] Registered as sound listener
[18:50:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:50:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:50:40] [ENEMY] [Enemy10] Registered as sound listener
[18:50:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:50:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:40] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:40] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:40] [INFO] [LastChance] Found player: Player
[18:50:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:40] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (581.7675, 811.8218) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (638.2517, 772.7361) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (630.4277, 878.7037) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (550.7357, 812.815) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (504.4925, 757.8158) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (523.4692, 719.8037) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (552.9325, 771.312) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (551.7932, 802.7012) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (517.2509, 783.8115) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (536.0006, 746.8807) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (543.4043, 784.6699) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (493.3887, 760.7267) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (645.1328, 836.2853) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (583.2426, 786.7474) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (597.3111, 832.6392) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (606.539, 759.9143) (added to group)
[18:50:40] [INFO] [BloodDecal] Blood puddle created at (656.2202, 889.043) (added to group)
[18:50:41] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:41] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:41] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,788), corner_timer=0.30
[18:50:41] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,788), corner_timer=0.30
[18:50:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,767), corner_timer=-0.02
[18:50:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,767), corner_timer=-0.02
[18:50:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,767), corner_timer=0.30
[18:50:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,767), corner_timer=0.30
[18:50:42] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,767), corner_timer=-0.02
[18:50:42] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:50:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,767), corner_timer=0.30
[18:50:42] [ENEMY] [Enemy3] Status: BLINDED applied
[18:50:42] [ENEMY] [Enemy3] Status: BLINDED removed
[18:50:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,767), corner_timer=-0.02
[18:50:42] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:50:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,767), corner_timer=0.30
[18:50:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 773.9444), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:50:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:50:42] [ENEMY] [Enemy1] Heard gunshot at (450, 773.9444), source_type=0, intensity=0.01, distance=450
[18:50:42] [ENEMY] [Enemy2] Heard gunshot at (450, 773.9444), source_type=0, intensity=0.05, distance=229
[18:50:42] [ENEMY] [Enemy3] Heard gunshot at (450, 773.9444), source_type=0, intensity=0.04, distance=251
[18:50:42] [ENEMY] [Enemy4] Heard gunshot at (450, 773.9444), source_type=0, intensity=0.02, distance=372
[18:50:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:42] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.3°, current=168.8°, player=(450,767), corner_timer=0.00
[18:50:42] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.1°, current=168.8°, player=(450,767), corner_timer=0.00
[18:50:42] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.9°, current=11.3°, player=(450,767), corner_timer=0.00
[18:50:42] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.3°, current=-67.5°, player=(450,767), corner_timer=0.00
[18:50:42] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=175.9°, current=-170.0°, player=(450,767), corner_timer=0.00
[18:50:43] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:50:43] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3607, 750.7637), dir=(0.993336, -0.115253), lethal=false
[18:50:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:43] [INFO] [ImpactEffects] Blood effect spawned at (689.3607, 750.7637) (scale=0.5)
[18:50:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,767), corner_timer=-0.02
[18:50:43] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:50:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,767), corner_timer=0.30
[18:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 773.9444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:50:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:43] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:50:43] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(681.9127, 748.286), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:43] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:50:43] [INFO] [ImpactEffects] spawn_blood_effect called at (675.2969, 743.7882), dir=(0.991001, -0.133855), lethal=false
[18:50:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:43] [INFO] [ImpactEffects] Blood effect spawned at (675.2969, 743.7882) (scale=0.5)
[18:50:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.48663, 761.7954), shooter_id=3117089295661, bullet_pos=(496.40942, 802.8171)
[18:50:43] [INFO] [Bullet] Using shooter_position, distance=125,00002
[18:50:43] [INFO] [Bullet] Distance to wall: 125,00002 (8,511481% of viewport)
[18:50:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.0916, 742.2889), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (742.7372, 730.35) (added to group)
[18:50:43] [INFO] [LastChance] Threat detected: @Area2D@1725
[18:50:43] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:50:43] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:50:43] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:50:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 773.9444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:50:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (747.1869, 766.2795) (added to group)
[18:50:43] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:43] [INFO] [Player] Spawning blood effect at (450, 767.9444), dir=(1, 0), lethal=False (C#)
[18:50:43] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 767.9444), dir=(1, 0), lethal=false
[18:50:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:43] [INFO] [ImpactEffects] Blood effect spawned at (450, 767.9444) (scale=1)
[18:50:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,767), corner_timer=-0.02
[18:50:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:50:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.48663, 761.7954), shooter_id=3117089295661, bullet_pos=(262.64597, 706.2691)
[18:50:43] [INFO] [Bullet] Using shooter_position, distance=356,1952
[18:50:43] [INFO] [Bullet] Distance to wall: 356,1952 (24,253986% of viewport)
[18:50:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,767), corner_timer=0.30
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (801.3273, 815.9195) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (776.4557, 790.0137) (added to group)
[18:50:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.48663, 761.7954), shooter_id=3117089295661, bullet_pos=(42.21759, 815.1053)
[18:50:43] [INFO] [Bullet] Using shooter_position, distance=574,7467
[18:50:43] [INFO] [Bullet] Distance to wall: 574,7467 (39,13556% of viewport)
[18:50:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (749.4175, 773.686) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (514.1218, 750.6577) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (880.3285, 806.134) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (726.5367, 743.5568) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (763.9689, 787.6307) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (849.9481, 792.0049) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (780.2798, 786.2221) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (823.7459, 855.067) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (743.2302, 735.6601) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (803.5557, 745.223) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (811.4873, 760.1516) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (858.4672, 769.9141) (added to group)
[18:50:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (800.7051, 760.1553) (added to group)
[18:50:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 773.9444), shooter_id=3120444738201, bullet_pos=(911.8677, 702.684)
[18:50:43] [INFO] [Bullet] Using shooter_position, distance=467.332641601563
[18:50:43] [INFO] [Bullet] Distance to wall: 467.332641601563 (31.8215389156028% of viewport)
[18:50:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:43] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (823.8313, 776.6677) (added to group)
[18:50:43] [INFO] [BloodDecal] Blood puddle created at (564.3915, 804.8799) (added to group)
[18:50:43] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-141.6°, current=136.2°, player=(450,767), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:50:44] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:50:44] [INFO] [BloodDecal] Blood puddle created at (865.9823, 864.6588) (added to group)
[18:50:44] [INFO] [BloodDecal] Blood puddle created at (793.2905, 802.0294) (added to group)
[18:50:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,767), corner_timer=-0.02
[18:50:44] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:50:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,767), corner_timer=0.30
[18:50:44] [INFO] [BloodDecal] Blood puddle created at (608.1404, 765.8631) (added to group)
[18:50:44] [INFO] [BloodDecal] Blood puddle created at (635.113, 811.9327) (added to group)
[18:50:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:44] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:44] [ENEMY] [Enemy1] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:44] [ENEMY] [Enemy2] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:44] [ENEMY] [Enemy3] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:44] [ENEMY] [Enemy4] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:44] [ENEMY] [Enemy5] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:44] [ENEMY] [Enemy6] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:44] [ENEMY] [Enemy7] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:44] [ENEMY] [Enemy8] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:44] [ENEMY] [Enemy9] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:44] [ENEMY] [Enemy10] Death animation component initialized
[18:50:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:50:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:44] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:44] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:44] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:44] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:44] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:44] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:44] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:44] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:44] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:44] [INFO] [ReplayManager] Replay data cleared
[18:50:44] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:44] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:44] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:44] [INFO] [ReplayManager] Enemies count: 10
[18:50:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:44] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:44] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:44] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:44] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:44] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:44] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:44] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:44] [INFO] [CinemaEffects] Found player node: Player
[18:50:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:50:44] [ENEMY] [Enemy1] Registered as sound listener
[18:50:44] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:50:44] [ENEMY] [Enemy2] Registered as sound listener
[18:50:44] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:50:44] [ENEMY] [Enemy3] Registered as sound listener
[18:50:44] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:50:44] [ENEMY] [Enemy4] Registered as sound listener
[18:50:44] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:50:44] [ENEMY] [Enemy5] Registered as sound listener
[18:50:44] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:50:44] [ENEMY] [Enemy6] Registered as sound listener
[18:50:44] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:50:44] [ENEMY] [Enemy7] Registered as sound listener
[18:50:44] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:50:44] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:50:44] [ENEMY] [Enemy8] Registered as sound listener
[18:50:44] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:50:44] [ENEMY] [Enemy9] Registered as sound listener
[18:50:44] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:50:44] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:50:44] [ENEMY] [Enemy10] Registered as sound listener
[18:50:44] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:50:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:44] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:44] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:44] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:44] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:44] [INFO] [LastChance] Found player: Player
[18:50:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:44] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:44] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:45] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:45] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[18:50:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:50:45] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[18:50:45] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[18:50:45] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:50:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:45] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:45] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.7°, current=-101.3°, player=(450,783), corner_timer=0.00
[18:50:45] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,783), corner_timer=0.30
[18:50:45] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,783), corner_timer=0.30
[18:50:45] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:50:45] [ENEMY] [Enemy3] Status: BLINDED applied
[18:50:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,751), corner_timer=-0.02
[18:50:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,751), corner_timer=-0.02
[18:50:46] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,751), corner_timer=0.30
[18:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,751), corner_timer=0.30
[18:50:46] [ENEMY] [Enemy3] Status: BLINDED removed
[18:50:46] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-179.4°, current=-130.2°, player=(450,751), corner_timer=0.00
[18:50:46] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:46] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[18:50:46] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-142.3°, current=179.8°, player=(450,751), corner_timer=0.28
[18:50:46] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-140.9°, current=-173.0°, player=(450,751), corner_timer=0.20
[18:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,751), corner_timer=-0.02
[18:50:46] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,751), corner_timer=0.30
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=20
[18:50:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:50:46] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:46] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.1°, current=-101.3°, player=(450,751), corner_timer=0.00
[18:50:46] [INFO] [LastChance] Threat detected: Bullet
[18:50:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:50:46] [ENEMY] [Enemy1] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.01, distance=434
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.5°, current=-33.8°, player=(450,751), corner_timer=0.00
[18:50:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:46] [INFO] [Player] Spawning blood effect at (450, 751.4444), dir=(1, 0), lethal=False (C#)
[18:50:46] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.4444), dir=(1, 0), lethal=false
[18:50:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:46] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.4444) (scale=1)
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:46] [INFO] [LastChance] Threat detected: Bullet
[18:50:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:46] [INFO] [Player] Spawning blood effect at (450, 751.4444), dir=(1, 0), lethal=False (C#)
[18:50:46] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.4444), dir=(1, 0), lethal=false
[18:50:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:46] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.4444) (scale=1)
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:46] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:46] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:50:46] [INFO] [ImpactEffects] spawn_blood_effect called at (681.9785, 756.5577), dir=(0.997682, -0.068044), lethal=false
[18:50:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:46] [INFO] [ImpactEffects] Blood effect spawned at (681.9785, 756.5577) (scale=0.5)
[18:50:46] [INFO] [LastChance] Threat detected: Bullet
[18:50:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,751), corner_timer=-0.02
[18:50:46] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:50:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:46] [INFO] [Player] Spawning blood effect at (450, 751.4444), dir=(1, 0), lethal=False (C#)
[18:50:46] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.4444), dir=(1, 0), lethal=false
[18:50:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:46] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.4444) (scale=1)
[18:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,751), corner_timer=0.30
[18:50:46] [INFO] [BloodDecal] Blood puddle created at (518.5493, 786.329) (added to group)
[18:50:46] [INFO] [BloodDecal] Blood puddle created at (497.6014, 761.1312) (added to group)
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(667.1583, 773.3539), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:46] [INFO] [LastChance] Threat detected: Bullet
[18:50:46] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:46] [INFO] [BloodDecal] Blood puddle created at (532.9467, 750.8162) (added to group)
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:46] [INFO] [BloodDecal] Blood puddle created at (550.3871, 779.7452) (added to group)
[18:50:46] [INFO] [BloodDecal] Blood puddle created at (516.2596, 797.8599) (added to group)
[18:50:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.5475, 796.0793), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:47] [INFO] [LastChance] Threat detected: @Area2D@2033
[18:50:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:47] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:50:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:47] [INFO] [Player] Spawning blood effect at (450, 751.4444), dir=(1, 0), lethal=False (C#)
[18:50:47] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.4444), dir=(1, 0), lethal=false
[18:50:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:47] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.4444) (scale=1)
[18:50:47] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (550.2914, 806.6359) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (744.8526, 803.4395) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (523.2637, 750.9514) (added to group)
[18:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.01, 774.3172), shooter_id=4508339931666, bullet_pos=(57.46256, 762.9525)
[18:50:47] [INFO] [Bullet] Using shooter_position, distance=541,6667
[18:50:47] [INFO] [Bullet] Distance to wall: 541,6667 (36,883083% of viewport)
[18:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.2082, 820.84), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:47] [INFO] [LastChance] Threat detected: @Area2D@2042
[18:50:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (565.3212, 810.5392) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (562.7055, 776.8928) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (763.0652, 749.294) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (751.9382, 745.4104) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (739.514, 759.1373) (added to group)
[18:50:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,751), corner_timer=-0.02
[18:50:47] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (545.8416, 740.6793) (added to group)
[18:50:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,751), corner_timer=0.30
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (649.5333, 780.7846) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (578.0575, 759.889) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (749.5012, 787.2419) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (500.8885, 763.2298) (added to group)
[18:50:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.3342, 846.1787), source=ENEMY (Enemy3), range=1469, listeners=10
[18:50:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (756.3226, 767.7277) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (554.1411, 815.2202) (added to group)
[18:50:47] [INFO] [LastChance] Threat detected: Bullet
[18:50:47] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.721, 805.71136), shooter_id=4508339931666, bullet_pos=(260.6419, 712.64984)
[18:50:47] [INFO] [Bullet] Using shooter_position, distance=333,33328
[18:50:47] [INFO] [Bullet] Distance to wall: 333,33328 (22,697277% of viewport)
[18:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (790.1219, 809.5416) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (556.301, 779.692) (added to group)
[18:50:47] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (558.0717, 816.8484) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (662.7493, 867.1483) (added to group)
[18:50:47] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (497.2983, 774.0518) (added to group)
[18:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.1737, 823.1137), shooter_id=4508339931666, bullet_pos=(352.43533, 713.6027)
[18:50:47] [INFO] [Bullet] Using shooter_position, distance=249,99998
[18:50:47] [INFO] [Bullet] Distance to wall: 249,99998 (17,02296% of viewport)
[18:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:47] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-94.0°, current=-127.9°, player=(450,751), corner_timer=0.02
[18:50:47] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.721, 805.71136), shooter_id=4508339931666, bullet_pos=(47.603935, 756.4799)
[18:50:47] [INFO] [Bullet] Using shooter_position, distance=535,38544
[18:50:47] [INFO] [Bullet] Distance to wall: 535,38544 (36,45538% of viewport)
[18:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:47] [INFO] [Bullet] Starting wall penetration at (47.603935, 756.4799)
[18:50:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 757.4444), shooter_id=4511695374557, bullet_pos=(917.1697, 769.7906)
[18:50:47] [INFO] [Bullet] Using shooter_position, distance=467.332794189453
[18:50:47] [INFO] [Bullet] Distance to wall: 467.332794189453 (31.8215493055929% of viewport)
[18:50:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:47] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:47] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:50:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,485914
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (841.2084, 759.6887) (added to group)
[18:50:47] [INFO] [Bullet] Body exited signal received for penetrating body
[18:50:47] [INFO] [Bullet] Exiting penetration at (8.016426, 764.6246) after traveling 35,416668 pixels through wall
[18:50:47] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (657.3504, 885.9005) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (865.8665, 843.98) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (577.3676, 830.3915) (added to group)
[18:50:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:47] [ENEMY] [Enemy1] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:47] [ENEMY] [Enemy2] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:47] [ENEMY] [Enemy3] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:47] [ENEMY] [Enemy4] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:47] [ENEMY] [Enemy5] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:50:47] [ENEMY] [Enemy6] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:47] [ENEMY] [Enemy7] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:47] [ENEMY] [Enemy8] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:47] [ENEMY] [Enemy9] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:47] [ENEMY] [Enemy10] Death animation component initialized
[18:50:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:50:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:47] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:47] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:47] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:47] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:47] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:47] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:47] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:47] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:47] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:47] [INFO] [ReplayManager] Replay data cleared
[18:50:47] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:47] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:47] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:47] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:47] [INFO] [ReplayManager] Enemies count: 10
[18:50:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:47] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:47] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:47] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:47] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:47] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:47] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:47] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (662.8995, 795.2209) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (620.8241, 849.7955) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (545.3241, 761.2936) (added to group)
[18:50:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:47] [INFO] [CinemaEffects] Found player node: Player
[18:50:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:50:47] [ENEMY] [Enemy1] Registered as sound listener
[18:50:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:50:47] [ENEMY] [Enemy2] Registered as sound listener
[18:50:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:50:47] [ENEMY] [Enemy3] Registered as sound listener
[18:50:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:50:47] [ENEMY] [Enemy4] Registered as sound listener
[18:50:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:50:47] [ENEMY] [Enemy5] Registered as sound listener
[18:50:47] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:50:47] [ENEMY] [Enemy6] Registered as sound listener
[18:50:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:50:47] [ENEMY] [Enemy7] Registered as sound listener
[18:50:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:50:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:50:47] [ENEMY] [Enemy8] Registered as sound listener
[18:50:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:50:47] [ENEMY] [Enemy9] Registered as sound listener
[18:50:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:50:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:50:47] [ENEMY] [Enemy10] Registered as sound listener
[18:50:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:50:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:47] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:47] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:47] [INFO] [LastChance] Found player: Player
[18:50:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:47] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (571.5881, 779.7075) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (599.1254, 762.9052) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (590.9563, 759.4026) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (592.5206, 799.4734) (added to group)
[18:50:47] [INFO] [BloodDecal] Blood puddle created at (674.2888, 789.0419) (added to group)
[18:50:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:49] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:49] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,783), corner_timer=0.30
[18:50:49] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,783), corner_timer=0.30
[18:50:49] [ENEMY] [Enemy3] Status: BLINDED applied
[18:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,751), corner_timer=-0.02
[18:50:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,751), corner_timer=-0.02
[18:50:49] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,751), corner_timer=0.30
[18:50:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,751), corner_timer=0.30
[18:50:49] [ENEMY] [Enemy3] Status: BLINDED removed
[18:50:49] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:50:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:50:49] [ENEMY] [Enemy1] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.01, distance=434
[18:50:49] [ENEMY] [Enemy2] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.05, distance=213
[18:50:49] [ENEMY] [Enemy3] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.04, distance=250
[18:50:49] [ENEMY] [Enemy4] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.02, distance=378
[18:50:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:49] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.5°, current=-33.8°, player=(450,751), corner_timer=0.00
[18:50:49] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.1°, current=168.8°, player=(450,751), corner_timer=0.00
[18:50:49] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.7°, current=-78.7°, player=(450,751), corner_timer=0.00
[18:50:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-157.0°, current=-67.5°, player=(450,751), corner_timer=0.00
[18:50:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,751), corner_timer=-0.02
[18:50:49] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:50:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,751), corner_timer=0.30
[18:50:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:50:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:50:49] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:50:49] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3335, 750.0616), dir=(0.999995, -0.003044), lethal=false
[18:50:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:49] [INFO] [ImpactEffects] Blood effect spawned at (689.3335, 750.0616) (scale=0.5)
[18:50:49] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.7°, current=179.8°, player=(450,751), corner_timer=0.00
[18:50:49] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:50:50] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:50:50] [INFO] [ImpactEffects] spawn_blood_effect called at (687.6708, 747.9767), dir=(0.999297, -0.037495), lethal=true
[18:50:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:50:50] [INFO] [ImpactEffects] Blood effect spawned at (687.6708, 747.9767) (scale=0.75)
[18:50:50] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:50:50] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:50:50] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:50:50] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:50:50] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:50:50] [INFO] [PowerFantasy]   - Duration: 300ms
[18:50:50] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:50:50] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:50:50] [INFO] [DeathAnim] Started - Angle: -2.1 deg, Index: 11
[18:50:50] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999297, -0.037495)
[18:50:50] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-148.8°, current=-162.4°, player=(450,751), corner_timer=0.00
[18:50:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,751), corner_timer=-0.00
[18:50:50] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[18:50:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=7.1°, player=(450,751), corner_timer=0.30
[18:50:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:50:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:50:50] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[18:50:50] [INFO] [PowerFantasy] Ending power fantasy effect
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (762.5359, 790.0109) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (760.1886, 775.9161) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (781.3072, 759.4164) (added to group)
[18:50:50] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:50:50] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:50:50] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (766.0623, 792.0798) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (743.6111, 773.9608) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (780.5746, 754.2366) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (748.6533, 746.2253) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (759.3503, 766.6418) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (753.0146, 790.6525) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (780.9313, 806.1411) (added to group)
[18:50:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(450,751), corner_timer=-0.01
[18:50:50] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (829.4487, 811.358) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (794.2037, 748.6488) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (738.0639, 793.6231) (added to group)
[18:50:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.4°, player=(450,751), corner_timer=0.30
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (782.7749, 786.3279) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (749.8739, 755.0323) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (786.4522, 786.6478) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (822.8079, 762.3624) (added to group)
[18:50:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 757.4444), shooter_id=5658753633669, bullet_pos=(922.1089, 771.9948)
[18:50:50] [INFO] [Bullet] Using shooter_position, distance=472.333068847656
[18:50:50] [INFO] [Bullet] Distance to wall: 472.333068847656 (32.1620272017643% of viewport)
[18:50:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:50] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:50] [ENEMY] [Enemy3] Ragdoll activated
[18:50:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (905.016, 903.8428) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (849.709, 882.7867) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (835.0162, 863.5345) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (900.8578, 900.6865) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (828.553, 747.639) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (827.824, 760.8554) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (811.3433, 785.0449) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (902.9831, 808.988) (added to group)
[18:50:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(450,751), corner_timer=-0.02
[18:50:50] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (823.9384, 795.4893) (added to group)
[18:50:50] [INFO] [BloodDecal] Blood puddle created at (886.639, 809.7592) (added to group)
[18:50:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(450,751), corner_timer=0.30
[18:50:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.7307, 893.4379), source=ENEMY (Enemy4), range=1469, listeners=9
[18:50:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:50:51] [INFO] [LastChance] Threat detected: Bullet
[18:50:51] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(588.0644, 854.10565), shooter_id=5655750511767, bullet_pos=(525.9659, 798.5339)
[18:50:51] [INFO] [Bullet] Using shooter_position, distance=83,33335
[18:50:51] [INFO] [Bullet] Distance to wall: 83,33335 (5,674321% of viewport)
[18:50:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:51] [INFO] [Bullet] Starting wall penetration at (525.9659, 798.5339)
[18:50:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:50:51] [INFO] [Bullet] Exiting penetration at (491.19073, 767.4137) after traveling 41,666668 pixels through wall
[18:50:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:50:51] [ENEMY] [Enemy4] Status: BLINDED applied
[18:50:51] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:50:51] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-131.7°, current=-131.7°, player=(517,751), corner_timer=0.00
[18:50:51] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:50:51] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.4°, current=57.5°, player=(533,751), corner_timer=0.00
[18:50:51] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[18:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(550,751), corner_timer=-0.02
[18:50:51] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:50:51] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:50:51] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(555,751), corner_timer=0.30
[18:50:51] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=36.0°, current=-109.0°, player=(566,751), corner_timer=0.00
[18:50:51] [ENEMY] [Enemy4] Status: BLINDED removed
[18:50:51] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-115.6°, current=-97.0°, player=(583,751), corner_timer=0.00
[18:50:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:51] [ENEMY] [Enemy3] Death animation completed
[18:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(645,751), corner_timer=-0.02
[18:50:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(647,751), corner_timer=0.30
[18:50:51] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=0.0°, current=-102.9°, player=(651,751), corner_timer=0.00
[18:50:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:51] [ENEMY] [Enemy1] PURSUING corner check: angle -141.5°
[18:50:52] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:50:52] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.0556, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:50:52] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=46.1°, current=3.2°, player=(656,751), corner_timer=0.12
[18:50:52] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=46.6°, current=9.4°, player=(656,751), corner_timer=0.10
[18:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(656,751), corner_timer=-0.02
[18:50:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(655,751), corner_timer=0.30
[18:50:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.0556, 757.4444), shooter_id=5658753633669, bullet_pos=(679.7092, 1007.085)
[18:50:52] [INFO] [Bullet] Using shooter_position, distance=250.666488647461
[18:50:52] [INFO] [Bullet] Distance to wall: 250.666488647461 (17.068342147034% of viewport)
[18:50:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:52] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:52] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:50:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:52] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=50.4°, current=50.1°, player=(635,751), corner_timer=0.03
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.9508, 574.1752), source=ENEMY (Enemy2), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:50:52] [INFO] [LastChance] Threat detected: Bullet
[18:50:52] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:52] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:50:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:52] [INFO] [Player] Spawning blood effect at (614.3547, 760.58636), dir=(1, 0), lethal=False (C#)
[18:50:52] [INFO] [ImpactEffects] spawn_blood_effect called at (614.3547, 760.5864), dir=(1, 0), lethal=false
[18:50:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:52] [INFO] [ImpactEffects] Blood effect spawned at (614.3547, 760.5864) (scale=1)
[18:50:52] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.9508, 574.1752), source=ENEMY (Enemy2), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:50:52] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:50:52] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:50:52] [INFO] [LastChance] Threat detected: Bullet
[18:50:52] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:52] [INFO] [ReplayManager] Recording frame 300 (4,7s): player_valid=True, enemies=10
[18:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(601,775), corner_timer=-0.02
[18:50:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.1062, 784.7433), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[18:50:52] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(599,778), corner_timer=0.30
[18:50:52] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:50:52] [INFO] [Player] Spawning blood effect at (597.4008, 782.58325), dir=(1, 0), lethal=False (C#)
[18:50:52] [INFO] [ImpactEffects] spawn_blood_effect called at (597.4008, 782.5833), dir=(1, 0), lethal=false
[18:50:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:50:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:50:52] [INFO] [ImpactEffects] Blood effect spawned at (597.4008, 782.5833) (scale=1)
[18:50:52] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:50:52] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(420.9508, 574.1752), source=ENEMY (Enemy2), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:50:52] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:50:52] [INFO] [LastChance] Threat detected: Bullet
[18:50:52] [INFO] [LastChance] Not in hard mode - effect disabled
[18:50:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:50:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.1062, 784.7433), shooter_id=5658753633669, bullet_pos=(687.5477, 885.4117)
[18:50:52] [INFO] [Bullet] Using shooter_position, distance=134.000015258789
[18:50:52] [INFO] [Bullet] Distance to wall: 134.000015258789 (9.12430744327163% of viewport)
[18:50:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:52] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:52] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=55.9°, current=56.2°, player=(592,805), corner_timer=0.03
[18:50:52] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=95.7°, current=51.7°, player=(592,815), corner_timer=0.00
[18:50:52] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:50:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.76904, 631.1484), shooter_id=5655045866973, bullet_pos=(687.7774, 872.4101)
[18:50:52] [INFO] [Bullet] Using shooter_position, distance=333,33325
[18:50:52] [INFO] [Bullet] Distance to wall: 333,33325 (22,697275% of viewport)
[18:50:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.1509, 854.973), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:50:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.76904, 631.1484), shooter_id=5655045866973, bullet_pos=(586.4482, 1023.69385)
[18:50:52] [INFO] [Bullet] Using shooter_position, distance=413,0984
[18:50:52] [INFO] [Bullet] Distance to wall: 413,0984 (28,12863% of viewport)
[18:50:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:52] [INFO] [BloodDecal] Blood puddle created at (678.0899, 796.9243) (added to group)
[18:50:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.1509, 854.973), shooter_id=5658753633669, bullet_pos=(687.0104, 888.6693)
[18:50:52] [INFO] [Bullet] Using shooter_position, distance=100.666595458984
[18:50:52] [INFO] [Bullet] Distance to wall: 100.666595458984 (6.85457359434875% of viewport)
[18:50:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:52] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:52] [INFO] [BloodDecal] Blood puddle created at (685.835, 769.42) (added to group)
[18:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(592,876), corner_timer=-0.02
[18:50:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:50:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.76904, 631.1484), shooter_id=5655045866973, bullet_pos=(519.98096, 917.33856)
[18:50:52] [INFO] [Bullet] Using shooter_position, distance=292,87393
[18:50:52] [INFO] [Bullet] Distance to wall: 292,87393 (19,942326% of viewport)
[18:50:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(592,881), corner_timer=0.30
[18:50:52] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-161.8°, current=-115.8°, player=(592,887), corner_timer=0.00
[18:50:52] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:50:52] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-68.3°, current=-71.2°, player=(592,892), corner_timer=0.00
[18:50:52] [INFO] [BloodDecal] Blood puddle created at (650.2472, 822.4485) (added to group)
[18:50:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.1509, 909.973), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:50:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:50:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:53] [INFO] [BloodDecal] Blood puddle created at (761.1203, 787.4487) (added to group)
[18:50:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.1509, 964.973), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:50:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:50:53] [INFO] [BloodDecal] Blood puddle created at (694.3074, 805.4329) (added to group)
[18:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(592,983), corner_timer=-0.02
[18:50:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(592,983), corner_timer=0.30
[18:50:53] [INFO] [BloodDecal] Blood puddle created at (758.8077, 801.2615) (added to group)
[18:50:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.1509, 909.973), shooter_id=5658753633669, bullet_pos=(923.2928, 953.5744)
[18:50:53] [INFO] [Bullet] Using shooter_position, distance=334.000061035156
[18:50:53] [INFO] [Bullet] Distance to wall: 334.000061035156 (22.7426783278397% of viewport)
[18:50:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:53] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:53] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:50:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:50:53] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:50:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.1509, 964.973), shooter_id=5658753633669, bullet_pos=(909.452, 969.5122)
[18:50:53] [INFO] [Bullet] Using shooter_position, distance=317.333618164063
[18:50:53] [INFO] [Bullet] Distance to wall: 317.333618164063 (21.6078295858609% of viewport)
[18:50:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:50:53] [INFO] [Bullet] Caliber cannot penetrate walls
[18:50:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:53] [ENEMY] [Enemy1] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:53] [ENEMY] [Enemy2] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:53] [ENEMY] [Enemy3] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:53] [ENEMY] [Enemy4] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:53] [ENEMY] [Enemy5] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:53] [ENEMY] [Enemy6] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:53] [ENEMY] [Enemy7] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:53] [ENEMY] [Enemy8] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:53] [ENEMY] [Enemy9] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:53] [ENEMY] [Enemy10] Death animation component initialized
[18:50:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:50:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:53] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:53] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:53] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:53] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:53] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:53] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:53] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:53] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:53] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:53] [INFO] [ReplayManager] Replay data cleared
[18:50:53] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:53] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:53] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:53] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:53] [INFO] [ReplayManager] Enemies count: 10
[18:50:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:53] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:53] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:53] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:53] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:53] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:53] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:53] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:53] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:53] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:53] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:53] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:53] [INFO] [CinemaEffects] Found player node: Player
[18:50:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:50:53] [ENEMY] [Enemy1] Registered as sound listener
[18:50:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:50:53] [ENEMY] [Enemy2] Registered as sound listener
[18:50:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:50:53] [ENEMY] [Enemy3] Registered as sound listener
[18:50:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:50:53] [ENEMY] [Enemy4] Registered as sound listener
[18:50:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:50:53] [ENEMY] [Enemy5] Registered as sound listener
[18:50:53] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:50:53] [ENEMY] [Enemy6] Registered as sound listener
[18:50:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:50:53] [ENEMY] [Enemy7] Registered as sound listener
[18:50:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:50:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:50:53] [ENEMY] [Enemy8] Registered as sound listener
[18:50:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:50:53] [ENEMY] [Enemy9] Registered as sound listener
[18:50:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:50:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:50:53] [ENEMY] [Enemy10] Registered as sound listener
[18:50:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:50:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:53] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:50:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:53] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:53] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:53] [INFO] [LastChance] Found player: Player
[18:50:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:53] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:54] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:54] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.3°, current=-168.8°, player=(450,820), corner_timer=0.00
[18:50:54] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:50:54] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.2°, current=-9.2°, player=(450,811), corner_timer=0.00
[18:50:55] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[18:50:55] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:50:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:55] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-163.1°, current=-101.3°, player=(450,793), corner_timer=0.00
[18:50:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,793), corner_timer=0.30
[18:50:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,793), corner_timer=0.30
[18:50:55] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:50:55] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:50:55] [INFO] [PauseMenu] Armory button pressed
[18:50:55] [INFO] [PauseMenu] Creating new armory menu instance
[18:50:55] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[18:50:55] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[18:50:55] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[18:50:55] [INFO] [PauseMenu] back_pressed signal exists on instance
[18:50:55] [INFO] [PauseMenu] back_pressed signal connected
[18:50:55] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[18:50:55] [INFO] [PauseMenu] _populate_weapon_grid method exists
[18:50:56] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:50:57] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:50:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,778), corner_timer=-0.02
[18:50:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,778), corner_timer=-0.02
[18:50:57] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,778), corner_timer=0.30
[18:50:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,778), corner_timer=0.30
[18:50:57] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[18:50:57] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[18:50:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:50:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:50:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:50:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:50:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:50:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:50:57] [ENEMY] [Enemy1] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:50:57] [ENEMY] [Enemy2] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:50:57] [ENEMY] [Enemy3] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:50:57] [ENEMY] [Enemy4] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:50:57] [ENEMY] [Enemy5] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:50:57] [ENEMY] [Enemy6] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:50:57] [ENEMY] [Enemy7] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:50:57] [ENEMY] [Enemy8] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:50:57] [ENEMY] [Enemy9] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:50:57] [ENEMY] [Enemy10] Death animation component initialized
[18:50:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:50:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:50:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:50:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:50:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:50:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:50:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:50:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:50:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:50:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:50:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:50:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:50:57] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:50:57] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:50:57] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:50:57] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:50:57] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:50:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:50:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:50:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:50:57] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:50:57] [INFO] [ScoreManager] Level started with 10 enemies
[18:50:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:50:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:50:57] [INFO] [ReplayManager] Replay data cleared
[18:50:57] [INFO] [BuildingLevel] Previous replay data cleared
[18:50:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:50:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:50:57] [INFO] [ReplayManager] Level: BuildingLevel
[18:50:57] [INFO] [ReplayManager] Player: Player (valid: True)
[18:50:57] [INFO] [ReplayManager] Enemies count: 10
[18:50:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:50:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:50:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:50:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:50:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:50:57] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:50:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:50:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:50:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:50:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:50:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:50:57] [INFO] [BuildingLevel] Replay recording started successfully
[18:50:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:50:57] [INFO] [CinemaEffects] Found player node: Player
[18:50:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[18:50:57] [ENEMY] [Enemy1] Registered as sound listener
[18:50:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[18:50:57] [ENEMY] [Enemy2] Registered as sound listener
[18:50:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[18:50:57] [ENEMY] [Enemy3] Registered as sound listener
[18:50:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[18:50:57] [ENEMY] [Enemy4] Registered as sound listener
[18:50:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[18:50:57] [ENEMY] [Enemy5] Registered as sound listener
[18:50:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[18:50:57] [ENEMY] [Enemy6] Registered as sound listener
[18:50:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[18:50:57] [ENEMY] [Enemy7] Registered as sound listener
[18:50:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:50:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[18:50:57] [ENEMY] [Enemy8] Registered as sound listener
[18:50:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[18:50:57] [ENEMY] [Enemy9] Registered as sound listener
[18:50:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:50:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:50:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[18:50:57] [ENEMY] [Enemy10] Registered as sound listener
[18:50:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:50:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:50:58] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:50:58] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:50:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:50:58] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:50:58] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:50:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:50:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:50:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:50:58] [INFO] [LastChance] Found player: Player
[18:50:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:50:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:50:58] [INFO] [LastChance] Connected to player Died signal (C#)
[18:50:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:50:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:50:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:50:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,914), corner_timer=0.30
[18:50:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,914), corner_timer=0.30
[18:50:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,910), corner_timer=-0.02
[18:50:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,910), corner_timer=-0.02
[18:50:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:50:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,910), corner_timer=0.30
[18:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,910), corner_timer=0.30
[18:50:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,910), corner_timer=-0.02
[18:51:00] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,910), corner_timer=0.30
[18:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,860), corner_timer=-0.02
[18:51:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,854), corner_timer=0.30
[18:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,765), corner_timer=-0.02
[18:51:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,762), corner_timer=0.30
[18:51:00] [ENEMY] [Enemy3] Status: BLINDED applied
[18:51:00] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:51:01] [ENEMY] [Enemy3] Status: BLINDED removed
[18:51:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,753), corner_timer=-0.02
[18:51:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:51:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,753), corner_timer=0.30
[18:51:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 759.3889), source=PLAYER (MakarovPM), range=1469, listeners=29
[18:51:01] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[18:51:01] [ENEMY] [Enemy1] Heard gunshot at (450, 759.3889), source_type=0, intensity=0.01, distance=436
[18:51:01] [ENEMY] [Enemy2] Heard gunshot at (450, 759.3889), source_type=0, intensity=0.05, distance=215
[18:51:01] [ENEMY] [Enemy3] Heard gunshot at (450, 759.3889), source_type=0, intensity=0.04, distance=250
[18:51:01] [ENEMY] [Enemy4] Heard gunshot at (450, 759.3889), source_type=0, intensity=0.02, distance=377
[18:51:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:01] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.6°, current=-33.8°, player=(450,753), corner_timer=0.00
[18:51:01] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.2°, current=-157.5°, player=(450,753), corner_timer=0.00
[18:51:01] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.2°, current=-78.7°, player=(450,753), corner_timer=0.00
[18:51:01] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-157.3°, current=-101.3°, player=(450,753), corner_timer=0.00
[18:51:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,753), corner_timer=-0.02
[18:51:01] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:51:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,753), corner_timer=0.30
[18:51:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:51:01] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3344, 750.1445), dir=(0.999952, -0.00978), lethal=false
[18:51:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:01] [INFO] [ImpactEffects] Blood effect spawned at (689.3344, 750.1445) (scale=0.5)
[18:51:01] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.2°, current=179.4°, player=(450,753), corner_timer=0.00
[18:51:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 759.3889), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:01] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:51:01] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.2991, 743.9279), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,753), corner_timer=-0.02
[18:51:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,753), corner_timer=0.30
[18:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.5855, 735.6391), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 759.3889), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:02] [INFO] [LastChance] Threat detected: @Area2D@3061
[18:51:02] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (777.33, 735.8279) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (772.4891, 801.0124) (added to group)
[18:51:02] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (672.5503, 729.4225), dir=(0.999621, -0.027515), lethal=false
[18:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:02] [INFO] [ImpactEffects] Blood effect spawned at (672.5503, 729.4225) (scale=0.5)
[18:51:02] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:51:02] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:51:02] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.8719, 727.3503), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (791.0081, 760.3706) (added to group)
[18:51:02] [INFO] [LastChance] Threat detected: @Area2D@3067
[18:51:02] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.1583, 719.0615), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (805.3829, 738.1827) (added to group)
[18:51:02] [INFO] [LastChance] Threat detected: @Area2D@3070
[18:51:02] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:02] [INFO] [Player] Spawning blood effect at (450, 753.38885), dir=(1, 0), lethal=False (C#)
[18:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 753.3889), dir=(1, 0), lethal=false
[18:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:02] [INFO] [ImpactEffects] Blood effect spawned at (450, 753.3889) (scale=1)
[18:51:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.06885, 754.449), shooter_id=8425987640686, bullet_pos=(52.489346, 901.173)
[18:51:02] [INFO] [Bullet] Using shooter_position, distance=583,3335
[18:51:02] [INFO] [Bullet] Distance to wall: 583,3335 (39,720253% of viewport)
[18:51:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:02] [INFO] [Bullet] Starting wall penetration at (52.489346, 901.173)
[18:51:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,496717
[18:51:02] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:02] [INFO] [Bullet] Exiting penetration at (7.3229866, 912.9109) after traveling 41,66667 pixels through wall
[18:51:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (827.5051, 739.4734) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (773.6625, 786.8282) (added to group)
[18:51:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.7967, 748.67175), shooter_id=8425987640686, bullet_pos=(35.224083, 843.5084)
[18:51:02] [INFO] [Bullet] Using shooter_position, distance=583,3334
[18:51:02] [INFO] [Bullet] Distance to wall: 583,3334 (39,72024% of viewport)
[18:51:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:02] [INFO] [Bullet] Starting wall penetration at (35.224083, 843.5084)
[18:51:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,399117
[18:51:02] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:02] [INFO] [Bullet] Exiting penetration at (-10.821724, 851.09534) after traveling 41,66667 pixels through wall
[18:51:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,753), corner_timer=-0.02
[18:51:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,753), corner_timer=0.30
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (848.1931, 775.1432) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (841.4518, 835.1443) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (846.9263, 859.7974) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (748.552, 710.6801) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (721.4942, 758.8152) (added to group)
[18:51:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(598.6448, 737.46216), shooter_id=8425987640686, bullet_pos=(56.98546, 734.6295)
[18:51:02] [INFO] [Bullet] Using shooter_position, distance=541,66675
[18:51:02] [INFO] [Bullet] Distance to wall: 541,66675 (36,883087% of viewport)
[18:51:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:02] [INFO] [Bullet] Starting wall penetration at (56.98546, 734.6295)
[18:51:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,680868
[18:51:02] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:02] [INFO] [Bullet] Exiting penetration at (10.3194275, 734.3855) after traveling 41,666668 pixels through wall
[18:51:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (772.7516, 795.0618) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (782.0647, 765.6563) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (739.4787, 736.8345) (added to group)
[18:51:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 759.3889), shooter_id=8429343083057, bullet_pos=(916.1804, 726.5877)
[18:51:02] [INFO] [Bullet] Using shooter_position, distance=467.332977294922
[18:51:02] [INFO] [Bullet] Distance to wall: 467.332977294922 (31.821561773581% of viewport)
[18:51:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:02] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (770.7552, 733.8566) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (759.6436, 756.373) (added to group)
[18:51:02] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (585.614, 835.999) (added to group)
[18:51:02] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=IN_COVER, target=-129.0°, current=132.6°, player=(450,753), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,753), corner_timer=-0.02
[18:51:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (841.4434, 862.5615) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (576.4678, 809.878) (added to group)
[18:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,753), corner_timer=0.30
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (795.1359, 786.89) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (563.1637, 803.243) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (592.6974, 766.427) (added to group)
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (580.7656, 760.8635) (added to group)
[18:51:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:51:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:51:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:51:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:51:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:51:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:51:02] [ENEMY] [Enemy1] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:51:02] [ENEMY] [Enemy2] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:51:02] [ENEMY] [Enemy3] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:51:02] [ENEMY] [Enemy4] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:51:02] [ENEMY] [Enemy5] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:51:02] [ENEMY] [Enemy6] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:51:02] [ENEMY] [Enemy7] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:51:02] [ENEMY] [Enemy8] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:51:02] [ENEMY] [Enemy9] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:51:02] [ENEMY] [Enemy10] Death animation component initialized
[18:51:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:51:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:51:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:51:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:51:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:51:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:51:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:51:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:51:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:51:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:51:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:51:02] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:51:02] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:51:02] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:51:02] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:51:02] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:51:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:51:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:51:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:51:02] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:51:02] [INFO] [ScoreManager] Level started with 10 enemies
[18:51:02] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:51:02] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:51:02] [INFO] [ReplayManager] Replay data cleared
[18:51:02] [INFO] [BuildingLevel] Previous replay data cleared
[18:51:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:51:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:51:02] [INFO] [ReplayManager] Level: BuildingLevel
[18:51:02] [INFO] [ReplayManager] Player: Player (valid: True)
[18:51:02] [INFO] [ReplayManager] Enemies count: 10
[18:51:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:51:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:51:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:51:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:51:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:51:02] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:51:02] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:51:02] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:51:02] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:51:02] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:51:02] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:51:02] [INFO] [BuildingLevel] Replay recording started successfully
[18:51:02] [INFO] [BloodDecal] Blood puddle created at (829.9772, 765.0778) (added to group)
[18:51:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:51:02] [INFO] [CinemaEffects] Found player node: Player
[18:51:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:51:02] [ENEMY] [Enemy1] Registered as sound listener
[18:51:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:51:02] [ENEMY] [Enemy2] Registered as sound listener
[18:51:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:51:02] [ENEMY] [Enemy3] Registered as sound listener
[18:51:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:51:02] [ENEMY] [Enemy4] Registered as sound listener
[18:51:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:51:02] [ENEMY] [Enemy5] Registered as sound listener
[18:51:02] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:51:02] [ENEMY] [Enemy6] Registered as sound listener
[18:51:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:51:02] [ENEMY] [Enemy7] Registered as sound listener
[18:51:02] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:51:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:51:02] [ENEMY] [Enemy8] Registered as sound listener
[18:51:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:51:02] [ENEMY] [Enemy9] Registered as sound listener
[18:51:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:51:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:51:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:51:02] [ENEMY] [Enemy10] Registered as sound listener
[18:51:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:51:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:51:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:51:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:51:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:51:02] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:51:02] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:51:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:51:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:51:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:51:03] [INFO] [LastChance] Found player: Player
[18:51:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:51:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:51:03] [INFO] [LastChance] Connected to player Died signal (C#)
[18:51:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:51:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:51:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:51:04] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:51:04] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,783), corner_timer=0.30
[18:51:04] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,783), corner_timer=0.30
[18:51:04] [ENEMY] [Enemy3] Status: BLINDED applied
[18:51:04] [ENEMY] [Enemy3] Status: BLINDED removed
[18:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,751), corner_timer=-0.02
[18:51:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:51:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,751), corner_timer=-0.02
[18:51:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,751), corner_timer=0.30
[18:51:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,751), corner_timer=0.30
[18:51:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:51:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,751), corner_timer=-0.02
[18:51:05] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:51:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,751), corner_timer=0.30
[18:51:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,751), corner_timer=-0.02
[18:51:05] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:51:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,751), corner_timer=0.30
[18:51:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:51:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:51:05] [ENEMY] [Enemy1] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.01, distance=434
[18:51:05] [ENEMY] [Enemy2] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.05, distance=213
[18:51:05] [ENEMY] [Enemy3] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.04, distance=250
[18:51:05] [ENEMY] [Enemy4] Heard gunshot at (450, 757.4444), source_type=0, intensity=0.02, distance=378
[18:51:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:05] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.5°, current=-157.5°, player=(450,751), corner_timer=0.00
[18:51:05] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.1°, current=45.0°, player=(450,751), corner_timer=0.00
[18:51:05] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.7°, current=-33.8°, player=(450,751), corner_timer=0.00
[18:51:05] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-157.0°, current=-67.5°, player=(450,751), corner_timer=0.00
[18:51:05] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.7°, current=143.1°, player=(450,751), corner_timer=0.00
[18:51:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,751), corner_timer=-0.02
[18:51:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:51:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,751), corner_timer=0.30
[18:51:05] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:51:05] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3335, 750.0616), dir=(0.999576, -0.029109), lethal=false
[18:51:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:05] [INFO] [ImpactEffects] Blood effect spawned at (689.3335, 750.0616) (scale=0.5)
[18:51:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:51:05] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:51:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:06] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-148.8°, current=-162.4°, player=(450,751), corner_timer=0.00
[18:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.3455, 743.8069), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,751), corner_timer=-0.02
[18:51:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.6949, 735.4673), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,751), corner_timer=0.30
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (781.9653, 779.4837) (added to group)
[18:51:06] [INFO] [LastChance] Threat detected: @Area2D@3357
[18:51:06] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:06] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:51:06] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (735.1023, 772.0815) (added to group)
[18:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.0443, 727.1277), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 757.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:06] [INFO] [Player] Spawning blood effect at (450, 751.4444), dir=(1, 0), lethal=False (C#)
[18:51:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.4444), dir=(1, 0), lethal=false
[18:51:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.4444) (scale=1)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (799.3096, 810.5826) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (763.9552, 805.906) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (759.6529, 778.0683) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (798.6824, 797.0484) (added to group)
[18:51:06] [INFO] [LastChance] Threat detected: @Area2D@3360
[18:51:06] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (777.2703, 762.1387) (added to group)
[18:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.3936, 718.7881), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:06] [INFO] [LastChance] Threat detected: @Area2D@3371
[18:51:06] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:06] [INFO] [Player] Spawning blood effect at (450, 751.4444), dir=(1, 0), lethal=False (C#)
[18:51:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.4444), dir=(1, 0), lethal=false
[18:51:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.4444) (scale=1)
[18:51:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.03546, 753.80475), shooter_id=10152010844643, bullet_pos=(52.207672, 899.57)
[18:51:06] [INFO] [Bullet] Using shooter_position, distance=583,33344
[18:51:06] [INFO] [Bullet] Distance to wall: 583,33344 (39,720245% of viewport)
[18:51:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(598.739, 736.6786), shooter_id=10152010844643, bullet_pos=(391.55417, 714.8332)
[18:51:06] [INFO] [Bullet] Using shooter_position, distance=208,33334
[18:51:06] [INFO] [Bullet] Distance to wall: 208,33334 (14,1858015% of viewport)
[18:51:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:06] [INFO] [Bullet] Starting wall penetration at (391.55417, 714.8332)
[18:51:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:51:06] [INFO] [Bullet] Exiting penetration at (345.14474, 709.9398) after traveling 41,66667 pixels through wall
[18:51:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (813.5912, 760.0973) (added to group)
[18:51:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (870.7642, 769.9786) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (543.947, 758.8177) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (528.9629, 776.8422) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (517.6817, 761.566) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (527.4215, 777.9325) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (558.7732, 788.8743) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (581.2249, 827.3881) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (542.9639, 754.4919) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (512.2178, 769.8885) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (509.8837, 760.7461) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (543.3098, 806.0809) (added to group)
[18:51:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 757.4444), shooter_id=10155366287872, bullet_pos=(916.5124, 729.7501)
[18:51:06] [INFO] [Bullet] Using shooter_position, distance=467.333679199219
[18:51:06] [INFO] [Bullet] Distance to wall: 467.333679199219 (31.8216095675352% of viewport)
[18:51:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:06] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,751), corner_timer=-0.02
[18:51:06] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (548.6493, 767.3047) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (595.3113, 771.389) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (569.1251, 751.4341) (added to group)
[18:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,751), corner_timer=0.30
[18:51:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (550.0004, 793.0116) (added to group)
[18:51:06] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=IN_COVER, target=-128.6°, current=134.6°, player=(450,751), corner_timer=0.00
[18:51:06] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (562.0352, 803.8848) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (530.4132, 777.6734) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (543.3788, 763.231) (added to group)
[18:51:06] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=132.8°, current=137.5°, player=(451,751), corner_timer=0.00
[18:51:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (587.2339, 801.4945) (added to group)
[18:51:06] [INFO] [BloodDecal] Blood puddle created at (552.9763, 812.8209) (added to group)
[18:51:06] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:06] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:51:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.3037, 892.9013), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:06] [INFO] [LastChance] Threat detected: Bullet
[18:51:06] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:06] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:51:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.5774, 855.15234), shooter_id=10152363166155, bullet_pos=(523.3866, 800.8258)
[18:51:06] [INFO] [Bullet] Using shooter_position, distance=83,33336
[18:51:06] [INFO] [Bullet] Distance to wall: 83,33336 (5,674322% of viewport)
[18:51:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(490,751), corner_timer=-0.02
[18:51:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:51:06] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=98.2°, current=-15.8°, player=(495,751), corner_timer=0.00
[18:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(495,751), corner_timer=0.30
[18:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.3037, 892.9013), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:07] [INFO] [LastChance] Threat detected: @Area2D@3399
[18:51:07] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:07] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.4°, current=57.5°, player=(533,751), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.4623, 848.5771), shooter_id=10152363166155, bullet_pos=(449.00378, 696.5629)
[18:51:07] [INFO] [Bullet] Using shooter_position, distance=208,3332
[18:51:07] [INFO] [Bullet] Distance to wall: 208,3332 (14,185792% of viewport)
[18:51:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:07] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.3037, 892.9013), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:07] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=84.3°, current=95.4°, player=(555,751), corner_timer=0.00
[18:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.4421, 840.3468), shooter_id=10152363166155, bullet_pos=(460.63104, 684.9946)
[18:51:07] [INFO] [Bullet] Using shooter_position, distance=208,33339
[18:51:07] [INFO] [Bullet] Distance to wall: 208,33339 (14,185804% of viewport)
[18:51:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.5416, 909.8129), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:07] [INFO] [LastChance] Threat detected: @Area2D@3408
[18:51:07] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(599,751), corner_timer=-0.02
[18:51:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(604,752), corner_timer=0.30
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=81.4°, current=-29.6°, player=(619,756), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=38.8°, current=28.8°, player=(624,757), corner_timer=0.00
[18:51:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.3289, 914.0837), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.4623, 848.5771), shooter_id=10152363166155, bullet_pos=(43.50058, 1099.5143)
[18:51:07] [INFO] [Bullet] Using shooter_position, distance=602,6869
[18:51:07] [INFO] [Bullet] Distance to wall: 602,6869 (41,03806% of viewport)
[18:51:07] [INFO] [LastChance] Threat detected: Bullet
[18:51:07] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-161.0°, current=93.7°, player=(629,759), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=36.2°, current=49.1°, player=(633,762), corner_timer=0.00
[18:51:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:07] [INFO] [Player] Spawning blood effect at (637.27484, 764.6764), dir=(1, 0), lethal=False (C#)
[18:51:07] [INFO] [ImpactEffects] spawn_blood_effect called at (637.2748, 764.6764), dir=(1, 0), lethal=false
[18:51:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:07] [INFO] [ImpactEffects] Blood effect spawned at (637.2748, 764.6764) (scale=1)
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-161.0°, current=93.8°, player=(637,764), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=34.4°, current=49.1°, player=(640,767), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=0.0°, current=-108.7°, player=(640,767), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-160.9°, current=93.8°, player=(644,770), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=33.2°, current=49.0°, player=(647,773), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=156.0°, current=42.2°, player=(657,787), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:07] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.4623, 848.5771), shooter_id=10152363166155, bullet_pos=(300.4322, 1401.3138)
[18:51:07] [INFO] [Bullet] Using shooter_position, distance=624,67303
[18:51:07] [INFO] [Bullet] Distance to wall: 624,67303 (42,535137% of viewport)
[18:51:07] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:07] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(663,810), corner_timer=-0.02
[18:51:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(663,815), corner_timer=0.30
[18:51:07] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:51:07] [ENEMY] [Enemy1] PURSUING corner check: angle -143.3°
[18:51:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:07] [INFO] [BloodDecal] Blood puddle created at (785.9095, 810.0381) (added to group)
[18:51:07] [INFO] [BloodDecal] Blood puddle created at (728.5945, 808.299) (added to group)
[18:51:07] [INFO] [BloodDecal] Blood puddle created at (732.3633, 775.7543) (added to group)
[18:51:07] [INFO] [BloodDecal] Blood puddle created at (751.5877, 779.2207) (added to group)
[18:51:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.4623, 848.5771), shooter_id=10152363166155, bullet_pos=(525.03345, 1022.94995)
[18:51:07] [INFO] [Bullet] Using shooter_position, distance=186,59766
[18:51:07] [INFO] [Bullet] Distance to wall: 186,59766 (12,705777% of viewport)
[18:51:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:07] [INFO] [Bullet] Starting wall penetration at (525.03345, 1022.94995)
[18:51:07] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:51:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,8997102
[18:51:07] [INFO] [Bullet] Max penetration distance exceeded: 51,177082 >= 48
[18:51:07] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:07] [INFO] [Bullet] Exiting penetration at (553.7091, 974.6428) after traveling 51,177082 pixels through wall
[18:51:07] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:51:07] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.8°, current=18.7°, player=(652,904), corner_timer=0.08
[18:51:07] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(646,912), corner_timer=-0.02
[18:51:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(643,916), corner_timer=0.30
[18:51:07] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=57.7°, current=57.7°, player=(639,920), corner_timer=0.00
[18:51:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:51:07] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=58.9°, current=79.1°, player=(636,924), corner_timer=0.08
[18:51:08] [INFO] [BloodDecal] Blood puddle created at (777.0319, 782.209) (added to group)
[18:51:08] [INFO] [BloodDecal] Blood puddle created at (778.9788, 802.0656) (added to group)
[18:51:08] [INFO] [BloodDecal] Blood puddle created at (819.829, 827.3961) (added to group)
[18:51:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(596,964), corner_timer=-0.02
[18:51:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(596,964), corner_timer=0.30
[18:51:08] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:51:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:08] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:51:08] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(595,965), corner_timer=-0.02
[18:51:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(595,965), corner_timer=0.30
[18:51:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:08] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(595,953), corner_timer=-0.02
[18:51:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(595,950), corner_timer=0.30
[18:51:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(595,853), corner_timer=-0.02
[18:51:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:09] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.5°, current=58.0°, player=(595,848), corner_timer=0.00
[18:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(595,848), corner_timer=0.30
[18:51:09] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:51:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:09] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:09] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(595,743), corner_timer=-0.02
[18:51:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(595,738), corner_timer=0.30
[18:51:09] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:51:09] [ENEMY] [Enemy2] Status: BLINDED applied
[18:51:09] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=35.1°, current=35.0°, player=(595,705), corner_timer=0.00
[18:51:09] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:09] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:51:09] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:51:09] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:09] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[18:51:09] [ENEMY] [Enemy3] Status: BLINDED applied
[18:51:09] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:51:09] [ENEMY] [Enemy2] Status: BLINDED removed
[18:51:09] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=28.7°, current=28.7°, player=(595,681), corner_timer=0.00
[18:51:09] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(595,681), corner_timer=-0.02
[18:51:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:09] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[18:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(595,681), corner_timer=0.30
[18:51:09] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-137.6°, current=90.0°, player=(595,681), corner_timer=0.00
[18:51:10] [ENEMY] [Enemy1] PURSUING corner check: angle -121.5°
[18:51:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:10] [ENEMY] [Enemy3] Status: BLINDED removed
[18:51:10] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:10] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[18:51:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.7925, 594.8465), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:10] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=47.5°, current=-72.1°, player=(595,681), corner_timer=0.00
[18:51:10] [INFO] [LastChance] Threat detected: Bullet
[18:51:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(595,681), corner_timer=-0.02
[18:51:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:10] [INFO] [Player] Spawning blood effect at (595.5615, 681.1406), dir=(1, 0), lethal=False (C#)
[18:51:10] [INFO] [ImpactEffects] spawn_blood_effect called at (595.5615, 681.1406), dir=(1, 0), lethal=false
[18:51:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:10] [INFO] [ImpactEffects] Blood effect spawned at (595.5615, 681.1406) (scale=1)
[18:51:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(595,681), corner_timer=0.30
[18:51:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.7925, 594.8465), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:10] [INFO] [LastChance] Threat detected: Bullet
[18:51:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:10] [ENEMY] [Enemy1] PURSUING corner check: angle -95.5°
[18:51:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:10] [INFO] [Player] Spawning blood effect at (595.5615, 681.1406), dir=(1, 0), lethal=False (C#)
[18:51:10] [INFO] [ImpactEffects] spawn_blood_effect called at (595.5615, 681.1406), dir=(1, 0), lethal=false
[18:51:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:10] [INFO] [ImpactEffects] Blood effect spawned at (595.5615, 681.1406) (scale=1)
[18:51:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:10] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.7925, 594.8465), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:10] [INFO] [LastChance] Threat detected: Bullet
[18:51:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.0846, 569.3649), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:10] [INFO] [LastChance] Threat detected: @Area2D@3449
[18:51:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (654.3817, 720.304) (added to group)
[18:51:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(595,681), corner_timer=-0.02
[18:51:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(595,681), corner_timer=0.30
[18:51:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:10] [INFO] [Player] Spawning blood effect at (595.5615, 681.1406), dir=(1, 0), lethal=False (C#)
[18:51:10] [INFO] [ImpactEffects] spawn_blood_effect called at (595.5615, 681.1406), dir=(1, 0), lethal=false
[18:51:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:10] [INFO] [ImpactEffects] Blood effect spawned at (595.5615, 681.1406) (scale=1)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (707.9846, 729.256) (added to group)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (657.4166, 674.0679) (added to group)
[18:51:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.3575, 634.12915), shooter_id=10151658524176, bullet_pos=(909.2193, 911.72437)
[18:51:10] [INFO] [Bullet] Using shooter_position, distance=500,00012
[18:51:10] [INFO] [Bullet] Distance to wall: 500,00012 (34,04593% of viewport)
[18:51:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:10] [INFO] [Bullet] Starting wall penetration at (909.2193, 911.72437)
[18:51:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,467643
[18:51:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:10] [INFO] [Bullet] Exiting penetration at (948.0331, 937.63324) after traveling 41,666668 pixels through wall
[18:51:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.3496, 543.6738), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (686.2241, 683.2638) (added to group)
[18:51:10] [INFO] [LastChance] Threat detected: @Area2D@3455
[18:51:10] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:10] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-91.2°, current=43.2°, player=(595,681), corner_timer=0.00
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (673.9021, 707.0726) (added to group)
[18:51:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:10] [INFO] [Player] Spawning blood effect at (595.5615, 681.1406), dir=(1, 0), lethal=False (C#)
[18:51:10] [INFO] [ImpactEffects] spawn_blood_effect called at (595.5615, 681.1406), dir=(1, 0), lethal=false
[18:51:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:10] [INFO] [ImpactEffects] Blood effect spawned at (595.5615, 681.1406) (scale=1)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (702.5811, 742.9138) (added to group)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (667.8358, 679.0904) (added to group)
[18:51:10] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (672.8621, 765.1663) (added to group)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (687.9156, 744.903) (added to group)
[18:51:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (682.6285, 720.8036) (added to group)
[18:51:10] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:51:10] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (739.0667, 766.8127) (added to group)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (732.6229, 796.9336) (added to group)
[18:51:10] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[18:51:10] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (762.3474, 706.2955) (added to group)
[18:51:10] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[18:51:10] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (781.7532, 745.7339) (added to group)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (765.8636, 745.7808) (added to group)
[18:51:10] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(592,681), corner_timer=-0.02
[18:51:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(590,681), corner_timer=0.30
[18:51:10] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (769.6093, 762.5153) (added to group)
[18:51:10] [INFO] [BloodDecal] Blood puddle created at (664.9907, 690.5214) (added to group)
[18:51:11] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (651.8577, 697.6189) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (666.069, 710.744) (added to group)
[18:51:11] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=-34.5°, current=85.2°, player=(577,681), corner_timer=0.00
[18:51:11] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (779.4227, 684.1148) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (720.9744, 743.5792) (added to group)
[18:51:11] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (792.3541, 730.2356) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (684.78, 764.7065) (added to group)
[18:51:11] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:11] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=56.8°, current=7.9°, player=(560,681), corner_timer=0.00
[18:51:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.1119, 523.0522), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (701.6261, 722.5751) (added to group)
[18:51:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.70062, 581.4832), shooter_id=10151658524176, bullet_pos=(501.70062, 581.4832)
[18:51:11] [INFO] [Bullet] Using shooter_position, distance=0
[18:51:11] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:51:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:51:11] [INFO] [Bullet] Starting wall penetration at (501.70062, 581.4832)
[18:51:11] [INFO] [LastChance] Threat detected: Bullet
[18:51:11] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:11] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-95.0°, current=-76.2°, player=(555,681), corner_timer=0.00
[18:51:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,632587
[18:51:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:11] [INFO] [Bullet] Exiting penetration at (526.9944, 620.70056) after traveling 41,666668 pixels through wall
[18:51:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:11] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=63.8°, current=58.2°, player=(545,680), corner_timer=0.00
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (695.0844, 768.2921) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (699.0853, 781.2498) (added to group)
[18:51:11] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=78.1°, current=77.4°, player=(523,672), corner_timer=0.08
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (704.9594, 716.8654) (added to group)
[18:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(514,666), corner_timer=-0.02
[18:51:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (717.9053, 799.058) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (782.4883, 770.6067) (added to group)
[18:51:11] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(510,663), corner_timer=0.30
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (760.8654, 770.3431) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (763.5258, 811.5961) (added to group)
[18:51:11] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=81.1°, current=-176.8°, player=(502,658), corner_timer=0.08
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (749.3999, 794.8281) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (772.7256, 711.9777) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (724.7454, 756.0364) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (793.1245, 775.5782) (added to group)
[18:51:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (723.666, 764.7587) (added to group)
[18:51:11] [INFO] [BloodDecal] Blood puddle created at (768.2637, 752.4115) (added to group)
[18:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(412,648), corner_timer=-0.02
[18:51:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:11] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=102.2°, current=151.9°, player=(407,648), corner_timer=0.08
[18:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(407,648), corner_timer=0.30
[18:51:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-137.4°, current=65.8°, player=(359,648), corner_timer=0.00
[18:51:11] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=116.7°, current=91.8°, player=(355,648), corner_timer=0.00
[18:51:11] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[18:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(328,648), corner_timer=-0.02
[18:51:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(326,648), corner_timer=0.30
[18:51:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.8236, 404.9589), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.8236, 404.9589), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[18:51:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(322,648), corner_timer=-0.02
[18:51:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:12] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-141.2°, current=94.5°, player=(322,648), corner_timer=0.00
[18:51:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(322,648), corner_timer=0.30
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.8236, 404.9589), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:12] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.0645, 403.8906), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (371.6107, 664.1362) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (411.3452, 672.3646) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (382.4929, 657.6476) (added to group)
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (358.0905, 649.3974) (added to group)
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.3193, 392.9764), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (419.9611, 636.3179) (added to group)
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(322,648), corner_timer=-0.02
[18:51:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (405.4223, 656.1906) (added to group)
[18:51:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(322,648), corner_timer=0.30
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (457.0812, 669.3729) (added to group)
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(386.5742, 382.0622), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (467.0846, 629.425) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (445.3875, 672.3114) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (434.6489, 683.5279) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (410.6663, 678.3633) (added to group)
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (474.8415, 649.8823) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (399.6272, 680.9153) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (462.8709, 660.1163) (added to group)
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (396.1157, 679.4048) (added to group)
[18:51:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.829, 371.1482), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:51:12] [INFO] [LastChance] Threat detected: Bullet
[18:51:12] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (475.6983, 659.047) (added to group)
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (388.4868, 659.6529) (added to group)
[18:51:12] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (444.8374, 665.9383) (added to group)
[18:51:12] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:12] [INFO] [Player] Spawning blood effect at (322.62344, 648.23157), dir=(1, 0), lethal=False (C#)
[18:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (322.6234, 648.2316), dir=(1, 0), lethal=false
[18:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:12] [INFO] [ImpactEffects] Blood effect spawned at (322.6234, 648.2316) (scale=1)
[18:51:12] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-95.5°, current=94.0°, player=(322,648), corner_timer=0.08
[18:51:12] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:51:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(322,648), corner_timer=-0.02
[18:51:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:12] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:51:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(322,648), corner_timer=0.30
[18:51:12] [INFO] [BloodDecal] Blood puddle created at (409.5882, 656.9601) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (453.7375, 673.381) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (403.749, 683.0577) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (448.1158, 645.6196) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (422.5762, 654.6586) (added to group)
[18:51:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (400.6469, 634.3963) (added to group)
[18:51:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:51:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:51:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:51:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:51:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:51:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:51:13] [ENEMY] [Enemy1] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:51:13] [ENEMY] [Enemy2] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:51:13] [ENEMY] [Enemy3] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:51:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:51:13] [ENEMY] [Enemy4] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:51:13] [ENEMY] [Enemy5] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:51:13] [ENEMY] [Enemy6] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:51:13] [ENEMY] [Enemy7] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:51:13] [ENEMY] [Enemy8] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:51:13] [ENEMY] [Enemy9] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:51:13] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:51:13] [ENEMY] [Enemy10] Death animation component initialized
[18:51:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:51:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:51:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:51:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:51:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:51:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:51:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:51:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:51:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:51:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:51:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:51:13] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:51:13] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:51:13] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:51:13] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:51:13] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:51:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:51:13] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:51:13] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:51:13] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:51:13] [INFO] [ScoreManager] Level started with 10 enemies
[18:51:13] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:51:13] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:51:13] [INFO] [ReplayManager] Replay data cleared
[18:51:13] [INFO] [BuildingLevel] Previous replay data cleared
[18:51:13] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:51:13] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:51:13] [INFO] [ReplayManager] Level: BuildingLevel
[18:51:13] [INFO] [ReplayManager] Player: Player (valid: True)
[18:51:13] [INFO] [ReplayManager] Enemies count: 10
[18:51:13] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:51:13] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:51:13] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:51:13] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:51:13] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:51:13] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:51:13] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:51:13] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:51:13] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:51:13] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:51:13] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:51:13] [INFO] [BuildingLevel] Replay recording started successfully
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (421.9779, 662.3215) (added to group)
[18:51:13] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:51:13] [INFO] [CinemaEffects] Found player node: Player
[18:51:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:51:13] [ENEMY] [Enemy1] Registered as sound listener
[18:51:13] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:51:13] [ENEMY] [Enemy2] Registered as sound listener
[18:51:13] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:51:13] [ENEMY] [Enemy3] Registered as sound listener
[18:51:13] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:51:13] [ENEMY] [Enemy4] Registered as sound listener
[18:51:13] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:51:13] [ENEMY] [Enemy5] Registered as sound listener
[18:51:13] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:51:13] [ENEMY] [Enemy6] Registered as sound listener
[18:51:13] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:51:13] [ENEMY] [Enemy7] Registered as sound listener
[18:51:13] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:51:13] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:51:13] [ENEMY] [Enemy8] Registered as sound listener
[18:51:13] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:51:13] [ENEMY] [Enemy9] Registered as sound listener
[18:51:13] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:51:13] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:51:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:51:13] [ENEMY] [Enemy10] Registered as sound listener
[18:51:13] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:51:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:51:13] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:51:13] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:51:13] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:51:13] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:51:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:51:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:51:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:51:13] [INFO] [LastChance] Found player: Player
[18:51:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:51:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:51:13] [INFO] [LastChance] Connected to player Died signal (C#)
[18:51:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (450.1254, 680.9898) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (489.0762, 656.6683) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (512.9573, 688.3414) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (414.4539, 640.6274) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (398.5035, 681.1061) (added to group)
[18:51:13] [INFO] [BloodDecal] Blood puddle created at (441.7363, 661.5033) (added to group)
[18:51:14] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:51:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:51:14] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:51:14] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,896), corner_timer=0.30
[18:51:14] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,896), corner_timer=0.30
[18:51:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,799), corner_timer=-0.02
[18:51:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:51:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,799), corner_timer=-0.02
[18:51:15] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:51:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,796), corner_timer=0.30
[18:51:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,796), corner_timer=0.30
[18:51:15] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:51:15] [ENEMY] [Enemy3] Status: BLINDED applied
[18:51:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,778), corner_timer=-0.02
[18:51:15] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:51:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,778), corner_timer=0.30
[18:51:15] [ENEMY] [Enemy3] Status: BLINDED removed
[18:51:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,778), corner_timer=-0.02
[18:51:15] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:51:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,778), corner_timer=0.30
[18:51:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,778), corner_timer=-0.02
[18:51:16] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:51:16] [ENEMY] [Enemy3] Status: BLINDED applied
[18:51:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,778), corner_timer=0.30
[18:51:16] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:51:16] [ENEMY] [Enemy3] Status: BLINDED removed
[18:51:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,778), corner_timer=-0.02
[18:51:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:51:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,778), corner_timer=0.30
[18:51:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 784.9444), source=PLAYER (MakarovPM), range=1469, listeners=20
[18:51:16] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:51:16] [ENEMY] [Enemy1] Heard gunshot at (450, 784.9444), source_type=0, intensity=0.01, distance=460
[18:51:16] [ENEMY] [Enemy2] Heard gunshot at (450, 784.9444), source_type=0, intensity=0.04, distance=240
[18:51:16] [ENEMY] [Enemy3] Heard gunshot at (450, 784.9444), source_type=0, intensity=0.04, distance=252
[18:51:16] [ENEMY] [Enemy4] Heard gunshot at (450, 784.9444), source_type=0, intensity=0.02, distance=368
[18:51:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:16] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.7°, current=168.8°, player=(450,778), corner_timer=0.00
[18:51:16] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.7°, current=-67.5°, player=(450,778), corner_timer=0.00
[18:51:16] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.4°, current=-78.7°, player=(450,778), corner_timer=0.00
[18:51:16] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-160.9°, current=-101.3°, player=(450,778), corner_timer=0.00
[18:51:16] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:51:16] [INFO] [ImpactEffects] spawn_blood_effect called at (689.4041, 751.2268), dir=(0.98984, -0.142188), lethal=false
[18:51:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:16] [INFO] [ImpactEffects] Blood effect spawned at (689.4041, 751.2268) (scale=0.5)
[18:51:16] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.4°, current=171.8°, player=(450,778), corner_timer=0.00
[18:51:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 784.9444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:51:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.869, 755.8412), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:16] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:51:16] [INFO] [ImpactEffects] spawn_blood_effect called at (676.334, 760.4557), dir=(0.991284, -0.131745), lethal=false
[18:51:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:16] [INFO] [ImpactEffects] Blood effect spawned at (676.334, 760.4557) (scale=0.5)
[18:51:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.3694, 770.27704), shooter_id=13919972230937, bullet_pos=(499.9951, 815.9064)
[18:51:16] [INFO] [Bullet] Using shooter_position, distance=125,00005
[18:51:16] [INFO] [Bullet] Distance to wall: 125,00005 (8,511484% of viewport)
[18:51:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(674.1556, 761.9938), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:16] [INFO] [LastChance] Threat detected: @Area2D@3814
[18:51:16] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,778), corner_timer=-0.02
[18:51:16] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:51:16] [INFO] [BloodDecal] Blood puddle created at (751.403, 757.579) (added to group)
[18:51:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:51:17] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:51:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,778), corner_timer=0.30
[18:51:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 784.9444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.4423, 768.1464), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:17] [INFO] [LastChance] Threat detected: @Area2D@3818
[18:51:17] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:17] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:17] [INFO] [Player] Spawning blood effect at (450, 778.9444), dir=(1, 0), lethal=False (C#)
[18:51:17] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 778.9444), dir=(1, 0), lethal=false
[18:51:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:17] [INFO] [ImpactEffects] Blood effect spawned at (450, 778.9444) (scale=1)
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.3694, 770.27704), shooter_id=13919972230937, bullet_pos=(704.4377, 890.1324)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=148,7324
[18:51:17] [INFO] [Bullet] Distance to wall: 148,7324 (10,127463% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (781.6726, 786.1569) (added to group)
[18:51:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.7289, 774.2989), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:17] [INFO] [LastChance] Threat detected: @Area2D@3823
[18:51:17] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:17] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:17] [INFO] [Player] Spawning blood effect at (450, 778.9444), dir=(1, 0), lethal=False (C#)
[18:51:17] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 778.9444), dir=(1, 0), lethal=false
[18:51:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:17] [INFO] [ImpactEffects] Blood effect spawned at (450, 778.9444) (scale=1)
[18:51:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.3694, 770.27704), shooter_id=13919972230937, bullet_pos=(510.98254, 985.6005)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=239,73024
[18:51:17] [INFO] [Bullet] Distance to wall: 239,73024 (16,323673% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [INFO] [Bullet] Starting wall penetration at (510.98254, 985.6005)
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.3694, 770.27704), shooter_id=13919972230937, bullet_pos=(506.49878, 987.81323)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=243,70792
[18:51:17] [INFO] [Bullet] Distance to wall: 243,70792 (16,59452% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:51:17] [INFO] [ImpactEffects] spawn_blood_effect called at (637.1236, 788.142), dir=(0.992722, -0.120427), lethal=false
[18:51:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:17] [INFO] [ImpactEffects] Blood effect spawned at (637.1236, 788.142) (scale=0.5)
[18:51:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,0645685
[18:51:17] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:17] [INFO] [Bullet] Exiting penetration at (532.5823, 1003.7917) after traveling 25,588543 pixels through wall
[18:51:17] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.3694, 770.27704), shooter_id=13919972230937, bullet_pos=(532.5823, 1003.7917)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=248,09146
[18:51:17] [INFO] [Bullet] Distance to wall: 248,09146 (16,893003% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [INFO] [Bullet] Starting wall penetration at (532.5823, 1003.7917)
[18:51:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:51:17] [INFO] [Bullet] Exiting penetration at (558.6658, 1019.77014) after traveling 25,588543 pixels through wall
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (840.3246, 833.9761) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (852.1589, 853.9543) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (828.7335, 801.5002) (added to group)
[18:51:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 784.9444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (777.9192, 784.0703) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (824.0765, 848.8333) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (740.2718, 735.1443) (added to group)
[18:51:17] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:51:17] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:51:17] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.32117, 783.6156), shooter_id=13919972230937, bullet_pos=(136.92633, 710.0746)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=458,33325
[18:51:17] [INFO] [Bullet] Distance to wall: 458,33325 (31,208754% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (771.301, 796.3624) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (733.0568, 794.5923) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (774.3005, 753.8934) (added to group)
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.32117, 783.6156), shooter_id=13919972230937, bullet_pos=(62.19269, 722.94226)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=530,60876
[18:51:17] [INFO] [Bullet] Distance to wall: 530,60876 (36,130127% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,778), corner_timer=-0.02
[18:51:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,778), corner_timer=0.30
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (883.067, 890.4984) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (805.5072, 759.3084) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (529.9137, 801.6049) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (538.0029, 761.7829) (added to group)
[18:51:17] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=144.8°, current=-161.1°, player=(450,778), corner_timer=0.00
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (906.9325, 792.0858) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (799.7347, 728.5151) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (803.3674, 772.4446) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (519.3673, 782.2854) (added to group)
[18:51:17] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:51:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (505.3118, 787.4222) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (676.9606, 781.4793) (added to group)
[18:51:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (817.7854, 754.962) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (858.8203, 734.0783) (added to group)
[18:51:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 784.9444), shooter_id=13923327676062, bullet_pos=(915.7372, 746.3552)
[18:51:17] [INFO] [Bullet] Using shooter_position, distance=467.333129882813
[18:51:17] [INFO] [Bullet] Distance to wall: 467.333129882813 (31.821572163571% of viewport)
[18:51:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:17] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,778), corner_timer=-0.02
[18:51:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (611.351, 794.7037) (added to group)
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,778), corner_timer=0.30
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (784.1976, 786.6563) (added to group)
[18:51:17] [INFO] [BloodDecal] Blood puddle created at (675.2133, 825.6252) (added to group)
[18:51:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,778), corner_timer=-0.02
[18:51:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,778), corner_timer=0.30
[18:51:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:18] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(450,775), corner_timer=-0.02
[18:51:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,773), corner_timer=0.30
[18:51:18] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:18] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:18] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[18:51:18] [ENEMY] [Enemy1] FLANKING started: target=(548.3049, 561.7148), side=right, pos=(239.1861, 401.9335)
[18:51:18] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[18:51:18] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:18] [ENEMY] [Enemy2] PURSUING corner check: angle 163.7°
[18:51:18] [ENEMY] [Enemy1] FLANKING corner check: angle -116.4°
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (179 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (176 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (173 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(481,728), corner_timer=-0.02
[18:51:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (171 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(485,728), corner_timer=0.30
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=37.4°, current=32.5°, player=(532,728), corner_timer=0.00
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [ENEMY] [Enemy1] FLANKING corner check: angle 14.6°
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(545,728), corner_timer=-0.02
[18:51:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(546,728), corner_timer=0.30
[18:51:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:19] [ENEMY] [Enemy1] FLANKING corner check: angle 114.3°
[18:51:19] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[18:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(546,728), corner_timer=-0.02
[18:51:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(547,728), corner_timer=0.30
[18:51:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=32.8°, current=32.9°, player=(547,728), corner_timer=0.02
[18:51:19] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [ENEMY] [Enemy1] Status: BLINDED applied
[18:51:19] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=37.0°, current=37.1°, player=(555,727), corner_timer=0.12
[18:51:19] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=31.1°, current=-20.2°, player=(555,727), corner_timer=0.02
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=30.5°, current=-17.9°, player=(558,727), corner_timer=0.02
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (141 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy2] Status: BLINDED applied
[18:51:19] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=26.9°, current=-9.5°, player=(568,721), corner_timer=0.02
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy1] FLANKING corner check: angle -65.7°
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy1] Status: BLINDED removed
[18:51:19] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=29.7°, current=30.8°, player=(593,700), corner_timer=0.25
[18:51:19] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(596,696), corner_timer=-0.02
[18:51:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(600,693), corner_timer=0.30
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy2] Status: BLINDED removed
[18:51:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=10.3°, current=8.4°, player=(612,682), corner_timer=0.02
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-102.7°, current=-4.3°, player=(647,654), corner_timer=0.00
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(649,653), corner_timer=-0.02
[18:51:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:19] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(649,652), corner_timer=0.30
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.1735, 658.7894), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.3473, 647.8609), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [LastChance] Threat detected: Bullet
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.1735, 658.7894), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:51:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:20] [INFO] [Player] Spawning blood effect at (650.1735, 652.7894), dir=(1, 0), lethal=False (C#)
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (650.1735, 652.7894), dir=(1, 0), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (650.1735, 652.7894) (scale=1)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.3473, 647.8609), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (400.1104, 589.7828), dir=(-0.984243, -0.176821), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (400.1104, 589.7828) (scale=0.5)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [LastChance] Threat detected: Bullet
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(650,652), corner_timer=-0.02
[18:51:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(650,652), corner_timer=0.30
[18:51:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:20] [INFO] [Player] Spawning blood effect at (650.1735, 652.7894), dir=(1, 0), lethal=False (C#)
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (650.1735, 652.7894), dir=(1, 0), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (650.1735, 652.7894) (scale=1)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.3473, 647.8609), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [LastChance] Threat detected: Bullet
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (425.0833, 640.5988), dir=(-0.989996, -0.141096), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (425.0833, 640.5988) (scale=0.5)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:20] [INFO] [Player] Spawning blood effect at (650.1735, 652.7894), dir=(1, 0), lethal=False (C#)
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (650.1735, 652.7894), dir=(1, 0), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (650.1735, 652.7894) (scale=1)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.9985, 584.3671), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:20] [ENEMY] [Enemy2] Heard gunshot at (405.9985, 584.3671), source_type=1, intensity=0.99, distance=50
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.1735, 658.7894), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:51:20] [INFO] [LastChance] Threat detected: @Area2D@3872
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.8494, 577.1462), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:20] [ENEMY] [Enemy2] Heard gunshot at (413.8494, 577.1462), source_type=1, intensity=1.00, distance=44
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (332.7974, 557.0397) (added to group)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [LastChance] Threat detected: Bullet
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (734.7769, 667.7379) (added to group)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.7002, 569.9252), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:20] [ENEMY] [Enemy2] Heard gunshot at (421.7002, 569.9252), source_type=1, intensity=1.00, distance=42
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:20] [INFO] [Player] Spawning blood effect at (650.1735, 652.7894), dir=(1, 0), lethal=False (C#)
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (650.1735, 652.7894), dir=(1, 0), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (650.1735, 652.7894) (scale=1)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (766.6514, 714.0719) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (711.0945, 717.6569) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (333.0159, 625.296) (added to group)
[18:51:20] [INFO] [LastChance] Threat detected: @Area2D@3878
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-65.7°, current=12.5°, player=(650,652), corner_timer=0.25
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(650,652), corner_timer=-0.02
[18:51:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(468.98657, 610.118), shooter_id=13919267589034, bullet_pos=(924.5882, 660.08594)
[18:51:20] [INFO] [Bullet] Using shooter_position, distance=458,33356
[18:51:20] [INFO] [Bullet] Distance to wall: 458,33356 (31,208775% of viewport)
[18:51:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.5511, 562.7043), source=ENEMY (Enemy1), range=1469, listeners=10
[18:51:20] [ENEMY] [Enemy2] Heard gunshot at (429.5511, 562.7043), source_type=1, intensity=1.00, distance=39
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(650,652), corner_timer=0.30
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (701.4507, 652.8145) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (373.2609, 646.3399) (added to group)
[18:51:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(496.347, 575.70056), shooter_id=13919267589034, bullet_pos=(496.347, 575.70056)
[18:51:20] [INFO] [Bullet] Using shooter_position, distance=0
[18:51:20] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:51:20] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:51:20] [INFO] [Bullet] Starting wall penetration at (496.347, 575.70056)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(650.1735, 658.7894), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:51:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,495792
[18:51:20] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:20] [INFO] [Bullet] Exiting penetration at (540.58545, 590.55774) after traveling 41,666668 pixels through wall
[18:51:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:20] [INFO] [LastChance] Threat detected: Bullet
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (788.212, 667.5459) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (733.1804, 713.6222) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (358.2918, 640.7283) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (720.5828, 696.5381) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (706.025, 660.6641) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (736.3524, 667.234) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (746.7346, 688.5892) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (692.7678, 651.7688) (added to group)
[18:51:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(444.4273, 590.1268), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [LastChance] Threat detected: Bullet
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (775.4985, 665.7458) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (739.2831, 757.8403) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (736.6943, 707.7297) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (282.8463, 561.7316) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (775.3521, 742.498) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (745.1636, 652.5154) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (694.6661, 648.1169) (added to group)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.2398, 579.8459), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(482.59015, 600.3064), shooter_id=13919267589034, bullet_pos=(927.4932, 828.4763)
[18:51:20] [INFO] [Bullet] Using shooter_position, distance=500,00027
[18:51:20] [INFO] [Bullet] Distance to wall: 500,00027 (34,045937% of viewport)
[18:51:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:20] [INFO] [LastChance] Threat detected: @Area2D@3913
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (753.5739, 688.4785) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (835.3545, 809.4866) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (292.2552, 644.0441) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (223.0936, 603.1204) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (295.8159, 577.5779) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (243.021, 675.8795) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (247.7298, 573.2098) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (331.3798, 652.3074) (added to group)
[18:51:20] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=163.7°, current=14.1°, player=(650,652), corner_timer=0.02
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.7277, 570.1884), source=ENEMY (Enemy2), range=1469, listeners=10
[18:51:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (450, 778.9444)
[18:51:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:20] [INFO] [Player] Spawning blood effect at (650.1735, 652.7894), dir=(1, 0), lethal=False (C#)
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (650.1735, 652.7894), dir=(1, 0), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (650.1735, 652.7894) (scale=1)
[18:51:20] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[18:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (782.9797, 897.5182), dir=(1, 0), lethal=false
[18:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:20] [INFO] [ImpactEffects] Blood effect spawned at (782.9797, 897.5182) (scale=1)
[18:51:20] [INFO] [LastChance] Threat detected: @Area2D@3927
[18:51:20] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (758.0132, 760.412) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (799.7715, 780.0551) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (795.8069, 753.4319) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (347.9037, 642.7751) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (361.2888, 644.0999) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (788.4191, 710.9319) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (738.038, 682.9767) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (715.3709, 680.1755) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (732.5664, 683.4722) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (694.2072, 667.0726) (added to group)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.52112, 617.1853), shooter_id=13919619910414, bullet_pos=(919.98364, 668.76184)
[18:51:20] [INFO] [Bullet] Using shooter_position, distance=416,66702
[18:51:20] [INFO] [Bullet] Distance to wall: 416,66702 (28,371624% of viewport)
[18:51:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:20] [INFO] [Bullet] Starting wall penetration at (919.98364, 668.76184)
[18:51:20] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,52621
[18:51:20] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:20] [INFO] [Bullet] Exiting penetration at (966.29144, 674.5384) after traveling 41,66667 pixels through wall
[18:51:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:20] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (783.8887, 711.6354) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (227.7675, 685.5193) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (763.3891, 680.2942) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (821.4317, 658.708) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (749.9633, 687.1973) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (708.9189, 693.249) (added to group)
[18:51:20] [INFO] [BloodDecal] Blood puddle created at (722.967, 660.8328) (added to group)
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(650,652), corner_timer=-0.02
[18:51:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(650,652), corner_timer=0.30
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (815.3654, 656.7953) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (720.0226, 702.7989) (added to group)
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (650.1735, 652.7894)
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (649.8402, 652.7894)
[18:51:21] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:51:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.67642, 607.4369), shooter_id=13919619910414, bullet_pos=(910.7726, 827.4107)
[18:51:21] [INFO] [Bullet] Using shooter_position, distance=458,33374
[18:51:21] [INFO] [Bullet] Distance to wall: 458,33374 (31,20879% of viewport)
[18:51:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(650.1735, 658.7894), shooter_id=13923327676062, bullet_pos=(54.32273, 582.8798)
[18:51:21] [INFO] [Bullet] Using shooter_position, distance=600.666625976563
[18:51:21] [INFO] [Bullet] Distance to wall: 600.666625976563 (40.9004950912745% of viewport)
[18:51:21] [INFO] [Bullet] Distance-based penetration chance: 98.9494223935131%
[18:51:21] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (649.1735, 652.7894)
[18:51:21] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (780.7933, 778.6544) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (292.5814, 668.1714) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (752.0768, 703.2522) (added to group)
[18:51:21] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (648.1735, 652.7894)
[18:51:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:21] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (646.8402, 652.7894)
[18:51:21] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:21] [INFO] [EnemyGrenade] Throw path blocked to (645.1735, 652.7894)
[18:51:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:21] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[18:51:21] [INFO] [ImpactEffects] spawn_blood_effect called at (782.9797, 897.5182), dir=(1, 0), lethal=true
[18:51:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:51:21] [INFO] [ImpactEffects] Blood effect spawned at (782.9797, 897.5182) (scale=1.5)
[18:51:21] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:51:21] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:51:21] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:51:21] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:51:21] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:51:21] [INFO] [PowerFantasy]   - Duration: 300ms
[18:51:21] [ENEMY] [Enemy4] [AllyDeath] Notified 3 enemies
[18:51:21] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[18:51:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:51:21] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (773.3665, 757.9546) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (763.04, 767.703) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (741.8973, 654.9695) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (711.8407, 672.4081) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (707.8428, 681.8632) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (866.9958, 905.8334) (added to group)
[18:51:21] [INFO] [ReplayManager] Recording frame 480 (7,9s): player_valid=True, enemies=10
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (815.9683, 772.796) (added to group)
[18:51:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:51:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:51:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:51:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:51:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:51:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:51:21] [ENEMY] [Enemy1] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:51:21] [ENEMY] [Enemy2] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:51:21] [ENEMY] [Enemy3] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:51:21] [ENEMY] [Enemy4] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:51:21] [ENEMY] [Enemy5] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:51:21] [ENEMY] [Enemy6] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:51:21] [ENEMY] [Enemy7] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:51:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:51:21] [ENEMY] [Enemy8] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:51:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:51:21] [ENEMY] [Enemy9] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:51:21] [ENEMY] [Enemy10] Death animation component initialized
[18:51:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:51:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:51:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:51:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:51:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:51:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:51:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:51:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:51:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:51:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:51:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:51:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:51:21] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:51:21] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:51:21] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:51:21] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:51:21] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:51:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:51:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:51:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:51:21] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:51:21] [INFO] [ScoreManager] Level started with 10 enemies
[18:51:21] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:51:21] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:51:21] [INFO] [ReplayManager] Replay data cleared
[18:51:21] [INFO] [BuildingLevel] Previous replay data cleared
[18:51:21] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:51:21] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:51:21] [INFO] [ReplayManager] Level: BuildingLevel
[18:51:21] [INFO] [ReplayManager] Player: Player (valid: True)
[18:51:21] [INFO] [ReplayManager] Enemies count: 10
[18:51:21] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:51:21] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:51:21] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:51:21] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:51:21] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:51:21] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:51:21] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:51:21] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:51:21] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:51:21] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:51:21] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:51:21] [INFO] [BuildingLevel] Replay recording started successfully
[18:51:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:51:21] [INFO] [CinemaEffects] Found player node: Player
[18:51:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:51:21] [ENEMY] [Enemy1] Registered as sound listener
[18:51:21] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:51:21] [ENEMY] [Enemy2] Registered as sound listener
[18:51:21] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:51:21] [ENEMY] [Enemy3] Registered as sound listener
[18:51:21] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:51:21] [ENEMY] [Enemy4] Registered as sound listener
[18:51:21] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:51:21] [ENEMY] [Enemy5] Registered as sound listener
[18:51:21] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:51:21] [ENEMY] [Enemy6] Registered as sound listener
[18:51:21] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:51:21] [ENEMY] [Enemy7] Registered as sound listener
[18:51:21] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:51:21] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:51:21] [ENEMY] [Enemy8] Registered as sound listener
[18:51:21] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:51:21] [ENEMY] [Enemy9] Registered as sound listener
[18:51:21] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:51:21] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:51:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:51:21] [ENEMY] [Enemy10] Registered as sound listener
[18:51:21] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:51:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:51:21] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:51:21] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:51:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:51:21] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:51:21] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:51:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:51:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:51:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:51:21] [INFO] [LastChance] Found player: Player
[18:51:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:51:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:51:21] [INFO] [LastChance] Connected to player Died signal (C#)
[18:51:21] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (732.9614, 723.6643) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (744.66, 711.4478) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (783.7477, 652.8472) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (742.6727, 733.6715) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (906.4545, 921.6688) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (903.3926, 980.0452) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (900.8714, 945.9257) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (911.3126, 878.1617) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (809.5652, 717.7881) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (875.7573, 943.9567) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (878.3322, 916.6893) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (864.2255, 893.8417) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (851.9873, 919.3361) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (879.8187, 956.8267) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (886.552, 977.3727) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (878.1042, 890.2167) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (852.6777, 959.0221) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (855.0981, 718.6563) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (911.4362, 980.6848) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (859.4523, 907.579) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (769.623, 752.7376) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (894.575, 966.8082) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (897.5193, 944.9029) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (867.0557, 978.4912) (added to group)
[18:51:21] [INFO] [BloodDecal] Blood puddle created at (910.8395, 976.0941) (added to group)
[18:51:22] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:51:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:51:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:51:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,825), corner_timer=0.30
[18:51:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,825), corner_timer=0.30
[18:51:22] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[18:51:22] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:51:22] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.5°, current=-9.1°, player=(450,810), corner_timer=0.00
[18:51:23] [ENEMY] [Enemy3] Status: BLINDED applied
[18:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,773), corner_timer=-0.02
[18:51:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:51:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,773), corner_timer=-0.02
[18:51:23] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,773), corner_timer=0.30
[18:51:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,773), corner_timer=0.30
[18:51:23] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:51:23] [ENEMY] [Enemy3] Status: BLINDED removed
[18:51:23] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[18:51:23] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:51:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.1°, current=-101.3°, player=(450,773), corner_timer=0.00
[18:51:23] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[18:51:23] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:51:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 779.4444), source=PLAYER (MakarovPM), range=1469, listeners=19
[18:51:23] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:51:23] [ENEMY] [Enemy1] Heard gunshot at (450, 779.4444), source_type=0, intensity=0.01, distance=455
[18:51:23] [ENEMY] [Enemy2] Heard gunshot at (450, 779.4444), source_type=0, intensity=0.05, distance=235
[18:51:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:23] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.5°, current=-157.5°, player=(450,773), corner_timer=0.00
[18:51:23] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.4°, current=45.0°, player=(450,773), corner_timer=0.00
[18:51:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,773), corner_timer=-0.02
[18:51:23] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:51:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,773), corner_timer=0.30
[18:51:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 779.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:23] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:51:23] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4684, 753.8406), dir=(0.997018, -0.077173), lethal=false
[18:51:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:23] [INFO] [ImpactEffects] Blood effect spawned at (684.4684, 753.8406) (scale=0.5)
[18:51:23] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=175.2°, current=175.6°, player=(450,773), corner_timer=0.00
[18:51:23] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[18:51:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:51:23] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:51:23] [INFO] [ImpactEffects] spawn_blood_effect called at (682.2423, 755.3088), dir=(0.990772, -0.13554), lethal=false
[18:51:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:23] [INFO] [ImpactEffects] Blood effect spawned at (682.2423, 755.3088) (scale=0.5)
[18:51:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.7902, 758.2452), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,773), corner_timer=-0.02
[18:51:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:51:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 779.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.8859, 764.118), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:23] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[18:51:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,773), corner_timer=0.30
[18:51:23] [INFO] [BloodDecal] Blood puddle created at (734.8642, 785.2869) (added to group)
[18:51:23] [INFO] [BloodDecal] Blood puddle created at (736.1091, 738.4138) (added to group)
[18:51:23] [INFO] [BloodDecal] Blood puddle created at (736.7815, 750.7953) (added to group)
[18:51:23] [INFO] [LastChance] Threat detected: @Area2D@4257
[18:51:23] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:23] [INFO] [BloodDecal] Blood puddle created at (740.2545, 737.8066) (added to group)
[18:51:24] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:51:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:51:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.9815, 769.9908), source=ENEMY (Enemy3), range=1469, listeners=10
[18:51:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:24] [INFO] [LastChance] Threat detected: @Area2D@4263
[18:51:24] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:24] [INFO] [Player] Spawning blood effect at (450, 773.4444), dir=(1, 0), lethal=False (C#)
[18:51:24] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 773.4444), dir=(1, 0), lethal=false
[18:51:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:24] [INFO] [ImpactEffects] Blood effect spawned at (450, 773.4444) (scale=1)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (777.7637, 797.9541) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (740.4841, 759.9051) (added to group)
[18:51:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:51:24] [INFO] [ImpactEffects] spawn_blood_effect called at (639.9466, 783.2047), dir=(0.998098, -0.061639), lethal=false
[18:51:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:24] [INFO] [ImpactEffects] Blood effect spawned at (639.9466, 783.2047) (scale=0.5)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (752.95, 772.1285) (added to group)
[18:51:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.85944, 770.52844), shooter_id=16830383001004, bullet_pos=(58.16072, 957.0812)
[18:51:24] [INFO] [Bullet] Using shooter_position, distance=583,3334
[18:51:24] [INFO] [Bullet] Distance to wall: 583,3334 (39,72024% of viewport)
[18:51:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (771.269, 751.1677) (added to group)
[18:51:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 779.4444), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:51:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.6792, 774.78864), shooter_id=16830383001004, bullet_pos=(65.088, 848.7658)
[18:51:24] [INFO] [Bullet] Using shooter_position, distance=541,6666
[18:51:24] [INFO] [Bullet] Distance to wall: 541,6666 (36,883076% of viewport)
[18:51:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (850.6606, 835.4818) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (799.4484, 757.0444) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (794.9594, 775.6639) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (820.0275, 783.1459) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (772.4598, 806.5927) (added to group)
[18:51:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,773), corner_timer=-0.02
[18:51:24] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:51:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,773), corner_timer=0.30
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (838.8823, 753.4121) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (513.7342, 786.7022) (added to group)
[18:51:24] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=146.6°, current=-156.4°, player=(450,773), corner_timer=0.00
[18:51:24] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:51:24] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:51:24] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (868.3416, 826.9014) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (549.0314, 772.0637) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (554.2501, 805.868) (added to group)
[18:51:24] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (861.5351, 751.4218) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (857.5076, 731.9834) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (565.1765, 756.1382) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (563.4373, 785.863) (added to group)
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (594.0612, 800.8158) (added to group)
[18:51:24] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(473,770), corner_timer=-0.02
[18:51:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:51:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 779.4444), shooter_id=16833738444530, bullet_pos=(916.6956, 755.0531)
[18:51:24] [INFO] [Bullet] Using shooter_position, distance=467.332580566406
[18:51:24] [INFO] [Bullet] Distance to wall: 467.332580566406 (31.8215347596068% of viewport)
[18:51:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:24] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(476,768), corner_timer=0.30
[18:51:24] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[18:51:24] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:51:24] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:51:24] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-116.4°, current=-118.1°, player=(494,755), corner_timer=0.02
[18:51:24] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:51:24] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.3°, current=58.7°, player=(517,733), corner_timer=0.00
[18:51:24] [INFO] [BloodDecal] Blood puddle created at (845.8972, 824.6288) (added to group)
[18:51:24] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:24] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-101.5°, current=-40.2°, player=(529,721), corner_timer=0.02
[18:51:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:24] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-91.4°, current=-42.8°, player=(560,690), corner_timer=0.02
[18:51:25] [ENEMY] [Enemy2] Status: BLINDED applied
[18:51:25] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=29.9°, current=29.9°, player=(586,657), corner_timer=0.00
[18:51:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(588,652), corner_timer=-0.02
[18:51:25] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:51:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(590,648), corner_timer=0.30
[18:51:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:25] [ENEMY] [Enemy2] Status: BLINDED removed
[18:51:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.052, 621.2651), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:51:25] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:51:25] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:51:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(605.052, 621.2651), shooter_id=16833738444530, bullet_pos=(513.8242, 578.7064)
[18:51:25] [INFO] [Bullet] Using shooter_position, distance=100.666572570801
[18:51:25] [INFO] [Bullet] Distance to wall: 100.666572570801 (6.85457203585024% of viewport)
[18:51:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:25] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(606,612), corner_timer=-0.02
[18:51:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:51:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(606,612), corner_timer=0.30
[18:51:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.3331, 618.3439), source=PLAYER (MakarovPM), range=1469, listeners=10
[18:51:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:51:25] [ENEMY] [Enemy1] PURSUING corner check: angle -142.4°
[18:51:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.3544, 899.5032), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(606.3331, 618.3439), shooter_id=16833738444530, bullet_pos=(516.6829, 572.555)
[18:51:25] [INFO] [Bullet] Using shooter_position, distance=100.66674041748
[18:51:25] [INFO] [Bullet] Distance to wall: 100.66674041748 (6.85458346483931% of viewport)
[18:51:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:25] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:25] [INFO] [LastChance] Threat detected: Bullet
[18:51:25] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:25] [INFO] [Player] Spawning blood effect at (595.8358, 615.1295), dir=(1, 0), lethal=False (C#)
[18:51:25] [INFO] [ImpactEffects] spawn_blood_effect called at (595.8358, 615.1295), dir=(1, 0), lethal=false
[18:51:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:25] [INFO] [ImpactEffects] Blood effect spawned at (595.8358, 615.1295) (scale=1)
[18:51:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.3544, 899.5032), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:25] [INFO] [LastChance] Threat detected: Bullet
[18:51:25] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=23.4°, current=22.3°, player=(579,627), corner_timer=0.00
[18:51:25] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:25] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:51:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.3544, 899.5032), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(572,634), corner_timer=-0.02
[18:51:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:51:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(569,637), corner_timer=0.30
[18:51:25] [INFO] [LastChance] Threat detected: @Area2D@4313
[18:51:25] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:25] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=48.2°, current=30.8°, player=(556,648), corner_timer=0.07
[18:51:25] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:51:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.5973, 912.1042), source=ENEMY (Enemy4), range=1469, listeners=10
[18:51:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:51:25] [INFO] [BloodDecal] Blood puddle created at (681.2977, 636.9139) (added to group)
[18:51:25] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[18:51:25] [INFO] [ImpactEffects] spawn_blood_effect called at (557.3634, 867.1148), dir=(1, 0), lethal=true
[18:51:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:51:25] [INFO] [ImpactEffects] Blood effect spawned at (557.3634, 867.1148) (scale=1.5)
[18:51:25] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:51:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:51:25] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:51:25] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:51:25] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:51:25] [INFO] [PowerFantasy]   - Duration: 300ms
[18:51:25] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:51:25] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:51:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:51:25] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:51:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:25] [INFO] [BloodDecal] Blood puddle created at (649.5618, 632.1975) (added to group)
[18:51:25] [INFO] [BloodDecal] Blood puddle created at (666.7111, 631.2611) (added to group)
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(527.933, 668.0176), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (690.7489, 596.8301) (added to group)
[18:51:26] [ENEMY] [Enemy1] Status: BLINDED applied
[18:51:26] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=53.1°, current=82.5°, player=(524,662), corner_timer=0.07
[18:51:26] [INFO] [PowerFantasy] Effect duration expired after 331.00 ms
[18:51:26] [INFO] [PowerFantasy] Ending power fantasy effect
[18:51:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.8324, 832.9545), shooter_id=16830735321966, bullet_pos=(657.61206, 49.304703)
[18:51:26] [INFO] [Bullet] Using shooter_position, distance=787,5003
[18:51:26] [INFO] [Bullet] Distance to wall: 787,5003 (53,62235% of viewport)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (674.8713, 630.8575) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (696.1193, 666.1257) (added to group)
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.3987, 919.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:51:26] [INFO] [LastChance] Threat detected: @Area2D@4346
[18:51:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:26] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[18:51:26] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.795302, -0.606214), lethal=false
[18:51:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:26] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=0.5)
[18:51:26] [INFO] [ReplayManager] Recording frame 300 (4,7s): player_valid=True, enemies=10
[18:51:26] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (717.7855, 605.3804) (added to group)
[18:51:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(575.0297, 831.9538), shooter_id=16830735321966, bullet_pos=(587.6246, 44.554527)
[18:51:26] [INFO] [Bullet] Using shooter_position, distance=787,5
[18:51:26] [INFO] [Bullet] Distance to wall: 787,5 (53,622322% of viewport)
[18:51:26] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.7°, player=(476,664), corner_timer=-0.02
[18:51:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:26] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-94.0°, current=-121.2°, player=(470,664), corner_timer=0.02
[18:51:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.5°, player=(470,664), corner_timer=0.30
[18:51:26] [ENEMY] [Enemy1] Status: BLINDED removed
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (681.7789, 677.9231) (added to group)
[18:51:26] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (773.4266, 640.0131) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (625.0405, 888.5684) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (632.6876, 916.6519) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (626.7944, 884.4648) (added to group)
[18:51:26] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:51:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (717.9709, 746.0101) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (636.8235, 885.8669) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (654.094, 933.5261) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (630.9174, 863.0562) (added to group)
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.9772, 549.3964), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.1565, 670.4883), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:51:26] [INFO] [LastChance] Threat detected: Bullet
[18:51:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (648.6326, 889.8401) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (672.0844, 889.1661) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (646.1918, 898.177) (added to group)
[18:51:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:26] [INFO] [Player] Spawning blood effect at (415.65646, 664.48834), dir=(1, 0), lethal=False (C#)
[18:51:26] [INFO] [ImpactEffects] spawn_blood_effect called at (415.6565, 664.4883), dir=(1, 0), lethal=false
[18:51:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:26] [INFO] [ImpactEffects] Blood effect spawned at (415.6565, 664.4883) (scale=1)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (353.3698, 538.448) (added to group)
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.6134, 548.5917), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (639.4355, 947.1716) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (358.3463, 508.7035) (added to group)
[18:51:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.85565, 859.5658), shooter_id=16830735321966, bullet_pos=(293.27692, 32.826637)
[18:51:26] [INFO] [Bullet] Using shooter_position, distance=875
[18:51:26] [INFO] [Bullet] Distance to wall: 875 (59,58036% of viewport)
[18:51:26] [INFO] [Bullet] Distance-based penetration chance: 77,15624%
[18:51:26] [INFO] [Bullet] Starting wall penetration at (293.27692, 32.826637)
[18:51:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,79178
[18:51:26] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:26] [INFO] [Bullet] Exiting penetration at (277.9927, -11.266125) after traveling 41,666676 pixels through wall
[18:51:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.2496, 547.787), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:26] [INFO] [LastChance] Threat detected: Bullet
[18:51:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:51:26] [ENEMY] [Enemy3] Ragdoll activated
[18:51:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (687.3612, 913.744) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (673.6104, 945.0624) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (347.4381, 511.9181) (added to group)
[18:51:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(411.94556, 611.3431), shooter_id=16830030678346, bullet_pos=(377.26562, 687.1174)
[18:51:26] [INFO] [Bullet] Using shooter_position, distance=83,33331
[18:51:26] [INFO] [Bullet] Distance to wall: 83,33331 (5,674319% of viewport)
[18:51:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(366,664), corner_timer=-0.02
[18:51:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (689.9156, 916.1899) (added to group)
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(439.8859, 546.9823), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(360,664), corner_timer=0.30
[18:51:26] [INFO] [LastChance] Threat detected: @Area2D@4388
[18:51:26] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:26] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-4.3°, current=72.5°, player=(355,664), corner_timer=0.00
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (673.3768, 949.9855) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (649.1498, 957.6545) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (283.1628, 547.3695) (added to group)
[18:51:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:26] [INFO] [Player] Spawning blood effect at (344.15646, 664.48834), dir=(1, 0), lethal=False (C#)
[18:51:26] [INFO] [ImpactEffects] spawn_blood_effect called at (344.1565, 664.4883), dir=(1, 0), lethal=false
[18:51:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:26] [INFO] [ImpactEffects] Blood effect spawned at (344.1565, 664.4883) (scale=1)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (698.6549, 979.3503) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (355.3375, 529.522) (added to group)
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (724.8239, 934.6896) (added to group)
[18:51:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (281.4627, 528.38) (added to group)
[18:51:26] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=145.7°, current=-171.8°, player=(311,664), corner_timer=0.00
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (479.0977, 662.0427) (added to group)
[18:51:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(294.6565, 670.4883), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:51:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:51:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.1565, 670.4883), shooter_id=16833738444530, bullet_pos=(294.4182, 272.8647)
[18:51:26] [INFO] [Bullet] Using shooter_position, distance=417.333343505859
[18:51:26] [INFO] [Bullet] Distance to wall: 417.333343505859 (28.4169947676643% of viewport)
[18:51:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:26] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:26] [INFO] [BloodDecal] Blood puddle created at (271.9347, 566.8644) (added to group)
[18:51:26] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=29.0°, current=38.6°, player=(289,664), corner_timer=0.00
[18:51:26] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[18:51:27] [INFO] [BloodDecal] Blood puddle created at (536.084, 691.8279) (added to group)
[18:51:27] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-142.4°, current=83.9°, player=(278,664), corner_timer=0.07
[18:51:27] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:51:27] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:51:27] [INFO] [BloodDecal] Blood puddle created at (221.52, 541.6091) (added to group)
[18:51:27] [INFO] [BloodDecal] Blood puddle created at (257.931, 611.5345) (added to group)
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=156.2°, current=-178.6°, player=(261,664), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(256,664), corner_timer=-0.02
[18:51:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(250,664), corner_timer=0.30
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-6.3°, current=-14.9°, player=(239,664), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy1] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy2] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy3] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy4] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy5] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy6] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy7] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy8] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy9] Player ammo empty: false -> true
[18:51:27] [ENEMY] [Enemy10] Player ammo empty: false -> true
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(234.1565, 664.4883), source=PLAYER (Player), range=600, listeners=9
[18:51:27] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (234.1565, 664.4883), intensity=0.04, distance=263
[18:51:27] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[18:51:27] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (234.1565, 664.4883), intensity=0.04, distance=249
[18:51:27] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:51:27] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (234.1565, 664.4883), intensity=0.01, distance=477
[18:51:27] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[18:51:27] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=94.6°, current=106.8°, player=(234,664), corner_timer=0.07
[18:51:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=263), can_see=false
[18:51:27] [ENEMY] [Enemy1] Pursuing vulnerability sound at (234.1565, 664.4883), distance=263
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=158.1°, current=-12.0°, player=(234,664), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=249), can_see=false
[18:51:27] [ENEMY] [Enemy2] Pursuing vulnerability sound at (234.1565, 664.4883), distance=249
[18:51:27] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-146.9°, current=-94.0°, player=(234,664), corner_timer=0.02
[18:51:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=477), can_see=false
[18:51:27] [ENEMY] [Enemy4] Pursuing vulnerability sound at (234.1565, 664.4883), distance=477
[18:51:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1499), can_see=false
[18:51:27] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1729), can_see=false
[18:51:27] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1397), can_see=false
[18:51:27] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1842), can_see=false
[18:51:27] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2065), can_see=false
[18:51:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1317), can_see=false
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=158.6°, current=155.4°, player=(228,664), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.2481, 573.6819), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [INFO] [LastChance] Threat detected: Bullet
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.3851, 593.1669), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(182.7282, 655.8655), source=PLAYER (Player), range=600, listeners=9
[18:51:27] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (182.7282, 655.8655), intensity=0.04, distance=252
[18:51:27] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (182.7282, 655.8655), intensity=0.04, distance=244
[18:51:27] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (182.7282, 655.8655), intensity=0.01, distance=484
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[18:51:27] [INFO] [LastChance] Threat detected: Bullet
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=96.2°, current=97.9°, player=(169,647), corner_timer=0.07
[18:51:27] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(195.3248, 410.9474), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(294.6565, 670.4883), shooter_id=16833738444530, bullet_pos=(504.4995, 271.6572)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=450.666595458984
[18:51:27] [INFO] [Bullet] Distance to wall: 450.666595458984 (30.6867171875981% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.41742, 618.96747), shooter_id=16830030678346, bullet_pos=(125.99462, 687.5013)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=250
[18:51:27] [INFO] [Bullet] Distance to wall: 250 (17,02296% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [LastChance] Threat detected: @Area2D@4410
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [INFO] [ReplayManager] Recording frame 360 (5,7s): player_valid=True, enemies=10
[18:51:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.0809, 601.7876), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(157,636), corner_timer=-0.02
[18:51:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.41742, 618.96747), shooter_id=16830030678346, bullet_pos=(55.644314, 659.19)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=313,36523
[18:51:27] [INFO] [Bullet] Distance to wall: 313,36523 (21,337614% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Starting wall penetration at (55.644314, 659.19)
[18:51:27] [INFO] [LastChance] Threat detected: @Area2D@4415
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(153,632), corner_timer=0.30
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,929543
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (18.149918, 644.101) after traveling 35,416668 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:51:27] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(195.79286, 478.99426), shooter_id=16829678356761, bullet_pos=(172.10092, 685.9761)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=208,33333
[18:51:27] [INFO] [Bullet] Distance to wall: 208,33333 (14,1858% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Starting wall penetration at (172.10092, 685.9761)
[18:51:27] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(142.1608, 621.022), source=PLAYER (Player), range=600, listeners=9
[18:51:27] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (142.1608, 621.022), intensity=0.08, distance=180
[18:51:27] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:51:27] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (142.1608, 621.022), intensity=0.05, distance=225
[18:51:27] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (142.1608, 621.022), intensity=0.01, distance=495
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,47284
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (166.79393, 732.34) after traveling 41,666676 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:27] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(187.9374, 447.1718), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[18:51:27] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:27] [INFO] [LastChance] Threat detected: Bullet
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.0313, 606.2069), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(327.69098, 620.6225), shooter_id=16830030678346, bullet_pos=(40.10822, 669.2602)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=291,66672
[18:51:27] [INFO] [Bullet] Distance to wall: 291,66672 (19,860123% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Starting wall penetration at (40.10822, 669.2602)
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,443314
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (-5.905018, 677.04224) after traveling 41,666668 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:27] [INFO] [LastChance] Threat detected: @Area2D@4423
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(353.61, 614.1395), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(175.4765, 482.224), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=1
[18:51:27] [INFO] [LastChance] Threat detected: @Area2D@4429
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.71283, 616.1481), shooter_id=16830030678346, bullet_pos=(38.898464, 625.7805)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=250
[18:51:27] [INFO] [Bullet] Distance to wall: 250 (17,02296% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Starting wall penetration at (38.898464, 625.7805)
[18:51:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.5011, 621.5988), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,76308
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (-7.733555, 627.57855) after traveling 41,666668 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:27] [INFO] [LastChance] Threat detected: @Area2D@4433
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.4285, 626.5717), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=503), can_see=false
[18:51:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1617), can_see=false
[18:51:27] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1855), can_see=false
[18:51:27] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1546), can_see=false
[18:51:27] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2001), can_see=false
[18:51:27] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2224), can_see=false
[18:51:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1473), can_see=false
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.26721, 514.5297), shooter_id=16829678356761, bullet_pos=(65.23266, 958.7064)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=458,33368
[18:51:27] [INFO] [Bullet] Distance to wall: 458,33368 (31,208784% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150.09308, 545.36096), shooter_id=16829678356761, bullet_pos=(50.221554, 728.19543)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=208,3333
[18:51:27] [INFO] [Bullet] Distance to wall: 208,3333 (14,185799% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Starting wall penetration at (50.221554, 728.19543)
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(285.6302, 617.19495), shooter_id=16830030678346, bullet_pos=(37.456543, 647.359)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=250,00006
[18:51:27] [INFO] [Bullet] Distance to wall: 250,00006 (17,022964% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,656279
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (27.85033, 769.1503) after traveling 41,666676 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:27] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(153.3, 511.9569), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=0
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.2832, 636.5175), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.4771, 619.7715), shooter_id=16830030678346, bullet_pos=(41.27063, 582.50256)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=250,00003
[18:51:27] [INFO] [Bullet] Distance to wall: 250,00003 (17,022963% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=68.8°, current=144.2°, player=(81,559), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=293), can_see=false
[18:51:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(81,559), corner_timer=-0.02
[18:51:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,556), corner_timer=0.30
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(293.00797, 621.905), shooter_id=16830030678346, bullet_pos=(43.421658, 607.5283)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=250,00003
[18:51:27] [INFO] [Bullet] Distance to wall: 250,00003 (17,022963% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [LastChance] Threat detected: @Area2D@4450
[18:51:27] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:27] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:51:27] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(122.4849, 532.7778), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=0
[18:51:27] [ENEMY] [Enemy3] Death animation completed
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(61.016098, 561.97), shooter_id=16829678356761, bullet_pos=(61.016098, 561.97)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=0
[18:51:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:51:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:51:27] [INFO] [Bullet] Starting wall penetration at (61.016098, 561.97)
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(298.8499, 626.84393), shooter_id=16830030678346, bullet_pos=(56.897533, 563.92303)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=249,99998
[18:51:27] [INFO] [Bullet] Distance to wall: 249,99998 (17,02296% of viewport)
[18:51:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:27] [INFO] [Bullet] Starting wall penetration at (56.897533, 563.92303)
[18:51:27] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:51:27] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:51:27] [ENEMY] [Enemy1] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy2] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy3] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy4] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy5] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy6] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy7] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy8] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy9] Player reloading: false -> true
[18:51:27] [ENEMY] [Enemy10] Player reloading: false -> true
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.07491, 544.0844), source=PLAYER (Player), range=900, listeners=9
[18:51:27] [ENEMY] [Enemy1] Heard player RELOAD at (80.07491, 544.0844), intensity=1.00, distance=34
[18:51:27] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:51:27] [ENEMY] [Enemy2] Heard player RELOAD at (80.07491, 544.0844), intensity=0.03, distance=305
[18:51:27] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[18:51:27] [ENEMY] [Enemy4] Heard player RELOAD at (80.07491, 544.0844), intensity=0.01, distance=494
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,941025
[18:51:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,8074045
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (11.733089, 552.1778) after traveling 41,66667 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:27] [INFO] [Bullet] Exiting penetration at (17.136742, 577.85645) after traveling 41,666668 pixels through wall
[18:51:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:27] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-158.2°, current=125.0°, player=(80,544), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[18:51:27] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-157.6°, current=177.5°, player=(80,542), corner_timer=0.00
[18:51:27] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[18:51:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.26721, 514.5297), shooter_id=16829678356761, bullet_pos=(218.91336, 1398.0183)
[18:51:27] [INFO] [Bullet] Using shooter_position, distance=884,4231
[18:51:27] [INFO] [Bullet] Distance to wall: 884,4231 (60,221992% of viewport)
[18:51:27] [INFO] [Bullet] Distance-based penetration chance: 76,40768%
[18:51:27] [INFO] [Bullet] Penetration failed (distance roll)
[18:51:27] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[18:51:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(104.53, 554.127), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=1, below_threshold=0
[18:51:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(41.22586, 529.16345), shooter_id=16829678356761, bullet_pos=(41.22586, 529.16345)
[18:51:28] [INFO] [Bullet] Using shooter_position, distance=0
[18:51:28] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:51:28] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:51:28] [INFO] [Bullet] Starting wall penetration at (41.22586, 529.16345)
[18:51:28] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-160.7°, current=-156.5°, player=(80,541), corner_timer=0.02
[18:51:28] [ENEMY] [Enemy4] Player vulnerable (reloading) - pursuing to attack (dist=470)
[18:51:28] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:51:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,13644
[18:51:28] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:28] [INFO] [Bullet] Exiting penetration at (0.33979797, 506.6666) after traveling 41,666668 pixels through wall
[18:51:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:28] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:51:28] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[18:51:28] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(108.1154, 579.9995), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=1
[18:51:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(62.278515, 529.7046), shooter_id=16829678356761, bullet_pos=(62.278515, 529.7046)
[18:51:28] [INFO] [Bullet] Using shooter_position, distance=0
[18:51:28] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:51:28] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:51:28] [INFO] [Bullet] Starting wall penetration at (62.278515, 529.7046)
[18:51:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,541), corner_timer=-0.02
[18:51:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:51:28] [INFO] [Bullet] Exiting penetration at (35.37259, 491.57523) after traveling 41,666668 pixels through wall
[18:51:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,541), corner_timer=0.30
[18:51:28] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.9721, 656.8893), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:51:28] [INFO] [LastChance] Threat detected: Bullet
[18:51:28] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:28] [ENEMY] [Enemy2] Pursuing vulnerability sound at (80.07491, 541.0673), distance=221
[18:51:28] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(120.7914, 602.2629), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=1
[18:51:28] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=454), can_see=true
[18:51:28] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1631), can_see=false
[18:51:28] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1872), can_see=false
[18:51:28] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1572), can_see=false
[18:51:28] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2034), can_see=false
[18:51:28] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2258), can_see=false
[18:51:28] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1513), can_see=false
[18:51:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:28] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:28] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:28] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:51:28] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:51:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:28] [ENEMY] [Enemy2] Player reloading - priority attack triggered
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.9362, 654.1979), source=ENEMY (Enemy2), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=2
[18:51:28] [INFO] [LastChance] Threat detected: Bullet
[18:51:28] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:28] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/3->2/3
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (131.9696, 617.2126), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (131.9696, 617.2126) (scale=1)
[18:51:28] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-142.4°, current=180.0°, player=(80,541), corner_timer=0.07
[18:51:28] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=92), can_see=false
[18:51:28] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:51:28] [ENEMY] [Enemy1] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy2] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy3] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy4] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy5] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy6] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy7] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy8] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy9] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy10] Player reloading: true -> false
[18:51:28] [ENEMY] [Enemy1] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy2] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy3] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy4] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy5] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy6] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy7] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy8] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy9] Player ammo empty: true -> false
[18:51:28] [ENEMY] [Enemy10] Player ammo empty: true -> false
[18:51:28] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:51:28] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=1.1°, current=-92.1°, player=(80,541), corner_timer=0.00
[18:51:28] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-124.5°, current=-171.7°, player=(80,541), corner_timer=0.07
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(138.6765, 626.1824), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=1
[18:51:28] [INFO] [LastChance] Threat detected: Bullet
[18:51:28] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:28] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:28] [INFO] [ReplayManager] Recording frame 420 (6,7s): player_valid=True, enemies=10
[18:51:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,541), corner_timer=-0.02
[18:51:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (122.8469, 553.0157) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (146.0248, 551.7317) (added to group)
[18:51:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,541), corner_timer=0.30
[18:51:28] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (128.1608, 569.208) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (123.4813, 535.6163) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (154.0244, 562.3879) (added to group)
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(165.504, 662.0615), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=2
[18:51:28] [INFO] [LastChance] Threat detected: Bullet
[18:51:28] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:28] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (137.8409, 559.1528) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (193.975, 581.9821) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (185.4869, 652.2002) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (188.5708, 529.8406) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (225.341, 658.4211) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (220.5274, 582.9924) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (197.8076, 548.7532) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (187.9026, 543.637) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (200.8325, 579.5688) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (155.5694, 591.7086) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (153.9596, 556.5676) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (125.4143, 558.0775) (added to group)
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(162.1775, 663.934), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=2
[18:51:28] [INFO] [LastChance] Threat detected: Bullet
[18:51:28] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (231.7605, 666.2328) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (243.6587, 574.6842) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (150.4566, 597.4191) (added to group)
[18:51:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:28] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:28] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:51:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,541), corner_timer=-0.02
[18:51:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,541), corner_timer=0.30
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (182.9678, 587.537) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (214.7304, 658.5884) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (186.0183, 605.0494) (added to group)
[18:51:28] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-94.0°, current=-160.4°, player=(80,541), corner_timer=0.02
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (270.2247, 581.3638) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (277.8733, 666.1292) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (268.6898, 669.0062) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (193.4653, 645.121) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (184.2566, 645.6185) (added to group)
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.9794, 663.9336), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=1
[18:51:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:28] [INFO] [LastChance] Threat detected: Bullet
[18:51:28] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:28] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[18:51:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.655594, 610.0172), shooter_id=16829678356761, bullet_pos=(61.21031, 546.07935)
[18:51:28] [INFO] [Bullet] Using shooter_position, distance=83,33336
[18:51:28] [INFO] [Bullet] Distance to wall: 83,33336 (5,674322% of viewport)
[18:51:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:28] [INFO] [Bullet] Starting wall penetration at (61.21031, 546.07935)
[18:51:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:28] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:28] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:28] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-157.9°, current=-138.2°, player=(80,541), corner_timer=0.02
[18:51:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,1211487
[18:51:28] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:28] [INFO] [Bullet] Exiting penetration at (31.28095, 510.2742) after traveling 41,666668 pixels through wall
[18:51:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (198.7268, 635.327) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (181.9902, 641.2725) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (162.6502, 657.2228) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (151.2252, 578.7592) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (179.3644, 564.4825) (added to group)
[18:51:28] [INFO] [BloodDecal] Blood puddle created at (169.7202, 590.8741) (added to group)
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 547.0673), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[18:51:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(172.5071, 642.202), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=2
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (175.8273, 573.5751) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (172.7033, 569.4309) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (179.0882, 589.8481) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (208.7122, 580.3231) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (118.8145, 565.4965) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (135.43, 540.9839) (added to group)
[18:51:29] [INFO] [LastChance] Threat detected: Bullet
[18:51:29] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(122.150696, 598.48895), shooter_id=16829678356761, bullet_pos=(64.60014, 538.21967)
[18:51:29] [INFO] [Bullet] Using shooter_position, distance=83,33338
[18:51:29] [INFO] [Bullet] Distance to wall: 83,33338 (5,6743236% of viewport)
[18:51:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (236.1081, 624.7398) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (163.1506, 527.5162) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (157.0016, 562.1597) (added to group)
[18:51:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,541), corner_timer=-0.02
[18:51:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,541), corner_timer=0.30
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(184.1248, 663.9333), source=ENEMY (Enemy1), range=1469, listeners=9
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=2
[18:51:29] [INFO] [LastChance] Threat detected: Bullet
[18:51:29] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 547.0673), source=PLAYER (MakarovPM), range=1469, listeners=9
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[18:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(134.29935, 617.1585), shooter_id=16829678356761, bullet_pos=(41.7854, 533.0979)
[18:51:29] [INFO] [Bullet] Using shooter_position, distance=125,00006
[18:51:29] [INFO] [Bullet] Distance to wall: 125,00006 (8,511484% of viewport)
[18:51:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (259.7054, 613.4918) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (310.7085, 628.1722) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (175.6705, 515.4438) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (182.7995, 527.0168) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (144.2493, 564.0347) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (140.127, 534.1091) (added to group)
[18:51:29] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[18:51:29] [INFO] [ImpactEffects] spawn_blood_effect called at (368.2227, 612.4523), dir=(0.974343, 0.225067), lethal=true
[18:51:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:29] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:51:29] [INFO] [ImpactEffects] Blood effect spawned at (368.2227, 612.4523) (scale=0.75)
[18:51:29] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:51:29] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:51:29] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:51:29] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:51:29] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:51:29] [INFO] [PowerFantasy]   - Duration: 300ms
[18:51:29] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (368.2227, 612.4523), entering SEARCHING
[18:51:29] [ENEMY] [Enemy4] SEARCHING started: center=(368.2227, 612.4523), radius=100, waypoints=5
[18:51:29] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[18:51:29] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[18:51:29] [INFO] [DeathAnim] Started - Angle: 13.0 deg, Index: 12
[18:51:29] [ENEMY] [Enemy2] Death animation started with hit direction: (0.974343, 0.225067)
[18:51:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(197.567, 641.514), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:29] [INFO] [LastChance] Threat detected: @Area2D@4579
[18:51:29] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:29] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.1°
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (230.6783, 639.5696) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (205.6648, 617.3512) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (182.9916, 594.7505) (added to group)
[18:51:29] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:29] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:29] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:29] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:29] [INFO] [ReplayManager] Recording frame 480 (7,6s): player_valid=True, enemies=10
[18:51:29] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-160.7°, current=-145.5°, player=(80,541), corner_timer=0.27
[18:51:29] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[18:51:29] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 547.0673), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[18:51:29] [INFO] [PowerFantasy] Effect duration expired after 336.00 ms
[18:51:29] [INFO] [PowerFantasy] Ending power fantasy effect
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.4268, 663.9335), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (251.8214, 610.267) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (181.1856, 567.1503) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (218.3058, 550.3568) (added to group)
[18:51:29] [INFO] [LastChance] Threat detected: @Area2D@4586
[18:51:29] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:29] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:29] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:29] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:29] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(80,541), corner_timer=-0.01
[18:51:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:51:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(80,541), corner_timer=0.30
[18:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(134.29935, 617.1585), shooter_id=16829678356761, bullet_pos=(520.1604, 226.62848)
[18:51:29] [INFO] [Bullet] Using shooter_position, distance=549,0013
[18:51:29] [INFO] [Bullet] Distance to wall: 549,0013 (37,382507% of viewport)
[18:51:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:29] [INFO] [Bullet] Starting wall penetration at (520.1604, 226.62848)
[18:51:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,856762
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (310.7755, 661.8924) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (253.3551, 581.314) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (223.0386, 595.6537) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (168.6443, 615.2974) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (413.294, 644.0585) (added to group)
[18:51:29] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:29] [INFO] [Bullet] Exiting penetration at (554.19226, 204.82611) after traveling 35,416668 pixels through wall
[18:51:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(203.8771, 644.4717), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:29] [INFO] [LastChance] Threat detected: @Area2D@4597
[18:51:29] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (438.851, 660.2133) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (449.714, 661.3304) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (419.3644, 621.7756) (added to group)
[18:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(148.02127, 607.8494), shooter_id=16829678356761, bullet_pos=(42.675755, 540.564)
[18:51:29] [INFO] [Bullet] Using shooter_position, distance=125,000015
[18:51:29] [INFO] [Bullet] Distance to wall: 125,000015 (8,511481% of viewport)
[18:51:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:29] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[18:51:29] [INFO] [ImpactEffects] spawn_blood_effect called at (518.2539, 672.2737), dir=(0.957028, 0.289997), lethal=false
[18:51:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:29] [INFO] [ImpactEffects] Blood effect spawned at (518.2539, 672.2737) (scale=0.5)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (263.6234, 573.4783) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (488.8794, 631.7408) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (417.0249, 672.4609) (added to group)
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 547.0673), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (261.8892, 610.5977) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (290.6701, 555.4839) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (422.3002, 686.2952) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (491.9287, 681.7022) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (177.7293, 553.3381) (added to group)
[18:51:29] [INFO] [BloodDecal] Blood puddle created at (128.8748, 543.3508) (added to group)
[18:51:29] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/3->1/3
[18:51:29] [INFO] [ImpactEffects] spawn_blood_effect called at (493.0073, 663.934), dir=(0.959601, 0.281365), lethal=false
[18:51:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:29] [INFO] [ImpactEffects] Blood effect spawned at (493.0073, 663.934) (scale=0.5)
[18:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.647, 641.4412), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:29] [INFO] [LastChance] Threat detected: Bullet
[18:51:29] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:29] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:51:30] [ENEMY] [Enemy2] Ragdoll activated
[18:51:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (495.1138, 660.6602) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (194.1673, 588.0342) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (178.3946, 614.2356) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (226.633, 565.2794) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (168.0805, 610.0017) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (178.5816, 562.1441) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (145.5018, 589.1227) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (163.3467, 600.3536) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (171.1761, 544.9059) (added to group)
[18:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(163.1517, 609.3872), shooter_id=16829678356761, bullet_pos=(54.2115, 548.09265)
[18:51:30] [INFO] [Bullet] Using shooter_position, distance=124,99996
[18:51:30] [INFO] [Bullet] Distance to wall: 124,99996 (8,511477% of viewport)
[18:51:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(80,541), corner_timer=-0.02
[18:51:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.7598, 663.9334), source=ENEMY (Enemy4), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:51:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(80,541), corner_timer=0.30
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (491.9007, 642.7321) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (474.8048, 652.1802) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (218.4301, 631.1672) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (200.9173, 586.6263) (added to group)
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.5547, 663.9334), source=ENEMY (Enemy4), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (187.9423, 623.7865) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (203.9574, 582.7031) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (612.9912, 695.5149) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (567.5229, 690.9951) (added to group)
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 547.0673), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[18:51:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(508.6609, 665.4616), source=ENEMY (Enemy4), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[18:51:30] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-0.1°, current=141.5°, player=(80,541), corner_timer=0.27
[18:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(422.76837, 651.9856), shooter_id=16830735321966, bullet_pos=(51.215164, 601.2584)
[18:51:30] [INFO] [Bullet] Using shooter_position, distance=375,00006
[18:51:30] [INFO] [Bullet] Distance to wall: 375,00006 (25,534445% of viewport)
[18:51:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:30] [INFO] [Bullet] Starting wall penetration at (51.215164, 601.2584)
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(243.0236, 642.7194), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,273245
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (277.7846, 608.7325) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (634.2113, 691.8157) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (654.7947, 764.6615) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (558.3602, 669.4484) (added to group)
[18:51:30] [INFO] [Bullet] Body exited signal received for penetrating body
[18:51:30] [INFO] [Bullet] Exiting penetration at (4.97744, 594.9457) after traveling 41,666668 pixels through wall
[18:51:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:51:30] [INFO] [LastChance] Threat detected: Bullet
[18:51:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:30] [INFO] [LastChance] Threat detected: @Area2D@4654
[18:51:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:30] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:30] [INFO] [Player] Spawning blood effect at (80.074905, 541.0673), dir=(1, 0), lethal=False (C#)
[18:51:30] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 541.0673), dir=(1, 0), lethal=false
[18:51:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:30] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 541.0673) (scale=1)
[18:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.46884, 652.72876), shooter_id=16830735321966, bullet_pos=(29.261631, 555.681)
[18:51:30] [INFO] [Bullet] Using shooter_position, distance=416,66672
[18:51:30] [INFO] [Bullet] Distance to wall: 416,66672 (28,371605% of viewport)
[18:51:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (236.2678, 653.8165) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (207.6151, 656.2314) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (196.8013, 641.5656) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (585.5049, 779.9313) (added to group)
[18:51:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(80,543), corner_timer=-0.02
[18:51:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:51:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(80,544), corner_timer=0.30
[18:51:30] [INFO] [ReplayManager] Recording frame 540 (8,4s): player_valid=True, enemies=10
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (237.3545, 649.1215) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (606.2642, 752.5938) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (668.593, 806.6434) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (584.7703, 728.336) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (591.2002, 776.967) (added to group)
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.856, 640.7811), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:30] [INFO] [LastChance] Threat detected: Bullet
[18:51:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (668.7284, 884.3101) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (638.3599, 770.1283) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (604.3787, 756.4358) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (597.7786, 782.8882) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (588.588, 806.2527) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (675.3472, 738.9837) (added to group)
[18:51:30] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:30] [INFO] [Player] Spawning blood effect at (80.074905, 563.0673), dir=(1, 0), lethal=False (C#)
[18:51:30] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 563.0673), dir=(1, 0), lethal=false
[18:51:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:30] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 563.0673) (scale=1)
[18:51:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(262.4443, 663.9337), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=2
[18:51:30] [INFO] [LastChance] Threat detected: Bullet
[18:51:30] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (662.517, 764.4288) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (617.8301, 847.6264) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (140.9359, 552.8474) (added to group)
[18:51:30] [ENEMY] [Enemy2] Status: BLINDED applied
[18:51:30] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:51:30] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:30] [INFO] [Player] Spawning blood effect at (80.074905, 580.9562), dir=(1, 0), lethal=False (C#)
[18:51:30] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 580.9562), dir=(1, 0), lethal=false
[18:51:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:30] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 580.9562) (scale=1)
[18:51:30] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:51:30] [ENEMY] [Enemy1] Status: BLINDED applied
[18:51:30] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-142.4°, current=-159.7°, player=(80,582), corner_timer=0.07
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (662.5141, 919.3547) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (190.7809, 595.553) (added to group)
[18:51:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(80,585), corner_timer=-0.02
[18:51:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,585), corner_timer=0.30
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (194.9654, 623.9048) (added to group)
[18:51:30] [ENEMY] [Enemy2] Status: BLINDED removed
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (219.0515, 578.1383) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (135.4578, 566.0665) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (177.9749, 604.5993) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (135.3975, 565.0513) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (134.5373, 575.0249) (added to group)
[18:51:30] [ENEMY] [Enemy1] Status: BLINDED removed
[18:51:30] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.7°, current=-142.4°, player=(80,585), corner_timer=0.07
[18:51:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 591.4562), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (255.6602, 648.1301) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (220.1618, 646.2453) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (206.9257, 625.4056) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (139.3364, 592.768) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (265.4838, 638.3264) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (180.6487, 642.546) (added to group)
[18:51:30] [INFO] [BloodDecal] Blood puddle created at (183.5031, 608.1874) (added to group)
[18:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(307.4932, 643.0201), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:51:31] [INFO] [LastChance] Threat detected: Bullet
[18:51:31] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:31] [ENEMY] [Enemy2] Death animation completed
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (215.9518, 558.8541) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (214.1811, 638.4517) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (216.6002, 557.1508) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (182.1035, 616.1312) (added to group)
[18:51:31] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/3->1/3
[18:51:31] [INFO] [ImpactEffects] spawn_blood_effect called at (302.9008, 657.2299), dir=(0.977854, 0.20929), lethal=false
[18:51:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:31] [INFO] [ImpactEffects] Blood effect spawned at (302.9008, 657.2299) (scale=0.5)
[18:51:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(80,585), corner_timer=-0.02
[18:51:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:31] [INFO] [Player] Spawning blood effect at (80.074905, 585.4562), dir=(1, 0), lethal=False (C#)
[18:51:31] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 585.4562), dir=(1, 0), lethal=false
[18:51:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:31] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 585.4562) (scale=1)
[18:51:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,585), corner_timer=0.30
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (230.3056, 641.157) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (174.4617, 679.0814) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (201.4583, 621.2135) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (203.478, 632.2073) (added to group)
[18:51:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 591.4562), source=PLAYER (MakarovPM), range=1469, listeners=8
[18:51:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (208.6656, 616.5103) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (259.5296, 650.1671) (added to group)
[18:51:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(352.2122, 642.185), source=ENEMY (Enemy1), range=1469, listeners=8
[18:51:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (397.6977, 671.0596) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (179.6424, 626.299) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (166.5718, 603.2621) (added to group)
[18:51:31] [INFO] [LastChance] Threat detected: Bullet
[18:51:31] [INFO] [LastChance] Not in hard mode - effect disabled
[18:51:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:51:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(80,585), corner_timer=-0.02
[18:51:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,585), corner_timer=0.30
[18:51:31] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[18:51:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:51:31] [INFO] [Player] Spawning blood effect at (80.074905, 585.4562), dir=(1, 0), lethal=False (C#)
[18:51:31] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07491, 585.4562), dir=(1, 0), lethal=false
[18:51:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:51:31] [INFO] [ImpactEffects] Blood effect spawned at (80.07491, 585.4562) (scale=1)
[18:51:31] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/3->0/3
[18:51:31] [INFO] [ImpactEffects] spawn_blood_effect called at (349.7745, 663.9338), dir=(0.972706, 0.232039), lethal=true
[18:51:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:51:31] [INFO] [ImpactEffects] Blood effect spawned at (349.7745, 663.9338) (scale=0.75)
[18:51:31] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:51:31] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:51:31] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:51:31] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:51:31] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:51:31] [INFO] [PowerFantasy]   - Duration: 300ms
[18:51:31] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[18:51:31] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[18:51:31] [INFO] [DeathAnim] Started - Angle: 13.4 deg, Index: 12
[18:51:31] [ENEMY] [Enemy1] Death animation started with hit direction: (0.972706, 0.232039)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (140.1112, 636.7158) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (169.2375, 595.7936) (added to group)
[18:51:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07491, 591.4562), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:51:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=1
[18:51:31] [INFO] [PowerFantasy] Effect duration expired after 318.00 ms
[18:51:31] [INFO] [PowerFantasy] Ending power fantasy effect
[18:51:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (227.9383, 627.8121) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (142.0044, 592.8422) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (280.6655, 578.3397) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (165.167, 629.6075) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (139.7523, 576.0374) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (394.825, 674.8011) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (414.0929, 684.7969) (added to group)
[18:51:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(80,585), corner_timer=-0.00
[18:51:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:51:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(80,585), corner_timer=0.30
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (140.7336, 596.7405) (added to group)
[18:51:31] [INFO] [BloodDecal] Blood puddle created at (435.381, 673.6983) (added to group)
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (142.1673, 595.8307) (added to group)
[18:51:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07491, 591.4562), shooter_id=16833738444530, bullet_pos=(425.4286, 689.4957)
[18:51:32] [INFO] [Bullet] Using shooter_position, distance=358.999877929688
[18:51:32] [INFO] [Bullet] Distance to wall: 358.999877929688 (24.444961830798% of viewport)
[18:51:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:51:32] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (436.4272, 680.7133) (added to group)
[18:51:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:32] [ENEMY] [Enemy1] Ragdoll activated
[18:51:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (180.6166, 660.047) (added to group)
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (170.7864, 665.7601) (added to group)
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (208.0242, 637.7863) (added to group)
[18:51:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(80,585), corner_timer=-0.02
[18:51:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:51:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(80,585), corner_timer=0.30
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (190.7683, 686.5463) (added to group)
[18:51:32] [INFO] [BloodDecal] Blood puddle created at (215.807, 666.7485) (added to group)
[18:51:32] [INFO] [ReplayManager] Recording frame 660 (10,1s): player_valid=True, enemies=10
[18:51:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(85,585), corner_timer=-0.02
[18:51:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:51:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(87,585), corner_timer=0.30
[18:51:32] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:51:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(174,585), corner_timer=-0.02
[18:51:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(180,586), corner_timer=0.30
[18:51:33] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[18:51:33] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[18:51:33] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-159.5°, current=-0.1°, player=(199,591), corner_timer=0.27
[18:51:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:33] [ENEMY] [Enemy1] Death animation completed
[18:51:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(260,644), corner_timer=-0.02
[18:51:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(263,647), corner_timer=0.30
[18:51:33] [INFO] [ReplayManager] Recording frame 720 (11,1s): player_valid=True, enemies=10
[18:51:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(291,671), corner_timer=-0.02
[18:51:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(291,671), corner_timer=0.30
[18:51:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:51:33] [ENEMY] [Enemy1] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy4] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy5] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy6] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy7] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy8] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy9] Player reloading: false -> true
[18:51:33] [ENEMY] [Enemy10] Player reloading: false -> true
[18:51:33] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(291.821, 671.9337), source=PLAYER (Player), range=900, listeners=7
[18:51:33] [ENEMY] [Enemy4] Heard player RELOAD at (291.821, 671.9337), intensity=0.03, distance=309
[18:51:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:51:33] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=309), can_see=false
[18:51:33] [ENEMY] [Enemy4] Pursuing vulnerability sound at (291.821, 671.9337), distance=309
[18:51:33] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1445), can_see=false
[18:51:33] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1673), can_see=false
[18:51:33] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1339), can_see=false
[18:51:33] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1787), can_see=false
[18:51:33] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2010), can_see=false
[18:51:33] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1272), can_see=false
[18:51:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:33] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:51:33] [ENEMY] [Enemy4] Player reloading: true -> false
[18:51:33] [ENEMY] [Enemy5] Player reloading: true -> false
[18:51:33] [ENEMY] [Enemy6] Player reloading: true -> false
[18:51:33] [ENEMY] [Enemy7] Player reloading: true -> false
[18:51:33] [ENEMY] [Enemy8] Player reloading: true -> false
[18:51:33] [ENEMY] [Enemy9] Player reloading: true -> false
[18:51:33] [ENEMY] [Enemy10] Player reloading: true -> false
[18:51:33] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:51:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(291,671), corner_timer=-0.02
[18:51:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:33] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=179.5°, current=-166.6°, player=(291,671), corner_timer=0.27
[18:51:33] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:51:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(291,671), corner_timer=0.30
[18:51:34] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=177.5°, current=118.9°, player=(291,671), corner_timer=0.27
[18:51:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:51:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:34] [ENEMY] [Enemy4] Status: BLINDED applied
[18:51:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(291,671), corner_timer=-0.02
[18:51:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(291,671), corner_timer=0.30
[18:51:34] [ENEMY] [Enemy4] Status: BLINDED removed
[18:51:34] [INFO] [ReplayManager] Recording frame 780 (12,1s): player_valid=True, enemies=10
[18:51:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:34] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.5°, current=128.6°, player=(291,671), corner_timer=0.27
[18:51:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.821, 677.9337), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:51:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:51:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(291,671), corner_timer=-0.02
[18:51:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(291,671), corner_timer=0.30
[18:51:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.821, 677.9337), source=PLAYER (MakarovPM), range=1469, listeners=7
[18:51:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:51:34] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/3->0/3
[18:51:34] [INFO] [ImpactEffects] spawn_blood_effect called at (534.5733, 661.4006), dir=(0.998608, -0.052741), lethal=true
[18:51:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:51:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:51:34] [INFO] [ImpactEffects] Blood effect spawned at (534.5733, 661.4006) (scale=0.75)
[18:51:34] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:51:34] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[18:51:34] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[18:51:34] [INFO] [PowerFantasy] Starting power fantasy effect:
[18:51:34] [INFO] [PowerFantasy]   - Time scale: 0.10
[18:51:34] [INFO] [PowerFantasy]   - Duration: 300ms
[18:51:34] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[18:51:34] [INFO] [DeathAnim] Started - Angle: -3.0 deg, Index: 11
[18:51:34] [ENEMY] [Enemy4] Death animation started with hit direction: (0.998608, -0.052741)
[18:51:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:35] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[18:51:35] [INFO] [PowerFantasy] Ending power fantasy effect
[18:51:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.821, 677.9337), source=PLAYER (MakarovPM), range=1469, listeners=6
[18:51:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[18:51:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(291,671), corner_timer=-0.01
[18:51:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:51:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(291,671), corner_timer=0.30
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (614.233, 682.3481) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (609.6967, 688.2061) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (581.28, 670.0712) (added to group)
[18:51:35] [INFO] [ReplayManager] Recording frame 840 (12,9s): player_valid=True, enemies=10
[18:51:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (605.3369, 664.6638) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (664.5204, 710.4418) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (593.1539, 674.1154) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (593.2483, 716.2077) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (620.818, 732.3165) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (623.4122, 659.2405) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (610.3661, 725.5132) (added to group)
[18:51:35] [ENEMY] [Enemy4] Ragdoll activated
[18:51:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (646.1614, 719.7852) (added to group)
[18:51:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(291,671), corner_timer=-0.02
[18:51:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:51:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(291,671), corner_timer=0.30
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (640.3947, 722.132) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (621.8267, 750.2347) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (655.9573, 732.5091) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (697.803, 797.0948) (added to group)
[18:51:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(291.821, 677.9337), shooter_id=16833738444530, bullet_pos=(922.4766, 674.1482)
[18:51:35] [INFO] [Bullet] Using shooter_position, distance=630.6669921875
[18:51:35] [INFO] [Bullet] Distance to wall: 630.6669921875 (42.9432751923863% of viewport)
[18:51:35] [INFO] [Bullet] Distance-based penetration chance: 96.566178942216%
[18:51:35] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (657.4984, 665.6674) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (616.8342, 705.6377) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (683.5774, 734.5376) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (687.7239, 784.8128) (added to group)
[18:51:35] [INFO] [BloodDecal] Blood puddle created at (727.3368, 759.7914) (added to group)
[18:51:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(291.821, 677.9337), shooter_id=16833738444530, bullet_pos=(909.0303, 690.3383)
[18:51:35] [INFO] [Bullet] Using shooter_position, distance=617.333984375
[18:51:35] [INFO] [Bullet] Distance to wall: 617.333984375 (42.0354061731937% of viewport)
[18:51:35] [INFO] [Bullet] Distance-based penetration chance: 97.6253594646074%
[18:51:35] [INFO] [Bullet] Caliber cannot penetrate walls
[18:51:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(291,671), corner_timer=-0.02
[18:51:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:51:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(291,671), corner_timer=0.30
[18:51:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(291,671), corner_timer=-0.02
[18:51:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(291,671), corner_timer=0.30
[18:51:36] [INFO] [ReplayManager] Recording frame 900 (13,9s): player_valid=True, enemies=10
[18:51:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(291,671), corner_timer=-0.02
[18:51:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:51:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(291,671), corner_timer=0.30
[18:51:36] [ENEMY] [Enemy4] Death animation completed
[18:51:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:51:36] [INFO] ------------------------------------------------------------
[18:51:36] [INFO] GAME LOG ENDED: 2026-02-07T18:51:36
[18:51:36] [INFO] ============================================================
