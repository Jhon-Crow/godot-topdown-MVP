[18:53:52] [INFO] ============================================================
[18:53:52] [INFO] GAME LOG STARTED
[18:53:52] [INFO] ============================================================
[18:53:52] [INFO] Timestamp: 2026-02-07T18:53:52
[18:53:52] [INFO] Log file: I:/Загрузки/godot exe/фанарик/game_log_20260207_185352.txt
[18:53:52] [INFO] Executable: I:/Загрузки/godot exe/фанарик/Godot-Top-Down-Template.exe
[18:53:52] [INFO] OS: Windows
[18:53:52] [INFO] Debug build: false
[18:53:52] [INFO] Engine version: 4.3-stable (official)
[18:53:52] [INFO] Project: Godot Top-Down Template
[18:53:52] [INFO] ------------------------------------------------------------
[18:53:52] [INFO] [GameManager] GameManager ready
[18:53:52] [INFO] [ScoreManager] ScoreManager ready
[18:53:52] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[18:53:52] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[18:53:52] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[18:53:52] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[18:53:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:53:52] [INFO] [PenultimateHit] Saturation shader loaded successfully
[18:53:52] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[18:53:52] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[18:53:52] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[18:53:52] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[18:53:52] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[18:53:52] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[18:53:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:53:52] [INFO] [LastChance] Last chance shader loaded successfully
[18:53:52] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[18:53:52] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[18:53:52] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[18:53:52] [INFO] [LastChance]   Sepia intensity: 0.70
[18:53:52] [INFO] [LastChance]   Brightness: 0.60
[18:53:52] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[18:53:52] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[18:53:52] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[18:53:52] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[18:53:52] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[18:53:52] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:53:52] [INFO] [CinemaEffects] Created effects layer at layer 99
[18:53:52] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[18:53:52] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[18:53:52] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[18:53:52] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[18:53:52] [INFO] [CinemaEffects]   Grain intensity: 0.15
[18:53:52] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[18:53:52] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[18:53:52] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[18:53:52] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[18:53:52] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[18:53:52] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[18:53:52] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[18:53:52] [INFO] [GrenadeTimerHelper] Autoload ready
[18:53:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:53:52] [INFO] [PowerFantasy] Saturation shader loaded successfully
[18:53:52] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[18:53:52] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[18:53:52] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[18:53:52] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[18:53:52] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:53:52] [ENEMY] [Enemy1] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:53:52] [ENEMY] [Enemy2] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:53:52] [ENEMY] [Enemy3] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:53:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:53:52] [ENEMY] [Enemy4] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:53:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:53:52] [ENEMY] [Enemy5] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:53:52] [ENEMY] [Enemy6] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:53:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:53:52] [ENEMY] [Enemy7] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:53:52] [ENEMY] [Enemy8] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:53:52] [ENEMY] [Enemy9] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:53:52] [ENEMY] [Enemy10] Death animation component initialized
[18:53:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:53:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:53:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:53:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[18:53:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:53:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:53:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:53:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:53:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:53:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:53:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:53:52] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[18:53:52] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[18:53:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:53:52] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[18:53:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:53:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:53:52] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[18:53:52] [INFO] [ScoreManager] Level started with 10 enemies
[18:53:52] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:53:52] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:53:52] [INFO] [ReplayManager] Replay data cleared
[18:53:52] [INFO] [BuildingLevel] Previous replay data cleared
[18:53:52] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:53:52] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:53:52] [INFO] [ReplayManager] Level: BuildingLevel
[18:53:52] [INFO] [ReplayManager] Player: Player (valid: True)
[18:53:52] [INFO] [ReplayManager] Enemies count: 10
[18:53:52] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:53:52] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:53:52] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:53:52] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:53:52] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:53:52] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:53:52] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:53:52] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:53:52] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:53:52] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:53:52] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:53:52] [INFO] [BuildingLevel] Replay recording started successfully
[18:53:52] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:53:53] [INFO] [CinemaEffects] Found player node: Player
[18:53:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:53:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[18:53:53] [ENEMY] [Enemy1] Registered as sound listener
[18:53:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[18:53:53] [ENEMY] [Enemy2] Registered as sound listener
[18:53:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[18:53:53] [ENEMY] [Enemy3] Registered as sound listener
[18:53:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[18:53:53] [ENEMY] [Enemy4] Registered as sound listener
[18:53:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[18:53:53] [ENEMY] [Enemy5] Registered as sound listener
[18:53:53] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[18:53:53] [ENEMY] [Enemy6] Registered as sound listener
[18:53:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[18:53:53] [ENEMY] [Enemy7] Registered as sound listener
[18:53:53] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[18:53:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[18:53:53] [ENEMY] [Enemy8] Registered as sound listener
[18:53:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[18:53:53] [ENEMY] [Enemy9] Registered as sound listener
[18:53:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:53:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:53:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[18:53:53] [ENEMY] [Enemy10] Registered as sound listener
[18:53:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:53:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:53:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:53:53] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[18:53:53] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[18:53:53] [INFO] [PenultimateHit] Shader warmup complete in 442 ms
[18:53:53] [INFO] [LastChance] Shader warmup complete in 441 ms
[18:53:53] [INFO] [CinemaEffects] Cinema shader warmup complete in 389 ms
[18:53:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:53:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:53:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:53:53] [INFO] [LastChance] Found player: Player
[18:53:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:53:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:53:53] [INFO] [LastChance] Connected to player Died signal (C#)
[18:53:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:53:53] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 703 ms
[18:53:54] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:53:55] [INFO] [PauseMenu] Armory button pressed
[18:53:55] [INFO] [PauseMenu] Creating new armory menu instance
[18:53:55] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[18:53:55] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[18:53:55] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[18:53:55] [INFO] [PauseMenu] back_pressed signal exists on instance
[18:53:55] [INFO] [PauseMenu] back_pressed signal connected
[18:53:55] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[18:53:55] [INFO] [PauseMenu] _populate_weapon_grid method exists
[18:53:55] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:53:56] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:53:57] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[18:53:58] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[18:53:58] [INFO] [GameManager] Weapon selected: m16
[18:53:58] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[18:53:58] [INFO] [ActiveItemManager] Active item changed from None to Flashlight
[18:53:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:53:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:53:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:53:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:53:58] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:53:58] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:53:58] [ENEMY] [Enemy1] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:53:58] [ENEMY] [Enemy2] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:53:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:53:58] [ENEMY] [Enemy3] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:53:58] [ENEMY] [Enemy4] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:53:58] [ENEMY] [Enemy5] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:53:58] [ENEMY] [Enemy6] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:53:58] [ENEMY] [Enemy7] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:53:58] [ENEMY] [Enemy8] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:53:58] [ENEMY] [Enemy9] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:53:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:53:58] [ENEMY] [Enemy10] Death animation component initialized
[18:53:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:53:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:53:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:53:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:53:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:53:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:53:58] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:53:58] [INFO] [Player.Weapon] Removed default MakarovPM
[18:53:58] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:53:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:53:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:53:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:53:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:53:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:53:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:53:58] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:53:58] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:53:58] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:53:58] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:53:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[18:53:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:53:58] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:53:58] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:53:58] [INFO] [BuildingLevel] Setting up weapon: m16
[18:53:58] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:53:58] [INFO] [ScoreManager] Level started with 10 enemies
[18:53:58] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:53:58] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:53:58] [INFO] [ReplayManager] Replay data cleared
[18:53:58] [INFO] [BuildingLevel] Previous replay data cleared
[18:53:58] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:53:58] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:53:58] [INFO] [ReplayManager] Level: BuildingLevel
[18:53:58] [INFO] [ReplayManager] Player: Player (valid: True)
[18:53:58] [INFO] [ReplayManager] Enemies count: 10
[18:53:58] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:53:58] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:53:58] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:53:58] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:53:58] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:53:58] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:53:58] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:53:58] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:53:58] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:53:58] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:53:58] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:53:58] [INFO] [BuildingLevel] Replay recording started successfully
[18:53:58] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:53:58] [INFO] [CinemaEffects] Found player node: Player
[18:53:58] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:53:58] [ENEMY] [Enemy1] Registered as sound listener
[18:53:58] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:53:58] [ENEMY] [Enemy2] Registered as sound listener
[18:53:58] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:53:58] [ENEMY] [Enemy3] Registered as sound listener
[18:53:58] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:53:58] [ENEMY] [Enemy4] Registered as sound listener
[18:53:58] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:53:58] [ENEMY] [Enemy5] Registered as sound listener
[18:53:58] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:53:58] [ENEMY] [Enemy6] Registered as sound listener
[18:53:58] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:53:58] [ENEMY] [Enemy7] Registered as sound listener
[18:53:58] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:53:58] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:53:58] [ENEMY] [Enemy8] Registered as sound listener
[18:53:58] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:53:58] [ENEMY] [Enemy9] Registered as sound listener
[18:53:58] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:53:58] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:53:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:53:58] [ENEMY] [Enemy10] Registered as sound listener
[18:53:58] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:53:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:53:58] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:53:58] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:53:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:53:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:53:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:53:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:53:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:53:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:53:58] [INFO] [LastChance] Found player: Player
[18:53:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:53:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:53:58] [INFO] [LastChance] Connected to player Died signal (C#)
[18:53:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:53:59] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:00] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:54:01] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:54:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:02] [ENEMY] [Enemy1] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:02] [ENEMY] [Enemy2] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:02] [ENEMY] [Enemy3] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:02] [ENEMY] [Enemy4] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:02] [ENEMY] [Enemy5] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:02] [ENEMY] [Enemy6] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:02] [ENEMY] [Enemy7] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:02] [ENEMY] [Enemy8] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:02] [ENEMY] [Enemy9] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:02] [ENEMY] [Enemy10] Death animation component initialized
[18:54:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:02] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:02] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:02] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:02] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:02] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:02] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:02] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:54:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:02] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:02] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:02] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:02] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:02] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:02] [INFO] [ReplayManager] Replay data cleared
[18:54:02] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:02] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:02] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:02] [INFO] [ReplayManager] Enemies count: 10
[18:54:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:02] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:02] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:02] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:02] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:02] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:02] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:02] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:02] [INFO] [CinemaEffects] Found player node: Player
[18:54:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[18:54:02] [ENEMY] [Enemy1] Registered as sound listener
[18:54:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[18:54:02] [ENEMY] [Enemy2] Registered as sound listener
[18:54:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[18:54:02] [ENEMY] [Enemy3] Registered as sound listener
[18:54:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[18:54:02] [ENEMY] [Enemy4] Registered as sound listener
[18:54:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[18:54:02] [ENEMY] [Enemy5] Registered as sound listener
[18:54:02] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[18:54:02] [ENEMY] [Enemy6] Registered as sound listener
[18:54:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[18:54:02] [ENEMY] [Enemy7] Registered as sound listener
[18:54:02] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:54:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[18:54:02] [ENEMY] [Enemy8] Registered as sound listener
[18:54:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[18:54:02] [ENEMY] [Enemy9] Registered as sound listener
[18:54:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:54:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[18:54:02] [ENEMY] [Enemy10] Registered as sound listener
[18:54:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:54:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:54:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:02] [INFO] [LastChance] Found player: Player
[18:54:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:02] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:54:04] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,868), corner_timer=0.30
[18:54:04] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,868), corner_timer=0.30
[18:54:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,858), corner_timer=-0.02
[18:54:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,858), corner_timer=-0.02
[18:54:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:54:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,856), corner_timer=0.30
[18:54:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,856), corner_timer=0.30
[18:54:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:54:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,774), corner_timer=-0.02
[18:54:04] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:54:04] [ENEMY] [Enemy3] Status: BLINDED applied
[18:54:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,770), corner_timer=0.30
[18:54:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 743.8889), source=PLAYER (AssaultRifle), range=1469, listeners=30
[18:54:04] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[18:54:04] [ENEMY] [Enemy1] Heard gunshot at (450, 743.8889), source_type=0, intensity=0.01, distance=421
[18:54:04] [ENEMY] [Enemy2] Heard gunshot at (450, 743.8889), source_type=0, intensity=0.06, distance=200
[18:54:04] [ENEMY] [Enemy3] Heard gunshot at (450, 743.8889), source_type=0, intensity=0.04, distance=250
[18:54:04] [ENEMY] [Enemy4] Heard gunshot at (450, 743.8889), source_type=0, intensity=0.02, distance=383
[18:54:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:04] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.2°, current=168.8°, player=(450,743), corner_timer=0.00
[18:54:04] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.5°, current=-157.5°, player=(450,743), corner_timer=0.00
[18:54:04] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-178.6°, current=-123.8°, player=(450,743), corner_timer=0.00
[18:54:04] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-156.0°, current=-101.3°, player=(450,743), corner_timer=0.00
[18:54:04] [ENEMY] [Enemy3] Status: BLINDED removed
[18:54:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:54:04] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3365, 749.7394), dir=(1, 0), lethal=false
[18:54:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:04] [INFO] [ImpactEffects] Blood effect spawned at (689.3365, 749.7394) (scale=1)
[18:54:04] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-178.2°, current=180.0°, player=(450,742), corner_timer=0.00
[18:54:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,742), corner_timer=-0.01
[18:54:05] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[18:54:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(450,742), corner_timer=0.30
[18:54:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3365, 749.7394), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:05] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:54:05] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3365, 749.7394), dir=(1, 0), lethal=true
[18:54:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:05] [INFO] [ImpactEffects] Blood effect spawned at (689.3365, 749.7394) (scale=1.5)
[18:54:05] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:54:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:54:05] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:54:05] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:54:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:05] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:54:05] [INFO] [LastChance] Threat detected: @Area2D@882
[18:54:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:05] [INFO] [Player] Spawning blood effect at (450, 742.38885), dir=(1, 0), lethal=False (C#)
[18:54:05] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 742.3889), dir=(1, 0), lethal=false
[18:54:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:05] [INFO] [ImpactEffects] Blood effect spawned at (450, 742.3889) (scale=1)
[18:54:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:54:05] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (763.2078, 801.5667) (added to group)
[18:54:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (757.3757, 745.5775) (added to group)
[18:54:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 742.38885), shooter_id=164987144039, bullet_pos=(934.47186, 771.29376)
[18:54:05] [INFO] [Bullet] Using shooter_position, distance=485,33337
[18:54:05] [INFO] [Bullet] Distance to wall: 485,33337 (33,047245% of viewport)
[18:54:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:05] [INFO] [Bullet] Starting wall penetration at (934.47186, 771.29376)
[18:54:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,80251
[18:54:05] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:05] [INFO] [Bullet] Exiting penetration at (972.7372, 773.5768) after traveling 33,333336 pixels through wall
[18:54:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,742), corner_timer=-0.01
[18:54:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[18:54:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(450,742), corner_timer=0.30
[18:54:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (804.2262, 736.6677) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (732.6681, 755.5306) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (778.8549, 775.8605) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (765.0767, 763.4733) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (770.6121, 783.1747) (added to group)
[18:54:05] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[18:54:05] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:54:05] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:54:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (782.1925, 800.499) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (493.2437, 775.0233) (added to group)
[18:54:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 742.38885), shooter_id=164987144039, bullet_pos=(934.838, 764.30975)
[18:54:05] [INFO] [Bullet] Using shooter_position, distance=485,3333
[18:54:05] [INFO] [Bullet] Distance to wall: 485,3333 (33,047237% of viewport)
[18:54:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:05] [INFO] [Bullet] Starting wall penetration at (934.838, 764.30975)
[18:54:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,17014
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (783.9123, 770.9572) (added to group)
[18:54:05] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:05] [INFO] [Bullet] Exiting penetration at (973.1322, 766.04114) after traveling 33,333336 pixels through wall
[18:54:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (535.6201, 751.6474) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (774.1827, 809.8597) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (757.772, 802.6077) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (794.8259, 813.4866) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (747.9973, 767.0183) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (764.2264, 784.1699) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (800.6523, 829.4197) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (508.6782, 746.5647) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (773.9377, 804.6524) (added to group)
[18:54:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 742.38885), shooter_id=164987144039, bullet_pos=(935.0193, 759.8468)
[18:54:05] [INFO] [Bullet] Using shooter_position, distance=485,33337
[18:54:05] [INFO] [Bullet] Distance to wall: 485,33337 (33,047245% of viewport)
[18:54:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (777.153, 814.7301) (added to group)
[18:54:05] [ENEMY] [Enemy3] Ragdoll activated
[18:54:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (870.2976, 809.3951) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (840.0251, 869.7797) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (802.2295, 807.535) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (823.8539, 811.7582) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (830.9078, 750.1358) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (781.1559, 812.0242) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (863.1276, 832.2244) (added to group)
[18:54:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(450,742), corner_timer=-0.01
[18:54:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[18:54:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(451,742), corner_timer=0.30
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (537.6571, 784.9651) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (588.1195, 750.3739) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (837.1353, 789.1269) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (879.278, 848.1809) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (882.0095, 893.5029) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (892.0216, 795.0398) (added to group)
[18:54:05] [INFO] [BloodDecal] Blood puddle created at (653.5073, 743.2363) (added to group)
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (627.4988, 801.7511) (added to group)
[18:54:06] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:06] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.9°, current=57.8°, player=(525,742), corner_timer=0.00
[18:54:06] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:54:06] [ENEMY] [Enemy2] Status: BLINDED applied
[18:54:06] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.6°, current=29.4°, player=(569,742), corner_timer=0.00
[18:54:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.0227, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:54:06] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[18:54:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(594,742), corner_timer=-0.01
[18:54:06] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[18:54:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(598,742), corner_timer=0.30
[18:54:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[18:54:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:54:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:06] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:54:06] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:54:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.4005, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:06] [ENEMY] [Enemy2] Status: BLINDED removed
[18:54:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[18:54:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:54:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:06] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:54:06] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:54:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.4005, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:06] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:54:06] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-39.0°, current=170.1°, player=(634,742), corner_timer=0.00
[18:54:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[18:54:06] [INFO] [ImpactEffects] spawn_blood_effect called at (406.6291, 544.6267), dir=(1, 0), lethal=false
[18:54:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:06] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 544.6267) (dist=93 px)
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (499, 544.6267) (added to group)
[18:54:06] [INFO] [ImpactEffects] Blood effect spawned at (406.6291, 544.6267) (scale=1)
[18:54:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.0671, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=175.9°, player=(635,742), corner_timer=-0.01
[18:54:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:54:06] [ENEMY] [Enemy3] Death animation completed
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (475.2323, 555.4149) (added to group)
[18:54:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(635,742), corner_timer=0.30
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (460.8535, 572.9229) (added to group)
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (483.2259, 596.5622) (added to group)
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (484.3306, 537.6789) (added to group)
[18:54:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.0671, 742.3889), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:06] [INFO] [BloodDecal] Blood puddle created at (479.9221, 592.063) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (446.7424, 549.2534) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (479.7297, 564.1276) (added to group)
[18:54:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.06714, 742.38885), shooter_id=164987144039, bullet_pos=(279.44522, 463.3958)
[18:54:07] [INFO] [Bullet] Using shooter_position, distance=452,00006
[18:54:07] [INFO] [Bullet] Distance to wall: 452,00006 (30,777517% of viewport)
[18:54:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:07] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (473.4449, 613.592) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (493.6749, 582.7155) (added to group)
[18:54:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.06714, 742.38885), shooter_id=164987144039, bullet_pos=(279.50565, 463.31885)
[18:54:07] [INFO] [Bullet] Using shooter_position, distance=452,00006
[18:54:07] [INFO] [Bullet] Distance to wall: 452,00006 (30,777517% of viewport)
[18:54:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:07] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (531.4447, 623.0346) (added to group)
[18:54:07] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (495.9964, 620.2897) (added to group)
[18:54:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.06714, 742.38885), shooter_id=164987144039, bullet_pos=(45.996613, 632.6231)
[18:54:07] [INFO] [Bullet] Using shooter_position, distance=599,21
[18:54:07] [INFO] [Bullet] Distance to wall: 599,21 (40,801315% of viewport)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (494.506, 589.8665) (added to group)
[18:54:07] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[18:54:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(635,751), corner_timer=-0.01
[18:54:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:54:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.06714, 742.38885), shooter_id=164987144039, bullet_pos=(158.4299, 688.19366)
[18:54:07] [INFO] [Bullet] Using shooter_position, distance=479,70844
[18:54:07] [INFO] [Bullet] Distance to wall: 479,70844 (32,66423% of viewport)
[18:54:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:07] [INFO] [Bullet] Starting wall penetration at (158.4299, 688.19366)
[18:54:07] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:54:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(635,754), corner_timer=0.30
[18:54:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:07] [INFO] [Bullet] Exiting penetration at (184.50247, 701.08014) after traveling 24,083334 pixels through wall
[18:54:07] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[18:54:07] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (496.8204, 611.2232) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (553.3463, 676.1811) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (491.6588, 550.376) (added to group)
[18:54:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.06714, 742.38885), shooter_id=164987144039, bullet_pos=(60.312164, 650.6431)
[18:54:07] [INFO] [Bullet] Using shooter_position, distance=582,03143
[18:54:07] [INFO] [Bullet] Distance to wall: 582,03143 (39,63159% of viewport)
[18:54:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:07] [INFO] [Bullet] Starting wall penetration at (60.312164, 650.6431)
[18:54:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:07] [INFO] [Bullet] Exiting penetration at (34.971886, 672.29913) after traveling 28,333334 pixels through wall
[18:54:07] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (510.1498, 657.0051) (added to group)
[18:54:07] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (519.5016, 677.8704) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (480.2934, 610.7141) (added to group)
[18:54:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (499.9403, 616.422) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (497.1996, 636.801) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (550.0641, 631.2351) (added to group)
[18:54:07] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=10
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (482.1339, 643.5025) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (588.8987, 714.9985) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (497.269, 616.6956) (added to group)
[18:54:07] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-121.8°, current=-121.8°, player=(625,796), corner_timer=0.00
[18:54:07] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:54:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.4068, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (576.109, 667.1879) (added to group)
[18:54:07] [INFO] [LastChance] Threat detected: Bullet
[18:54:07] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:54:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:07] [INFO] [Player] Spawning blood effect at (616.066, 809.13666), dir=(1, 0), lethal=False (C#)
[18:54:07] [INFO] [ImpactEffects] spawn_blood_effect called at (616.066, 809.1367), dir=(1, 0), lethal=false
[18:54:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:07] [INFO] [ImpactEffects] Blood effect spawned at (616.066, 809.1367) (scale=1)
[18:54:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:54:07] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:54:07] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:54:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.5682, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(607,826), corner_timer=-0.01
[18:54:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:54:07] [INFO] [LastChance] Threat detected: Bullet
[18:54:07] [INFO] [LastChance] Triggering last chance effect!
[18:54:07] [INFO] [LastChance] Starting last chance effect:
[18:54:07] [INFO] [LastChance]   - Time will be frozen (except player)
[18:54:07] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:54:07] [INFO] [LastChance]   - Trigger: threat detected
[18:54:07] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:54:07] [INFO] [LastChance]   - Brightness: 0.60
[18:54:07] [INFO] [LastChance] Pushed bullet Bullet from distance 48.7 to 200.0
[18:54:07] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:54:07] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:54:07] [INFO] [LastChance] Skipping player node: Player
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@881
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@884
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@887
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@891
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@893
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@942
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@945
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@950
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@954
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@961
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@990
[18:54:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@996
[18:54:07] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:54:07] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:54:07] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (631.8525, 760.6864) (added to group)
[18:54:07] [INFO] [BloodDecal] Blood puddle created at (658.3557, 813.4504) (added to group)
[18:54:07] [ENEMY] [Enemy4] Status: BLINDED applied
[18:54:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:08] [INFO] [LastChance] All process modes restored
[18:54:08] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:54:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:08] [ENEMY] [Enemy1] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:08] [ENEMY] [Enemy2] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:08] [ENEMY] [Enemy3] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:08] [ENEMY] [Enemy4] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:08] [ENEMY] [Enemy5] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:08] [ENEMY] [Enemy6] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:08] [ENEMY] [Enemy7] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:08] [ENEMY] [Enemy8] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:08] [ENEMY] [Enemy9] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:08] [ENEMY] [Enemy10] Death animation component initialized
[18:54:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:08] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:08] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:08] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:08] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:08] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:08] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:08] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:54:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:08] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:08] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:08] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:08] [INFO] [ReplayManager] Replay data cleared
[18:54:08] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:08] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:08] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:08] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:08] [INFO] [ReplayManager] Enemies count: 10
[18:54:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:08] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:08] [INFO] [CinemaEffects] Found player node: Player
[18:54:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:54:08] [ENEMY] [Enemy1] Registered as sound listener
[18:54:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:54:08] [ENEMY] [Enemy2] Registered as sound listener
[18:54:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:54:08] [ENEMY] [Enemy3] Registered as sound listener
[18:54:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:54:08] [ENEMY] [Enemy4] Registered as sound listener
[18:54:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:54:08] [ENEMY] [Enemy5] Registered as sound listener
[18:54:08] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:54:08] [ENEMY] [Enemy6] Registered as sound listener
[18:54:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:54:08] [ENEMY] [Enemy7] Registered as sound listener
[18:54:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:54:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:54:08] [ENEMY] [Enemy8] Registered as sound listener
[18:54:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:54:08] [ENEMY] [Enemy9] Registered as sound listener
[18:54:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:54:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:54:08] [ENEMY] [Enemy10] Registered as sound listener
[18:54:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:54:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:08] [INFO] [LastChance] Found player: Player
[18:54:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:08] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:09] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:09] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:54:09] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:54:09] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:54:09] [ENEMY] [Enemy3] Status: BLINDED applied
[18:54:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 745.9443), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:54:09] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:54:09] [ENEMY] [Enemy1] Heard gunshot at (450, 745.9443), source_type=0, intensity=0.01, distance=423
[18:54:09] [ENEMY] [Enemy2] Heard gunshot at (450, 745.9443), source_type=0, intensity=0.06, distance=202
[18:54:09] [ENEMY] [Enemy3] Heard gunshot at (450, 745.9443), source_type=0, intensity=0.04, distance=250
[18:54:09] [ENEMY] [Enemy4] Heard gunshot at (450, 745.9443), source_type=0, intensity=0.02, distance=382
[18:54:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:09] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.3°, current=33.8°, player=(450,745), corner_timer=0.00
[18:54:09] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.7°, current=-101.3°, player=(450,745), corner_timer=0.00
[18:54:09] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-179.1°, current=-33.8°, player=(450,745), corner_timer=0.00
[18:54:09] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-156.2°, current=168.8°, player=(450,745), corner_timer=0.00
[18:54:10] [ENEMY] [Enemy3] Status: BLINDED removed
[18:54:10] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.8°, current=156.9°, player=(450,740), corner_timer=0.00
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,740), corner_timer=-0.02
[18:54:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,740), corner_timer=-0.02
[18:54:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:54:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,740), corner_timer=0.30
[18:54:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,740), corner_timer=0.30
[18:54:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 745.94434), shooter_id=284390591920, bullet_pos=(916.1727, 794.23096)
[18:54:10] [INFO] [Bullet] Using shooter_position, distance=468,66684
[18:54:10] [INFO] [Bullet] Distance to wall: 468,66684 (31,912386% of viewport)
[18:54:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:10] [INFO] [Bullet] Starting wall penetration at (916.1727, 794.23096)
[18:54:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,733334
[18:54:10] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:54:10] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3347, 749.827), dir=(1, 0), lethal=false
[18:54:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:10] [INFO] [ImpactEffects] Blood effect spawned at (689.3347, 749.827) (scale=1)
[18:54:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:10] [INFO] [Bullet] Exiting penetration at (962.59106, 799.039) after traveling 41,666668 pixels through wall
[18:54:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3347, 749.827), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:10] [INFO] [LastChance] Threat detected: Bullet
[18:54:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:54:10] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (119 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [Player] Spawning blood effect at (450, 740.4444), dir=(1, 0), lethal=False (C#)
[18:54:10] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 740.4444), dir=(1, 0), lethal=false
[18:54:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:10] [INFO] [ImpactEffects] Blood effect spawned at (450, 740.4444) (scale=1)
[18:54:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:54:10] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:54:10] [INFO] [ImpactEffects] spawn_blood_effect called at (684.9977, 754.5334), dir=(1, 0), lethal=false
[18:54:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:10] [INFO] [ImpactEffects] Blood effect spawned at (684.9977, 754.5334) (scale=1)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (117 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(683.552, 756.1022), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (116 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (116 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.3236, 763.9461), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (113 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [LastChance] Threat detected: @Area2D@1273
[18:54:10] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:54:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:10] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:54:10] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4323, 767.0837), dir=(1, 0), lethal=false
[18:54:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:10] [INFO] [ImpactEffects] Blood effect spawned at (673.4323, 767.0837) (scale=1)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (225 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (224 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (223 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (735.1799, 772.1064) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (763.1527, 730.3659) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (221 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.0952, 771.79), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:10] [INFO] [LastChance] Threat detected: @Area2D@1284
[18:54:10] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:54:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:10] [INFO] [Player] Spawning blood effect at (450, 740.4444), dir=(1, 0), lethal=False (C#)
[18:54:10] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 740.4444), dir=(1, 0), lethal=false
[18:54:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:10] [INFO] [ImpactEffects] Blood effect spawned at (450, 740.4444) (scale=1)
[18:54:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:54:10] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:54:10] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (220 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(450,740), corner_timer=-0.00
[18:54:10] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (218 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(450,740), corner_timer=0.30
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (215 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:54:10] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (213 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (211 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [Player] Spawning blood effect at (450, 740.4444), dir=(1, 0), lethal=True (C#)
[18:54:10] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 740.4444), dir=(1, 0), lethal=true
[18:54:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:10] [INFO] [ImpactEffects] Blood effect spawned at (450, 740.4444) (scale=1.5)
[18:54:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:54:10] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:54:10] [INFO] [CinemaEffects] Player died - triggering death effects
[18:54:10] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[18:54:10] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:54:10] [INFO] [LastChance] Player died
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (209 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (207 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (737.3908, 772.9988) (added to group)
[18:54:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(615.58167, 759.3628), shooter_id=281035147852, bullet_pos=(59.53039, 868.5326)
[18:54:10] [INFO] [Bullet] Using shooter_position, distance=566,6666
[18:54:10] [INFO] [Bullet] Distance to wall: 566,6666 (38,585373% of viewport)
[18:54:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:10] [INFO] [Bullet] Starting wall penetration at (59.53039, 868.5326)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (205 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,277369
[18:54:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:10] [INFO] [Bullet] Exiting penetration at (21.915161, 875.9176) after traveling 33,333336 pixels through wall
[18:54:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (204 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (202 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (201 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (802.4063, 746.6796) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (532.4052, 745.491) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (761.1516, 770.099) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 740.4444), shooter_id=284390591920, bullet_pos=(935.1881, 752.32684)
[18:54:10] [INFO] [Bullet] Using shooter_position, distance=485,3336
[18:54:10] [INFO] [Bullet] Distance to wall: 485,3336 (33,04726% of viewport)
[18:54:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:10] [INFO] [Bullet] Starting wall penetration at (935.1881, 752.32684)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (198 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,521194
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (537.869, 804.0679) (added to group)
[18:54:10] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:10] [INFO] [Bullet] Exiting penetration at (973.50995, 753.2654) after traveling 33,333336 pixels through wall
[18:54:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:10] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[18:54:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.5355, 815.4375), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:10] [INFO] [LastChance] Threat detected: Bullet
[18:54:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (544.2503, 782.3674) (added to group)
[18:54:10] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=106.5°, current=107.7°, player=(450,740), corner_timer=0.00
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (196 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (514.3035, 757.5404) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (752.6987, 792.1628) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (193 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (768.2966, 813.8619) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (553.9672, 728.2781) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (544.1752, 742.4174) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (820.9517, 791.758) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (768.9871, 756.3835) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (812.9781, 800.1599) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (191 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (773.2761, 771.4315) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (853.689, 740.9896) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (190 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (190 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (568.8242, 804.0582) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (771.2351, 742.5414) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (786.3127, 756.1905) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (771.382, 777.0564) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(450,740), corner_timer=-0.01
[18:54:10] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (729.7405, 806.5469) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (521.9647, 762.9014) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(450,740), corner_timer=0.30
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (553.7482, 731.0826) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (802.4752, 763.5334) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (512.4236, 763.809) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (843.8025, 778.2301) (added to group)
[18:54:10] [INFO] [BloodDecal] Blood puddle created at (554.5712, 795.4832) (added to group)
[18:54:10] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:11] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:11] [INFO] [CinemaEffects] Death effects reset
[18:54:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:11] [ENEMY] [Enemy1] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:11] [ENEMY] [Enemy2] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:11] [ENEMY] [Enemy3] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:11] [ENEMY] [Enemy4] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:11] [ENEMY] [Enemy5] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:11] [ENEMY] [Enemy6] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:11] [ENEMY] [Enemy7] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:11] [ENEMY] [Enemy8] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:11] [ENEMY] [Enemy9] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:11] [ENEMY] [Enemy10] Death animation component initialized
[18:54:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:11] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:11] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:11] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:11] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:11] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:11] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:11] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:54:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:11] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:11] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:11] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:11] [INFO] [ReplayManager] Replay data cleared
[18:54:11] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:11] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:11] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:11] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:11] [INFO] [ReplayManager] Enemies count: 10
[18:54:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:11] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:11] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (542.4899, 743.7827) (added to group)
[18:54:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:11] [INFO] [CinemaEffects] Found player node: Player
[18:54:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:54:11] [ENEMY] [Enemy1] Registered as sound listener
[18:54:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:54:11] [ENEMY] [Enemy2] Registered as sound listener
[18:54:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:54:11] [ENEMY] [Enemy3] Registered as sound listener
[18:54:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:54:11] [ENEMY] [Enemy4] Registered as sound listener
[18:54:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:54:11] [ENEMY] [Enemy5] Registered as sound listener
[18:54:11] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:54:11] [ENEMY] [Enemy6] Registered as sound listener
[18:54:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:54:11] [ENEMY] [Enemy7] Registered as sound listener
[18:54:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:54:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:54:11] [ENEMY] [Enemy8] Registered as sound listener
[18:54:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:54:11] [ENEMY] [Enemy9] Registered as sound listener
[18:54:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:54:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:54:11] [ENEMY] [Enemy10] Registered as sound listener
[18:54:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:54:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:11] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:11] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:11] [INFO] [LastChance] Found player: Player
[18:54:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:11] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (842.3348, 786.8087) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (569.1447, 785.1335) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (856.6208, 839.5195) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (843.2643, 832.4244) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (542.8405, 794.5047) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (604.0543, 844.9698) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (546.3002, 789.3007) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (581.0164, 746.8016) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (570.0726, 756.4426) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (577.0114, 747.7188) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (545.9612, 804.8828) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (518.4481, 779.4684) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (602.3771, 795.2477) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (568.7347, 767.1031) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (626.6702, 855.0967) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (569.0941, 813.5289) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (611.3181, 800.4108) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (580.6768, 790.6073) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (609.8009, 782.963) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (600.8668, 839.7454) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (555.0669, 819.0597) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (678.6902, 830.0566) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (643.4791, 804.5497) (added to group)
[18:54:11] [INFO] [BloodDecal] Blood puddle created at (681.1033, 921.3506) (added to group)
[18:54:12] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:12] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:54:12] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:54:12] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:54:12] [ENEMY] [Enemy3] Status: BLINDED applied
[18:54:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 742.3333), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:54:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:54:12] [ENEMY] [Enemy1] Heard gunshot at (450, 742.3333), source_type=0, intensity=0.01, distance=420
[18:54:12] [ENEMY] [Enemy2] Heard gunshot at (450, 742.3333), source_type=0, intensity=0.06, distance=199
[18:54:12] [ENEMY] [Enemy3] Heard gunshot at (450, 742.3333), source_type=0, intensity=0.04, distance=250
[18:54:12] [ENEMY] [Enemy4] Heard gunshot at (450, 742.3333), source_type=0, intensity=0.02, distance=384
[18:54:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:12] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.1°, current=33.8°, player=(450,742), corner_timer=0.00
[18:54:12] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.4°, current=45.0°, player=(450,742), corner_timer=0.00
[18:54:12] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-178.2°, current=-123.8°, player=(450,742), corner_timer=0.00
[18:54:12] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-155.7°, current=-67.5°, player=(450,742), corner_timer=0.00
[18:54:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:54:12] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3384, 749.6731), dir=(1, 0), lethal=false
[18:54:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:12] [INFO] [ImpactEffects] Blood effect spawned at (689.3384, 749.6731) (scale=1)
[18:54:12] [ENEMY] [Enemy3] Status: BLINDED removed
[18:54:12] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.7°, current=-176.9°, player=(450,735), corner_timer=0.00
[18:54:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 734.9555), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(450,734), corner_timer=-0.01
[18:54:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.3°, player=(450,734), corner_timer=-0.01
[18:54:12] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:54:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(450,734), corner_timer=0.30
[18:54:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(450,734), corner_timer=0.30
[18:54:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:54:13] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3384, 749.6731), dir=(1, 0), lethal=true
[18:54:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:13] [INFO] [ImpactEffects] Blood effect spawned at (689.3384, 749.6731) (scale=1.5)
[18:54:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:54:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:54:13] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:54:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:54:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:13] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:13] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (739.8331, 763.6128) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (764.7774, 731.2116) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (753.1628, 774.4862) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (749.5662, 780.4814) (added to group)
[18:54:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 734.86664), shooter_id=374131919699, bullet_pos=(934.56696, 762.1364)
[18:54:13] [INFO] [Bullet] Using shooter_position, distance=485,33368
[18:54:13] [INFO] [Bullet] Distance to wall: 485,33368 (33,047264% of viewport)
[18:54:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:13] [INFO] [Bullet] Starting wall penetration at (934.56696, 762.1364)
[18:54:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,898075
[18:54:13] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:13] [INFO] [Bullet] Exiting penetration at (972.8398, 764.2903) after traveling 33,333332 pixels through wall
[18:54:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(761.8525, 914.2042), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[18:54:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(698.63086, 889.0322), shooter_id=371128796758, bullet_pos=(698.63086, 889.0322)
[18:54:13] [INFO] [Bullet] Using shooter_position, distance=0
[18:54:13] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:54:13] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:54:13] [INFO] [Bullet] Starting wall penetration at (698.63086, 889.0322)
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,191967
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (767.1635, 775.0206) (added to group)
[18:54:13] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:13] [INFO] [Bullet] Exiting penetration at (664.84955, 870.9141) after traveling 33,333332 pixels through wall
[18:54:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (761.1951, 768.1033) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (744.1943, 767.0145) (added to group)
[18:54:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(450,734), corner_timer=-0.01
[18:54:13] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (763.3345, 777.941) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (730.0712, 783.6324) (added to group)
[18:54:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.5°, player=(450,734), corner_timer=0.30
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (776.848, 747.2605) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (774.0261, 791.8627) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (754.3276, 767.2879) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (749.4836, 757.2001) (added to group)
[18:54:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 734.86664), shooter_id=374131919699, bullet_pos=(934.3688, 765.4512)
[18:54:13] [INFO] [Bullet] Using shooter_position, distance=485,3334
[18:54:13] [INFO] [Bullet] Distance to wall: 485,3334 (33,047245% of viewport)
[18:54:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:13] [INFO] [Bullet] Starting wall penetration at (934.3688, 765.4512)
[18:54:13] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:54:13] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:54:13] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:54:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,698856
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (788.0929, 729.1427) (added to group)
[18:54:13] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:13] [INFO] [Bullet] Exiting penetration at (972.6259, 767.8668) after traveling 33,33334 pixels through wall
[18:54:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (783.9682, 801.8058) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (792.6553, 783.543) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (859.7737, 835.2848) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (850.501, 786.0116) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (819.6917, 815.3525) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (805.1812, 843.3459) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (823.6917, 743.47) (added to group)
[18:54:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 734.86664), shooter_id=374131919699, bullet_pos=(934.69495, 759.7513)
[18:54:13] [INFO] [Bullet] Using shooter_position, distance=485,3333
[18:54:13] [INFO] [Bullet] Distance to wall: 485,3333 (33,047237% of viewport)
[18:54:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:13] [INFO] [Bullet] Starting wall penetration at (934.69495, 759.7513)
[18:54:13] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:54:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,026546
[18:54:13] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:13] [INFO] [Bullet] Exiting penetration at (972.97784, 761.71674) after traveling 33,333336 pixels through wall
[18:54:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (879.4563, 856.822) (added to group)
[18:54:13] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=159.8°, current=-146.4°, player=(450,734), corner_timer=0.00
[18:54:13] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-146.3°, current=-148.3°, player=(450,734), corner_timer=0.00
[18:54:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(722.3102, 916.1797), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:13] [ENEMY] [Enemy3] Ragdoll activated
[18:54:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (787.1638, 800.3813) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (805.0929, 829.7117) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (840.5917, 836.3354) (added to group)
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (784.7284, 767.5747) (added to group)
[18:54:13] [INFO] [LastChance] Threat detected: Bullet
[18:54:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:13] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.8663, 926.6483), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(459,734), corner_timer=-0.01
[18:54:13] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:54:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(461,734), corner_timer=0.30
[18:54:13] [INFO] [LastChance] Threat detected: @Area2D@1659
[18:54:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:13] [INFO] [BloodDecal] Blood puddle created at (834.1552, 835.7502) (added to group)
[18:54:13] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.1082, 941.3185), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(406.18823, 706.68256)
[18:54:13] [INFO] [Bullet] Using shooter_position, distance=299,99982
[18:54:13] [INFO] [Bullet] Distance to wall: 299,99982 (20,42754% of viewport)
[18:54:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:13] [INFO] [LastChance] Threat detected: Bullet
[18:54:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.1697, 958.5881), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.1408, 898.5979), shooter_id=371128796758, bullet_pos=(441.159, 709.45776)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=266,66675
[18:54:14] [INFO] [Bullet] Distance to wall: 266,66675 (18,15783% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.8°, current=57.7°, player=(521,734), corner_timer=0.00
[18:54:14] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:14] [INFO] [LastChance] Threat detected: @Area2D@1666
[18:54:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:14] [ENEMY] [Enemy2] Status: BLINDED applied
[18:54:14] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:54:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=54.0°, current=54.9°, player=(534,734), corner_timer=0.00
[18:54:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.2268, 949.4021), source=ENEMY (Enemy4), range=1469, listeners=9
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.8013, 908.78284), shooter_id=371128796758, bullet_pos=(476.05273, 691.61)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=266,66675
[18:54:14] [INFO] [Bullet] Distance to wall: 266,66675 (18,15783% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(552,734), corner_timer=-0.01
[18:54:14] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(67.22184, 1015.1808)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=588,99286
[18:54:14] [INFO] [Bullet] Distance to wall: 588,99286 (40,10561% of viewport)
[18:54:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(556,734), corner_timer=0.30
[18:54:14] [INFO] [LastChance] Threat detected: @Area2D@1671
[18:54:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.2004, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:54:14] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-37.8°, current=-124.0°, player=(582,734), corner_timer=0.00
[18:54:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[18:54:14] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:54:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:14] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:54:14] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.0005, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:54:14] [ENEMY] [Enemy2] Status: BLINDED removed
[18:54:14] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:54:14] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:54:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[18:54:14] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:54:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:14] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:54:14] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.1408, 898.5979), shooter_id=371128796758, bullet_pos=(63.06671, 1211.3033)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=646,7028
[18:54:14] [INFO] [Bullet] Distance to wall: 646,7028 (44,035183% of viewport)
[18:54:14] [INFO] [Bullet] Distance-based penetration chance: 95,29229%
[18:54:14] [INFO] [Bullet] Starting wall penetration at (63.06671, 1211.3033)
[18:54:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:14] [INFO] [Bullet] Exiting penetration at (43.008774, 1237.9264) after traveling 28,333334 pixels through wall
[18:54:14] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.6008, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:14] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[18:54:14] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-22.6°, current=103.0°, player=(648,734), corner_timer=0.00
[18:54:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(657,734), corner_timer=-0.01
[18:54:14] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(505.82507, 1399.258)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=526,51666
[18:54:14] [INFO] [Bullet] Distance to wall: 526,51666 (35,851486% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(662,734), corner_timer=0.30
[18:54:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[18:54:14] [INFO] [ImpactEffects] spawn_blood_effect called at (409.8482, 545.9022), dir=(1, 0), lethal=true
[18:54:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:14] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 545.9022) (dist=90 px)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (499, 545.9022) (added to group)
[18:54:14] [INFO] [ImpactEffects] Blood effect spawned at (409.8482, 545.9022) (scale=1.5)
[18:54:14] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:54:14] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:54:14] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[18:54:14] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[18:54:14] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:14] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.801, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (479.2372, 598.8542) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (479.1179, 598.312) (added to group)
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(670.80096, 734.86664), shooter_id=374131919699, bullet_pos=(501.67957, 596.25543)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=218,66667
[18:54:14] [INFO] [Bullet] Distance to wall: 218,66667 (14,889416% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.00055, 734.86664), shooter_id=374131919699, bullet_pos=(62.64502, 113.78116)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=818,66675
[18:54:14] [INFO] [Bullet] Distance to wall: 818,66675 (55,74453% of viewport)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (464.5128, 604.6218) (added to group)
[18:54:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(706.0012, 734.8666), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.00055, 734.86664), shooter_id=374131919699, bullet_pos=(103.804214, 67.86059)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=828,9477
[18:54:14] [INFO] [Bullet] Distance to wall: 828,9477 (56,444572% of viewport)
[18:54:14] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (470.4197, 591.5509) (added to group)
[18:54:14] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:54:14] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (490.1659, 576.4157) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (473.0512, 552.1434) (added to group)
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(670.80096, 734.86664), shooter_id=374131919699, bullet_pos=(356.7048, 694.2726)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=316,7085
[18:54:14] [INFO] [Bullet] Distance to wall: 316,7085 (21,565264% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(321.62985, 1598.2015)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=776,8577
[18:54:14] [INFO] [Bullet] Distance to wall: 776,8577 (52,897675% of viewport)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (490.4668, 532.4741) (added to group)
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.00116, 734.86664), shooter_id=374131919699, bullet_pos=(501.46225, 587.6667)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=251,99998
[18:54:14] [INFO] [Bullet] Distance to wall: 251,99998 (17,159143% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:54:14] [INFO] [GrenadeBase] Grenade created at (440.8603, 571.1658) (frozen)
[18:54:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:54:14] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:54:14] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:54:14] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:54:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:54:14] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:54:14] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.775303, 0.63159), Speed: 549.4 (unfrozen)
[18:54:14] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:54:14] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:54:14] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:54:14] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (609.2006, 734.8666), Distance: 275
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.00055, 734.86664), shooter_id=374131919699, bullet_pos=(261.78662, 223.47115)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=610,9209
[18:54:14] [INFO] [Bullet] Distance to wall: 610,9209 (41,59873% of viewport)
[18:54:14] [ENEMY] [Enemy3] Death animation completed
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (486.78, 582.6998) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (494.4346, 568.1324) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (455.4462, 554.7062) (added to group)
[18:54:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.00116, 734.86664), shooter_id=374131919699, bullet_pos=(395.63416, 689.2123)
[18:54:14] [INFO] [Bullet] Using shooter_position, distance=313,70688
[18:54:14] [INFO] [Bullet] Distance to wall: 313,70688 (21,360878% of viewport)
[18:54:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(762,734), corner_timer=-0.01
[18:54:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (468.4349, 571.012) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (462.6752, 548.6501) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (474.9575, 559.6322) (added to group)
[18:54:14] [INFO] [BloodDecal] Blood puddle created at (468.9372, 569.7538) (added to group)
[18:54:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(765,734), corner_timer=0.30
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (506.7032, 624.5312) (added to group)
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(670.80096, 734.86664), shooter_id=374131919699, bullet_pos=(66.35974, 513.22614)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=643,7963
[18:54:15] [INFO] [Bullet] Distance to wall: 643,7963 (43,837276% of viewport)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (535.3609, 665.7192) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (480.189, 583.8968) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (477.8597, 592.0699) (added to group)
[18:54:15] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.00055, 734.86664), shooter_id=374131919699, bullet_pos=(483.4997, 67.42677)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=676,8548
[18:54:15] [INFO] [Bullet] Distance to wall: 676,8548 (46,08829% of viewport)
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(57.599716, 1391.0344)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=769,9116
[18:54:15] [INFO] [Bullet] Distance to wall: 769,9116 (52,424698% of viewport)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (505.2949, 650.7287) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (474.2847, 613.4673) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (496.2402, 639.0349) (added to group)
[18:54:15] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:54:15] [ENEMY] [Enemy2] Ragdoll activated
[18:54:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (577.2006, 685.6498) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (502.0431, 680.9583) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (485.5931, 568.7165) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (482.2308, 565.241) (added to group)
[18:54:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.1°, player=(809,750), corner_timer=-0.01
[18:54:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:54:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.4°, player=(811,753), corner_timer=0.30
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.00116, 734.86664), shooter_id=374131919699, bullet_pos=(53.467617, 278.1546)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=796,48346
[18:54:15] [INFO] [Bullet] Distance to wall: 796,48346 (54,234028% of viewport)
[18:54:15] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:54:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:15] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:54:15] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (530.2888, 701.5814) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (546.6606, 653.3697) (added to group)
[18:54:15] [INFO] [BloodDecal] Blood puddle created at (547.9211, 648.8858) (added to group)
[18:54:15] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:54:15] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:54:15] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.00116, 734.86664), shooter_id=374131919699, bullet_pos=(281.7596, 65.39706)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=792,572
[18:54:15] [INFO] [Bullet] Distance to wall: 792,572 (53,96769% of viewport)
[18:54:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.7°, current=175.8°, player=(881,824), corner_timer=-0.01
[18:54:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:54:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=178.1°, player=(884,827), corner_timer=0.30
[18:54:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(514.8409, 1007.7982)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=173,42357
[18:54:15] [INFO] [Bullet] Distance to wall: 173,42357 (11,80873% of viewport)
[18:54:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.95624, 890.91284), shooter_id=371128796758, bullet_pos=(518.34155, 1011.3683)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=173,3157
[18:54:15] [INFO] [Bullet] Distance to wall: 173,3157 (11,801385% of viewport)
[18:54:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:15] [INFO] [Bullet] Starting wall penetration at (518.34155, 1011.3683)
[18:54:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,686995
[18:54:15] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:15] [INFO] [Bullet] Exiting penetration at (530.6441, 1023.9147) after traveling 12,571651 pixels through wall
[18:54:15] [INFO] [Bullet] Damage multiplier after penetration: 0,0140625
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.00116, 734.86664), shooter_id=374131919699, bullet_pos=(507.29605, 264.4346)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=510,67603
[18:54:15] [INFO] [Bullet] Distance to wall: 510,67603 (34,77287% of viewport)
[18:54:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9336, 883.6317), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[18:54:15] [ENEMY] [Enemy4] Status: BLINDED applied
[18:54:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9336, 883.63165), shooter_id=374131919699, bullet_pos=(744.18475, 892.36725)
[18:54:15] [INFO] [Bullet] Using shooter_position, distance=152,00008
[18:54:15] [INFO] [Bullet] Distance to wall: 152,00008 (10,349965% of viewport)
[18:54:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:15] [INFO] [Bullet] Starting wall penetration at (744.18475, 892.36725)
[18:54:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:15] [INFO] [Bullet] Exiting penetration at (705.91473, 894.5703) after traveling 33,333336 pixels through wall
[18:54:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.3423, 914.1872), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[18:54:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=125.2°, player=(893,922), corner_timer=-0.01
[18:54:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:54:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(892,926), corner_timer=0.30
[18:54:16] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[18:54:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(706.00116, 734.86664), shooter_id=374131919699, bullet_pos=(342.79294, 461.14923)
[18:54:16] [INFO] [Bullet] Using shooter_position, distance=454,79825
[18:54:16] [INFO] [Bullet] Distance to wall: 454,79825 (30,96805% of viewport)
[18:54:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[18:54:16] [INFO] [ImpactEffects] spawn_blood_effect called at (591.8185, 913.1264), dir=(1, 0), lethal=false
[18:54:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:16] [INFO] [ImpactEffects] Blood effect spawned at (591.8185, 913.1264) (scale=1)
[18:54:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(882.9254, 948.6439), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[18:54:16] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[18:54:16] [INFO] [GrenadeTimer] EXPLODED at (688.1784, 772.63995)!
[18:54:16] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:54:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[18:54:16] [INFO] [ImpactEffects] spawn_blood_effect called at (584.2425, 902.8091), dir=(-0.623965, 0.781453), lethal=true
[18:54:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:16] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 978.2568) (dist=96 px)
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (525, 978.2568) (added to group)
[18:54:16] [INFO] [ImpactEffects] Blood effect spawned at (584.2425, 902.8091) (scale=1.5)
[18:54:16] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:54:16] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:54:16] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[18:54:16] [INFO] [DeathAnim] Started - Angle: 128.6 deg, Index: 20
[18:54:16] [ENEMY] [Enemy4] Death animation started with hit direction: (-0.623965, 0.781453)
[18:54:16] [INFO] [GrenadeTimer] Damaged enemy at distance 166,6
[18:54:16] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:54:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(688.1784, 772.64), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[18:54:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[18:54:16] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (688.1784, 772.63995) (shadow-based wall occlusion)
[18:54:16] [INFO] [GrenadeTimer] Scattered 13 casings
[18:54:16] [ENEMY] [Enemy4] Status: BLINDED removed
[18:54:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(852.39, 977.5466), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:54:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[18:54:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.92535, 948.6439), shooter_id=374131919699, bullet_pos=(502.1657, 889.4512)
[18:54:16] [INFO] [Bullet] Using shooter_position, distance=385,33322
[18:54:16] [INFO] [Bullet] Distance to wall: 385,33322 (26,238049% of viewport)
[18:54:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:16] [ENEMY] [Enemy2] Death animation completed
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (655.7968, 952.31) (added to group)
[18:54:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(824,983), corner_timer=-0.01
[18:54:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(820.3636, 983.9338), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:54:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[18:54:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.9°, player=(820,983), corner_timer=0.30
[18:54:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(852.39, 977.54663), shooter_id=374131919699, bullet_pos=(523.19824, 852.9007)
[18:54:16] [INFO] [Bullet] Using shooter_position, distance=351,99976
[18:54:16] [INFO] [Bullet] Distance to wall: 351,99976 (23,968311% of viewport)
[18:54:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:16] [INFO] [Bullet] Starting wall penetration at (523.19824, 852.9007)
[18:54:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,527808
[18:54:16] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:16] [INFO] [Bullet] Exiting penetration at (487.34872, 839.32654) after traveling 33,333332 pixels through wall
[18:54:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (645.502, 928.3334) (added to group)
[18:54:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (686.8383, 903.2129) (added to group)
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (546.0984, 975.4833) (added to group)
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (553.5607, 985.7572) (added to group)
[18:54:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(820.36365, 983.9338), shooter_id=374131919699, bullet_pos=(520.9479, 874.85266)
[18:54:16] [INFO] [Bullet] Using shooter_position, distance=318,66675
[18:54:16] [INFO] [Bullet] Distance to wall: 318,66675 (21,698606% of viewport)
[18:54:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (662.614, 951.8672) (added to group)
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (651.0605, 922.3593) (added to group)
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (673.663, 942.8043) (added to group)
[18:54:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(820.36365, 983.9338), shooter_id=374131919699, bullet_pos=(689.94806, 829.4219)
[18:54:16] [INFO] [Bullet] Using shooter_position, distance=202,19336
[18:54:16] [INFO] [Bullet] Distance to wall: 202,19336 (13,767717% of viewport)
[18:54:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:16] [INFO] [Bullet] Starting wall penetration at (689.94806, 829.4219)
[18:54:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:16] [INFO] [Bullet] Exiting penetration at (722.13855, 820.76843) after traveling 28,333332 pixels through wall
[18:54:16] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:54:16] [INFO] [BloodDecal] Blood puddle created at (678.178, 932.3246) (added to group)
[18:54:16] [ENEMY] [Enemy4] Ragdoll activated
[18:54:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(728,983), corner_timer=-0.01
[18:54:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(726,983), corner_timer=0.30
[18:54:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:17] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[18:54:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(697,936), corner_timer=-0.01
[18:54:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(696,934), corner_timer=0.30
[18:54:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(694,918), corner_timer=-0.01
[18:54:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(694,917), corner_timer=0.30
[18:54:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:17] [ENEMY] [Enemy4] Death animation completed
[18:54:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(666,901), corner_timer=-0.01
[18:54:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(663,900), corner_timer=0.30
[18:54:18] [INFO] [ReplayManager] Recording frame 420 (6,0s): player_valid=True, enemies=10
[18:54:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(640,825), corner_timer=-0.01
[18:54:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(640,821), corner_timer=0.30
[18:54:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(640,720), corner_timer=-0.01
[18:54:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:54:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(639,716), corner_timer=0.30
[18:54:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:19] [INFO] [ReplayManager] Recording frame 480 (6,8s): player_valid=True, enemies=10
[18:54:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(580,639), corner_timer=-0.01
[18:54:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(575,637), corner_timer=0.30
[18:54:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(474,629), corner_timer=-0.02
[18:54:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(468,629), corner_timer=0.30
[18:54:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(387,592), corner_timer=-0.02
[18:54:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(386,588), corner_timer=0.30
[18:54:19] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[18:54:19] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[18:54:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:20] [INFO] [ReplayManager] Recording frame 540 (7,8s): player_valid=True, enemies=10
[18:54:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(380,488), corner_timer=-0.02
[18:54:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(380,483), corner_timer=0.30
[18:54:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:20] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=17.0°, current=19.0°, player=(380,444), corner_timer=0.00
[18:54:20] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:54:20] [ENEMY] [Enemy1] Status: BLINDED applied
[18:54:20] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=3.9°, current=-30.6°, player=(380,411), corner_timer=0.00
[18:54:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(380,378), corner_timer=-0.02
[18:54:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.254, 373.0187), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:54:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:54:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(240.8709, 401.9332), source=ENEMY (Enemy1), range=1469, listeners=7
[18:54:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:54:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(380,373), corner_timer=0.30
[18:54:20] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[18:54:20] [INFO] [ImpactEffects] spawn_blood_effect called at (240.8709, 401.9332), dir=(1, 0), lethal=false
[18:54:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:20] [INFO] [ImpactEffects] Blood effect spawned at (240.8709, 401.9332) (scale=1)
[18:54:20] [INFO] [Player] Spawning blood effect at (380.25397, 356.51868), dir=(1, 0), lethal=False (C#)
[18:54:20] [INFO] [ImpactEffects] spawn_blood_effect called at (380.254, 356.5187), dir=(1, 0), lethal=false
[18:54:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:20] [INFO] [ImpactEffects] Blood effect spawned at (380.254, 356.5187) (scale=1)
[18:54:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:54:20] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:54:20] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:54:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:20] [ENEMY] [Enemy1] Status: BLINDED removed
[18:54:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.254, 338.9187), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:54:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[18:54:20] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/2->0/2
[18:54:20] [INFO] [ImpactEffects] spawn_blood_effect called at (240.8709, 401.9332), dir=(1, 0), lethal=true
[18:54:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:20] [INFO] [ImpactEffects] Blood effect spawned at (240.8709, 401.9332) (scale=1.5)
[18:54:20] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:54:20] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[18:54:20] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[18:54:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:20] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[18:54:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.254, 308.6965), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[18:54:20] [INFO] [BloodDecal] Blood puddle created at (284.1461, 402.9657) (added to group)
[18:54:20] [INFO] [BloodDecal] Blood puddle created at (302.0237, 408.1945) (added to group)
[18:54:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.4°, player=(380,291), corner_timer=-0.00
[18:54:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.254, 289.852), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[18:54:20] [INFO] [BloodDecal] Blood puddle created at (433.0016, 349.6267) (added to group)
[18:54:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(380,289), corner_timer=0.30
[18:54:20] [INFO] [BloodDecal] Blood puddle created at (284.2931, 403.8668) (added to group)
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 308.69647), shooter_id=374131919699, bullet_pos=(50.06512, 507.33456)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=385,3333
[18:54:21] [INFO] [Bullet] Distance to wall: 385,3333 (26,238054% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (467.4524, 374.8225) (added to group)
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (468.9507, 367.4774) (added to group)
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (488.0688, 388.5085) (added to group)
[18:54:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (442.5549, 409.7653) (added to group)
[18:54:21] [INFO] [ReplayManager] Recording frame 600 (8,7s): player_valid=True, enemies=10
[18:54:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.254, 281.212), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (486.459, 442.3984) (added to group)
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 289.85202), shooter_id=374131919699, bullet_pos=(62.72335, 508.15497)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=385,33344
[18:54:21] [INFO] [Bullet] Distance to wall: 385,33344 (26,238064% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (494.4965, 392.7137) (added to group)
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (318.4614, 403.3173) (added to group)
[18:54:21] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (355.8651, 393.319) (added to group)
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (334.9084, 408.422) (added to group)
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 308.69647), shooter_id=374131919699, bullet_pos=(442.04156, 684.12415)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=380,47818
[18:54:21] [INFO] [Bullet] Distance to wall: 380,47818 (25,90746% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 281.21204), shooter_id=374131919699, bullet_pos=(65.848526, 503.99216)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=385,3333
[18:54:21] [INFO] [Bullet] Distance to wall: 385,3333 (26,238054% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 289.85202), shooter_id=374131919699, bullet_pos=(252.87523, 685.4747)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=415,62317
[18:54:21] [INFO] [Bullet] Distance to wall: 415,62317 (28,300549% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (389.6602, 434.9637) (added to group)
[18:54:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(380,239), corner_timer=-0.01
[18:54:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:21] [ENEMY] [Enemy1] Ragdoll activated
[18:54:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(380,234), corner_timer=0.30
[18:54:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (432.4223, 417.9668) (added to group)
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 281.21204), shooter_id=374131919699, bullet_pos=(420.8154, 691.9671)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=412,7529
[18:54:21] [INFO] [Bullet] Distance to wall: 412,7529 (28,105104% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:54:21] [ENEMY] [Enemy1] Player reloading: false -> true
[18:54:21] [ENEMY] [Enemy5] Player reloading: false -> true
[18:54:21] [ENEMY] [Enemy6] Player reloading: false -> true
[18:54:21] [ENEMY] [Enemy7] Player reloading: false -> true
[18:54:21] [ENEMY] [Enemy8] Player reloading: false -> true
[18:54:21] [ENEMY] [Enemy9] Player reloading: false -> true
[18:54:21] [ENEMY] [Enemy10] Player reloading: false -> true
[18:54:21] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(380.254, 195.2121), source=PLAYER (Player), range=900, listeners=6
[18:54:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:54:21] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1329), can_see=false
[18:54:21] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1590), can_see=false
[18:54:21] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1418), can_see=false
[18:54:21] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1971), can_see=false
[18:54:21] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2189), can_see=false
[18:54:21] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1608), can_see=false
[18:54:21] [INFO] [Player.Reload.Anim] LeftArm: pos=(17.719257, 4.6666665), target=(4, 2), base=(24, 6)
[18:54:21] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.3859255, 6), target=(-2, 6), base=(-2, 6)
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 289.85202), shooter_id=374131919699, bullet_pos=(501.3506, 384.44302)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=153,66147
[18:54:21] [INFO] [Bullet] Distance to wall: 153,66147 (10,463093% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [BloodDecal] Blood puddle created at (453.0514, 414.6962) (added to group)
[18:54:21] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 289.85202), shooter_id=374131919699, bullet_pos=(337.3406, 222.94006)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=79,49067
[18:54:21] [INFO] [Bullet] Distance to wall: 79,49067 (5,4126663% of viewport)
[18:54:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:21] [INFO] [Bullet] Starting wall penetration at (337.3406, 222.94006)
[18:54:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:21] [INFO] [Bullet] Exiting penetration at (319.19183, 205.06871) after traveling 20,470833 pixels through wall
[18:54:21] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:54:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(380,133), corner_timer=-0.01
[18:54:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 308.69647), shooter_id=374131919699, bullet_pos=(1074.5747, 278.19336)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=694,9904
[18:54:21] [INFO] [Bullet] Distance to wall: 694,9904 (47,323177% of viewport)
[18:54:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(380,129), corner_timer=0.30
[18:54:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 308.69647), shooter_id=374131919699, bullet_pos=(1024.2472, 234.86014)
[18:54:21] [INFO] [Bullet] Using shooter_position, distance=648,2122
[18:54:21] [INFO] [Bullet] Distance to wall: 648,2122 (44,137962% of viewport)
[18:54:21] [INFO] [Bullet] Distance-based penetration chance: 95,17238%
[18:54:21] [INFO] [Bullet] Starting wall penetration at (1024.2472, 234.86014)
[18:54:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:21] [INFO] [Bullet] Exiting penetration at (1004.9454, 218.24077) after traveling 20,470833 pixels through wall
[18:54:21] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:54:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:21] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:54:21] [ENEMY] [Enemy1] Player reloading: true -> false
[18:54:21] [ENEMY] [Enemy5] Player reloading: true -> false
[18:54:21] [ENEMY] [Enemy6] Player reloading: true -> false
[18:54:21] [ENEMY] [Enemy7] Player reloading: true -> false
[18:54:21] [ENEMY] [Enemy8] Player reloading: true -> false
[18:54:21] [ENEMY] [Enemy9] Player reloading: true -> false
[18:54:21] [ENEMY] [Enemy10] Player reloading: true -> false
[18:54:21] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:54:22] [INFO] [ReplayManager] Recording frame 660 (9,5s): player_valid=True, enemies=10
[18:54:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(380,80), corner_timer=-0.01
[18:54:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(380,80), corner_timer=0.30
[18:54:22] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:54:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.25397, 281.21204), shooter_id=374131919699, bullet_pos=(1364.3937, 384.47443)
[18:54:22] [INFO] [Bullet] Using shooter_position, distance=989,54236
[18:54:22] [INFO] [Bullet] Distance to wall: 989,54236 (67,37976% of viewport)
[18:54:22] [INFO] [Bullet] Distance-based penetration chance: 68,056946%
[18:54:22] [INFO] [Bullet] Starting wall penetration at (1364.3937, 384.47443)
[18:54:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,255178
[18:54:22] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:22] [INFO] [Bullet] Exiting penetration at (1392.0458, 375.4632) after traveling 24,083334 pixels through wall
[18:54:22] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[18:54:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(427,80), corner_timer=-0.01
[18:54:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:54:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(431,80), corner_timer=0.30
[18:54:22] [ENEMY] [Enemy1] Death animation completed
[18:54:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(530,87), corner_timer=-0.01
[18:54:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:54:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(533,88), corner_timer=0.30
[18:54:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:23] [INFO] [ReplayManager] Recording frame 720 (10,3s): player_valid=True, enemies=10
[18:54:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(606,156), corner_timer=-0.01
[18:54:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:54:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(610,159), corner_timer=0.30
[18:54:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(686,218), corner_timer=-0.01
[18:54:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:54:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(690,219), corner_timer=0.30
[18:54:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:24] [INFO] [ReplayManager] Recording frame 780 (11,1s): player_valid=True, enemies=10
[18:54:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(768,284), corner_timer=-0.02
[18:54:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(772,288), corner_timer=0.30
[18:54:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(846,362), corner_timer=-0.02
[18:54:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(850,366), corner_timer=0.30
[18:54:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(941,396), corner_timer=-0.02
[18:54:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(947,396), corner_timer=0.30
[18:54:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:25] [INFO] [ReplayManager] Recording frame 840 (12,1s): player_valid=True, enemies=10
[18:54:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1051,396), corner_timer=-0.02
[18:54:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1057,396), corner_timer=0.30
[18:54:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1161,396), corner_timer=-0.02
[18:54:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1167,396), corner_timer=0.30
[18:54:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1257,361), corner_timer=-0.02
[18:54:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1261,357), corner_timer=0.30
[18:54:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:26] [INFO] [ReplayManager] Recording frame 900 (13,1s): player_valid=True, enemies=10
[18:54:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1333,294), corner_timer=-0.02
[18:54:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1335,292), corner_timer=0.30
[18:54:26] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:54:26] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[18:54:26] [INFO] [Player.Grenade] G pressed - starting grab animation
[18:54:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:26] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:54:26] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1643.7886, 294.79315)
[18:54:26] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:54:26] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[18:54:26] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:54:26] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:54:26] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[18:54:26] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:54:26] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:54:26] [INFO] [Player.Grenade] Timer started, grenade created at (1347.9331, 282.96072)
[18:54:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[18:54:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (207.0127, 56.41272)
[18:54:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[18:54:26] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[18:54:26] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[18:54:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,282), corner_timer=-0.02
[18:54:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,282), corner_timer=0.30
[18:54:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,282), corner_timer=-0.02
[18:54:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,282), corner_timer=0.30
[18:54:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:27] [INFO] [ReplayManager] Recording frame 960 (14,1s): player_valid=True, enemies=10
[18:54:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,282), corner_timer=-0.02
[18:54:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,282), corner_timer=0.30
[18:54:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,282), corner_timer=-0.02
[18:54:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,282), corner_timer=0.30
[18:54:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,282), corner_timer=-0.02
[18:54:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,282), corner_timer=0.30
[18:54:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:28] [INFO] [ReplayManager] Recording frame 1020 (15,1s): player_valid=True, enemies=10
[18:54:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,247), corner_timer=-0.02
[18:54:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,242), corner_timer=0.30
[18:54:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,138), corner_timer=-0.02
[18:54:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,133), corner_timer=0.30
[18:54:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:28] [INFO] [Player.Grenade.Simple] Throwing! Target: (1869.4131, 353.32117), Distance: 616,8, Speed: 587,7, Friction: 280,0
[18:54:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,48013958
[18:54:28] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:54:28] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.88693047, 0.46190298), speed=587,7, spawn=(1397.8077, 107.71464)
[18:54:28] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.88693, 0.461903), Speed: 587.7 (clamped from 587.7, max: 1186.5)
[18:54:28] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[18:54:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[18:54:28] [INFO] [Player.Grenade.Simple] Grenade thrown!
[18:54:28] [INFO] [Player.Grenade] State reset to IDLE
[18:54:28] [INFO] [Player.Grenade] State reset to IDLE
[18:54:28] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[18:54:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1340,80), corner_timer=-0.02
[18:54:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1338,80), corner_timer=0.30
[18:54:28] [INFO] [Player.Grenade] Player rotation restored to 0
[18:54:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[18:54:29] [INFO] [ReplayManager] Recording frame 1080 (16,1s): player_valid=True, enemies=10
[18:54:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1278,115), corner_timer=-0.02
[18:54:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1277,119), corner_timer=0.30
[18:54:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1275,220), corner_timer=-0.02
[18:54:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1276,225), corner_timer=0.30
[18:54:29] [ENEMY] [Enemy5] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[18:54:29] [ENEMY] [Enemy5] EVADING_GRENADE started: escaping to (1498.254, 528.4399)
[18:54:29] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=138.5°, current=-33.2°, player=(1284,244), corner_timer=0.00
[18:54:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1337,302), corner_timer=-0.02
[18:54:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1340,306), corner_timer=0.30
[18:54:29] [ENEMY] [Enemy5] EVADING_GRENADE: Escaped to safe distance
[18:54:29] [ENEMY] [Enemy5] State: EVADING_GRENADE -> IDLE
[18:54:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:29] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[18:54:29] [INFO] [GrenadeTimer] EXPLODED at (1720.3506, 275.69116)!
[18:54:29] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:54:29] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:54:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1720.351, 275.6912), source=NEUTRAL (FragGrenade), range=2938, listeners=6
[18:54:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[18:54:29] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1720.3506, 275.69116) (shadow-based wall occlusion)
[18:54:29] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=326.3°, current=138.5°, player=(1347,320), corner_timer=0.00
[18:54:30] [INFO] [ReplayManager] Recording frame 1140 (17,1s): player_valid=True, enemies=10
[18:54:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,325), corner_timer=-0.02
[18:54:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,325), corner_timer=0.30
[18:54:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,299), corner_timer=-0.02
[18:54:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,294), corner_timer=0.30
[18:54:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,192), corner_timer=-0.02
[18:54:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,187), corner_timer=0.30
[18:54:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:31] [INFO] [ReplayManager] Recording frame 1200 (18,1s): player_valid=True, enemies=10
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,150), corner_timer=-0.02
[18:54:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,150), corner_timer=0.30
[18:54:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1404,150), corner_timer=-0.02
[18:54:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1409,150), corner_timer=0.30
[18:54:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1504,161), corner_timer=-0.02
[18:54:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1507,163), corner_timer=0.30
[18:54:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1510.459, 165.6627), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:31] [ENEMY] [Enemy5] Heard gunshot at (1510.459, 165.6627), source_type=0, intensity=0.02, distance=337
[18:54:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:54:31] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-93.0°, current=-33.8°, player=(1510,165), corner_timer=0.00
[18:54:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:31] [ENEMY] [Enemy7] Memory: medium confidence (0.62) - transitioning to PURSUING
[18:54:31] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[18:54:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1520.173, 182.1806), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[18:54:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-97.2°, current=89.4°, player=(1520,182), corner_timer=0.18
[18:54:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1520.1731, 182.18065), shooter_id=374131919699, bullet_pos=(1542.3826, 315.67914)
[18:54:31] [INFO] [Bullet] Using shooter_position, distance=135,33331
[18:54:31] [INFO] [Bullet] Distance to wall: 135,33331 (9,215095% of viewport)
[18:54:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:31] [ENEMY] [Enemy5] Hit: dmg=1, hp=4/4->3/4
[18:54:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1526.183, 437.972), dir=(1, 0), lethal=false
[18:54:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:31] [INFO] [ImpactEffects] Blood effect spawned at (1526.183, 437.972) (scale=1)
[18:54:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1514.733, 201.8727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[18:54:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1510.4594, 165.66273), shooter_id=374131919699, bullet_pos=(1605.2516, 785.4559)
[18:54:32] [INFO] [Bullet] Using shooter_position, distance=627,0001
[18:54:32] [INFO] [Bullet] Distance to wall: 627,0001 (42,693592% of viewport)
[18:54:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1514.7334, 201.87265), shooter_id=374131919699, bullet_pos=(1537.256, 318.38235)
[18:54:32] [INFO] [Bullet] Using shooter_position, distance=118,66667
[18:54:32] [INFO] [Bullet] Distance to wall: 118,66667 (8,080233% of viewport)
[18:54:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:32] [INFO] [Bullet] Starting wall penetration at (1537.256, 318.38235)
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (116 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[18:54:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:32] [INFO] [Bullet] Exiting penetration at (1544.5315, 356.01892) after traveling 33,333336 pixels through wall
[18:54:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [INFO] [ReplayManager] Recording frame 1260 (19,1s): player_valid=True, enemies=10
[18:54:32] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-37.7°, current=-150.8°, player=(1507,209), corner_timer=0.00
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (113 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-98.4°, current=-146.0°, player=(1500,213), corner_timer=0.00
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1532.931, 432.7485), source=ENEMY (Enemy5), range=1469, listeners=6
[18:54:32] [ENEMY] [Enemy6] Heard gunshot at (1532.931, 432.7485), source_type=1, intensity=0.01, distance=417
[18:54:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=3
[18:54:32] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-152.3°, current=11.3°, player=(1500,213), corner_timer=0.00
[18:54:32] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[18:54:32] [INFO] [EnemyGrenade] Unsafe throw distance (110 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:54:32] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[18:54:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1495.806, 215.5786), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[18:54:32] [INFO] [LastChance] Threat detected: Bullet
[18:54:32] [INFO] [LastChance] Triggering last chance effect!
[18:54:32] [INFO] [LastChance] Starting last chance effect:
[18:54:32] [INFO] [LastChance]   - Time will be frozen (except player)
[18:54:32] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:54:32] [INFO] [LastChance]   - Trigger: threat detected
[18:54:32] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:54:32] [INFO] [LastChance]   - Brightness: 0.60
[18:54:32] [INFO] [LastChance] Pushed bullet Bullet from distance 125.4 to 200.0
[18:54:32] [INFO] [LastChance] Pushed bullet @Area2D@1989 from distance 52.0 to 200.0
[18:54:32] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[18:54:32] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:54:32] [INFO] [LastChance] Skipping player node: Player
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1606
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1609
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1612
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1619
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1622
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1643
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1661
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1664
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1668
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1673
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1677
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1682
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1694
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1702
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1713
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1796
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1802
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1808
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1829
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1843
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1904
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1907
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1911
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1915
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1921
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1930
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1969
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1972
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1976
[18:54:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1991
[18:54:32] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:54:32] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:54:32] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:54:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1994
[18:54:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1994
[18:54:32] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:32] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:32] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1995
[18:54:32] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1995
[18:54:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1477.545, 215.4532), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1579.567, 434.1452) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1566.195, 474.1291) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1585.648, 464.5304) (added to group)
[18:54:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2000
[18:54:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2000
[18:54:32] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:32] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:32] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2002
[18:54:32] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2002
[18:54:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1451.604, 200.1307), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:54:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1596.816, 434.7998) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1600.31, 455.9997) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1631.643, 446.6734) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1661.702, 526.0825) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1638.941, 523.1133) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1614.428, 510.2012) (added to group)
[18:54:32] [INFO] [BloodDecal] Blood puddle created at (1673.752, 561.9005) (added to group)
[18:54:33] [INFO] [ReplayManager] Recording frame 1320 (19,9s): player_valid=True, enemies=10
[18:54:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:33] [INFO] [LastChance] All process modes restored
[18:54:33] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:54:33] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:33] [ENEMY] [Enemy1] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:33] [ENEMY] [Enemy2] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:33] [ENEMY] [Enemy3] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:33] [ENEMY] [Enemy4] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:33] [ENEMY] [Enemy5] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:33] [ENEMY] [Enemy6] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:33] [ENEMY] [Enemy7] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:33] [ENEMY] [Enemy8] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:33] [ENEMY] [Enemy9] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:33] [ENEMY] [Enemy10] Death animation component initialized
[18:54:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:33] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:33] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:33] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:33] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:33] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:33] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:33] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:54:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:33] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:33] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:33] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:33] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:33] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:33] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:33] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:33] [INFO] [ReplayManager] Replay data cleared
[18:54:33] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:33] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:33] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:33] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:33] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:33] [INFO] [ReplayManager] Enemies count: 10
[18:54:33] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:33] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:33] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:33] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:33] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:33] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:33] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:33] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:33] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:33] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:33] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:33] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:33] [INFO] [CinemaEffects] Found player node: Player
[18:54:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[18:54:33] [ENEMY] [Enemy1] Registered as sound listener
[18:54:33] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[18:54:33] [ENEMY] [Enemy2] Registered as sound listener
[18:54:33] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[18:54:33] [ENEMY] [Enemy3] Registered as sound listener
[18:54:33] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[18:54:33] [ENEMY] [Enemy4] Registered as sound listener
[18:54:33] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[18:54:33] [ENEMY] [Enemy5] Registered as sound listener
[18:54:33] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[18:54:33] [ENEMY] [Enemy6] Registered as sound listener
[18:54:33] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[18:54:33] [ENEMY] [Enemy7] Registered as sound listener
[18:54:33] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:54:33] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[18:54:33] [ENEMY] [Enemy8] Registered as sound listener
[18:54:33] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[18:54:33] [ENEMY] [Enemy9] Registered as sound listener
[18:54:33] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:54:33] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[18:54:33] [ENEMY] [Enemy10] Registered as sound listener
[18:54:33] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:54:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:33] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:33] [INFO] [LastChance] Found player: Player
[18:54:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:33] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:34] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[18:54:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:54:34] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[18:54:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.9239, 792.5493), source=PLAYER (AssaultRifle), range=1469, listeners=16
[18:54:34] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[18:54:34] [ENEMY] [Enemy1] Heard gunshot at (450.9239, 792.5493), source_type=0, intensity=0.01, distance=468
[18:54:34] [ENEMY] [Enemy2] Heard gunshot at (450.9239, 792.5493), source_type=0, intensity=0.04, distance=248
[18:54:34] [ENEMY] [Enemy4] Heard gunshot at (450.9239, 792.5493), source_type=0, intensity=0.02, distance=365
[18:54:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:34] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.2°, current=168.8°, player=(450,792), corner_timer=0.00
[18:54:34] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.1°, current=-157.5°, player=(450,792), corner_timer=0.00
[18:54:34] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-162.9°, current=-101.3°, player=(450,792), corner_timer=0.00
[18:54:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:54:34] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(452,782), corner_timer=0.30
[18:54:34] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(452,782), corner_timer=0.30
[18:54:34] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:54:34] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:54:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:34] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:54:34] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=174.9°, current=180.0°, player=(455,774), corner_timer=0.00
[18:54:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.6498, 764.0121), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:34] [INFO] [LastChance] Threat detected: @Area2D@2266
[18:54:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:34] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:54:34] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:54:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:34] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:54:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.4208, 746.3696), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:54:35] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:54:35] [INFO] [ImpactEffects] spawn_blood_effect called at (681.6256, 756.9576), dir=(1, 0), lethal=false
[18:54:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:35] [INFO] [ImpactEffects] Blood effect spawned at (681.6256, 756.9576) (scale=1)
[18:54:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.8027, 760.157), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:35] [INFO] [LastChance] Threat detected: Bullet
[18:54:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.1818, 739.5743), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.5°, player=(508,739), corner_timer=-0.00
[18:54:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.2°, player=(508,739), corner_timer=-0.00
[18:54:35] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[18:54:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(511,739), corner_timer=0.30
[18:54:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=55.0°, player=(511,739), corner_timer=0.30
[18:54:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.057, 763.83997), shooter_id=695247833586, bullet_pos=(50.779892, 784.85236)
[18:54:35] [INFO] [Bullet] Using shooter_position, distance=566,6668
[18:54:35] [INFO] [Bullet] Distance to wall: 566,6668 (38,585384% of viewport)
[18:54:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:35] [INFO] [Bullet] Starting wall penetration at (50.779892, 784.85236)
[18:54:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.7455, 768.1553), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,54052
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (773.8048, 732.2024) (added to group)
[18:54:35] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:35] [INFO] [Bullet] Exiting penetration at (12.472919, 786.2738) after traveling 33,333332 pixels through wall
[18:54:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:35] [INFO] [LastChance] Threat detected: @Area2D@2277
[18:54:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:35] [INFO] [Player] Spawning blood effect at (524.475, 743.30164), dir=(1, 0), lethal=False (C#)
[18:54:35] [INFO] [ImpactEffects] spawn_blood_effect called at (524.475, 743.3016), dir=(1, 0), lethal=false
[18:54:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:35] [INFO] [ImpactEffects] Blood effect spawned at (524.475, 743.3016) (scale=1)
[18:54:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:54:35] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:54:35] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[18:54:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.688, 776.1537), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (740.9697, 789.9706) (added to group)
[18:54:35] [INFO] [LastChance] Threat detected: @Area2D@2283
[18:54:35] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:54:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.18182, 739.5743), shooter_id=698603277931, bullet_pos=(923.84827, 739.7276)
[18:54:35] [INFO] [Bullet] Using shooter_position, distance=418,66647
[18:54:35] [INFO] [Bullet] Distance to wall: 418,66647 (28,507772% of viewport)
[18:54:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:35] [INFO] [Bullet] Starting wall penetration at (923.84827, 739.7276)
[18:54:35] [INFO] [Player] Spawning blood effect at (540.3072, 752.2693), dir=(1, 0), lethal=False (C#)
[18:54:35] [INFO] [ImpactEffects] spawn_blood_effect called at (540.3072, 752.2693), dir=(1, 0), lethal=false
[18:54:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:35] [INFO] [ImpactEffects] Blood effect spawned at (540.3072, 752.2693) (scale=1)
[18:54:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:54:35] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:54:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:54:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,181581
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (747.0975, 761.5692) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (763.9771, 764.889) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (771.4604, 741.8246) (added to group)
[18:54:35] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:35] [INFO] [Bullet] Exiting penetration at (962.1816, 739.74164) after traveling 33,333336 pixels through wall
[18:54:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:35] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:54:35] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:54:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.6306, 784.152), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:54:35] [INFO] [LastChance] Threat detected: @Area2D@2301
[18:54:35] [INFO] [LastChance] Triggering last chance effect!
[18:54:35] [INFO] [LastChance] Starting last chance effect:
[18:54:35] [INFO] [LastChance]   - Time will be frozen (except player)
[18:54:35] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:54:35] [INFO] [LastChance]   - Trigger: threat detected
[18:54:35] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:54:35] [INFO] [LastChance]   - Brightness: 0.60
[18:54:35] [INFO] [LastChance] Pushed bullet @Area2D@2301 from distance 43.9 to 200.0
[18:54:35] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:54:35] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:54:35] [INFO] [LastChance] Skipping player node: Player
[18:54:35] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:54:35] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2265
[18:54:35] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2268
[18:54:35] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2271
[18:54:35] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2276
[18:54:35] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:54:35] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:54:35] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (802.8457, 821.0232) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (737.2709, 757.8757) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (801.1648, 806.0074) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (845.2362, 792.2403) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (790.3091, 783.7236) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (825.1323, 858.157) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (881.4623, 840.4551) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (784.9901, 820.3121) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (816.9253, 775.8064) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (823.6461, 762.0687) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (576.7514, 739.4379) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (756.6862, 798.3881) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (580.9597, 780.9355) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (777.9238, 811.9754) (added to group)
[18:54:35] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (795.5504, 772.2769) (added to group)
[18:54:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:35] [INFO] [LastChance] All process modes restored
[18:54:35] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:54:35] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:35] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:35] [ENEMY] [Enemy1] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:35] [ENEMY] [Enemy2] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:35] [ENEMY] [Enemy3] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:35] [ENEMY] [Enemy4] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:35] [ENEMY] [Enemy5] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:35] [ENEMY] [Enemy6] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:35] [ENEMY] [Enemy7] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:35] [ENEMY] [Enemy8] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:35] [ENEMY] [Enemy9] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:35] [ENEMY] [Enemy10] Death animation component initialized
[18:54:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:35] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:35] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:35] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:35] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:35] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:35] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:35] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:54:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:35] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:35] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:35] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:35] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:35] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:35] [INFO] [ReplayManager] Replay data cleared
[18:54:35] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:35] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:35] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:35] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:35] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:35] [INFO] [ReplayManager] Enemies count: 10
[18:54:35] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:35] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:35] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:35] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:35] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:35] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:35] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:35] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:35] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:35] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:35] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:35] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (619.503, 745.2269) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (634.7571, 740.3441) (added to group)
[18:54:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:35] [INFO] [CinemaEffects] Found player node: Player
[18:54:35] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:54:35] [ENEMY] [Enemy1] Registered as sound listener
[18:54:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:54:35] [ENEMY] [Enemy2] Registered as sound listener
[18:54:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:54:35] [ENEMY] [Enemy3] Registered as sound listener
[18:54:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:54:35] [ENEMY] [Enemy4] Registered as sound listener
[18:54:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:54:35] [ENEMY] [Enemy5] Registered as sound listener
[18:54:35] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:54:35] [ENEMY] [Enemy6] Registered as sound listener
[18:54:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:54:35] [ENEMY] [Enemy7] Registered as sound listener
[18:54:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:54:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:54:35] [ENEMY] [Enemy8] Registered as sound listener
[18:54:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:54:35] [ENEMY] [Enemy9] Registered as sound listener
[18:54:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:54:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:54:35] [ENEMY] [Enemy10] Registered as sound listener
[18:54:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:54:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:35] [INFO] [LastChance] Found player: Player
[18:54:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:35] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (833.6375, 862.5225) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (868.463, 778.8634) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (596.7522, 763.3574) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (660.0536, 795.6509) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (632.5657, 760.2353) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (651.3065, 780.5309) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (596.1459, 778.8063) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (625.787, 775.1398) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (631.6566, 768.0097) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (796.142, 817.4626) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (707.5305, 789.9219) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (680.1559, 899.132) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (617.786, 780.7815) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (691.5364, 797.962) (added to group)
[18:54:35] [INFO] [BloodDecal] Blood puddle created at (641.4044, 836.7861) (added to group)
[18:54:36] [INFO] [BloodDecal] Blood puddle created at (643.3726, 868.9977) (added to group)
[18:54:36] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:37] [ENEMY] [Enemy3] Status: BLINDED applied
[18:54:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:37] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:54:37] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:54:37] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:54:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.6408, 738.1435), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:54:37] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:54:37] [ENEMY] [Enemy1] Heard gunshot at (451.6408, 738.1435), source_type=0, intensity=0.01, distance=417
[18:54:37] [ENEMY] [Enemy2] Heard gunshot at (451.6408, 738.1435), source_type=0, intensity=0.07, distance=195
[18:54:37] [ENEMY] [Enemy3] Heard gunshot at (451.6408, 738.1435), source_type=0, intensity=0.04, distance=249
[18:54:37] [ENEMY] [Enemy4] Heard gunshot at (451.6408, 738.1435), source_type=0, intensity=0.02, distance=384
[18:54:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:37] [ENEMY] [Enemy3] Status: BLINDED removed
[18:54:37] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=68.7°, current=168.8°, player=(451,738), corner_timer=0.00
[18:54:37] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.7°, current=-101.3°, player=(451,738), corner_timer=0.00
[18:54:37] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-177.3°, current=-78.7°, player=(451,738), corner_timer=0.00
[18:54:37] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-155.1°, current=168.8°, player=(451,738), corner_timer=0.00
[18:54:37] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-175.2°, current=-135.1°, player=(455,729), corner_timer=0.00
[18:54:37] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:54:37] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:54:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:37] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:54:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.6191, 728.2696), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:37] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-174.8°, current=125.4°, player=(466,728), corner_timer=0.00
[18:54:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(469,729), corner_timer=-0.01
[18:54:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.3°, player=(469,729), corner_timer=-0.01
[18:54:37] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:54:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(471,730), corner_timer=0.30
[18:54:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(471,730), corner_timer=0.30
[18:54:37] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:54:37] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:54:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:37] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:54:37] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-175.5°, current=180.0°, player=(476,732), corner_timer=0.00
[18:54:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:37] [INFO] [LastChance] Threat detected: Bullet
[18:54:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.1297, 737.1664), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:37] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:54:37] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:54:37] [INFO] [Player] Spawning blood effect at (492.56836, 743.83905), dir=(1, 0), lethal=False (C#)
[18:54:37] [INFO] [ImpactEffects] spawn_blood_effect called at (492.5684, 743.8391), dir=(1, 0), lethal=false
[18:54:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:37] [INFO] [ImpactEffects] Blood effect spawned at (492.5684, 743.8391) (scale=1)
[18:54:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:54:37] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:54:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:54:37] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:54:37] [INFO] [ImpactEffects] spawn_blood_effect called at (696.6978, 752.7018), dir=(1, 0), lethal=true
[18:54:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:37] [INFO] [ImpactEffects] Blood effect spawned at (696.6978, 752.7018) (scale=1.5)
[18:54:37] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:54:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:54:37] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:54:37] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:54:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:37] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:54:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(507.8417, 758.554), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (785.0249, 799.8762) (added to group)
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (774.4058, 753.1345) (added to group)
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (744.5123, 772.154) (added to group)
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (755.639, 769.1043) (added to group)
[18:54:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(538,789), corner_timer=-0.01
[18:54:37] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (792.4236, 801.9623) (added to group)
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (762.9435, 785.6298) (added to group)
[18:54:37] [INFO] [BloodDecal] Blood puddle created at (750.3315, 777.5809) (added to group)
[18:54:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(507.8417, 758.554), shooter_id=766249010944, bullet_pos=(925.474, 787.9616)
[18:54:37] [INFO] [Bullet] Using shooter_position, distance=418,66638
[18:54:37] [INFO] [Bullet] Distance to wall: 418,66638 (28,507767% of viewport)
[18:54:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:37] [INFO] [Bullet] Starting wall penetration at (925.474, 787.9616)
[18:54:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.5°, player=(542,792), corner_timer=0.30
[18:54:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,781263
[18:54:38] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:38] [INFO] [Bullet] Exiting penetration at (963.71265, 790.6542) after traveling 33,333336 pixels through wall
[18:54:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (801.6844, 745.6728) (added to group)
[18:54:38] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:54:38] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:54:38] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (758.2184, 746.0917) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (554.8087, 767.0141) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (541.675, 776.8724) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (736.375, 766.0126) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (757.7526, 790.8759) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (573.3792, 737.9315) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (581.8825, 781.1369) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (746.4473, 772.3746) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (761.3287, 762.4297) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (788.8419, 769.3574) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (798.9224, 779.117) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (775.5634, 771.1429) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (793.2833, 766.738) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (835.3141, 744.6036) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (575.8198, 749.4968) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (793.8176, 789.0442) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (781.6329, 786.6432) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (875.9692, 863.0085) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (764.9564, 796.0048) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (793.7339, 812.4055) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (562.9259, 782.6505) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (648.444, 821.3135) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (833.7739, 784.7953) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (798.6327, 784.5584) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (868.1504, 857.7263) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (567.4782, 809.0602) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (831.1927, 776.7474) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (768.6248, 770.2487) (added to group)
[18:54:38] [ENEMY] [Enemy3] Ragdoll activated
[18:54:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (801.1552, 797.0138) (added to group)
[18:54:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(574,880), corner_timer=-0.01
[18:54:38] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:54:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(574,884), corner_timer=0.30
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (866.9387, 851.8658) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (877.3646, 764.5376) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (853.7157, 815.5833) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (838.8351, 871.5728) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (829.0377, 852.5363) (added to group)
[18:54:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.4172, 920.1779), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (802.9218, 788.9833) (added to group)
[18:54:38] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[18:54:38] [INFO] [ImpactEffects] spawn_blood_effect called at (726.4261, 914.0654), dir=(1, 0), lethal=false
[18:54:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:38] [INFO] [ImpactEffects] Blood effect spawned at (726.4261, 914.0654) (scale=1)
[18:54:38] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.8°, current=180.0°, player=(574,933), corner_timer=0.00
[18:54:38] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (617.0673, 865.7635) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (637.0222, 889.1684) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (811.6221, 822.0087) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (801.5397, 814.7552) (added to group)
[18:54:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.4172, 955.3781), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:54:38] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/3->1/3
[18:54:38] [INFO] [ImpactEffects] spawn_blood_effect called at (726.4261, 914.0654), dir=(1, 0), lethal=false
[18:54:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:38] [INFO] [ImpactEffects] Blood effect spawned at (726.4261, 914.0654) (scale=1)
[18:54:38] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:54:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:54:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(579,983), corner_timer=-0.01
[18:54:38] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:54:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.9569, 983.933), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:54:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(580,983), corner_timer=0.30
[18:54:38] [ENEMY] [Enemy4] Status: BLINDED applied
[18:54:38] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/3->0/3
[18:54:38] [INFO] [ImpactEffects] spawn_blood_effect called at (732.7157, 919.8418), dir=(1, 0), lethal=true
[18:54:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:38] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:38] [INFO] [ImpactEffects] Blood effect spawned at (732.7157, 919.8418) (scale=1.5)
[18:54:38] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:54:38] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:54:38] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[18:54:38] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[18:54:38] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:38] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[18:54:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.4729, 983.933), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (796.1455, 954.785) (added to group)
[18:54:38] [INFO] [BloodDecal] Blood puddle created at (834.5691, 947.9417) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (824.6281, 989.4165) (added to group)
[18:54:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.52, 983.933), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (811.6497, 970.9701) (added to group)
[18:54:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(599.4729, 983.933), shooter_id=766249010944, bullet_pos=(921.3363, 841.42645)
[18:54:39] [INFO] [Bullet] Using shooter_position, distance=352,0002
[18:54:39] [INFO] [Bullet] Distance to wall: 352,0002 (23,968342% of viewport)
[18:54:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:39] [ENEMY] [Enemy4] Status: BLINDED removed
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (827.5265, 957.7247) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (802.9663, 959.9709) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (827.0483, 984.5166) (added to group)
[18:54:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(661,983), corner_timer=-0.01
[18:54:39] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (832.8776, 972.8921) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (857.4011, 957.6309) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (823.3233, 946.5724) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (811.3438, 971.5143) (added to group)
[18:54:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(666,983), corner_timer=0.30
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (843.9041, 973.6238) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (826.5648, 900.6584) (added to group)
[18:54:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.51996, 983.933), shooter_id=766249010944, bullet_pos=(921.01355, 842.36395)
[18:54:39] [INFO] [Bullet] Using shooter_position, distance=318,66656
[18:54:39] [INFO] [Bullet] Distance to wall: 318,66656 (21,698593% of viewport)
[18:54:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (799.543, 949.0669) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (802.8047, 926.0575) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (784.5773, 939.1511) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (806.1381, 958.4382) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (872.922, 975.4922) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (857.1885, 968.2195) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (825.6185, 949.1993) (added to group)
[18:54:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=55.2°, current=55.6°, player=(701,983), corner_timer=0.00
[18:54:39] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (857.3799, 999.4831) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (798.6816, 924.444) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (852.0519, 958.1856) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (909.1545, 983.4732) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (859.6389, 970.0383) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (829.804, 992.5155) (added to group)
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (813.2725, 936.0639) (added to group)
[18:54:39] [ENEMY] [Enemy4] Ragdoll activated
[18:54:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (826.1024, 983.6298) (added to group)
[18:54:39] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:54:39] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (825.335, 963.4895) (added to group)
[18:54:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(760,965), corner_timer=-0.01
[18:54:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:39] [ENEMY] [Enemy3] Death animation completed
[18:54:39] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.6°, current=48.6°, player=(763,963), corner_timer=0.00
[18:54:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(763,963), corner_timer=0.30
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (905.6382, 983.8294) (added to group)
[18:54:39] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:54:39] [INFO] [BloodDecal] Blood puddle created at (844.641, 992.8699) (added to group)
[18:54:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.1°, player=(816,910), corner_timer=-0.01
[18:54:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:54:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.4°, player=(818,907), corner_timer=0.30
[18:54:39] [ENEMY] [Enemy1] PURSUING corner check: angle -134.7°
[18:54:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:40] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=36.0°, current=36.0°, player=(834,874), corner_timer=0.00
[18:54:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.7°, current=175.8°, player=(836,813), corner_timer=-0.01
[18:54:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:54:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=178.1°, player=(836,808), corner_timer=0.30
[18:54:40] [ENEMY] [Enemy1] PURSUING corner check: angle -89.7°
[18:54:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(836.2108, 782.3464), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.4362, 672.8156), source=ENEMY (Enemy2), range=1469, listeners=8
[18:54:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[18:54:40] [ENEMY] [Enemy2] Status: BLINDED applied
[18:54:40] [INFO] [LastChance] Threat detected: @Area2D@2746
[18:54:40] [INFO] [LastChance] Triggering last chance effect!
[18:54:40] [INFO] [LastChance] Starting last chance effect:
[18:54:40] [INFO] [LastChance]   - Time will be frozen (except player)
[18:54:40] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:54:40] [INFO] [LastChance]   - Trigger: threat detected
[18:54:40] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:54:40] [INFO] [LastChance]   - Brightness: 0.60
[18:54:40] [INFO] [LastChance] Pushed bullet Bullet from distance 147.1 to 200.0
[18:54:40] [INFO] [LastChance] Pushed bullet @Area2D@2746 from distance 133.6 to 200.0
[18:54:40] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[18:54:40] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:54:40] [INFO] [LastChance] Skipping player node: Player
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2591
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2594
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2597
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2601
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2655
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2663
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2666
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2670
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2694
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2745
[18:54:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2748
[18:54:40] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:54:40] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:54:40] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:54:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2749
[18:54:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2749
[18:54:40] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2751
[18:54:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2751
[18:54:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(836.2108, 747.1462), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2753
[18:54:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2753
[18:54:40] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2755
[18:54:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2755
[18:54:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(836.2108, 711.946), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:40] [ENEMY] [Enemy2] Status: BLINDED removed
[18:54:40] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[18:54:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2757
[18:54:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2757
[18:54:40] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2759
[18:54:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2759
[18:54:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(836.2108, 676.7458), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2761
[18:54:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2761
[18:54:40] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2763
[18:54:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2763
[18:54:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(836.2108, 641.5457), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2766
[18:54:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2766
[18:54:41] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:41] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2767
[18:54:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2767
[18:54:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(835.0282, 606.8354), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:54:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2769
[18:54:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2769
[18:54:41] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:41] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2771
[18:54:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2771
[18:54:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(824.4294, 578.2238), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:54:41] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[18:54:41] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:54:42] [INFO] [ReplayManager] Recording frame 420 (6,2s): player_valid=True, enemies=10
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2777
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2777
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2778
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2778
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.9161, 460.1083), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2779
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2779
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2781
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2781
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.3176, 429.6447), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2782
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2782
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2784
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2784
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.5413, 402.421), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2785
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2785
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2787
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2787
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.765, 375.1973), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2788
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2788
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2789
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2789
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 347.9737), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:54:43] [INFO] [ReplayManager] Recording frame 480 (7,2s): player_valid=True, enemies=10
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2790
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2790
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2792
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2792
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 320.7502), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2793
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2793
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2795
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2795
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 286.9714), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[18:54:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2796
[18:54:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2796
[18:54:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:54:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2798
[18:54:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2798
[18:54:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.935, 248.4714), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:54:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=2
[18:54:44] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:54:44] [ENEMY] [Enemy1] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy2] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy5] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy6] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy7] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy8] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy9] Player reloading: false -> true
[18:54:44] [ENEMY] [Enemy10] Player reloading: false -> true
[18:54:44] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(483.9254, 220.9714), source=PLAYER (Player), range=900, listeners=8
[18:54:44] [ENEMY] [Enemy1] Heard player RELOAD at (483.9254, 220.9714), intensity=0.06, distance=203
[18:54:44] [ENEMY] [Enemy2] Heard player RELOAD at (483.9254, 220.9714), intensity=0.01, distance=471
[18:54:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=0
[18:54:44] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.1784563, 2.0312831), target=(4, 2), base=(24, 6)
[18:54:44] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0220404, 6), target=(-2, 6), base=(-2, 6)
[18:54:44] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:54:44] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[18:54:44] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:54:44] [ENEMY] [Enemy1] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy2] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy5] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy6] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy7] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy8] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy9] Player reloading: true -> false
[18:54:44] [ENEMY] [Enemy10] Player reloading: true -> false
[18:54:44] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:54:44] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:54:44] [INFO] [ReplayManager] Recording frame 540 (8,2s): player_valid=True, enemies=10
[18:54:45] [INFO] [ReplayManager] Recording frame 600 (9,2s): player_valid=True, enemies=10
[18:54:46] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[18:54:46] [INFO] [LastChance] Ending last chance effect
[18:54:46] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[18:54:46] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (760.0916, 965.9974)
[18:54:46] [ENEMY] [Enemy1] SEARCHING started: center=(760.0916, 965.9974), radius=100, waypoints=5
[18:54:46] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[18:54:46] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (836.2108, 773.5464)
[18:54:46] [ENEMY] [Enemy2] SEARCHING started: center=(836.2108, 773.5464), radius=100, waypoints=5
[18:54:46] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[18:54:46] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[18:54:46] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[18:54:46] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[18:54:46] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[18:54:46] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[18:54:46] [INFO] [LastChance] Reset memory for 8 enemies (player teleport effect)
[18:54:46] [INFO] [LastChance] All process modes restored
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2749
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2753
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2757
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2761
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2766
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2769
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2777
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2779
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2782
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2785
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2788
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2790
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2793
[18:54:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@2796
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: Casing
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2591
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2594
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2597
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2601
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2655
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2663
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2666
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2670
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2694
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2745
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2748
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2751
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2755
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2759
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2763
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2767
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2771
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2778
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2781
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2784
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2787
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2789
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2792
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2795
[18:54:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2798
[18:54:46] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[18:54:46] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-58.0°, current=21.1°, player=(972,80), corner_timer=0.00
[18:54:46] [ENEMY] [Enemy2] SEARCHING corner check: angle -68.0°
[18:54:46] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (603.9872, 679.7162), dir=(1, 0), lethal=false
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (603.9872, 679.7162) (scale=1)
[18:54:46] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (370.6469, 392.5704), dir=(1, 0), lethal=false
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (370.6469, 392.5704) (scale=1)
[18:54:46] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/4->2/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (370.6469, 392.5704), dir=(1, 0), lethal=false
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (370.6469, 392.5704) (scale=1)
[18:54:46] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/4->1/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (370.6469, 392.5704), dir=(1, 0), lethal=false
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (370.6469, 392.5704) (scale=1)
[18:54:46] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/4->0/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (372.7737, 397.2424), dir=(1, 0), lethal=true
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (372.7737, 397.2424) (scale=1.5)
[18:54:46] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:54:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:54:46] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[18:54:46] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[18:54:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:46] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 347.97366), shooter_id=766249010944, bullet_pos=(334.4708, 426.13324)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=168,6667
[18:54:46] [INFO] [Bullet] Distance to wall: 168,6667 (11,484826% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (616.3619, 684.7162), dir=(1, 0), lethal=false
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (616.3619, 684.7162) (scale=1)
[18:54:46] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (620.1696, 686.2547), dir=(1, 0), lethal=false
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (620.1696, 686.2547) (scale=1)
[18:54:46] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[18:54:46] [INFO] [ImpactEffects] spawn_blood_effect called at (620.1696, 686.2547), dir=(1, 0), lethal=true
[18:54:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:46] [INFO] [ImpactEffects] Blood effect spawned at (620.1696, 686.2547) (scale=1.5)
[18:54:46] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:54:46] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:54:46] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[18:54:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:46] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 286.97144), shooter_id=766249010944, bullet_pos=(261.2285, 437.24985)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=268,6667
[18:54:46] [INFO] [Bullet] Distance to wall: 268,6667 (18,29401% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 248.47144), shooter_id=766249010944, bullet_pos=(245.18208, 433.4068)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=302,00006
[18:54:46] [INFO] [Bullet] Distance to wall: 302,00006 (20,56374% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(646.26746, 707.2395), shooter_id=762541247102, bullet_pos=(932.5377, 845.5285)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=317,92218
[18:54:46] [INFO] [Bullet] Distance to wall: 317,92218 (21,647907% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] Starting wall penetration at (932.5377, 845.5285)
[18:54:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,54495
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(407.91608, 460.10834), shooter_id=766249010944, bullet_pos=(425.66608, 58.5004)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=402
[18:54:46] [INFO] [Bullet] Distance to wall: 402 (27,372921% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] Starting wall penetration at (425.66608, 58.5004)
[18:54:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:46] [INFO] [Bullet] Exiting penetration at (967.5713, 861.0878) after traveling 33,333336 pixels through wall
[18:54:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,807064
[18:54:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:46] [INFO] [Bullet] Exiting penetration at (427.35864, 20.204453) after traveling 33,333332 pixels through wall
[18:54:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(835.0282, 606.8354), shooter_id=766249010944, bullet_pos=(373.4914, 688.27325)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=468,66656
[18:54:46] [INFO] [Bullet] Distance to wall: 468,66656 (31,912369% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 347.97366), shooter_id=766249010944, bullet_pos=(42.844296, 302.71625)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=443,40637
[18:54:46] [INFO] [Bullet] Distance to wall: 443,40637 (30,192358% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=124.0°, player=(972,80), corner_timer=-0.01
[18:54:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:54:46] [INFO] [ReplayManager] Recording frame 660 (10,1s): player_valid=True, enemies=10
[18:54:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=126.3°, player=(972,80), corner_timer=0.30
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 248.47144), shooter_id=766249010944, bullet_pos=(50.512394, 261.05923)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=433,60532
[18:54:46] [INFO] [Bullet] Distance to wall: 433,60532 (29,524984% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 286.97144), shooter_id=766249010944, bullet_pos=(52.372955, 238.46487)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=434,27948
[18:54:46] [INFO] [Bullet] Distance to wall: 434,27948 (29,570889% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (405.8372, 391.0124) (added to group)
[18:54:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (418.7323, 430.4119) (added to group)
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(836.21075, 641.54565), shooter_id=766249010944, bullet_pos=(67.59723, 650.5999)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=768,6669
[18:54:46] [INFO] [Bullet] Distance to wall: 768,6669 (52,339943% of viewport)
[18:54:46] [INFO] [Bullet] Distance-based penetration chance: 85,6034%
[18:54:46] [INFO] [Bullet] Starting wall penetration at (67.59723, 650.5999)
[18:54:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,7336373
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (658.3696, 673.9672) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (655.5197, 687.3934) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (423.2454, 429.8854) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (429.7911, 421.0494) (added to group)
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 347.97366), shooter_id=766249010944, bullet_pos=(229.16547, 236.71219)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=278,0047
[18:54:46] [INFO] [Bullet] Distance to wall: 278,0047 (18,929852% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(836.21075, 676.74585), shooter_id=766249010944, bullet_pos=(44.02822, 551.6409)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=802,00024
[18:54:46] [INFO] [Bullet] Distance to wall: 802,00024 (54,609673% of viewport)
[18:54:46] [INFO] [Bullet] Distance-based penetration chance: 82,95538%
[18:54:46] [INFO] [Bullet] Starting wall penetration at (44.02822, 551.6409)
[18:54:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,156052
[18:54:46] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[18:54:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:46] [INFO] [Bullet] Exiting penetration at (-4.064472, 651.4441) after traveling 66,66667 pixels through wall
[18:54:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (416.4542, 427.6885) (added to group)
[18:54:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:46] [INFO] [Bullet] Exiting penetration at (6.1641426, 545.66125) after traveling 33,333336 pixels through wall
[18:54:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(835.0282, 606.8354), shooter_id=766249010944, bullet_pos=(56.82678, 687.132)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=782,33307
[18:54:46] [INFO] [Bullet] Distance to wall: 782,33307 (53,2705% of viewport)
[18:54:46] [INFO] [Bullet] Distance-based penetration chance: 84,51775%
[18:54:46] [INFO] [Bullet] Starting wall penetration at (56.82678, 687.132)
[18:54:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,506392
[18:54:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:46] [INFO] [Bullet] Exiting penetration at (23.493664, 687.0119) after traveling 28,333334 pixels through wall
[18:54:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:54:46] [INFO] [LastChance] Visual effects fade-out complete
[18:54:46] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:54:46] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (422.4825, 415.123) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (451.3477, 427.4161) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (476.585, 419.0412) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (475.2451, 405.8137) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (694.3099, 730.5602) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (441.8848, 406.1104) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (694.215, 737.456) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (694.4656, 671.7245) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (457.0498, 381.4849) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (680.6133, 695.0869) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (715.6742, 692.914) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (712.3112, 704.2369) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (677.7319, 681.6218) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (666.7964, 687.7917) (added to group)
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 248.47144), shooter_id=766249010944, bullet_pos=(259.90063, 54.679543)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=296,22067
[18:54:46] [INFO] [Bullet] Distance to wall: 296,22067 (20,17021% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 286.97144), shooter_id=766249010944, bullet_pos=(287.62744, 62.137554)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=298,47433
[18:54:46] [INFO] [Bullet] Distance to wall: 298,47433 (20,323668% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (657.4966, 736.7272) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (693.0994, 678.4843) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (481.6097, 445.8482) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (664.9307, 726.2873) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (485.1297, 450.364) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (490.4131, 412.7959) (added to group)
[18:54:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 347.97366), shooter_id=766249010944, bullet_pos=(52.360016, 169.25354)
[18:54:46] [INFO] [Bullet] Using shooter_position, distance=467,1165
[18:54:46] [INFO] [Bullet] Distance to wall: 467,1165 (31,80682% of viewport)
[18:54:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:46] [INFO] [Bullet] Starting wall penetration at (52.360016, 169.25354)
[18:54:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,679211
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (691.3809, 683.2975) (added to group)
[18:54:46] [INFO] [BloodDecal] Blood puddle created at (732.1175, 681.09) (added to group)
[18:54:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,150047
[18:54:47] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:47] [INFO] [Bullet] Exiting penetration at (9.436504, 152.87643) after traveling 40,94167 pixels through wall
[18:54:47] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (704.9581, 684.7557) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (736.3879, 698.362) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (471.3939, 462.5531) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (688.9716, 745.7985) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (462.599, 406.7366) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (498.5471, 466.6259) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (470.2633, 473.0516) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (473.1584, 391.3445) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (748.261, 761.9401) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (704.7683, 758.9999) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (730.3708, 774.1496) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (704.3923, 757.6085) (added to group)
[18:54:47] [ENEMY] [Enemy1] Ragdoll activated
[18:54:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (739.1502, 699.7625) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (693.4063, 691.2432) (added to group)
[18:54:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(992,80), corner_timer=-0.01
[18:54:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (726.9536, 742.8907) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (465.9508, 403.3481) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (742.2018, 748.2072) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (749.5772, 679.1347) (added to group)
[18:54:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(995,80), corner_timer=0.30
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (490.6037, 469.0982) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (734.8437, 788.375) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (732.1875, 729.6872) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (694.6382, 706.083) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (700.39, 704.3354) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (687.968, 712.4628) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (775.1409, 744.092) (added to group)
[18:54:47] [ENEMY] [Enemy2] Ragdoll activated
[18:54:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (472.4732, 474.5613) (added to group)
[18:54:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.93497, 248.47144), shooter_id=766249010944, bullet_pos=(497.492, 223.72372)
[18:54:47] [INFO] [Bullet] Using shooter_position, distance=28,21777
[18:54:47] [INFO] [Bullet] Distance to wall: 28,21777 (1,9213998% of viewport)
[18:54:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:54:47] [INFO] [Bullet] Starting wall penetration at (497.492, 223.72372)
[18:54:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:47] [INFO] [Bullet] Exiting penetration at (518.24585, 238.48991) after traveling 20,470833 pixels through wall
[18:54:47] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (733.5827, 702.5385) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (794.2051, 736.3693) (added to group)
[18:54:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (703.965, 725.1084) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (469.1502, 495.985) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (473.9546, 438.775) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (463.2174, 495.7781) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (795.9813, 777.6119) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (781.5692, 776.3371) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (718.5728, 754.9475) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (717.1154, 759.0593) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (718.0633, 782.6965) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (499.8454, 435.1862) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (787.0337, 730.822) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (809.2252, 675.3809) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (763.7614, 792.0713) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (795.694, 713.4107) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (479.1378, 482.6035) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (818.6939, 709.5523) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (792.0651, 741.8845) (added to group)
[18:54:47] [INFO] [BloodDecal] Blood puddle created at (762.0244, 802.0518) (added to group)
[18:54:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1069,124), corner_timer=-0.01
[18:54:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1072,127), corner_timer=0.30
[18:54:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:47] [INFO] [ReplayManager] Recording frame 720 (10,9s): player_valid=True, enemies=10
[18:54:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(1144,197), corner_timer=-0.01
[18:54:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(1147,199), corner_timer=0.30
[18:54:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(1228,249), corner_timer=-0.01
[18:54:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1231,252), corner_timer=0.30
[18:54:48] [ENEMY] [Enemy1] Death animation completed
[18:54:48] [ENEMY] [Enemy2] Death animation completed
[18:54:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(1305,288), corner_timer=-0.01
[18:54:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:48] [INFO] [ReplayManager] Recording frame 780 (11,7s): player_valid=True, enemies=10
[18:54:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1307,289), corner_timer=0.30
[18:54:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:54:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[18:54:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[18:54:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:54:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1787.1896, 543.67365)
[18:54:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:48] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:54:48] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[18:54:48] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:54:48] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:54:48] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[18:54:48] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:54:48] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:54:48] [INFO] [Player.Grenade] Timer started, grenade created at (1316.042, 291.6449)
[18:54:48] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[18:54:48] [INFO] [Player.Grenade] Step 1 complete! Drag: (136.13953, 6.679077)
[18:54:48] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[18:54:48] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[18:54:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(1316,291), corner_timer=-0.01
[18:54:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1316,291), corner_timer=0.30
[18:54:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(1316,246), corner_timer=-0.01
[18:54:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:54:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1316,242), corner_timer=0.30
[18:54:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:49] [INFO] [ReplayManager] Recording frame 840 (12,5s): player_valid=True, enemies=10
[18:54:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(1368,164), corner_timer=-0.01
[18:54:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1372,160), corner_timer=0.30
[18:54:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:50] [INFO] [Player.Grenade.Simple] Throwing! Target: (2032.1158, 475.54752), Distance: 744,0, Speed: 645,5, Friction: 280,0
[18:54:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,5504526
[18:54:50] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:54:50] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.8522879, 0.523073), speed=645,5, spawn=(1485.5046, 140.07683)
[18:54:50] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.852288, 0.523073), Speed: 645.5 (clamped from 645.5, max: 1186.5)
[18:54:50] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[18:54:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[18:54:50] [INFO] [Player.Grenade.Simple] Grenade thrown!
[18:54:50] [INFO] [Player.Grenade] State reset to IDLE
[18:54:50] [INFO] [Player.Grenade] State reset to IDLE
[18:54:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[18:54:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1441,103), corner_timer=-0.02
[18:54:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:54:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(1443,101), corner_timer=0.30
[18:54:50] [INFO] [Player.Grenade] Player rotation restored to 0
[18:54:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:50] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[18:54:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1445,123), corner_timer=-0.02
[18:54:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1444,127), corner_timer=0.30
[18:54:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:50] [INFO] [ReplayManager] Recording frame 900 (13,5s): player_valid=True, enemies=10
[18:54:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1437,223), corner_timer=-0.02
[18:54:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1436,228), corner_timer=0.30
[18:54:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1420,326), corner_timer=-0.02
[18:54:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1420,332), corner_timer=0.30
[18:54:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:51] [ENEMY] [Enemy5] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[18:54:51] [ENEMY] [Enemy5] EVADING_GRENADE started: escaping to (1518.077, 324.7833)
[18:54:51] [ENEMY] [Enemy5] Status: BLINDED applied
[18:54:51] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-179.4°, current=26.4°, player=(1420,387), corner_timer=0.00
[18:54:51] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[18:54:51] [INFO] [GrenadeTimer] EXPLODED at (1857.9327, 368.64658)!
[18:54:51] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:54:51] [ENEMY] [Enemy5] Hit: dmg=1, hp=3/3->2/3
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1678.668, 349.7682), dir=(-0.994501, -0.104731), lethal=false
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1678.668, 349.7682) (scale=1)
[18:54:51] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/3->1/3
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1678.668, 349.7682), dir=(-0.994501, -0.104731), lethal=false
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1678.668, 349.7682) (scale=1)
[18:54:51] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/3->0/3
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1678.668, 349.7682), dir=(-0.994501, -0.104731), lethal=true
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1678.668, 349.7682) (scale=1.5)
[18:54:51] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:54:51] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:54:51] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[18:54:51] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[18:54:51] [INFO] [DeathAnim] Started - Angle: -174.0 deg, Index: 0
[18:54:51] [ENEMY] [Enemy5] Death animation started with hit direction: (-0.994501, -0.104731)
[18:54:51] [INFO] [GrenadeTimer] Damaged enemy at distance 180,3
[18:54:51] [ENEMY] [Enemy6] Hit: dmg=1, hp=4/4->3/4
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.749363, 0.66216), lethal=false
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[18:54:51] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/4->2/4
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.749363, 0.66216), lethal=false
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[18:54:51] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/4->1/4
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.749363, 0.66216), lethal=false
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[18:54:51] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/4->0/4
[18:54:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.749363, 0.66216), lethal=true
[18:54:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:51] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1.5)
[18:54:51] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:54:51] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[18:54:51] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[18:54:51] [INFO] [DeathAnim] Started - Angle: 41.5 deg, Index: 14
[18:54:51] [ENEMY] [Enemy6] Death animation started with hit direction: (0.749363, 0.66216)
[18:54:51] [INFO] [GrenadeTimer] Damaged enemy at distance 122,9
[18:54:51] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:54:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1857.933, 368.6466), source=NEUTRAL (FragGrenade), range=2938, listeners=4
[18:54:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[18:54:51] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1857.9327, 368.64658) (shadow-based wall occlusion)
[18:54:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1420,436), corner_timer=-0.02
[18:54:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:54:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1420,442), corner_timer=0.30
[18:54:51] [ENEMY] [Enemy5] Status: BLINDED removed
[18:54:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1420.923, 458.6909), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:51] [ENEMY] [Enemy7] Heard gunshot at (1420.923, 458.6909), source_type=0, intensity=0.01, distance=480
[18:54:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-113.4°, current=89.4°, player=(1420,458), corner_timer=0.25
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1616.434, 344.8193) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1978.171, 491.7502) (added to group)
[18:54:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1628.001, 367.5668) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1601.297, 344.7425) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1979.426, 519.8809) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1634.083, 344.4479) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1995.742, 543.9142) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1980.233, 513.5575) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1605.386, 384.8719) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1610.903, 392.2903) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1602.058, 345.5648) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1979.598, 535.0151) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1982.797, 526.1721) (added to group)
[18:54:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1420.923, 497.1909), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1609.763, 391.0206) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1982.507, 535.3605) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2017.27, 510.9979) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2002.243, 526.28) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1608.566, 332.4413) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1995.41, 564.1064) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2046.846, 555.7227) (added to group)
[18:54:51] [INFO] [ReplayManager] Recording frame 960 (14,5s): player_valid=True, enemies=10
[18:54:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1420.9227, 458.69092), shooter_id=766249010944, bullet_pos=(1857.093, 287.2135)
[18:54:51] [INFO] [Bullet] Using shooter_position, distance=468,66727
[18:54:51] [INFO] [Bullet] Distance to wall: 468,66727 (31,912416% of viewport)
[18:54:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1617.868, 404.8839) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1554.289, 410.0266) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1613.037, 395.9835) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1972.705, 543.4554) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1558.333, 354.6844) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1588.71, 399.363) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1545.592, 376.4428) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2005.557, 553.3109) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2076.016, 539.0899) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2014.379, 550.5579) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2044.327, 529.2736) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2013.302, 532.5846) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2041.571, 538.8835) (added to group)
[18:54:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1420.923, 535.6909), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2009.941, 543.0916) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1549.683, 372.3416) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1604.298, 353.4789) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2051.771, 606.9471) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2059.323, 621.2076) (added to group)
[18:54:51] [ENEMY] [Enemy5] Ragdoll activated
[18:54:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:51] [ENEMY] [Enemy6] Ragdoll activated
[18:54:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1577.313, 404.4799) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2068.591, 582.1705) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2026.184, 536.4384) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2052.931, 565.2071) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2030.259, 603.1254) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2045.75, 565.2573) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2079.741, 547.6818) (added to group)
[18:54:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1420.9227, 497.19092), shooter_id=766249010944, bullet_pos=(1839.146, 285.6789)
[18:54:51] [INFO] [Bullet] Using shooter_position, distance=468,66623
[18:54:51] [INFO] [Bullet] Distance to wall: 468,66623 (31,912348% of viewport)
[18:54:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:51] [INFO] [Bullet] Starting wall penetration at (1839.146, 285.6789)
[18:54:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,220215
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2001.88, 610.0752) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2003.396, 597.6058) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2061.878, 597.4796) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2010.379, 623.1196) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2014.94, 609.371) (added to group)
[18:54:51] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:51] [INFO] [Bullet] Exiting penetration at (1880.7898, 264.61795) after traveling 41,666668 pixels through wall
[18:54:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1531.691, 373.2422) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1538.645, 376.5343) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2073.713, 649.2433) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2033.557, 643.1596) (added to group)
[18:54:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1420.923, 573.9131), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1509.494, 468.7198) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1557.333, 413.4498) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1592.783, 450.0577) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2004.713, 659.0703) (added to group)
[18:54:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1575.895, 420.9314) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1494.208, 375.903) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2137.559, 587.0063) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2109.845, 677.6884) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1546.094, 396.1808) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1551.85, 429.0887) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1485.558, 421.9772) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (1558.855, 404.6263) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2120.664, 624.4492) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2083.276, 608.329) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2117.626, 590.0004) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2028.08, 692.8121) (added to group)
[18:54:51] [INFO] [BloodDecal] Blood puddle created at (2039.788, 643.9593) (added to group)
[18:54:52] [ENEMY] [Enemy6] Status: BLINDED applied
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1492.829, 486.3668) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1552.885, 382.8878) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1463.582, 516.9593) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1575.561, 428.777) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1556.76, 479.0552) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1528.768, 469.4202) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2167.944, 620.1) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2115.199, 670.1748) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2109.718, 634.2076) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2145.607, 618.3488) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1507.554, 460.9495) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1444.958, 393.5216) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1497.017, 429.7062) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (1536.067, 394.0914) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2182.364, 623.4167) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2095.613, 603.5681) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2132.344, 639.6768) (added to group)
[18:54:52] [INFO] [BloodDecal] Blood puddle created at (2064.298, 646.0222) (added to group)
[18:54:52] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[18:54:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1420.9227, 535.6909), shooter_id=766249010944, bullet_pos=(2117.9978, 60.443733)
[18:54:52] [INFO] [Bullet] Using shooter_position, distance=843,66675
[18:54:52] [INFO] [Bullet] Distance to wall: 843,66675 (57,44682% of viewport)
[18:54:52] [ENEMY] [Enemy6] Status: BLINDED removed
[18:54:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1420.9227, 535.6909), shooter_id=766249010944, bullet_pos=(2487.895, 342.91443)
[18:54:52] [INFO] [Bullet] Using shooter_position, distance=1084,2474
[18:54:52] [INFO] [Bullet] Distance to wall: 1084,2474 (73,82841% of viewport)
[18:54:52] [INFO] [Bullet] Distance-based penetration chance: 60,53353%
[18:54:52] [INFO] [Bullet] Starting wall penetration at (2487.895, 342.91443)
[18:54:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,218906
[18:54:52] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:52] [INFO] [Bullet] Exiting penetration at (2520.0168, 367.44412) after traveling 35,416668 pixels through wall
[18:54:52] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:54:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:52] [INFO] [ReplayManager] Recording frame 1020 (15,5s): player_valid=True, enemies=10
[18:54:52] [ENEMY] [Enemy6] Death animation completed
[18:54:52] [ENEMY] [Enemy5] Death animation completed
[18:54:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:53] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[18:54:53] [ENEMY] [Enemy7] FLANKING started: target=(1867.427, 768.7127), side=left, pos=(1609.831, 824.0669)
[18:54:53] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[18:54:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:53] [INFO] [ReplayManager] Recording frame 1080 (16,5s): player_valid=True, enemies=10
[18:54:53] [ENEMY] [Enemy7] FLANKING corner check: angle 106.6°
[18:54:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:54] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-48.7°, current=-0.3°, player=(1905,682), corner_timer=0.12
[18:54:54] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1750.957, 858.5063), source=ENEMY (Enemy7), range=1469, listeners=4
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[18:54:54] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[18:54:54] [INFO] [LastChance] Threat detected: Bullet
[18:54:54] [INFO] [LastChance] Effect already used this life
[18:54:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:54] [ENEMY] [Enemy7] Status: BLINDED applied
[18:54:54] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-40.6°, current=-40.6°, player=(1936,714), corner_timer=0.12
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1948.124, 725.7221), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:54] [ENEMY] [Enemy8] Memory: high confidence (0.89) - transitioning to PURSUING
[18:54:54] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[18:54:54] [ENEMY] [Enemy9] Memory: high confidence (0.80) - transitioning to PURSUING
[18:54:54] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[18:54:54] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-85.9°, current=-56.3°, player=(1952,729), corner_timer=0.00
[18:54:54] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-100.2°, current=11.3°, player=(1952,729), corner_timer=0.00
[18:54:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:54] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[18:54:54] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[18:54:54] [ENEMY] [Enemy9] PURSUING corner check: angle 38.7°
[18:54:54] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=106.6°, current=-33.6°, player=(1959,737), corner_timer=0.12
[18:54:54] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/3->2/3
[18:54:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1765.161, 855.9406), dir=(1, 0), lethal=false
[18:54:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:54] [INFO] [ImpactEffects] Blood effect spawned at (1765.161, 855.9406) (scale=1)
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1973.792, 751.3901), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:54] [ENEMY] [Enemy7] Status: BLINDED removed
[18:54:54] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/3->1/3
[18:54:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1749.023, 837.4946), dir=(1, 0), lethal=false
[18:54:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:54] [INFO] [ImpactEffects] Blood effect spawned at (1749.023, 837.4946) (scale=1)
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1998.682, 776.2803), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:54:54] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/3->0/3
[18:54:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1739.383, 832.9855), dir=(1, 0), lethal=true
[18:54:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:54] [INFO] [ImpactEffects] Blood effect spawned at (1739.383, 832.9855) (scale=1.5)
[18:54:54] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[18:54:54] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[18:54:54] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[18:54:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:54] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[18:54:54] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-101.2°, current=-90.5°, player=(2019,798), corner_timer=0.04
[18:54:54] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2022.39, 801.6603), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1841.922, 861.8266) (added to group)
[18:54:54] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-101.5°, current=-51.4°, player=(2024,805), corner_timer=0.03
[18:54:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:54] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[18:54:54] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-101.6°, current=-53.7°, player=(2026,808), corner_timer=0.01
[18:54:54] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1859.668, 886.9409) (added to group)
[18:54:54] [INFO] [ReplayManager] Recording frame 1140 (17,5s): player_valid=True, enemies=10
[18:54:54] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2162.559, 1450.876), source=ENEMY (Enemy9), range=1469, listeners=3
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2035.226, 829.9146), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1855.776, 840.5463) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1835.028, 892.8243) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1869.644, 939.9728) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1843.081, 840.9143) (added to group)
[18:54:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2141.3235, 1386.2253), shooter_id=765007497447, bullet_pos=(2102.6252, 1190.0051)
[18:54:54] [INFO] [Bullet] Using shooter_position, distance=199,99982
[18:54:54] [INFO] [Bullet] Distance to wall: 199,99982 (13,618356% of viewport)
[18:54:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:54] [INFO] [Bullet] Starting wall penetration at (2102.6252, 1190.0051)
[18:54:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:54] [INFO] [Bullet] Exiting penetration at (2095.208, 1152.3962) after traveling 33,333336 pixels through wall
[18:54:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1906.745, 904.0321) (added to group)
[18:54:54] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2155.662, 1417.447), source=ENEMY (Enemy9), range=1469, listeners=3
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:54:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2035.765, 853.6492), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:54:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1843.859, 903.8233) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1796.627, 833.5827) (added to group)
[18:54:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2022.3901, 801.6603), shooter_id=766249010944, bullet_pos=(1382.4781, 926.6239)
[18:54:54] [INFO] [Bullet] Using shooter_position, distance=651,99945
[18:54:54] [INFO] [Bullet] Distance to wall: 651,99945 (44,395844% of viewport)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1793.629, 826.0508) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1797.835, 859.5086) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1841.773, 850.5143) (added to group)
[18:54:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2134.0906, 1352.9075), shooter_id=765007497447, bullet_pos=(2099.342, 1189.9033)
[18:54:54] [INFO] [Bullet] Using shooter_position, distance=166,66678
[18:54:54] [INFO] [Bullet] Distance to wall: 166,66678 (11,348648% of viewport)
[18:54:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1890.027, 905.739) (added to group)
[18:54:54] [INFO] [BloodDecal] Blood puddle created at (1836.621, 867.5845) (added to group)
[18:54:54] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[18:54:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2022.3901, 801.6603), shooter_id=766249010944, bullet_pos=(1528.3223, 942.1378)
[18:54:55] [INFO] [Bullet] Using shooter_position, distance=513,65063
[18:54:55] [INFO] [Bullet] Distance to wall: 513,65063 (34,975418% of viewport)
[18:54:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:55] [INFO] [Bullet] Starting wall penetration at (1528.3223, 942.1378)
[18:54:55] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:54:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:54:55] [INFO] [Bullet] Exiting penetration at (1561.4686, 945.6637) after traveling 28,333332 pixels through wall
[18:54:55] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1922.891, 955.1382) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1854.375, 838.4171) (added to group)
[18:54:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1809.537, 875.0794) (added to group)
[18:54:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2035.2262, 829.91455), shooter_id=766249010944, bullet_pos=(1383.2661, 822.619)
[18:54:55] [INFO] [Bullet] Using shooter_position, distance=652,0009
[18:54:55] [INFO] [Bullet] Distance to wall: 652,0009 (44,395943% of viewport)
[18:54:55] [INFO] [Bullet] Distance-based penetration chance: 94,8714%
[18:54:55] [INFO] [Bullet] Starting wall penetration at (1383.2661, 822.619)
[18:54:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,066013
[18:54:55] [INFO] [Bullet] Body exited signal received for penetrating body
[18:54:55] [INFO] [Bullet] Exiting penetration at (1344.9352, 822.19006) after traveling 33,333336 pixels through wall
[18:54:55] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:54:55] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=38.7°, current=-103.5°, player=(2017,873), corner_timer=0.01
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1946.354, 1032.719) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1849.717, 892.3795) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1833.165, 825.6096) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1918.246, 874.6078) (added to group)
[18:54:55] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1889.941, 901.6835) (added to group)
[18:54:55] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1944.231, 1050.018) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1815.859, 861.3894) (added to group)
[18:54:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2035.7648, 853.6492), shooter_id=766249010944, bullet_pos=(1385.6359, 804.2991)
[18:54:55] [INFO] [Bullet] Using shooter_position, distance=651,99927
[18:54:55] [INFO] [Bullet] Distance to wall: 651,99927 (44,395832% of viewport)
[18:54:55] [ENEMY] [Enemy7] Ragdoll activated
[18:54:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1921.803, 949.1295) (added to group)
[18:54:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2035.7648, 853.6492), shooter_id=766249010944, bullet_pos=(1418.2167, 797.2563)
[18:54:55] [INFO] [Bullet] Using shooter_position, distance=620,11755
[18:54:55] [INFO] [Bullet] Distance to wall: 620,11755 (42,224945% of viewport)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1896.056, 850.55) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1936.635, 1034.877) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1893.691, 895.1605) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1879.39, 903.6479) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1937.104, 893.3541) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1893.81, 922.9943) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1841.394, 940.9073) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1950.073, 950.0355) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1868.523, 918.4506) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1893.147, 862.5297) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1897.827, 951.96) (added to group)
[18:54:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:54:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1872.939, 908.7181) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1853.468, 993.1484) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1954.405, 1005.034) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (1880.382, 980.114) (added to group)
[18:54:55] [INFO] [LastChance] Threat detected: @Area2D@3113
[18:54:55] [INFO] [LastChance] Effect already used this life
[18:54:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2134.0906, 1352.9075), shooter_id=765007497447, bullet_pos=(2460.281, 291.35226)
[18:54:55] [INFO] [Bullet] Using shooter_position, distance=1110,5403
[18:54:55] [INFO] [Bullet] Distance to wall: 1110,5403 (75,61873% of viewport)
[18:54:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1959,945), corner_timer=0.23
[18:54:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:54:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.103, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=3
[18:54:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:54:55] [INFO] [Player] Spawning blood effect at (1959.4462, 958.98016), dir=(1, 0), lethal=True (C#)
[18:54:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1959.446, 958.9802), dir=(1, 0), lethal=true
[18:54:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:55] [INFO] [ImpactEffects] Blood effect spawned at (1959.446, 958.9802) (scale=1.5)
[18:54:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:54:55] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:54:55] [INFO] [CinemaEffects] Player died - triggering death effects
[18:54:55] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[18:54:55] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:54:55] [INFO] [LastChance] Player died
[18:54:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:54:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1180.907, 1581.839), source=ENEMY (Enemy10), range=1469, listeners=3
[18:54:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:54:55] [INFO] [ReplayManager] Recording frame 1200 (18,3s): player_valid=True, enemies=10
[18:54:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2134.0906, 1352.9075), shooter_id=765007497447, bullet_pos=(2341.668, 48.894775)
[18:54:55] [INFO] [Bullet] Using shooter_position, distance=1320,4308
[18:54:55] [INFO] [Bullet] Distance to wall: 1320,4308 (89,91056% of viewport)
[18:54:55] [INFO] [Bullet] Distance-based penetration chance: 41,77101%
[18:54:55] [INFO] [Bullet] Penetration failed (distance roll)
[18:54:55] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-36.2°, current=-36.2°, player=(1959,1011), corner_timer=0.23
[18:54:55] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[18:54:55] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=0.6°, current=-36.2°, player=(1959,1016), corner_timer=0.23
[18:54:55] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[18:54:55] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (2036.306, 980.3839) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (2030.675, 1008.922) (added to group)
[18:54:55] [INFO] [BloodDecal] Blood puddle created at (2045.609, 964.0598) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2032.46, 975.0518) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2024.955, 958.8795) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2043.954, 1016.689) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2084.665, 985.9778) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2030.77, 1019.687) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2105.607, 1037.471) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2069.198, 987.521) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2034.989, 1034.524) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2081.098, 1075.445) (added to group)
[18:54:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:56] [INFO] [CinemaEffects] Death effects reset
[18:54:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:56] [ENEMY] [Enemy1] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:56] [ENEMY] [Enemy2] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:56] [ENEMY] [Enemy3] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:56] [ENEMY] [Enemy4] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:56] [ENEMY] [Enemy5] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:56] [ENEMY] [Enemy6] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:56] [ENEMY] [Enemy7] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:56] [ENEMY] [Enemy8] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:56] [ENEMY] [Enemy9] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:56] [ENEMY] [Enemy10] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:56] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:56] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:56] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:56] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:56] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:56] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:56] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:54:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:56] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:56] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:56] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:56] [INFO] [ReplayManager] Replay data cleared
[18:54:56] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:56] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:56] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:56] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:56] [INFO] [ReplayManager] Enemies count: 10
[18:54:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:56] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:56] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2055.738, 1020.599) (added to group)
[18:54:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:56] [INFO] [CinemaEffects] Found player node: Player
[18:54:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[18:54:56] [ENEMY] [Enemy1] Registered as sound listener
[18:54:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[18:54:56] [ENEMY] [Enemy2] Registered as sound listener
[18:54:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[18:54:56] [ENEMY] [Enemy3] Registered as sound listener
[18:54:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[18:54:56] [ENEMY] [Enemy4] Registered as sound listener
[18:54:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[18:54:56] [ENEMY] [Enemy5] Registered as sound listener
[18:54:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 9)
[18:54:56] [ENEMY] [Enemy6] Registered as sound listener
[18:54:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 10)
[18:54:56] [ENEMY] [Enemy7] Registered as sound listener
[18:54:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:54:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 11)
[18:54:56] [ENEMY] [Enemy8] Registered as sound listener
[18:54:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 12)
[18:54:56] [ENEMY] [Enemy9] Registered as sound listener
[18:54:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 13)
[18:54:56] [ENEMY] [Enemy10] Registered as sound listener
[18:54:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:54:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,1s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,1s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,1s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,1s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,1s): player_valid=True, enemies=10
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,1s): player_valid=True, enemies=10
[18:54:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:56] [ENEMY] [Enemy1] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:56] [ENEMY] [Enemy2] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:56] [ENEMY] [Enemy3] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:56] [ENEMY] [Enemy4] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:56] [ENEMY] [Enemy5] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:56] [ENEMY] [Enemy6] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:56] [ENEMY] [Enemy7] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:56] [ENEMY] [Enemy8] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:56] [ENEMY] [Enemy9] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:56] [ENEMY] [Enemy10] Death animation component initialized
[18:54:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:56] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:56] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:56] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:56] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:56] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:56] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:56] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:54:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:56] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:56] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:56] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:56] [INFO] [ReplayManager] Replay data cleared
[18:54:56] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:56] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:56] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:56] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:56] [INFO] [ReplayManager] Enemies count: 10
[18:54:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:56] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:56] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2129.567, 1043.043) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2063.092, 1106.899) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2153.682, 1015.678) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2174.224, 1053.525) (added to group)
[18:54:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:56] [INFO] [CinemaEffects] Found player node: Player
[18:54:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 14)
[18:54:56] [ENEMY] [Enemy1] Registered as sound listener
[18:54:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 15)
[18:54:56] [ENEMY] [Enemy2] Registered as sound listener
[18:54:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 16)
[18:54:56] [ENEMY] [Enemy3] Registered as sound listener
[18:54:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 17)
[18:54:56] [ENEMY] [Enemy4] Registered as sound listener
[18:54:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 18)
[18:54:56] [ENEMY] [Enemy5] Registered as sound listener
[18:54:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 19)
[18:54:56] [ENEMY] [Enemy6] Registered as sound listener
[18:54:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 20)
[18:54:56] [ENEMY] [Enemy7] Registered as sound listener
[18:54:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:54:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 21)
[18:54:56] [ENEMY] [Enemy8] Registered as sound listener
[18:54:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 22)
[18:54:56] [ENEMY] [Enemy9] Registered as sound listener
[18:54:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:54:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 23)
[18:54:56] [ENEMY] [Enemy10] Registered as sound listener
[18:54:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:54:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:56] [INFO] [LastChance] Found player: Player
[18:54:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:56] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2098.46, 1111.39) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2141.965, 1016.57) (added to group)
[18:54:56] [INFO] [BloodDecal] Blood puddle created at (2103.009, 1013.532) (added to group)
[18:54:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:54:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:54:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(430,789), corner_timer=0.30
[18:54:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(430,789), corner_timer=0.30
[18:54:58] [ENEMY] [Enemy3] Status: BLINDED applied
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.06, 740.7706), source=PLAYER (AssaultRifle), range=1469, listeners=23
[18:54:58] [INFO] [SoundPropagation] Cleaned up 13 invalid listeners
[18:54:58] [ENEMY] [Enemy1] Heard gunshot at (448.06, 740.7706), source_type=0, intensity=0.01, distance=418
[18:54:58] [ENEMY] [Enemy2] Heard gunshot at (448.06, 740.7706), source_type=0, intensity=0.06, distance=197
[18:54:58] [ENEMY] [Enemy3] Heard gunshot at (448.06, 740.7706), source_type=0, intensity=0.04, distance=252
[18:54:58] [ENEMY] [Enemy4] Heard gunshot at (448.06, 740.7706), source_type=0, intensity=0.02, distance=386
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:58] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.2°, current=-157.5°, player=(448,740), corner_timer=0.00
[18:54:58] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.9°, current=-67.5°, player=(448,740), corner_timer=0.00
[18:54:58] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-177.9°, current=11.3°, player=(448,740), corner_timer=0.00
[18:54:58] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-155.7°, current=-67.5°, player=(448,740), corner_timer=0.00
[18:54:58] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:54:58] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3405, 749.6095), dir=(1, 0), lethal=false
[18:54:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:58] [INFO] [ImpactEffects] Blood effect spawned at (689.3405, 749.6095) (scale=1)
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.6746, 728.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:58] [ENEMY] [Enemy3] Status: BLINDED removed
[18:54:58] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-174.3°, current=-174.3°, player=(475,728), corner_timer=0.00
[18:54:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(475,728), corner_timer=-0.01
[18:54:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:54:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.3°, player=(475,728), corner_timer=-0.01
[18:54:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:54:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(479,728), corner_timer=0.30
[18:54:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(479,728), corner_timer=0.30
[18:54:58] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:54:58] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3405, 749.6095), dir=(1, 0), lethal=false
[18:54:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:58] [INFO] [ImpactEffects] Blood effect spawned at (689.3405, 749.6095) (scale=1)
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3405, 749.6095), source=ENEMY (Enemy3), range=1469, listeners=10
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:54:58] [INFO] [LastChance] Threat detected: Bullet
[18:54:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:54:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.0781, 728.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:54:58] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:54:58] [INFO] [Player] Spawning blood effect at (513.8781, 728.0663), dir=(1, 0), lethal=False (C#)
[18:54:58] [INFO] [ImpactEffects] spawn_blood_effect called at (513.8781, 728.0663), dir=(1, 0), lethal=false
[18:54:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:58] [INFO] [ImpactEffects] Blood effect spawned at (513.8781, 728.0663) (scale=1)
[18:54:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:54:58] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:54:58] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=57.4°, current=32.7°, player=(513,728), corner_timer=0.00
[18:54:58] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:54:58] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:54:58] [INFO] [ImpactEffects] spawn_blood_effect called at (691.3317, 750.375), dir=(1, 0), lethal=true
[18:54:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:58] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:54:58] [INFO] [ImpactEffects] Blood effect spawned at (691.3317, 750.375) (scale=1.5)
[18:54:58] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:54:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:54:58] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:54:58] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:54:58] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:54:58] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:54:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.0535, 731.0227), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (749.9199, 775.3088) (added to group)
[18:54:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (781.1099, 768.5101) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (766.2916, 772.3871) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (754.0936, 751.8856) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (772.2124, 731.6094) (added to group)
[18:54:58] [INFO] [LastChance] Threat detected: @Area2D@3718
[18:54:58] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:54:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:54:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(568,746), corner_timer=-0.01
[18:54:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[18:54:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(539.0535, 731.0227), shooter_id=1095686425990, bullet_pos=(923.111, 762.3506)
[18:54:58] [INFO] [Bullet] Using shooter_position, distance=385,3331
[18:54:58] [INFO] [Bullet] Distance to wall: 385,3331 (26,238039% of viewport)
[18:54:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:54:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.5°, player=(571,749), corner_timer=0.30
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (590.3799, 721.119) (added to group)
[18:54:58] [INFO] [Player] Spawning blood effect at (577.85175, 757.4819), dir=(1, 0), lethal=False (C#)
[18:54:58] [INFO] [ImpactEffects] spawn_blood_effect called at (577.8517, 757.4819), dir=(1, 0), lethal=false
[18:54:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:54:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:54:58] [INFO] [ImpactEffects] Blood effect spawned at (577.8517, 757.4819) (scale=1)
[18:54:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:54:58] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:54:58] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:54:58] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:54:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (802.1303, 755.5498) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (747.4371, 757.4492) (added to group)
[18:54:58] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:54:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:54:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (786.0662, 792.7743) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (783.5327, 740.2293) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (784.7483, 765.7864) (added to group)
[18:54:58] [INFO] [LastChance] Threat detected: @Area2D@3729
[18:54:58] [INFO] [LastChance] Triggering last chance effect!
[18:54:58] [INFO] [LastChance] Starting last chance effect:
[18:54:58] [INFO] [LastChance]   - Time will be frozen (except player)
[18:54:58] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:54:58] [INFO] [LastChance]   - Trigger: threat detected
[18:54:58] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:54:58] [INFO] [LastChance]   - Brightness: 0.60
[18:54:58] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:54:58] [INFO] [LastChance] Skipping player node: Player
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3706
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3709
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3712
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3716
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3720
[18:54:58] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3730
[18:54:58] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:54:58] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:54:58] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (785.7198, 768.3563) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (768.997, 785.4867) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (765.6671, 811.7006) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (602.7303, 760.6259) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (795.9309, 759.6467) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (599.8586, 786.9681) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (743.6482, 759.6564) (added to group)
[18:54:58] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (635.2092, 823.7109) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (602.705, 786.4671) (added to group)
[18:54:58] [INFO] [BloodDecal] Blood puddle created at (772.1495, 793.6064) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (642.9432, 780.3516) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (847.4451, 829.1349) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (836.3315, 751.233) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (673.0349, 721.2203) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (855.2329, 851.6993) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (824.0913, 844.0374) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (869.8085, 884.7381) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (841.2968, 788.8983) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (659.9967, 765.2991) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (640.4527, 765.4821) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (840.5487, 865.8405) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (826.7851, 746.8598) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (878.2717, 861.4277) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (803.8334, 809.6922) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (673.1432, 802.0737) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (646.0629, 839.9688) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (868.048, 805.504) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (838.8429, 790.9458) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (788.5587, 830.7114) (added to group)
[18:54:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:54:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:54:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:54:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:54:59] [INFO] [LastChance] All process modes restored
[18:54:59] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:54:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:54:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:54:59] [ENEMY] [Enemy1] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:54:59] [ENEMY] [Enemy2] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:54:59] [ENEMY] [Enemy3] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:54:59] [ENEMY] [Enemy4] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:54:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:59] [ENEMY] [Enemy5] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:54:59] [ENEMY] [Enemy6] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:54:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:59] [ENEMY] [Enemy7] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:54:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:59] [ENEMY] [Enemy8] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:54:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:59] [ENEMY] [Enemy9] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:54:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:54:59] [ENEMY] [Enemy10] Death animation component initialized
[18:54:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:54:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:54:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:54:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:54:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:54:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:54:59] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:54:59] [INFO] [Player.Weapon] Removed default MakarovPM
[18:54:59] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:54:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:54:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:54:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:54:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:54:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:54:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:54:59] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:54:59] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:54:59] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:54:59] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:54:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:54:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:54:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:54:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:54:59] [INFO] [BuildingLevel] Setting up weapon: m16
[18:54:59] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:54:59] [INFO] [ScoreManager] Level started with 10 enemies
[18:54:59] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:54:59] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:54:59] [INFO] [ReplayManager] Replay data cleared
[18:54:59] [INFO] [BuildingLevel] Previous replay data cleared
[18:54:59] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:54:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:54:59] [INFO] [ReplayManager] Level: BuildingLevel
[18:54:59] [INFO] [ReplayManager] Player: Player (valid: True)
[18:54:59] [INFO] [ReplayManager] Enemies count: 10
[18:54:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:54:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:54:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:54:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:54:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:54:59] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:54:59] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:54:59] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:54:59] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:54:59] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:54:59] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:54:59] [INFO] [BuildingLevel] Replay recording started successfully
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (819.2355, 840.85) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (837.3422, 872.3342) (added to group)
[18:54:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:54:59] [INFO] [CinemaEffects] Found player node: Player
[18:54:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:54:59] [ENEMY] [Enemy1] Registered as sound listener
[18:54:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:54:59] [ENEMY] [Enemy2] Registered as sound listener
[18:54:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:54:59] [ENEMY] [Enemy3] Registered as sound listener
[18:54:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:54:59] [ENEMY] [Enemy4] Registered as sound listener
[18:54:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:54:59] [ENEMY] [Enemy5] Registered as sound listener
[18:54:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:54:59] [ENEMY] [Enemy6] Registered as sound listener
[18:54:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:54:59] [ENEMY] [Enemy7] Registered as sound listener
[18:54:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:54:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:54:59] [ENEMY] [Enemy8] Registered as sound listener
[18:54:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:54:59] [ENEMY] [Enemy9] Registered as sound listener
[18:54:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:54:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:54:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:54:59] [ENEMY] [Enemy10] Registered as sound listener
[18:54:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:54:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:54:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:54:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:54:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:54:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:54:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:54:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:54:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:54:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:54:59] [INFO] [LastChance] Found player: Player
[18:54:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:54:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:54:59] [INFO] [LastChance] Connected to player Died signal (C#)
[18:54:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (872.1666, 829.4414) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (733.2605, 808.7987) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (668.7843, 812.306) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (671.1509, 768.4587) (added to group)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (664.1705, 818.6716) (added to group)
[18:54:59] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:54:59] [INFO] [BloodDecal] Blood puddle created at (701.8633, 791.076) (added to group)
[18:55:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:00] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[18:55:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:55:00] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[18:55:00] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:00] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[18:55:00] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:55:00] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:00] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:00] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.7°, current=-101.3°, player=(450,783), corner_timer=0.00
[18:55:00] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,783), corner_timer=0.30
[18:55:00] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,783), corner_timer=0.30
[18:55:00] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:55:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 769.1666), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:55:00] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:55:00] [ENEMY] [Enemy1] Heard gunshot at (450, 769.1666), source_type=0, intensity=0.01, distance=445
[18:55:00] [ENEMY] [Enemy2] Heard gunshot at (450, 769.1666), source_type=0, intensity=0.05, distance=225
[18:55:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:00] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.3°, current=-33.8°, player=(450,769), corner_timer=0.00
[18:55:00] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.1°, current=-157.5°, player=(450,769), corner_timer=0.00
[18:55:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:55:01] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:55:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:01] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:55:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 754.4554), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:01] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:01] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.8°, current=179.9°, player=(450,754), corner_timer=0.00
[18:55:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:01] [INFO] [LastChance] Threat detected: @Area2D@4027
[18:55:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:55:01] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:55:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:01] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:55:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 751.2555), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:01] [INFO] [Player] Spawning blood effect at (450, 751.2555), dir=(1, 0), lethal=False (C#)
[18:55:01] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 751.2555), dir=(1, 0), lethal=false
[18:55:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:01] [INFO] [ImpactEffects] Blood effect spawned at (450, 751.2555) (scale=1)
[18:55:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:55:01] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:55:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:55:01] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:55:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(450,751), corner_timer=-0.01
[18:55:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(450,751), corner_timer=-0.01
[18:55:01] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[18:55:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(450,751), corner_timer=0.30
[18:55:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(450,751), corner_timer=0.30
[18:55:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:55:01] [INFO] [ImpactEffects] spawn_blood_effect called at (680.2142, 758.5573), dir=(1, 0), lethal=false
[18:55:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:01] [INFO] [ImpactEffects] Blood effect spawned at (680.2142, 758.5573) (scale=1)
[18:55:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.8027, 760.157), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.28, 751.2555), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:01] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (735.2277, 770.7064) (added to group)
[18:55:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.7455, 768.1553), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:01] [INFO] [LastChance] Threat detected: @Area2D@4050
[18:55:01] [INFO] [LastChance] Triggering last chance effect!
[18:55:01] [INFO] [LastChance] Starting last chance effect:
[18:55:01] [INFO] [LastChance]   - Time will be frozen (except player)
[18:55:01] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:55:01] [INFO] [LastChance]   - Trigger: threat detected
[18:55:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:55:01] [INFO] [LastChance]   - Brightness: 0.60
[18:55:01] [INFO] [LastChance] Pushed bullet Bullet from distance 50.0 to 200.0
[18:55:01] [INFO] [LastChance] Pushed bullet @Area2D@4050 from distance 149.0 to 200.0
[18:55:01] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[18:55:01] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:55:01] [INFO] [LastChance] Skipping player node: Player
[18:55:01] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:55:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4026
[18:55:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4029
[18:55:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4032
[18:55:01] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4043
[18:55:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:55:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:55:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (795.1521, 801.752) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (746.1889, 765.0849) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (747.5208, 767.0511) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (742.5153, 761.7766) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (774.8893, 772.2583) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (774.6088, 814.4207) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (508.3267, 756.0359) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (811.85, 742.3741) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (754.1586, 755.6949) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (839.5249, 751.9464) (added to group)
[18:55:01] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (536.8008, 784.7247) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (522.6403, 784.3859) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (765.9529, 807.7275) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (735.1833, 795.7039) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (562.1353, 749.5193) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (821.1237, 837.6757) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (555.7628, 778.5696) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (855.7206, 791.3362) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (864.5172, 776.2927) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (590.9484, 784.4543) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (760.7302, 786.2281) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (805.0742, 737.1296) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (765.9471, 777.307) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (773.4121, 817.0325) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (830.8388, 813.5424) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (842.9593, 793.5375) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (619.3671, 764.1065) (added to group)
[18:55:01] [INFO] [BloodDecal] Blood puddle created at (844.6619, 797.3795) (added to group)
[18:55:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:02] [INFO] [LastChance] All process modes restored
[18:55:02] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:55:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:02] [ENEMY] [Enemy1] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:02] [ENEMY] [Enemy2] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:02] [ENEMY] [Enemy3] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:02] [ENEMY] [Enemy4] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:02] [ENEMY] [Enemy5] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:02] [ENEMY] [Enemy6] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:02] [ENEMY] [Enemy7] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:02] [ENEMY] [Enemy8] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:02] [ENEMY] [Enemy9] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:02] [ENEMY] [Enemy10] Death animation component initialized
[18:55:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:02] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:02] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:02] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:55:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:55:02] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:02] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:02] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:02] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:55:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:02] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:02] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:02] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:02] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:02] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:02] [INFO] [ReplayManager] Replay data cleared
[18:55:02] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:02] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:02] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:02] [INFO] [ReplayManager] Enemies count: 10
[18:55:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:02] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:02] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:02] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:02] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:02] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:02] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:02] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:02] [INFO] [BloodDecal] Blood puddle created at (609.1741, 832.2119) (added to group)
[18:55:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:02] [INFO] [CinemaEffects] Found player node: Player
[18:55:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:55:02] [ENEMY] [Enemy1] Registered as sound listener
[18:55:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:55:02] [ENEMY] [Enemy2] Registered as sound listener
[18:55:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:55:02] [ENEMY] [Enemy3] Registered as sound listener
[18:55:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:55:02] [ENEMY] [Enemy4] Registered as sound listener
[18:55:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:55:02] [ENEMY] [Enemy5] Registered as sound listener
[18:55:02] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:55:02] [ENEMY] [Enemy6] Registered as sound listener
[18:55:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:55:02] [ENEMY] [Enemy7] Registered as sound listener
[18:55:02] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:55:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:55:02] [ENEMY] [Enemy8] Registered as sound listener
[18:55:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:55:02] [ENEMY] [Enemy9] Registered as sound listener
[18:55:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:55:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:55:02] [ENEMY] [Enemy10] Registered as sound listener
[18:55:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:55:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:02] [INFO] [LastChance] Found player: Player
[18:55:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:02] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:02] [INFO] [BloodDecal] Blood puddle created at (865.1217, 862.5187) (added to group)
[18:55:02] [INFO] [BloodDecal] Blood puddle created at (906.881, 885.0032) (added to group)
[18:55:02] [INFO] [BloodDecal] Blood puddle created at (869.2467, 880.8233) (added to group)
[18:55:02] [INFO] [BloodDecal] Blood puddle created at (886.555, 881.7679) (added to group)
[18:55:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(360,818), corner_timer=0.30
[18:55:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(360,818), corner_timer=0.30
[18:55:03] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.5509, 775.052), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:55:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:55:03] [ENEMY] [Enemy1] Heard gunshot at (360.5509, 775.052), source_type=0, intensity=0.01, distance=429
[18:55:03] [ENEMY] [Enemy2] Heard gunshot at (360.5509, 775.052), source_type=0, intensity=0.05, distance=228
[18:55:03] [ENEMY] [Enemy3] Heard gunshot at (360.5509, 775.052), source_type=0, intensity=0.02, distance=340
[18:55:03] [ENEMY] [Enemy4] Heard gunshot at (360.5509, 775.052), source_type=0, intensity=0.01, distance=457
[18:55:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:03] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=81.9°, current=168.8°, player=(360,775), corner_timer=0.00
[18:55:03] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=99.9°, current=168.8°, player=(360,775), corner_timer=0.00
[18:55:03] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.8°, current=11.3°, player=(360,775), corner_timer=0.00
[18:55:03] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-164.1°, current=-101.3°, player=(360,775), corner_timer=0.00
[18:55:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:55:03] [INFO] [ImpactEffects] spawn_blood_effect called at (668.0343, 751.3099), dir=(1, 0), lethal=false
[18:55:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:03] [INFO] [ImpactEffects] Blood effect spawned at (668.0343, 751.3099) (scale=1)
[18:55:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.5509, 748.2187), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:03] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:03] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-178.2°, current=-178.2°, player=(360,742), corner_timer=0.00
[18:55:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.5°, player=(360,740), corner_timer=-0.00
[18:55:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(360,740), corner_timer=-0.00
[18:55:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[18:55:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(360,738), corner_timer=0.30
[18:55:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(360,738), corner_timer=0.30
[18:55:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:55:04] [INFO] [ImpactEffects] spawn_blood_effect called at (637.1121, 750.6112), dir=(1, 0), lethal=false
[18:55:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:04] [INFO] [ImpactEffects] Blood effect spawned at (637.1121, 750.6112) (scale=1)
[18:55:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1121, 750.6112), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.5425, 734.4054), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:04] [INFO] [LastChance] Threat detected: Bullet
[18:55:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:04] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:55:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:55:04] [INFO] [Player] Spawning blood effect at (369.51334, 728.6366), dir=(1, 0), lethal=False (C#)
[18:55:04] [INFO] [ImpactEffects] spawn_blood_effect called at (369.5133, 728.6366), dir=(1, 0), lethal=false
[18:55:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:04] [INFO] [ImpactEffects] Blood effect spawned at (369.5133, 728.6366) (scale=1)
[18:55:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:55:04] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:55:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:55:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:55:04] [INFO] [ImpactEffects] spawn_blood_effect called at (610.3918, 753.1588), dir=(1, 0), lethal=false
[18:55:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:04] [INFO] [ImpactEffects] Blood effect spawned at (610.3918, 753.1588) (scale=1)
[18:55:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.1283, 728.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.2233, 757.2623), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (710.3066, 779.9966) (added to group)
[18:55:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[18:55:04] [INFO] [ImpactEffects] spawn_blood_effect called at (606.3022, 767.5211), dir=(1, 0), lethal=true
[18:55:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:04] [INFO] [ImpactEffects] Blood effect spawned at (606.3022, 767.5211) (scale=1.5)
[18:55:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:55:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:04] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:55:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:55:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:04] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (736.9222, 750.5596) (added to group)
[18:55:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.1549, 728.0663), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:55:04] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:55:04] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:55:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:55:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(420,728), corner_timer=-0.01
[18:55:04] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (767.0886, 809.0129) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (754.841, 780.814) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (714.9005, 798.3278) (added to group)
[18:55:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(425,728), corner_timer=0.30
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (749.8403, 751.9449) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (720.9014, 791.0122) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (427.0584, 756.938) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (418.3877, 749.2817) (added to group)
[18:55:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.17804, 756.60034), shooter_id=1234685660827, bullet_pos=(45.191097, 819.82117)
[18:55:04] [INFO] [Bullet] Using shooter_position, distance=499,9999
[18:55:04] [INFO] [Bullet] Distance to wall: 499,9999 (34,045914% of viewport)
[18:55:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:04] [INFO] [Bullet] Starting wall penetration at (45.191097, 819.82117)
[18:55:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,035505
[18:55:04] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:04] [INFO] [Bullet] Exiting penetration at (7.165428, 824.6681) after traveling 33,333336 pixels through wall
[18:55:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (817.4052, 799.9857) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (744.5054, 758.4801) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (420.542, 770.3979) (added to group)
[18:55:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(403.15494, 728.0663), shooter_id=1238041103520, bullet_pos=(919.7927, 773.8953)
[18:55:04] [INFO] [Bullet] Using shooter_position, distance=518,6665
[18:55:04] [INFO] [Bullet] Distance to wall: 518,6665 (35,316956% of viewport)
[18:55:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (742.5383, 772.2445) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (689.4882, 776.3726) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (727.7755, 784.7115) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (709.2507, 761.2023) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (705.7635, 804.6277) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (653.8143, 810.6436) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (672.2783, 763.2842) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (790.6674, 779.7672) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (712.1866, 758.9298) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (726.3209, 757.5206) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (839.6835, 814.9351) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (737.3253, 806.0245) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (451.0526, 815.3403) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (718.921, 769.5331) (added to group)
[18:55:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(524,732), corner_timer=-0.01
[18:55:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (700.7502, 776.4094) (added to group)
[18:55:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(528,733), corner_timer=0.30
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (836.9563, 846.2781) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (833.703, 843.9678) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (744.1165, 805.7439) (added to group)
[18:55:04] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=53.3°, current=102.8°, player=(542,740), corner_timer=0.00
[18:55:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:04] [ENEMY] [Enemy3] Ragdoll activated
[18:55:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (479.2077, 767.128) (added to group)
[18:55:04] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (806.3293, 807.7784) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (466.6761, 776.9135) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (535.5013, 773.9834) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (731.3361, 774.6934) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (779.8768, 789.3104) (added to group)
[18:55:04] [INFO] [BloodDecal] Blood puddle created at (699.5797, 802.5092) (added to group)
[18:55:05] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:55:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:55:05] [INFO] [BloodDecal] Blood puddle created at (479.424, 838.0373) (added to group)
[18:55:05] [INFO] [LastChance] Threat detected: Bullet
[18:55:05] [INFO] [LastChance] Triggering last chance effect!
[18:55:05] [INFO] [LastChance] Starting last chance effect:
[18:55:05] [INFO] [LastChance]   - Time will be frozen (except player)
[18:55:05] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:55:05] [INFO] [LastChance]   - Trigger: threat detected
[18:55:05] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:55:05] [INFO] [LastChance]   - Brightness: 0.60
[18:55:05] [INFO] [LastChance] Pushed bullet Bullet from distance 142.4 to 200.0
[18:55:05] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:55:05] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:55:05] [INFO] [LastChance] Skipping player node: Player
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4343
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4346
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4349
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4353
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4360
[18:55:05] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4411
[18:55:05] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:55:05] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:55:05] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:55:05] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:55:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4413
[18:55:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4413
[18:55:05] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:05] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:05] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4414
[18:55:05] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4414
[18:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 934.3301), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4415
[18:55:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4415
[18:55:05] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:05] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:05] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4417
[18:55:05] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4417
[18:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 964.5524), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4418
[18:55:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4418
[18:55:05] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:05] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:05] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4420
[18:55:05] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4420
[18:55:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 983.3968), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:06] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4421
[18:55:06] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4421
[18:55:06] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4423
[18:55:06] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4423
[18:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 983.9984), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:06] [ENEMY] [Enemy4] Status: BLINDED applied
[18:55:06] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:55:06] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4424
[18:55:06] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4424
[18:55:06] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4426
[18:55:06] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4426
[18:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 983.9984), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:06] [ENEMY] [Enemy4] Status: BLINDED removed
[18:55:06] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4427
[18:55:06] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4427
[18:55:06] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4428
[18:55:06] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4428
[18:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 983.9984), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:06] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4429
[18:55:06] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4429
[18:55:06] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4431
[18:55:06] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4431
[18:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 983.9984), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:06] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4432
[18:55:06] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4432
[18:55:06] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:06] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4434
[18:55:06] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4434
[18:55:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.4811, 983.9984), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:07] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[18:55:07] [ENEMY] [Enemy2] Status: BLINDED applied
[18:55:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4435
[18:55:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4435
[18:55:07] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:07] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:07] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4436
[18:55:07] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4436
[18:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.0724, 749.5141), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4437
[18:55:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4437
[18:55:07] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:07] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:07] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4439
[18:55:07] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4439
[18:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.298, 717.4724), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:07] [ENEMY] [Enemy2] Status: BLINDED removed
[18:55:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4440
[18:55:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4440
[18:55:07] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:07] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:07] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4442
[18:55:07] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4442
[18:55:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.2175, 690.1406), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4443
[18:55:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4443
[18:55:08] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:08] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:08] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4445
[18:55:08] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4445
[18:55:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.8279, 672.277), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:08] [INFO] [ReplayManager] Recording frame 360 (5,3s): player_valid=True, enemies=10
[18:55:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4446
[18:55:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4446
[18:55:08] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:08] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:08] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4447
[18:55:08] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4447
[18:55:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.1292, 663.8815), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:55:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4448
[18:55:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4448
[18:55:08] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:08] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:08] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4450
[18:55:08] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4450
[18:55:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(602.6126, 663.1818), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:55:09] [INFO] [ReplayManager] Recording frame 420 (6,3s): player_valid=True, enemies=10
[18:55:09] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[18:55:09] [ENEMY] [Enemy1] Status: BLINDED applied
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4451
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4451
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4452
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4452
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(116.3896, 509.2105), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4453
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4453
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4455
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4455
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(89.16595, 481.9868), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:10] [INFO] [ReplayManager] Recording frame 480 (7,3s): player_valid=True, enemies=10
[18:55:10] [ENEMY] [Enemy1] Status: BLINDED removed
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4456
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4456
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4458
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4458
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06081, 454.7636), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4459
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4459
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4461
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4461
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07574, 422.5956), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4462
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4462
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4463
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4463
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07574, 384.0956), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4464
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4464
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4466
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4466
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07574, 345.5956), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4467
[18:55:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4467
[18:55:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:55:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@4469
[18:55:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@4469
[18:55:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07574, 307.0956), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[18:55:11] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:55:11] [ENEMY] [Enemy1] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy2] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy4] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy5] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy6] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy7] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy8] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy9] Player reloading: false -> true
[18:55:11] [ENEMY] [Enemy10] Player reloading: false -> true
[18:55:11] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.07574, 197.0956), source=PLAYER (Player), range=900, listeners=9
[18:55:11] [ENEMY] [Enemy1] Heard player RELOAD at (80.07574, 197.0956), intensity=0.04, distance=258
[18:55:11] [ENEMY] [Enemy2] Heard player RELOAD at (80.07574, 197.0956), intensity=0.01, distance=476
[18:55:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[18:55:11] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[18:55:11] [INFO] [LastChance] Ending last chance effect
[18:55:11] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[18:55:11] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (80.07574, 197.0956)
[18:55:11] [ENEMY] [Enemy1] SEARCHING started: center=(80.07574, 197.0956), radius=100, waypoints=4
[18:55:11] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[18:55:11] [ENEMY] [Enemy2] Search mode: COMBAT -> SEARCHING at (80.07574, 197.0956)
[18:55:11] [ENEMY] [Enemy2] SEARCHING started: center=(80.07574, 197.0956), radius=100, waypoints=4
[18:55:11] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[18:55:11] [ENEMY] [Enemy4] Search mode: PURSUING -> SEARCHING at (381.605, 728.0663)
[18:55:11] [ENEMY] [Enemy4] SEARCHING started: center=(381.605, 728.0663), radius=100, waypoints=5
[18:55:11] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[18:55:11] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[18:55:11] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[18:55:11] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[18:55:11] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[18:55:11] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[18:55:11] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[18:55:11] [INFO] [LastChance] All process modes restored
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4413
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4415
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4418
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4421
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4424
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4427
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4429
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4432
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4435
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4437
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4440
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4443
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4446
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4448
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4451
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4453
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4456
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4459
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4462
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4464
[18:55:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@4467
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: Casing
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4343
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4346
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4349
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4353
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4360
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4411
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4414
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4417
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4420
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4423
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4426
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4428
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4431
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4434
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4436
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4439
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4442
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4445
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4447
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4450
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4452
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4455
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4458
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4461
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4463
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4466
[18:55:11] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@4469
[18:55:11] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[18:55:11] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[18:55:11] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=267), can_see=false
[18:55:11] [ENEMY] [Enemy1] SEARCHING corner check: angle 143.9°
[18:55:11] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-131.3°, current=52.9°, player=(80,186), corner_timer=0.00
[18:55:11] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=485), can_see=false
[18:55:11] [ENEMY] [Enemy2] SEARCHING corner check: angle -75.7°
[18:55:11] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=1003), can_see=false
[18:55:11] [ENEMY] [Enemy4] SEARCHING corner check: angle -180.0°
[18:55:11] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1628), can_see=false
[18:55:11] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1888), can_see=false
[18:55:11] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1768), can_see=false
[18:55:11] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2216), can_see=false
[18:55:11] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2437), can_see=false
[18:55:11] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1782), can_see=false
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(116.389595, 509.2105), shooter_id=1238041103520, bullet_pos=(220.37798, 422.59918)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=135,33331
[18:55:11] [INFO] [Bullet] Distance to wall: 135,33331 (9,215095% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/3->2/3
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (231.3976, 393.6344), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (231.3976, 393.6344) (scale=1)
[18:55:11] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/3->1/3
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (231.3976, 393.6344), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (231.3976, 393.6344) (scale=1)
[18:55:11] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/3->0/3
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (228.3719, 389.4875), dir=(1, 0), lethal=true
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (228.3719, 389.4875) (scale=1.5)
[18:55:11] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:55:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:11] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[18:55:11] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[18:55:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:11] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[18:55:11] [INFO] [ReplayManager] Recording frame 540 (8,3s): player_valid=True, enemies=10
[18:55:11] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (761.3189, 914.0723), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (761.3189, 914.0723) (scale=1)
[18:55:11] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/4->2/4
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (761.3189, 914.0723), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (761.3189, 914.0723) (scale=1)
[18:55:11] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/4->1/4
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (761.3189, 914.0723), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (761.3189, 914.0723) (scale=1)
[18:55:11] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/4->0/4
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (761.3189, 914.0723), dir=(1, 0), lethal=true
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (761.3189, 914.0723) (scale=1.5)
[18:55:11] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:55:11] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:55:11] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[18:55:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:11] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[18:55:11] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (369.1594, 542.1385), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (369.1594, 542.1385) (scale=1)
[18:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(80,151), corner_timer=-0.00
[18:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.48114, 983.3968), shooter_id=1238041103520, bullet_pos=(913.253, 947.35846)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=343,66663
[18:55:11] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] Starting wall penetration at (913.253, 947.35846)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.48114, 964.55237), shooter_id=1238041103520, bullet_pos=(914.6581, 946.21094)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=343,66672
[18:55:11] [INFO] [Bullet] Distance to wall: 343,66672 (23,4009% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.48114, 934.33014), shooter_id=1238041103520, bullet_pos=(914.5826, 954.0337)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=343,66675
[18:55:11] [INFO] [Bullet] Distance to wall: 343,66675 (23,400902% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[18:55:11] [INFO] [ImpactEffects] spawn_blood_effect called at (365.1799, 541.1241), dir=(1, 0), lethal=false
[18:55:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:11] [INFO] [ImpactEffects] Blood effect spawned at (365.1799, 541.1241) (scale=1)
[18:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(80,147), corner_timer=0.30
[18:55:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,460177
[18:55:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:11] [INFO] [Bullet] Exiting penetration at (951.37494, 943.3387) after traveling 33,333332 pixels through wall
[18:55:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07574, 307.0956), shooter_id=1238041103520, bullet_pos=(498.25818, 455.29697)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=443,66675
[18:55:11] [INFO] [Bullet] Distance to wall: 443,66675 (30,210087% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] Starting wall penetration at (498.25818, 455.29697)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07574, 345.5956), shooter_id=1238041103520, bullet_pos=(522.14905, 383.16284)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=443,66666
[18:55:11] [INFO] [Bullet] Distance to wall: 443,66666 (30,210081% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] Starting wall penetration at (522.14905, 383.16284)
[18:55:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,475723
[18:55:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,022803
[18:55:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:11] [INFO] [Bullet] Exiting penetration at (534.38965, 468.10175) after traveling 33,333336 pixels through wall
[18:55:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:11] [INFO] [Bullet] Exiting penetration at (560.3447, 386.4087) after traveling 33,333336 pixels through wall
[18:55:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(116.389595, 509.2105), shooter_id=1238041103520, bullet_pos=(373.18332, 708.01904)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=324,75815
[18:55:11] [INFO] [Bullet] Distance to wall: 324,75815 (22,11338% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.00504, 608.3545), shooter_id=1234333337262, bullet_pos=(739.1129, 1006.26025)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=500,80994
[18:55:11] [INFO] [Bullet] Distance to wall: 500,80994 (34,10107% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(602.6126, 663.1818), shooter_id=1238041103520, bullet_pos=(59.148903, 469.33606)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=577
[18:55:11] [INFO] [Bullet] Distance to wall: 577 (39,28899% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.12915, 663.8815), shooter_id=1238041103520, bullet_pos=(62.842278, 465.77353)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=610,33344
[18:55:11] [INFO] [Bullet] Distance to wall: 610,33344 (41,558727% of viewport)
[18:55:11] [INFO] [Bullet] Distance-based penetration chance: 98,18149%
[18:55:11] [INFO] [Bullet] Starting wall penetration at (62.842278, 465.77353)
[18:55:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,725519
[18:55:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:11] [INFO] [Bullet] Exiting penetration at (26.584505, 453.3309) after traveling 33,333336 pixels through wall
[18:55:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.298, 717.47235), shooter_id=1238041103520, bullet_pos=(51.822784, 465.78186)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=677,0001
[18:55:11] [INFO] [Bullet] Distance to wall: 677,0001 (46,098183% of viewport)
[18:55:11] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:55:11] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.07574, 94.79565), source=PLAYER (Player), range=900, listeners=7
[18:55:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(89.165955, 481.98682), shooter_id=1238041103520, bullet_pos=(699.89044, 57.65718)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=743,6666
[18:55:11] [INFO] [Bullet] Distance to wall: 743,6666 (50,637627% of viewport)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (318.2476, 391.9911) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (817.4117, 905.3527) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (837.2709, 963.751) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (823.3708, 955.1371) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (801.299, 922.6042) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (826.3983, 927.7763) (added to group)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.00504, 608.3545), shooter_id=1234333337262, bullet_pos=(923.6578, 823.11224)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=533,76245
[18:55:11] [INFO] [Bullet] Distance to wall: 533,76245 (36,344868% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [ENEMY] [Enemy2] SEARCHING corner check: angle 104.3°
[18:55:11] [INFO] [LastChance] Visual effects fade-out complete
[18:55:11] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:55:11] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (299.8762, 422.2675) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (840.0864, 954.665) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (816.2416, 943.248) (added to group)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(116.389595, 509.2105), shooter_id=1238041103520, bullet_pos=(504.52115, 472.21112)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=389,89108
[18:55:11] [INFO] [Bullet] Distance to wall: 389,89108 (26,5484% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (313.0598, 412.7313) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (827.9362, 944.2128) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (297.899, 422.3415) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (289.8682, 397.9823) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (811.1589, 940.6423) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (856.1006, 898.358) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (292.2417, 408.9908) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (320.9887, 406.7132) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (813.1838, 945.9951) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (808.1398, 964.0082) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (418.6752, 584.4132) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (834.824, 917.5142) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (829.1473, 958.3142) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (860.6469, 945.9858) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (871.3052, 901.3836) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (829.8877, 911.4812) (added to group)
[18:55:11] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=479), can_see=false
[18:55:11] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1642), can_see=false
[18:55:11] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1906), can_see=false
[18:55:11] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1813), can_see=false
[18:55:11] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2278), can_see=false
[18:55:11] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2498), can_see=false
[18:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(80,80), corner_timer=-0.01
[18:55:11] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1866), can_see=false
[18:55:11] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (317.4353, 414.5634) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (837.2218, 910.5724) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (827.6477, 927.2946) (added to group)
[18:55:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(80,80), corner_timer=0.30
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (297.3665, 415.7475) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (351.9005, 419.2968) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (352.2662, 412.5805) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (856.344, 993.1058) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (892.8444, 953.539) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (876.1548, 977.127) (added to group)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(89.165955, 481.98682), shooter_id=1238041103520, bullet_pos=(991.0829, 291.29062)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=921,8564
[18:55:11] [INFO] [Bullet] Distance to wall: 921,8564 (62,770897% of viewport)
[18:55:11] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (380.2208, 426.98) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (433.1534, 599.0732) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (416.4699, 563.5538) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (848.4077, 973.4054) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (849.8496, 951.0653) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (458.5332, 533.5621) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (449.1986, 579.5383) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (344.1037, 374.416) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (313.4972, 395.3631) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (855.5176, 970.5309) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (430.9477, 605.7256) (added to group)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(116.389595, 509.2105), shooter_id=1238041103520, bullet_pos=(342.9662, 254.48087)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=340,91663
[18:55:11] [INFO] [Bullet] Distance to wall: 340,91663 (23,213642% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (833.3596, 972.2086) (added to group)
[18:55:11] [ENEMY] [Enemy1] Ragdoll activated
[18:55:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:11] [ENEMY] [Enemy4] Ragdoll activated
[18:55:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (904.4971, 986.5378) (added to group)
[18:55:11] [INFO] [Player.Reload.Anim] LeftArm: pos=(9.902849, 4.9514246), target=(12, 6), base=(24, 6)
[18:55:11] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000002, 7.4757123), target=(-2, 8), base=(-2, 6)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (862.3058, 998.6297) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (341.5634, 395.7206) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (830.7292, 940.8178) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (443.7426, 595.9249) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (465.3702, 547.7722) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (445.4115, 629.8599) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (402.0798, 423.5078) (added to group)
[18:55:11] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:55:11] [ENEMY] [Enemy1] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy2] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy4] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy5] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy6] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy7] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy8] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy9] Player reloading: true -> false
[18:55:11] [ENEMY] [Enemy10] Player reloading: true -> false
[18:55:11] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:55:11] [ENEMY] [Enemy2] SEARCHING corner check: angle 104.3°
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (857.0418, 981.1011) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (379.449, 431.9192) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (878.5333, 975.9443) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (864.6943, 978.0466) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (492.4604, 644.0189) (added to group)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(116.389595, 509.2105), shooter_id=1238041103520, bullet_pos=(467.1661, 59.47051)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=570,35974
[18:55:11] [INFO] [Bullet] Distance to wall: 570,35974 (38,836845% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (873.8663, 989.34) (added to group)
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (503.183, 619.0046) (added to group)
[18:55:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.00504, 608.3545), shooter_id=1234333337262, bullet_pos=(514.53906, 250.90761)
[18:55:11] [INFO] [Bullet] Using shooter_position, distance=366,18842
[18:55:11] [INFO] [Bullet] Distance to wall: 366,18842 (24,934444% of viewport)
[18:55:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:11] [INFO] [Bullet] Starting wall penetration at (514.53906, 250.90761)
[18:55:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,0856004
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (531.213, 633.4324) (added to group)
[18:55:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:11] [INFO] [Bullet] Exiting penetration at (483.61652, 207.65843) after traveling 24,083334 pixels through wall
[18:55:11] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[18:55:11] [INFO] [BloodDecal] Blood puddle created at (438.3926, 444.7971) (added to group)
[18:55:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(80,80), corner_timer=-0.01
[18:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(80,80), corner_timer=0.30
[18:55:12] [INFO] [BloodDecal] Blood puddle created at (476.618, 613.7198) (added to group)
[18:55:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(116.389595, 509.2105), shooter_id=1238041103520, bullet_pos=(526.8298, 200.2512)
[18:55:12] [INFO] [Bullet] Using shooter_position, distance=513,7285
[18:55:12] [INFO] [Bullet] Distance to wall: 513,7285 (34,98072% of viewport)
[18:55:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:12] [INFO] [Bullet] Starting wall penetration at (526.8298, 200.2512)
[18:55:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:12] [INFO] [Bullet] Exiting penetration at (534.55206, 218.47255) after traveling 14,790176 pixels through wall
[18:55:12] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[18:55:12] [INFO] [BloodDecal] Blood puddle created at (512.5389, 660.1698) (added to group)
[18:55:12] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:55:12] [INFO] [BloodDecal] Blood puddle created at (593.5851, 720.3073) (added to group)
[18:55:12] [INFO] [ReplayManager] Recording frame 600 (9,1s): player_valid=True, enemies=10
[18:55:12] [ENEMY] [Enemy2] SEARCHING corner check: angle -20.1°
[18:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-126.7°, player=(98,80), corner_timer=-0.01
[18:55:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-129.0°, player=(101,80), corner_timer=0.30
[18:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=178.1°, player=(198,80), corner_timer=-0.01
[18:55:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:55:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=179.0°, player=(202,80), corner_timer=0.30
[18:55:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:12] [ENEMY] [Enemy2] SEARCHING corner check: angle -20.1°
[18:55:12] [ENEMY] [Enemy1] Death animation completed
[18:55:12] [ENEMY] [Enemy4] Death animation completed
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(290.7911, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=126.1°, player=(303,80), corner_timer=-0.01
[18:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=128.4°, player=(308,80), corner_timer=0.30
[18:55:13] [INFO] [ReplayManager] Recording frame 660 (9,9s): player_valid=True, enemies=10
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.9911, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(290.7911, 80.122406), shooter_id=1238041103520, bullet_pos=(67.35858, 434.1842)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=418,66675
[18:55:13] [INFO] [Bullet] Distance to wall: 418,66675 (28,50779% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.191, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.99106, 80.122406), shooter_id=1238041103520, bullet_pos=(63.871925, 315.06403)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=352,00003
[18:55:13] [INFO] [Bullet] Distance to wall: 352,00003 (23,96833% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(290.7911, 80.122406), shooter_id=1238041103520, bullet_pos=(205.5515, 687.24316)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=613,0753
[18:55:13] [INFO] [Bullet] Distance to wall: 613,0753 (41,745426% of viewport)
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.391, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.191, 80.122406), shooter_id=1238041103520, bullet_pos=(52.331352, 248.97072)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=352,00003
[18:55:13] [INFO] [Bullet] Distance to wall: 352,00003 (23,96833% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(409,80), corner_timer=-0.01
[18:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(413,80), corner_timer=0.30
[18:55:13] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-13.7°, current=-13.1°, player=(427,80), corner_timer=0.13
[18:55:13] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[18:55:13] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.5909, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[18:55:13] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[18:55:13] [INFO] [ImpactEffects] spawn_blood_effect called at (88.0758, 160.9796), dir=(1, 0), lethal=false
[18:55:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:13] [INFO] [ImpactEffects] Blood effect spawned at (88.0758, 160.9796) (scale=1)
[18:55:13] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-13.2°, current=180.0°, player=(431,80), corner_timer=0.13
[18:55:13] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:55:13] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-20.1°, current=-177.7°, player=(435,80), corner_timer=0.13
[18:55:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.99106, 80.122406), shooter_id=1238041103520, bullet_pos=(367.5733, 695.3401)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=616,62134
[18:55:13] [INFO] [Bullet] Distance to wall: 616,62134 (41,98688% of viewport)
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.7909, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.5909, 80.122406), shooter_id=1238041103520, bullet_pos=(51.470238, 143.28958)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=385,33337
[18:55:13] [INFO] [Bullet] Distance to wall: 385,33337 (26,23806% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:13] [INFO] [Bullet] Starting wall penetration at (51.470238, 143.28958)
[18:55:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,596096
[18:55:13] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:13] [INFO] [Bullet] Exiting penetration at (13.655468, 149.57352) after traveling 33,333336 pixels through wall
[18:55:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.99106, 80.122406), shooter_id=1238041103520, bullet_pos=(501.1584, 518.3425)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=471,9327
[18:55:13] [INFO] [Bullet] Distance to wall: 471,9327 (32,13477% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:13] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-14.4°, current=-48.8°, player=(479,80), corner_timer=0.13
[18:55:13] [ENEMY] [Enemy2] Status: BLINDED applied
[18:55:13] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-20.1°, current=-41.9°, player=(493,80), corner_timer=0.13
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(100.4522, 186.2285), source=ENEMY (Enemy2), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.9908, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.79086, 80.122406), shooter_id=1238041103520, bullet_pos=(51.400146, 132.3941)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=418,66666
[18:55:13] [INFO] [Bullet] Distance to wall: 418,66666 (28,507784% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(515,80), corner_timer=-0.01
[18:55:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(104.7496, 195.9884), source=ENEMY (Enemy2), range=1469, listeners=7
[18:55:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=0
[18:55:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(519,80), corner_timer=0.30
[18:55:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(158.91295, 151.40126), shooter_id=1234333337262, bullet_pos=(292.51224, 51.756866)
[18:55:13] [INFO] [Bullet] Using shooter_position, distance=166,66666
[18:55:13] [INFO] [Bullet] Distance to wall: 166,66666 (11,3486395% of viewport)
[18:55:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.1909, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (138.9721, 209.1721) (added to group)
[18:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.99106, 80.122406), shooter_id=1238041103520, bullet_pos=(310.5592, 271.24963)
[18:55:14] [INFO] [Bullet] Using shooter_position, distance=191,7492
[18:55:14] [INFO] [Bullet] Distance to wall: 191,7492 (13,056557% of viewport)
[18:55:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (151.7759, 158.4752) (added to group)
[18:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.9908, 80.122406), shooter_id=1238041103520, bullet_pos=(53.096905, 133.02144)
[18:55:14] [INFO] [Bullet] Using shooter_position, distance=452,00006
[18:55:14] [INFO] [Bullet] Distance to wall: 452,00006 (30,777517% of viewport)
[18:55:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:14] [INFO] [Bullet] Starting wall penetration at (53.096905, 133.02144)
[18:55:14] [ENEMY] [Enemy2] Status: BLINDED removed
[18:55:14] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-18.4°, current=-7.3°, player=(554,80), corner_timer=0.13
[18:55:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,090454
[18:55:14] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:14] [INFO] [Bullet] Exiting penetration at (15.026997, 137.5077) after traveling 33,333332 pixels through wall
[18:55:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:14] [INFO] [LastChance] Threat detected: @Area2D@4652
[18:55:14] [INFO] [LastChance] Effect already used this life
[18:55:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(158.91295, 151.40126), shooter_id=1234333337262, bullet_pos=(511.54114, 239.27344)
[18:55:14] [INFO] [Bullet] Using shooter_position, distance=363,41183
[18:55:14] [INFO] [Bullet] Distance to wall: 363,41183 (24,74538% of viewport)
[18:55:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:14] [INFO] [Bullet] Starting wall penetration at (511.54114, 239.27344)
[18:55:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-20.1°, current=38.8°, player=(567,80), corner_timer=0.13
[18:55:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,932316
[18:55:14] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:14] [INFO] [Bullet] Exiting penetration at (536.8624, 260.95166) after traveling 28,333332 pixels through wall
[18:55:14] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (208.9435, 255.1612) (added to group)
[18:55:14] [INFO] [ReplayManager] Recording frame 720 (10,7s): player_valid=True, enemies=10
[18:55:14] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-19.7°, current=28.7°, player=(581,80), corner_timer=0.13
[18:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.1909, 80.122406), shooter_id=1238041103520, bullet_pos=(55.78792, 141.76314)
[18:55:14] [INFO] [Bullet] Using shooter_position, distance=485,33328
[18:55:14] [INFO] [Bullet] Distance to wall: 485,33328 (33,047237% of viewport)
[18:55:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:14] [INFO] [Bullet] Starting wall penetration at (55.78792, 141.76314)
[18:55:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,351203
[18:55:14] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:14] [INFO] [Bullet] Exiting penetration at (17.765018, 146.63174) after traveling 33,333336 pixels through wall
[18:55:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(170.92508, 180.13275), shooter_id=1234333337262, bullet_pos=(793.3981, 63.34984)
[18:55:14] [INFO] [Bullet] Using shooter_position, distance=633,3332
[18:55:14] [INFO] [Bullet] Distance to wall: 633,3332 (43,12482% of viewport)
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (214.6456, 169.754) (added to group)
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (257.553, 146.711) (added to group)
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (206.7277, 222.0962) (added to group)
[18:55:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-20.1°, current=16.7°, player=(620,80), corner_timer=0.13
[18:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(620,80), corner_timer=-0.01
[18:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(625,80), corner_timer=0.30
[18:55:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(325.99106, 80.122406), shooter_id=1238041103520, bullet_pos=(63.002426, 522.89935)
[18:55:14] [INFO] [Bullet] Using shooter_position, distance=514,98975
[18:55:14] [INFO] [Bullet] Distance to wall: 514,98975 (35,066597% of viewport)
[18:55:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:14] [INFO] [Bullet] Starting wall penetration at (63.002426, 522.89935)
[18:55:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:14] [INFO] [Bullet] Exiting penetration at (47.29348, 538.868) after traveling 17,400208 pixels through wall
[18:55:14] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (236.0815, 199.4859) (added to group)
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (208.7478, 264.0098) (added to group)
[18:55:14] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:55:14] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:14] [INFO] [BloodDecal] Blood puddle created at (251.1453, 315.212) (added to group)
[18:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(715,80), corner_timer=-0.01
[18:55:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(717,80), corner_timer=0.30
[18:55:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(707,80), corner_timer=-0.01
[18:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(704,80), corner_timer=0.30
[18:55:15] [INFO] [ReplayManager] Recording frame 780 (11,5s): player_valid=True, enemies=10
[18:55:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(607,80), corner_timer=-0.01
[18:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(602,80), corner_timer=0.30
[18:55:15] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:55:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:15] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[18:55:15] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:55:15] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(501,80), corner_timer=-0.01
[18:55:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(497,80), corner_timer=0.30
[18:55:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:16] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[18:55:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:55:16] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:55:16] [INFO] [ReplayManager] Recording frame 840 (12,3s): player_valid=True, enemies=10
[18:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(395,80), corner_timer=-0.01
[18:55:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:16] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[18:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(391,80), corner_timer=0.30
[18:55:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:55:16] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[18:55:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:16] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-51.4°, current=-98.5°, player=(338,80), corner_timer=0.13
[18:55:16] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-20.1°, current=40.6°, player=(315,80), corner_timer=0.13
[18:55:16] [ENEMY] [Enemy2] Status: BLINDED applied
[18:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.1911, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[18:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(288,80), corner_timer=-0.01
[18:55:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(282,80), corner_timer=0.30
[18:55:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(255.1911, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:55:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:55:16] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[18:55:16] [INFO] [ImpactEffects] spawn_blood_effect called at (97.27412, 460.4907), dir=(1, 0), lethal=true
[18:55:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:16] [INFO] [ImpactEffects] Blood effect spawned at (97.27412, 460.4907) (scale=1.5)
[18:55:16] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:55:16] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:55:16] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[18:55:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:16] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[18:55:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(215.5911, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:55:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:55:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(255.1911, 80.122406), shooter_id=1238041103520, bullet_pos=(65.07199, 490.19403)
[18:55:16] [INFO] [Bullet] Using shooter_position, distance=452,00003
[18:55:16] [INFO] [Bullet] Distance to wall: 452,00003 (30,777514% of viewport)
[18:55:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:17] [ENEMY] [Enemy2] Status: BLINDED removed
[18:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(180,80), corner_timer=-0.01
[18:55:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(175.9912, 80.12241), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:55:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.5°, player=(175,80), corner_timer=0.30
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(255.1911, 80.122406), shooter_id=1238041103520, bullet_pos=(126.298775, 684.09015)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=617,56805
[18:55:17] [INFO] [Bullet] Distance to wall: 617,56805 (42,051346% of viewport)
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(215.59113, 80.122406), shooter_id=1238041103520, bullet_pos=(65.8748, 541.78613)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=485,33325
[18:55:17] [INFO] [Bullet] Distance to wall: 485,33325 (33,047234% of viewport)
[18:55:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:17] [INFO] [ReplayManager] Recording frame 900 (13,2s): player_valid=True, enemies=10
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (154.0991, 493.4777) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (159.5443, 453.3271) (added to group)
[18:55:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (142.3729, 493.9685) (added to group)
[18:55:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(140.8729, 80.3195), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:55:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(215.59113, 80.122406), shooter_id=1238041103520, bullet_pos=(100.619, 713.3023)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=643,5335
[18:55:17] [INFO] [Bullet] Distance to wall: 643,5335 (43,81938% of viewport)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (157.8348, 511.0002) (added to group)
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(255.1911, 80.122406), shooter_id=1238041103520, bullet_pos=(231.30746, 461.81293)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=382,437
[18:55:17] [INFO] [Bullet] Distance to wall: 382,437 (26,04084% of viewport)
[18:55:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(175.99118, 80.122406), shooter_id=1238041103520, bullet_pos=(62.281258, 551.94714)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=485,33344
[18:55:17] [INFO] [Bullet] Distance to wall: 485,33344 (33,04725% of viewport)
[18:55:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (219.8366, 511.718) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (193.2832, 478.3759) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (181.0628, 488.4423) (added to group)
[18:55:17] [ENEMY] [Enemy2] Ragdoll activated
[18:55:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(255.1911, 80.122406), shooter_id=1238041103520, bullet_pos=(317.67856, 697.1118)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=620,1456
[18:55:17] [INFO] [Bullet] Distance to wall: 620,1456 (42,226856% of viewport)
[18:55:17] [INFO] [Bullet] Distance-based penetration chance: 97,402%
[18:55:17] [INFO] [Bullet] Starting wall penetration at (317.67856, 697.1118)
[18:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(93,101), corner_timer=-0.01
[18:55:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,61136
[18:55:17] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:17] [INFO] [Bullet] Exiting penetration at (326.4555, 721.0227) after traveling 20,470833 pixels through wall
[18:55:17] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(91,104), corner_timer=0.30
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (251.4238, 559.0117) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (206.2037, 559.9717) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (231.7566, 517.5087) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (248.6586, 515.6776) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (272.7267, 524.5186) (added to group)
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(140.87286, 80.3195), shooter_id=1238041103520, bullet_pos=(67.89366, 828.77026)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=752,0003
[18:55:17] [INFO] [Bullet] Distance to wall: 752,0003 (51,205086% of viewport)
[18:55:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(215.59113, 80.122406), shooter_id=1238041103520, bullet_pos=(67.14896, 1222.9547)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=1152,4325
[18:55:17] [INFO] [Bullet] Distance to wall: 1152,4325 (78,47125% of viewport)
[18:55:17] [INFO] [Bullet] Distance-based penetration chance: 55,11688%
[18:55:17] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (250.6625, 515.179) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (285.5021, 611.9415) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (271.7651, 618.1816) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (195.1248, 517.0714) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (202.0663, 577.339) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (310.9283, 645.9485) (added to group)
[18:55:17] [INFO] [BloodDecal] Blood puddle created at (285.8393, 511.2026) (added to group)
[18:55:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(175.99118, 80.122406), shooter_id=1238041103520, bullet_pos=(222.69055, 1391.7644)
[18:55:17] [INFO] [Bullet] Using shooter_position, distance=1312,473
[18:55:17] [INFO] [Bullet] Distance to wall: 1312,473 (89,368706% of viewport)
[18:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(98,180), corner_timer=-0.01
[18:55:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(100,183), corner_timer=0.30
[18:55:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:17] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:18] [INFO] [ReplayManager] Recording frame 960 (14,0s): player_valid=True, enemies=10
[18:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(169,256), corner_timer=-0.01
[18:55:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(172,259), corner_timer=0.30
[18:55:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:18] [ENEMY] [Enemy2] Death animation completed
[18:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(246,325), corner_timer=-0.01
[18:55:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(249,327), corner_timer=0.30
[18:55:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(337,307), corner_timer=-0.01
[18:55:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(340,304), corner_timer=0.30
[18:55:19] [INFO] [ReplayManager] Recording frame 1020 (14,8s): player_valid=True, enemies=10
[18:55:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.2°, player=(412,233), corner_timer=-0.01
[18:55:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(415,230), corner_timer=0.30
[18:55:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.2°, player=(487,158), corner_timer=-0.01
[18:55:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:55:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.1°, player=(491,154), corner_timer=0.30
[18:55:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:20] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:55:20] [INFO] [ReplayManager] Recording frame 1080 (15,7s): player_valid=True, enemies=10
[18:55:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(579,116), corner_timer=-0.02
[18:55:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(585,116), corner_timer=0.30
[18:55:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(689,116), corner_timer=-0.02
[18:55:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(695,116), corner_timer=0.30
[18:55:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(799,116), corner_timer=-0.02
[18:55:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(805,116), corner_timer=0.30
[18:55:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:21] [INFO] [ReplayManager] Recording frame 1140 (16,7s): player_valid=True, enemies=10
[18:55:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(909,116), corner_timer=-0.02
[18:55:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(915,116), corner_timer=0.30
[18:55:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1019,116), corner_timer=-0.02
[18:55:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1025,116), corner_timer=0.30
[18:55:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1128,113), corner_timer=-0.02
[18:55:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1133,111), corner_timer=0.30
[18:55:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:22] [INFO] [ReplayManager] Recording frame 1200 (17,7s): player_valid=True, enemies=10
[18:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1216,80), corner_timer=-0.02
[18:55:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1222,80), corner_timer=0.30
[18:55:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:22] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[18:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1326,80), corner_timer=-0.02
[18:55:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1332,80), corner_timer=0.30
[18:55:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1431.472, 80.06508), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:55:22] [ENEMY] [Enemy5] Heard gunshot at (1431.472, 80.06508), source_type=0, intensity=0.02, distance=381
[18:55:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:55:22] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-134.9°, current=-101.3°, player=(1431,80), corner_timer=0.00
[18:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1436,80), corner_timer=-0.02
[18:55:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1442,80), corner_timer=0.30
[18:55:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1466.4, 88.688), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:55:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:55:22] [ENEMY] [Enemy6] Memory: medium confidence (0.62) - transitioning to PURSUING
[18:55:22] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[18:55:22] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-143.2°, current=11.3°, player=(1470,91), corner_timer=0.00
[18:55:22] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[18:55:23] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-143.3°, current=-114.3°, player=(1479,97), corner_timer=0.30
[18:55:23] [ENEMY] [Enemy5] Status: BLINDED applied
[18:55:23] [ENEMY] [Enemy6] Status: BLINDED applied
[18:55:23] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/2->1/2
[18:55:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.066, 297.7681), dir=(1, 0), lethal=false
[18:55:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:23] [INFO] [ImpactEffects] Blood effect spawned at (1684.066, 297.7681) (scale=1)
[18:55:23] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-144.2°, current=-122.9°, player=(1491,107), corner_timer=0.25
[18:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1495.3, 111.8642), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:55:23] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[18:55:23] [INFO] [ReplayManager] Recording frame 1260 (18,6s): player_valid=True, enemies=10
[18:55:23] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-90.0°, current=-169.5°, player=(1507,124), corner_timer=0.00
[18:55:23] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/2->0/2
[18:55:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1688.27, 290.5603), dir=(1, 0), lethal=true
[18:55:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:23] [INFO] [ImpactEffects] Blood effect spawned at (1688.27, 290.5603) (scale=1.5)
[18:55:23] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:55:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:23] [ENEMY] [Enemy6] [AllyDeath] Witnessed at (1688.27, 290.5603), entering SEARCHING
[18:55:23] [ENEMY] [Enemy6] SEARCHING started: center=(1688.27, 290.5603), radius=100, waypoints=5
[18:55:23] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[18:55:23] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[18:55:23] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:23] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[18:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1520.191, 136.7543), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:55:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1520,136), corner_timer=-0.01
[18:55:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:55:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1523,139), corner_timer=0.30
[18:55:23] [ENEMY] [Enemy5] Status: BLINDED removed
[18:55:23] [ENEMY] [Enemy6] Status: BLINDED removed
[18:55:23] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-146.5°, current=-148.0°, player=(1535,152), corner_timer=0.06
[18:55:23] [ENEMY] [Enemy6] SEARCHING: Player spotted! Transitioning to COMBAT
[18:55:23] [ENEMY] [Enemy6] State: SEARCHING -> COMBAT
[18:55:23] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[18:55:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1545.081, 161.6444), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:55:23] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/2->1/2
[18:55:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1896.413, 375.547), dir=(1, 0), lethal=false
[18:55:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:23] [INFO] [ImpactEffects] Blood effect spawned at (1896.413, 375.547) (scale=1)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1764.489, 293.7668) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1743.922, 336.1522) (added to group)
[18:55:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1431.4716, 80.06508), shooter_id=1238041103520, bullet_pos=(2476.6504, 911.1567)
[18:55:23] [INFO] [Bullet] Using shooter_position, distance=1335,3322
[18:55:23] [INFO] [Bullet] Distance to wall: 1335,3322 (90,925224% of viewport)
[18:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1569.972, 186.5346), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:55:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1789.32, 372.7457) (added to group)
[18:55:23] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/2->0/2
[18:55:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1893.024, 367.0049), dir=(1, 0), lethal=true
[18:55:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:23] [INFO] [ImpactEffects] Blood effect spawned at (1893.024, 367.0049) (scale=1.5)
[18:55:23] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:55:23] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:55:23] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[18:55:23] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:23] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1753.273, 330.6773) (added to group)
[18:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1587.25, 211.1388), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[18:55:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1569.972, 186.53458), shooter_id=1238041103520, bullet_pos=(1858.2773, 322.28693)
[18:55:23] [INFO] [Bullet] Using shooter_position, distance=318,667
[18:55:23] [INFO] [Bullet] Distance to wall: 318,667 (21,698622% of viewport)
[18:55:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:23] [INFO] [Bullet] Starting wall penetration at (1858.2773, 322.28693)
[18:55:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(1587,211), corner_timer=-0.01
[18:55:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,31201
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1744.344, 300.6225) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1800.705, 313.3566) (added to group)
[18:55:23] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:23] [INFO] [Bullet] Exiting penetration at (1892.9584, 338.61697) after traveling 33,333332 pixels through wall
[18:55:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(1588,213), corner_timer=0.30
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1767.512, 315.9632) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1775.064, 360.0126) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1748.242, 331.1265) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1823.058, 332.5629) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1796.655, 367.4028) (added to group)
[18:55:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1587.2496, 211.13882), shooter_id=1238041103520, bullet_pos=(1857.9679, 301.2881)
[18:55:23] [INFO] [Bullet] Using shooter_position, distance=285,33362
[18:55:23] [INFO] [Bullet] Distance to wall: 285,33362 (19,42889% of viewport)
[18:55:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:23] [INFO] [Bullet] Starting wall penetration at (1857.9679, 301.2881)
[18:55:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1591.975, 231.0735), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[18:55:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:23] [INFO] [Bullet] Exiting penetration at (1894.3378, 313.39926) after traveling 33,333336 pixels through wall
[18:55:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1805.792, 375.5741) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1766.432, 372.3468) (added to group)
[18:55:23] [ENEMY] [Enemy5] Ragdoll activated
[18:55:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1851.704, 367.1645) (added to group)
[18:55:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1591.9749, 231.07346), shooter_id=1238041103520, bullet_pos=(1837.7772, 286.61807)
[18:55:23] [INFO] [Bullet] Using shooter_position, distance=252,00002
[18:55:23] [INFO] [Bullet] Distance to wall: 252,00002 (17,159145% of viewport)
[18:55:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1849.278, 406.0811) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1966.761, 383.952) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1956.076, 402.5631) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1976.687, 393.1465) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1790.513, 348.4508) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1805.942, 442.4205) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1765.764, 317.3354) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1782.96, 401.0288) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1843.894, 335.1622) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1797.58, 381.9253) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1873.26, 416.4795) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1786.345, 346.0976) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1960.347, 392.214) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1857.974, 387.5248) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1814.275, 396.5818) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1902.651, 391.767) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1960.345, 366.8856) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1949.583, 372.0384) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1963.278, 429.1381) (added to group)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (2026.32, 469.3229) (added to group)
[18:55:23] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:23] [INFO] [BloodDecal] Blood puddle created at (1836.647, 313.673) (added to group)
[18:55:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(1564,252), corner_timer=-0.01
[18:55:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1995.292, 395.0582) (added to group)
[18:55:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1561,253), corner_timer=0.30
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1848.303, 356.2826) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2025.203, 487.2651) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1971.572, 433.1895) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1806.891, 430.9822) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2003.844, 382.784) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2018.747, 397.6821) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1963.495, 386.4048) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2043.145, 424.4996) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2021.228, 439.1302) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1983.104, 459.8916) (added to group)
[18:55:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:24] [ENEMY] [Enemy6] Ragdoll activated
[18:55:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2054.679, 379.9896) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1973.662, 426.8252) (added to group)
[18:55:24] [INFO] [ReplayManager] Recording frame 1320 (19,4s): player_valid=True, enemies=10
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2034.451, 412.2921) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2069.349, 363.2204) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1994.427, 444.0618) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1990.845, 410.9966) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2004.474, 480.7048) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2044.188, 455.3907) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2068.576, 550.4235) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (1999.502, 452.9571) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2008.54, 457.9489) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2102.791, 561.7859) (added to group)
[18:55:24] [INFO] [BloodDecal] Blood puddle created at (2024.635, 453.1699) (added to group)
[18:55:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(1480,293), corner_timer=-0.01
[18:55:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1477,296), corner_timer=0.30
[18:55:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(1412,371), corner_timer=-0.01
[18:55:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:55:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1411,374), corner_timer=0.30
[18:55:24] [ENEMY] [Enemy5] Death animation completed
[18:55:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:25] [INFO] [ReplayManager] Recording frame 1380 (20,2s): player_valid=True, enemies=10
[18:55:25] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:55:25] [ENEMY] [Enemy5] Player reloading: false -> true
[18:55:25] [ENEMY] [Enemy6] Player reloading: false -> true
[18:55:25] [ENEMY] [Enemy7] Player reloading: false -> true
[18:55:25] [ENEMY] [Enemy8] Player reloading: false -> true
[18:55:25] [ENEMY] [Enemy9] Player reloading: false -> true
[18:55:25] [ENEMY] [Enemy10] Player reloading: false -> true
[18:55:25] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1407.723, 461.2569), source=PLAYER (Player), range=900, listeners=4
[18:55:25] [ENEMY] [Enemy7] Heard player RELOAD at (1407.723, 461.2569), intensity=0.01, distance=482
[18:55:25] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[18:55:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[18:55:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-114.9°, current=89.3°, player=(1407,461), corner_timer=0.03
[18:55:25] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=482), can_see=false
[18:55:25] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1407.723, 461.2569), distance=482
[18:55:25] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1105), can_see=false
[18:55:25] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1290), can_see=false
[18:55:25] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1167), can_see=false
[18:55:25] [ENEMY] [Enemy6] Death animation completed
[18:55:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:25] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:55:25] [INFO] [Player.Reload.Anim] LeftArm: pos=(8.744714, 4.3653417), target=(12, 6), base=(24, 6)
[18:55:25] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0028062, 7.1808004), target=(-2, 8), base=(-2, 6)
[18:55:25] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:55:25] [ENEMY] [Enemy5] Player reloading: true -> false
[18:55:25] [ENEMY] [Enemy6] Player reloading: true -> false
[18:55:25] [ENEMY] [Enemy7] Player reloading: true -> false
[18:55:25] [ENEMY] [Enemy8] Player reloading: true -> false
[18:55:25] [ENEMY] [Enemy9] Player reloading: true -> false
[18:55:25] [ENEMY] [Enemy10] Player reloading: true -> false
[18:55:25] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:55:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:25] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:55:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:26] [INFO] [ReplayManager] Recording frame 1440 (21,0s): player_valid=True, enemies=10
[18:55:26] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1407.723, 461.2569), distance=509
[18:55:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:26] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-163.5°, current=171.6°, player=(1622,555), corner_timer=0.03
[18:55:26] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[18:55:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1800.065, 600.9178), source=ENEMY (Enemy7), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[18:55:27] [INFO] [LastChance] Threat detected: Bullet
[18:55:27] [INFO] [LastChance] Effect already used this life
[18:55:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1630.732, 483.1804), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [INFO] [ReplayManager] Recording frame 1500 (22,0s): player_valid=True, enemies=10
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1800.065, 600.9178), source=ENEMY (Enemy7), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[18:55:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1613.486, 451.8238), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [INFO] [LastChance] Threat detected: @Area2D@4937
[18:55:27] [INFO] [LastChance] Effect already used this life
[18:55:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1740.2454, 571.53217), shooter_id=1236094946371, bullet_pos=(1387.9858, 348.99127)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=416,6668
[18:55:27] [INFO] [Bullet] Distance to wall: 416,6668 (28,37161% of viewport)
[18:55:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:27] [INFO] [Bullet] Starting wall penetration at (1387.9858, 348.99127)
[18:55:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,29534
[18:55:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:27] [INFO] [Bullet] Exiting penetration at (1348.5327, 324.06668) after traveling 41,66667 pixels through wall
[18:55:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:27] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1800.065, 600.9178), source=ENEMY (Enemy7), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1586.456, 424.52), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [INFO] [LastChance] Threat detected: Bullet
[18:55:27] [INFO] [LastChance] Effect already used this life
[18:55:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:27] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=89.3°, current=-136.4°, player=(1567,405), corner_timer=0.03
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1558.85, 398.2202), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1630.7318, 483.18042), shooter_id=1238041103520, bullet_pos=(2494.5964, 819.433)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=926,9994
[18:55:27] [INFO] [Bullet] Distance to wall: 926,9994 (63,121094% of viewport)
[18:55:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:27] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[18:55:27] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1526.269, 383.9309), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1613.4861, 451.82382), shooter_id=1238041103520, bullet_pos=(2461.668, 825.88055)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=927,00104
[18:55:27] [INFO] [Bullet] Distance to wall: 927,00104 (63,121204% of viewport)
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1742.8037, 564.0912), shooter_id=1236094946371, bullet_pos=(1261.9664, 43.964886)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=708,3331
[18:55:27] [INFO] [Bullet] Distance to wall: 708,3331 (48,231705% of viewport)
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1490.873, 384.8749), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1742.8037, 564.0912), shooter_id=1236094946371, bullet_pos=(1121.9961, 254.61891)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=693,6679
[18:55:27] [INFO] [Bullet] Distance to wall: 693,6679 (47,233124% of viewport)
[18:55:27] [INFO] [Bullet] Distance-based penetration chance: 91,561356%
[18:55:27] [INFO] [Bullet] Starting wall penetration at (1121.9961, 254.61891)
[18:55:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:27] [INFO] [Bullet] Exiting penetration at (1099.6285, 288.28192) after traveling 35,416668 pixels through wall
[18:55:27] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1586.4563, 424.51996), shooter_id=1238041103520, bullet_pos=(2473.3616, 990.2946)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=1051,999
[18:55:27] [INFO] [Bullet] Distance to wall: 1051,999 (71,63255% of viewport)
[18:55:27] [INFO] [Bullet] Distance-based penetration chance: 63,095356%
[18:55:27] [INFO] [Bullet] Starting wall penetration at (2473.3616, 990.2946)
[18:55:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,81408
[18:55:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:27] [INFO] [Bullet] Exiting penetration at (2512.7046, 1015.39233) after traveling 41,66667 pixels through wall
[18:55:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1460.22, 401.3676), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1558.8503, 398.22018), shooter_id=1238041103520, bullet_pos=(2479.1885, 989.05475)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=1093,6671
[18:55:27] [INFO] [Bullet] Distance to wall: 1093,6671 (74,4698% of viewport)
[18:55:27] [INFO] [Bullet] Distance-based penetration chance: 59,785236%
[18:55:27] [INFO] [Bullet] Starting wall penetration at (2479.1885, 989.05475)
[18:55:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,689016
[18:55:27] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:27] [INFO] [Bullet] Exiting penetration at (2518.4592, 1014.2656) after traveling 41,666668 pixels through wall
[18:55:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1460.2202, 401.36755), shooter_id=1238041103520, bullet_pos=(1735.1438, 607.5805)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=343,66663
[18:55:27] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[18:55:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1526.2694, 383.93088), shooter_id=1238041103520, bullet_pos=(2466.0146, 1021.00104)
[18:55:27] [INFO] [Bullet] Using shooter_position, distance=1135,3323
[18:55:27] [INFO] [Bullet] Distance to wall: 1135,3323 (77,30687% of viewport)
[18:55:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1490.8733, 384.8749), shooter_id=1238041103520, bullet_pos=(2470.91, 1109.2201)
[18:55:28] [INFO] [Bullet] Using shooter_position, distance=1218,6664
[18:55:28] [INFO] [Bullet] Distance to wall: 1218,6664 (82,98123% of viewport)
[18:55:28] [INFO] [ReplayManager] Recording frame 1560 (23,0s): player_valid=True, enemies=10
[18:55:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:28] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [ScoreManager] Combo ended at 2. Max combo: 3
[18:55:29] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [ReplayManager] Recording frame 1620 (24,0s): player_valid=True, enemies=10
[18:55:29] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1821.24, 540.8055), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1821.2396, 540.8055), shooter_id=1238041103520, bullet_pos=(1762.9717, 614.1423)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=93,66663
[18:55:29] [INFO] [Bullet] Distance to wall: 93,66663 (6,377933% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1850.858, 562.2483), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1850.8575, 562.2483), shooter_id=1238041103520, bullet_pos=(1763.8518, 596.9392)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=93,66674
[18:55:29] [INFO] [Bullet] Distance to wall: 93,66674 (6,3779407% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1878.081, 589.472), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1878.0808, 589.472), shooter_id=1238041103520, bullet_pos=(1743.5441, 604.1336)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=135,33328
[18:55:29] [INFO] [Bullet] Distance to wall: 135,33328 (9,215093% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [INFO] [Bullet] Starting wall penetration at (1743.5441, 604.1336)
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1821.2396, 540.8055), shooter_id=1238041103520, bullet_pos=(1376.1915, 242.70602)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=535,6595
[18:55:29] [INFO] [Bullet] Distance to wall: 535,6595 (36,47404% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:29] [INFO] [Bullet] Exiting penetration at (1697.1521, 609.18933) after traveling 41,666668 pixels through wall
[18:55:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1850.8575, 562.2483), shooter_id=1238041103520, bullet_pos=(1370.3988, 423.46057)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=500,1026
[18:55:29] [INFO] [Bullet] Distance to wall: 500,1026 (34,052906% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [INFO] [Bullet] Starting wall penetration at (1370.3988, 423.46057)
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1902.225, 617.9713), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,423527
[18:55:29] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:29] [INFO] [Bullet] Exiting penetration at (1333.4172, 407.15494) after traveling 35,416668 pixels through wall
[18:55:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1902.2247, 617.9713), shooter_id=1238041103520, bullet_pos=(1766.9066, 615.94867)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=135,33324
[18:55:29] [INFO] [Bullet] Distance to wall: 135,33324 (9,215089% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [INFO] [Bullet] Starting wall penetration at (1766.9066, 615.94867)
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:29] [INFO] [Bullet] Exiting penetration at (1720.2452, 615.2512) after traveling 41,66667 pixels through wall
[18:55:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1821.2396, 540.8055), shooter_id=1238041103520, bullet_pos=(1576.1571, 52.56099)
[18:55:29] [INFO] [Bullet] Using shooter_position, distance=546,3041
[18:55:29] [INFO] [Bullet] Distance to wall: 546,3041 (37,19885% of viewport)
[18:55:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1911.701, 647.0461), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/2->1/2
[18:55:29] [INFO] [ImpactEffects] spawn_blood_effect called at (1605.426, 650.1532), dir=(1, 0), lethal=false
[18:55:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:29] [INFO] [ImpactEffects] Blood effect spawned at (1605.426, 650.1532) (scale=1)
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1909.317, 683.9825), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:55:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:29] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1821.2396, 540.8055), shooter_id=1238041103520, bullet_pos=(1841.9448, 322.171)
[18:55:30] [INFO] [Bullet] Using shooter_position, distance=219,61272
[18:55:30] [INFO] [Bullet] Distance to wall: 219,61272 (14,953834% of viewport)
[18:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:30] [INFO] [Bullet] Starting wall penetration at (1841.9448, 322.171)
[18:55:30] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/2->0/2
[18:55:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1605.426, 650.1532), dir=(1, 0), lethal=true
[18:55:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:30] [INFO] [ImpactEffects] Blood effect spawned at (1605.426, 650.1532) (scale=1.5)
[18:55:30] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[18:55:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:30] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[18:55:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:30] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,902508
[18:55:30] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:30] [INFO] [Bullet] Exiting penetration at (1859.8264, 340.30972) after traveling 20,470833 pixels through wall
[18:55:30] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1892.671, 714.8584), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [ReplayManager] Recording frame 1680 (24,9s): player_valid=True, enemies=10
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1865.523, 732.2383), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:55:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1710.452, 645.8638) (added to group)
[18:55:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1832.955, 738.4191), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1681.539, 681.9325) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1728.159, 711.0887) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1662.52, 685.0309) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1728.804, 744.3585) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1728.234, 747.5217) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1700.751, 632.4161) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1694.492, 637.4413) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1706.262, 690.8548) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1674.665, 671.8058) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1733.531, 655.7018) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1703.015, 662.3455) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1723.503, 691.4796) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1832.9551, 738.4191), shooter_id=1238041103520, bullet_pos=(1464.2275, 626.5163)
[18:55:30] [INFO] [Bullet] Using shooter_position, distance=385,33395
[18:55:30] [INFO] [Bullet] Distance to wall: 385,33395 (26,238098% of viewport)
[18:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1892.6708, 714.8584), shooter_id=1238041103520, bullet_pos=(912.8893, 610.41516)
[18:55:30] [INFO] [Bullet] Using shooter_position, distance=985,3325
[18:55:30] [INFO] [Bullet] Distance to wall: 985,3325 (67,0931% of viewport)
[18:55:30] [INFO] [Bullet] Distance-based penetration chance: 68,39138%
[18:55:30] [INFO] [Bullet] Starting wall penetration at (912.8893, 610.41516)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,439003
[18:55:30] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:30] [INFO] [Bullet] Exiting penetration at (874.7719, 606.3519) after traveling 33,333336 pixels through wall
[18:55:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1696.075, 712.9877) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1677.226, 671.867) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1740.492, 696.6524) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [ENEMY] [Enemy7] Ragdoll activated
[18:55:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1699.537, 746.2232) (added to group)
[18:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1832.9551, 738.4191), shooter_id=1238041103520, bullet_pos=(1303.211, 695.0629)
[18:55:30] [INFO] [Bullet] Using shooter_position, distance=531,51526
[18:55:30] [INFO] [Bullet] Distance to wall: 531,51526 (36,191853% of viewport)
[18:55:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1680.777, 693.0544) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1758.686, 680.0477) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1760.362, 702.5325) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1729.641, 733.4953) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1692.081, 700.8129) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1809.398, 701.764) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1741.147, 710.278) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1718.171, 699.3371) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1865.5234, 732.2383), shooter_id=1238041103520, bullet_pos=(501.22205, 491.76154)
[18:55:30] [INFO] [Bullet] Using shooter_position, distance=1385,333
[18:55:30] [INFO] [Bullet] Distance to wall: 1385,333 (94,32987% of viewport)
[18:55:30] [INFO] [Bullet] Distance-based penetration chance: 36,61515%
[18:55:30] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1723.747, 721.8586) (added to group)
[18:55:30] [INFO] [BloodDecal] Blood puddle created at (1808.358, 721.1759) (added to group)
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:30] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [ReplayManager] Recording frame 1740 (25,7s): player_valid=True, enemies=10
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1832.9551, 738.4191), shooter_id=1238041103520, bullet_pos=(514.0436, 270.58795)
[18:55:31] [INFO] [Bullet] Using shooter_position, distance=1399,4261
[18:55:31] [INFO] [Bullet] Distance to wall: 1399,4261 (95,289505% of viewport)
[18:55:31] [INFO] [Bullet] Distance-based penetration chance: 35,49558%
[18:55:31] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:31] [ENEMY] [Enemy7] Death animation completed
[18:55:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.4°, current=0.6°, player=(1825,1054), corner_timer=0.30
[18:55:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:55:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.118, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=3
[18:55:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:55:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:55:32] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-36.1°, current=-36.1°, player=(1854,1091), corner_timer=0.30
[18:55:32] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[18:55:32] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=0.6°, current=-34.9°, player=(1869,1106), corner_timer=0.30
[18:55:32] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[18:55:32] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[18:55:32] [INFO] [ReplayManager] Recording frame 1800 (26,5s): player_valid=True, enemies=10
[18:55:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.3038, 1565.0502), shooter_id=1237151912123, bullet_pos=(2473.6235, 522.49475)
[18:55:32] [INFO] [Bullet] Using shooter_position, distance=1633,3323
[18:55:32] [INFO] [Bullet] Distance to wall: 1633,3323 (111,216606% of viewport)
[18:55:32] [INFO] [Bullet] Distance-based penetration chance: 27,75668%
[18:55:32] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:33] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-52.2°, current=-56.3°, player=(2117,1170), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy8] State: IDLE -> COMBAT
[18:55:33] [INFO] [ReplayManager] Recording frame 1860 (27,3s): player_valid=True, enemies=10
[18:55:33] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-50.8°, current=-102.9°, player=(2128,1170), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-50.1°, current=-99.4°, player=(2133,1170), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1906.695, 1441.697), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [ENEMY] [Enemy9] Heard gunshot at (1906.695, 1441.697), source_type=1, intensity=0.05, distance=222
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-84.9°, current=11.3°, player=(2133,1170), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-84.1°, current=-76.5°, player=(2139,1170), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy9] Status: BLINDED applied
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-81.5°, current=-81.5°, player=(2155,1170), corner_timer=0.00
[18:55:33] [INFO] [LastChance] Threat detected: Bullet
[18:55:33] [INFO] [LastChance] Effect already used this life
[18:55:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:33] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1931.603, 1413.904), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2199.841, 1170.19), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:55:33] [INFO] [LastChance] Threat detected: @Area2D@5089
[18:55:33] [INFO] [LastChance] Effect already used this life
[18:55:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2110.925, 1487.03), source=ENEMY (Enemy9), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[18:55:33] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1958.64, 1388.174), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [LastChance] Threat detected: @Area2D@5095
[18:55:33] [INFO] [LastChance] Effect already used this life
[18:55:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:33] [ENEMY] [Enemy9] Status: BLINDED removed
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-70.6°, current=-70.6°, player=(2221,1170), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy9] Hit: dmg=1, hp=4/4->3/4
[18:55:33] [INFO] [ImpactEffects] spawn_blood_effect called at (2120.824, 1456.613), dir=(1, 0), lethal=false
[18:55:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:33] [INFO] [ImpactEffects] Blood effect spawned at (2120.824, 1456.613) (scale=1)
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-68.6°, current=180.0°, player=(2232,1170), corner_timer=0.00
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2238.341, 1170.19), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:55:33] [INFO] [LastChance] Threat detected: @Area2D@5098
[18:55:33] [INFO] [LastChance] Effect already used this life
[18:55:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1956.0544, 1394.8535), shooter_id=1236447267064, bullet_pos=(2461.53, 796.43475)
[18:55:33] [INFO] [Bullet] Using shooter_position, distance=783,333
[18:55:33] [INFO] [Bullet] Distance to wall: 783,333 (53,33859% of viewport)
[18:55:33] [INFO] [Bullet] Distance-based penetration chance: 84,43832%
[18:55:33] [INFO] [Bullet] Starting wall penetration at (2461.53, 796.43475)
[18:55:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:33] [INFO] [Bullet] Exiting penetration at (2486.2664, 767.15045) after traveling 33,333332 pixels through wall
[18:55:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:33] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1952.91, 1366.071), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1984.6578, 1371.2922), shooter_id=1236447267064, bullet_pos=(2471.263, 879.74445)
[18:55:33] [INFO] [Bullet] Using shooter_position, distance=691,66736
[18:55:33] [INFO] [Bullet] Distance to wall: 691,66736 (47,096905% of viewport)
[18:55:33] [ENEMY] [Enemy9] Hit: dmg=1, hp=3/4->2/4
[18:55:33] [INFO] [ImpactEffects] spawn_blood_effect called at (2135.22, 1424.512), dir=(1, 0), lethal=false
[18:55:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:33] [INFO] [ImpactEffects] Blood effect spawned at (2135.22, 1424.512) (scale=1)
[18:55:33] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:33] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2273.541, 1170.19), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:55:33] [INFO] [LastChance] Threat detected: Bullet
[18:55:33] [INFO] [LastChance] Effect already used this life
[18:55:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-63.0°, current=-177.7°, player=(2273,1170), corner_timer=0.00
[18:55:33] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1941.84, 1344.897), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2014.8843, 1349.8704), shooter_id=1236447267064, bullet_pos=(2466.5017, 954.8506)
[18:55:33] [INFO] [Bullet] Using shooter_position, distance=599,9991
[18:55:33] [INFO] [Bullet] Distance to wall: 599,9991 (40,85504% of viewport)
[18:55:33] [INFO] [Player] Spawning blood effect at (2295.54, 1170.1897), dir=(1, 0), lethal=True (C#)
[18:55:33] [INFO] [ImpactEffects] spawn_blood_effect called at (2295.54, 1170.19), dir=(1, 0), lethal=true
[18:55:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:33] [INFO] [ImpactEffects] Blood effect spawned at (2295.54, 1170.19) (scale=1.5)
[18:55:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:55:33] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:55:33] [INFO] [CinemaEffects] Player died - triggering death effects
[18:55:33] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[18:55:33] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:55:33] [INFO] [LastChance] Player died
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2304.34, 1170.19), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:55:33] [ENEMY] [Enemy9] Hit: dmg=1, hp=2/4->1/4
[18:55:33] [INFO] [ImpactEffects] spawn_blood_effect called at (2128.352, 1432.772), dir=(1, 0), lethal=false
[18:55:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:33] [INFO] [ImpactEffects] Blood effect spawned at (2128.352, 1432.772) (scale=1)
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1930.77, 1323.723), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [BloodDecal] Blood puddle created at (2169.127, 1496.859) (added to group)
[18:55:33] [INFO] [BloodDecal] Blood puddle created at (2165.548, 1458.82) (added to group)
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-52.9°, current=-94.3°, player=(2325,1172), corner_timer=0.00
[18:55:33] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2122.064, 1441.387), source=ENEMY (Enemy9), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [BloodDecal] Blood puddle created at (2207.158, 1478.052) (added to group)
[18:55:33] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=126.1°, current=10.8°, player=(2333,1174), corner_timer=0.00
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2337.254, 1175.708), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:55:33] [INFO] [BloodDecal] Blood puddle created at (2228.889, 1499.121) (added to group)
[18:55:33] [INFO] [LastChance] Threat detected: @Area2D@5122
[18:55:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1919.699, 1302.549), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2304.3398, 1170.1897), shooter_id=1238041103520, bullet_pos=(1962.0359, 1465.3713)
[18:55:33] [INFO] [Bullet] Using shooter_position, distance=452,0002
[18:55:33] [INFO] [Bullet] Distance to wall: 452,0002 (30,777527% of viewport)
[18:55:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2137.7144, 1424.477), shooter_id=1236799588131, bullet_pos=(2460.9402, 320.83484)
[18:55:33] [INFO] [Bullet] Using shooter_position, distance=1150,0005
[18:55:33] [INFO] [Bullet] Distance to wall: 1150,0005 (78,30565% of viewport)
[18:55:33] [INFO] [Bullet] Distance-based penetration chance: 55,31008%
[18:55:33] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2005.4539, 1321.0233), shooter_id=1236447267064, bullet_pos=(2475.5728, 1004.63904)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=566,6664
[18:55:34] [INFO] [Bullet] Distance to wall: 566,6664 (38,585358% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1908.629, 1281.375), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2258.156, 1468.696) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2360.941, 1214.436) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2349.762, 1210.104) (added to group)
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1996.4111, 1306.1377), shooter_id=1236447267064, bullet_pos=(2470.1067, 1061.0732)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=533,33295
[18:55:34] [INFO] [Bullet] Distance to wall: 533,33295 (36,315624% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [LastChance] Threat detected: @Area2D@5130
[18:55:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2169.0437, 1392.1584), shooter_id=1236799588131, bullet_pos=(2471.4937, 994.0066)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=500,0009
[18:55:34] [INFO] [Bullet] Distance to wall: 500,0009 (34,04598% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2349.898, 1196.475) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2379.338, 1224.13) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2394.36, 1197.469) (added to group)
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2386.722, 1215.62), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2221.206, 1478.777) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2205.957, 1501.157) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2248.428, 1483.966) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2204.143, 1492.174) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2364.622, 1210.386) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2196.599, 1436.369) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2232.948, 1428.188) (added to group)
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2304.3398, 1170.1897), shooter_id=1238041103520, bullet_pos=(1729.3378, 1210.6614)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=576,4246
[18:55:34] [INFO] [Bullet] Distance to wall: 576,4246 (39,249813% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [ReplayManager] Recording frame 1920 (28,2s): player_valid=True, enemies=10
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2196.782, 1499.953) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2409.749, 1249.943) (added to group)
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1986.7645, 1291.6392), shooter_id=1236447267064, bullet_pos=(2465.4167, 1147.0975)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=500,00024
[18:55:34] [INFO] [Bullet] Distance to wall: 500,00024 (34,045937% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [Bullet] Starting wall penetration at (2465.4167, 1147.0975)
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1894.411, 1262.606), source=ENEMY (Enemy8), range=1469, listeners=3
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:55:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,386205
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2221.255, 1498.43) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2182.299, 1445.784) (added to group)
[18:55:34] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:34] [INFO] [Bullet] Exiting penetration at (2502.1135, 1136.016) after traveling 33,333336 pixels through wall
[18:55:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2337.254, 1175.7084), shooter_id=1238041103520, bullet_pos=(1676.9955, 1535.6577)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=752,0005
[18:55:34] [INFO] [Bullet] Distance to wall: 752,0005 (51,205097% of viewport)
[18:55:34] [INFO] [LastChance] Threat detected: @Area2D@5135
[18:55:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2221.014, 1515.309) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2261.109, 1523.495) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2221.877, 1430.517) (added to group)
[18:55:34] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:55:34] [INFO] [GrenadeBase] Grenade created at (2092.612, 1474.828) (frozen)
[18:55:34] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:55:34] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:55:34] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:55:34] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:55:34] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:55:34] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:55:34] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.628193, -0.778057), Speed: 821.8 (unfrozen)
[18:55:34] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:55:34] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:55:34] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:55:34] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2304.34, 1170.19), Distance: 411
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2406.094, 1242.796), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2395.191, 1231.145) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2433.159, 1176.769) (added to group)
[18:55:34] [ENEMY] [Enemy9] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-37.5°, current=-34.3°, player=(2407,1246), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2279.468, 1498.375) (added to group)
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1976.4817, 1277.8888), shooter_id=1236447267064, bullet_pos=(2468.896, 1191.1151)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=500,00153
[18:55:34] [INFO] [Bullet] Distance to wall: 500,00153 (34,046024% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [Bullet] Starting wall penetration at (2468.896, 1191.1151)
[18:55:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,811766
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2376.797, 1182.339) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2430.452, 1246.084) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2454.16, 1215.18) (added to group)
[18:55:34] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:34] [INFO] [Bullet] Exiting penetration at (2506.6477, 1184.4625) after traveling 33,333332 pixels through wall
[18:55:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:34] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:34] [INFO] [CinemaEffects] Death effects reset
[18:55:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:34] [ENEMY] [Enemy1] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:34] [ENEMY] [Enemy2] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:34] [ENEMY] [Enemy3] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:34] [ENEMY] [Enemy4] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:34] [ENEMY] [Enemy5] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:34] [ENEMY] [Enemy6] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:34] [ENEMY] [Enemy7] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:34] [ENEMY] [Enemy8] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:34] [ENEMY] [Enemy9] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:34] [ENEMY] [Enemy10] Death animation component initialized
[18:55:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:34] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:34] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:34] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:55:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:55:34] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:34] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:34] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:34] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:55:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:34] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:34] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:34] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:34] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:34] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:34] [INFO] [ReplayManager] Replay data cleared
[18:55:34] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:34] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:34] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:34] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:34] [INFO] [ReplayManager] Enemies count: 10
[18:55:34] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:34] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:34] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:34] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:34] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:34] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:34] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:34] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2421.388, 1194.892) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2274.366, 1541.349) (added to group)
[18:55:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:34] [INFO] [CinemaEffects] Found player node: Player
[18:55:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[18:55:34] [ENEMY] [Enemy1] Registered as sound listener
[18:55:34] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[18:55:34] [ENEMY] [Enemy2] Registered as sound listener
[18:55:34] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[18:55:34] [ENEMY] [Enemy3] Registered as sound listener
[18:55:34] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[18:55:34] [ENEMY] [Enemy4] Registered as sound listener
[18:55:34] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[18:55:34] [ENEMY] [Enemy5] Registered as sound listener
[18:55:34] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 9)
[18:55:34] [ENEMY] [Enemy6] Registered as sound listener
[18:55:34] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 10)
[18:55:34] [ENEMY] [Enemy7] Registered as sound listener
[18:55:34] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:55:34] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 11)
[18:55:34] [ENEMY] [Enemy8] Registered as sound listener
[18:55:34] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 12)
[18:55:34] [ENEMY] [Enemy9] Registered as sound listener
[18:55:34] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:55:34] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 13)
[18:55:34] [ENEMY] [Enemy10] Registered as sound listener
[18:55:34] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:55:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:34] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250.333), source=PLAYER (AssaultRifle), range=1469, listeners=13
[18:55:34] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[18:55:34] [ENEMY] [Enemy4] Heard gunshot at (450, 1250.333), source_type=0, intensity=0.01, distance=495
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[18:55:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P2:combat_state, state=COMBAT, target=135.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:34] [INFO] [LastChance] Found player: Player
[18:55:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:34] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2277.285, 1589.816) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2304.796, 1514.199) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2324.803, 1628.386) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2335.645, 1539.242) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2253.27, 1495.624) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2421.509, 1238.198) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2455.396, 1203.599) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2382.894, 1263.204) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2227.176, 1511.513) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2254.416, 1529.088) (added to group)
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2241.799, 1522.595) (added to group)
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1265), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[18:55:34] [INFO] [BloodDecal] Blood puddle created at (2339.4, 1483.687) (added to group)
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1265), shooter_id=1796353298243, bullet_pos=(65.69798, 1236.827)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=385,33328
[18:55:34] [INFO] [Bullet] Distance to wall: 385,33328 (26,238054% of viewport)
[18:55:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:34] [INFO] [Bullet] Starting wall penetration at (65.69798, 1236.827)
[18:55:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,878252
[18:55:34] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:34] [INFO] [Bullet] Exiting penetration at (19.156212, 1233.415) after traveling 41,666668 pixels through wall
[18:55:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(729.746, 950.1936), source=ENEMY (Enemy4), range=1469, listeners=10
[18:55:34] [ENEMY] [Enemy3] Heard gunshot at (729.746, 950.1936), source_type=1, intensity=0.06, distance=202
[18:55:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[18:55:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.4585, 1007.75934), shooter_id=1793350175689, bullet_pos=(693.4585, 1007.75934)
[18:55:34] [INFO] [Bullet] Using shooter_position, distance=0
[18:55:34] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:55:34] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:55:34] [INFO] [Bullet] Starting wall penetration at (693.4585, 1007.75934)
[18:55:34] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=114.6°, current=11.3°, player=(444,1307), corner_timer=0.00
[18:55:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,752565
[18:55:34] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:34] [INFO] [Bullet] Exiting penetration at (664.05536, 1043.9979) after traveling 41,666668 pixels through wall
[18:55:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:55:34] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:55:34] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:55:35] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:55:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:35] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:35] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:35] [ENEMY] [Enemy1] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:35] [ENEMY] [Enemy2] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:35] [ENEMY] [Enemy3] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:35] [ENEMY] [Enemy4] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:35] [ENEMY] [Enemy5] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:35] [ENEMY] [Enemy6] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:35] [ENEMY] [Enemy7] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:35] [ENEMY] [Enemy8] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:35] [ENEMY] [Enemy9] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:35] [ENEMY] [Enemy10] Death animation component initialized
[18:55:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:35] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:35] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:35] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:55:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:55:35] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:35] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:35] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:35] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:55:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:35] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:35] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:35] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:35] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:35] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:35] [INFO] [ReplayManager] Replay data cleared
[18:55:35] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:35] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:35] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:35] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:35] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:35] [INFO] [ReplayManager] Enemies count: 10
[18:55:35] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:35] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:35] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:35] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:35] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:35] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:35] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:35] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:35] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:35] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:35] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:35] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:35] [INFO] [CinemaEffects] Found player node: Player
[18:55:35] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:55:35] [ENEMY] [Enemy1] Registered as sound listener
[18:55:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:55:35] [ENEMY] [Enemy2] Registered as sound listener
[18:55:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:55:35] [ENEMY] [Enemy3] Registered as sound listener
[18:55:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:55:35] [ENEMY] [Enemy4] Registered as sound listener
[18:55:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:55:35] [ENEMY] [Enemy5] Registered as sound listener
[18:55:35] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:55:35] [ENEMY] [Enemy6] Registered as sound listener
[18:55:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:55:35] [ENEMY] [Enemy7] Registered as sound listener
[18:55:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:55:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:55:35] [ENEMY] [Enemy8] Registered as sound listener
[18:55:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:55:35] [ENEMY] [Enemy9] Registered as sound listener
[18:55:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:55:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:55:35] [ENEMY] [Enemy10] Registered as sound listener
[18:55:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:55:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:35] [INFO] [LastChance] Found player: Player
[18:55:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:35] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:36] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:36] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[18:55:36] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:55:36] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[18:55:36] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[18:55:36] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:55:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:36] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:36] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.3°, current=-67.5°, player=(450,781), corner_timer=0.00
[18:55:36] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:55:36] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:55:36] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:55:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 766.5801), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:55:36] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:55:36] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 766.5801), source_type=0, intensity=0.01, distance=444
[18:55:36] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 766.5801), source_type=0, intensity=0.05, distance=223
[18:55:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:36] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:36] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.6°, current=-157.5°, player=(454,766), corner_timer=0.00
[18:55:36] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.8°, current=-67.5°, player=(454,766), corner_timer=0.00
[18:55:36] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:55:36] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:55:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:36] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:55:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.506, 738.5704), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:36] [INFO] [LastChance] Threat detected: @Area2D@5704
[18:55:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:36] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:55:36] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:55:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:36] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:55:36] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:36] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-172.9°, current=180.0°, player=(486,729), corner_timer=0.00
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (196 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.1769, 728.2783), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:36] [INFO] [Player] Spawning blood effect at (497.1769, 728.2783), dir=(1, 0), lethal=False (C#)
[18:55:36] [INFO] [ImpactEffects] spawn_blood_effect called at (497.1769, 728.2783), dir=(1, 0), lethal=false
[18:55:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:36] [INFO] [ImpactEffects] Blood effect spawned at (497.1769, 728.2783) (scale=1)
[18:55:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:55:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=41.1°, current=134.2°, player=(504,729), corner_timer=0.00
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(504,729), corner_timer=-0.01
[18:55:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(504,729), corner_timer=-0.01
[18:55:36] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:55:36] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(507,730), corner_timer=0.30
[18:55:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(507,730), corner_timer=0.30
[18:55:37] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:55:37] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3025, 757.9293), dir=(1, 0), lethal=true
[18:55:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:37] [INFO] [ImpactEffects] Blood effect spawned at (689.3025, 757.9293) (scale=1.5)
[18:55:37] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:55:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:37] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:55:37] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:55:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:37] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:55:37] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-137.1°, current=-178.4°, player=(510,731), corner_timer=0.02
[18:55:37] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(707.5191, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:55:37] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:55:37] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=57.4°, current=43.8°, player=(517,733), corner_timer=0.00
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (762.1948, 769.4071) (added to group)
[18:55:37] [INFO] [LastChance] Threat detected: @Area2D@5712
[18:55:37] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:55:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0118, 737.5927), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:55:37] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[18:55:37] [INFO] [Player] Spawning blood effect at (530.02716, 741.79193), dir=(1, 0), lethal=False (C#)
[18:55:37] [INFO] [ImpactEffects] spawn_blood_effect called at (530.0272, 741.7919), dir=(1, 0), lethal=false
[18:55:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:37] [INFO] [ImpactEffects] Blood effect spawned at (530.0272, 741.7919) (scale=1)
[18:55:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:55:37] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:55:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (762.2036, 800.6548) (added to group)
[18:55:37] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.7181, 914.0653), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:55:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:37] [INFO] [LastChance] Threat detected: @Area2D@5722
[18:55:37] [INFO] [LastChance] Triggering last chance effect!
[18:55:37] [INFO] [LastChance] Starting last chance effect:
[18:55:37] [INFO] [LastChance]   - Time will be frozen (except player)
[18:55:37] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:55:37] [INFO] [LastChance]   - Trigger: threat detected
[18:55:37] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:55:37] [INFO] [LastChance]   - Brightness: 0.60
[18:55:37] [INFO] [LastChance] Pushed bullet @Area2D@5722 from distance 121.5 to 200.0
[18:55:37] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:55:37] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:55:37] [INFO] [LastChance] Skipping player node: Player
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5703
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5706
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5709
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5714
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5716
[18:55:37] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5724
[18:55:37] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:55:37] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:55:37] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (750.57, 782.3716) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (751.6312, 732.7189) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (763.3763, 795.9019) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (546.2612, 744.9142) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (532.4473, 760.7006) (added to group)
[18:55:37] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (561.8722, 766.8664) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (831.9015, 795.962) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (771.8542, 775.1061) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (802.8963, 755.9238) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (776.7605, 755.9064) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (759.3395, 808.7327) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (551.2, 737.3034) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (766.662, 782.6469) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (736.6943, 800.5887) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (806.9551, 783.5408) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (606.5872, 784.1387) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (748.816, 801.5225) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (768.0789, 755.2357) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (849.6146, 826.4278) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (798.4837, 824.3287) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (598.8056, 797.3399) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (790.7114, 774.5436) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (596.0586, 742.6) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (809.0704, 842.8283) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (880.0324, 765.1726) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (784.6108, 819.5515) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (811.6102, 772.9658) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (648.437, 778.7798) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (662.082, 790.1136) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (866.4167, 752.27) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (625.2049, 811.9283) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (840.3723, 839.1376) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (592.7813, 816.3717) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (608.0737, 787.5018) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (611.8561, 793.8466) (added to group)
[18:55:37] [INFO] [BloodDecal] Blood puddle created at (870.6597, 783.6232) (added to group)
[18:55:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:37] [INFO] [LastChance] All process modes restored
[18:55:37] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:55:37] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:37] [ENEMY] [Enemy1] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:37] [ENEMY] [Enemy2] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:37] [ENEMY] [Enemy3] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:37] [ENEMY] [Enemy4] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:37] [ENEMY] [Enemy5] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:37] [ENEMY] [Enemy6] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:37] [ENEMY] [Enemy7] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:37] [ENEMY] [Enemy8] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:37] [ENEMY] [Enemy9] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:37] [ENEMY] [Enemy10] Death animation component initialized
[18:55:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:37] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:37] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:37] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:55:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:55:37] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:37] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:37] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:37] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:55:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:37] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:37] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:37] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:37] [INFO] [ReplayManager] Replay data cleared
[18:55:37] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:37] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:37] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:37] [INFO] [ReplayManager] Enemies count: 10
[18:55:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:37] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:37] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:37] [INFO] [CinemaEffects] Found player node: Player
[18:55:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:55:37] [ENEMY] [Enemy1] Registered as sound listener
[18:55:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:55:37] [ENEMY] [Enemy2] Registered as sound listener
[18:55:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:55:37] [ENEMY] [Enemy3] Registered as sound listener
[18:55:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:55:37] [ENEMY] [Enemy4] Registered as sound listener
[18:55:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:55:37] [ENEMY] [Enemy5] Registered as sound listener
[18:55:37] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:55:37] [ENEMY] [Enemy6] Registered as sound listener
[18:55:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:55:37] [ENEMY] [Enemy7] Registered as sound listener
[18:55:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:55:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:55:37] [ENEMY] [Enemy8] Registered as sound listener
[18:55:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:55:37] [ENEMY] [Enemy9] Registered as sound listener
[18:55:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:55:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:55:37] [ENEMY] [Enemy10] Registered as sound listener
[18:55:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:55:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:38] [INFO] [LastChance] Found player: Player
[18:55:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:38] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:38] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (865.727, 881.3998) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (647.9349, 900.5526) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (641.7014, 769.0216) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (909.3931, 805.5417) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (831.1013, 834.5645) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (825.9897, 779.0547) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (850.2437, 832.3927) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (783.039, 801.9986) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (715.6001, 797.4562) (added to group)
[18:55:38] [INFO] [BloodDecal] Blood puddle created at (677.9869, 782.2281) (added to group)
[18:55:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:39] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.7734, 786.168), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:55:39] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:55:39] [ENEMY] [Enemy1] Heard gunshot at (460.7734, 786.168), source_type=0, intensity=0.01, distance=465
[18:55:39] [ENEMY] [Enemy2] Heard gunshot at (460.7734, 786.168), source_type=0, intensity=0.04, distance=244
[18:55:39] [ENEMY] [Enemy3] Heard gunshot at (460.7734, 786.168), source_type=0, intensity=0.04, distance=242
[18:55:39] [ENEMY] [Enemy4] Heard gunshot at (460.7734, 786.168), source_type=0, intensity=0.02, distance=358
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:39] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.8°, current=-33.8°, player=(460,786), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.6°, current=-67.5°, player=(460,786), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=171.4°, current=-123.8°, player=(460,786), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.5°, current=168.8°, player=(460,786), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(460,786), corner_timer=0.30
[18:55:39] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(460,786), corner_timer=0.30
[18:55:39] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.5786, 766.47), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.77344, 786.16797), shooter_id=1901697436669, bullet_pos=(929.4294, 789.3006)
[18:55:39] [INFO] [Bullet] Using shooter_position, distance=468,6664
[18:55:39] [INFO] [Bullet] Distance to wall: 468,6664 (31,91236% of viewport)
[18:55:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:39] [INFO] [Bullet] Starting wall penetration at (929.4294, 789.3006)
[18:55:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:55:39] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:55:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:39] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:55:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,095867
[18:55:39] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:39] [INFO] [Bullet] Exiting penetration at (976.095, 789.61255) after traveling 41,666668 pixels through wall
[18:55:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.5972, 755.7342), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:39] [INFO] [LastChance] Threat detected: Bullet
[18:55:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:55:39] [INFO] [Player] Spawning blood effect at (518.9476, 754.63275), dir=(1, 0), lethal=False (C#)
[18:55:39] [INFO] [ImpactEffects] spawn_blood_effect called at (518.9476, 754.6328), dir=(1, 0), lethal=false
[18:55:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:39] [INFO] [ImpactEffects] Blood effect spawned at (518.9476, 754.6328) (scale=1)
[18:55:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:55:39] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:55:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:55:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:55:39] [INFO] [ImpactEffects] spawn_blood_effect called at (700.1402, 752.1287), dir=(1, 0), lethal=false
[18:55:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:39] [INFO] [ImpactEffects] Blood effect spawned at (700.1402, 752.1287) (scale=1)
[18:55:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=86.2°, current=180.0°, player=(523,754), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:39] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=179.9°, current=178.3°, player=(527,754), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=57.1°, current=40.4°, player=(532,754), corner_timer=0.00
[18:55:39] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.5608, 758.5149), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(536,754), corner_timer=-0.00
[18:55:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(536,754), corner_timer=-0.00
[18:55:39] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.6801, 755.1947), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:55:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(540,755), corner_timer=0.30
[18:55:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(540,755), corner_timer=0.30
[18:55:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:55:39] [INFO] [ImpactEffects] spawn_blood_effect called at (701.1216, 767.0298), dir=(1, 0), lethal=false
[18:55:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:39] [INFO] [ImpactEffects] Blood effect spawned at (701.1216, 767.0298) (scale=1)
[18:55:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.8016, 764.7833), shooter_id=1898341992797, bullet_pos=(503.68808, 798.0624)
[18:55:39] [INFO] [Bullet] Using shooter_position, distance=133,33339
[18:55:39] [INFO] [Bullet] Distance to wall: 133,33339 (9,078917% of viewport)
[18:55:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:39] [INFO] [Bullet] Starting wall penetration at (503.68808, 798.0624)
[18:55:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:39] [INFO] [Bullet] Exiting penetration at (466.56796, 807.6301) after traveling 33,333332 pixels through wall
[18:55:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:55:39] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[18:55:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:55:39] [INFO] [BloodDecal] Blood puddle created at (742.0206, 745.5709) (added to group)
[18:55:39] [INFO] [BloodDecal] Blood puddle created at (747.7522, 745.3016) (added to group)
[18:55:39] [INFO] [BloodDecal] Blood puddle created at (780.0443, 783.5422) (added to group)
[18:55:39] [INFO] [LastChance] Threat detected: Bullet
[18:55:39] [INFO] [LastChance] Triggering last chance effect!
[18:55:39] [INFO] [LastChance] Starting last chance effect:
[18:55:39] [INFO] [LastChance]   - Time will be frozen (except player)
[18:55:39] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:55:39] [INFO] [LastChance]   - Trigger: threat detected
[18:55:39] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:55:39] [INFO] [LastChance]   - Brightness: 0.60
[18:55:39] [INFO] [LastChance] Pushed bullet Bullet from distance 149.5 to 200.0
[18:55:39] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:55:39] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:55:39] [INFO] [LastChance] Skipping player node: Player
[18:55:39] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:55:39] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6031
[18:55:39] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6033
[18:55:39] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6036
[18:55:39] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6042
[18:55:39] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6046
[18:55:39] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:55:39] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:55:39] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:55:39] [INFO] [BloodDecal] Blood puddle created at (791.5363, 768.482) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (583.0066, 775.5852) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (791.0117, 788.4659) (added to group)
[18:55:40] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (582.0017, 788.8472) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (754.5513, 799.2972) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (761.8214, 750.8786) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (767.2434, 770.6201) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (796.6312, 806.4807) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (814.4696, 804.4197) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (805.0016, 812.0626) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (642.874, 740.3177) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (806.5994, 819.6402) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (810.8475, 771.344) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (585.9684, 832.9218) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (661.3966, 779.3773) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (673.0362, 824.6481) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (814.1895, 798.5144) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (619.4893, 799.8408) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (864.567, 791.2376) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (835.7335, 851.4782) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (811.6387, 840.9746) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (801.4003, 830.0594) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (840.1786, 769.8846) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (606.6393, 846.0669) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (860.12, 883.3085) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (731.067, 791.5397) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (819.6316, 777.6943) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (835.0852, 821.9202) (added to group)
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (825.2403, 805.9566) (added to group)
[18:55:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:40] [INFO] [LastChance] All process modes restored
[18:55:40] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:55:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:40] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:40] [ENEMY] [Enemy1] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:40] [ENEMY] [Enemy2] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:40] [ENEMY] [Enemy3] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:40] [ENEMY] [Enemy4] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:40] [ENEMY] [Enemy5] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:40] [ENEMY] [Enemy6] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:40] [ENEMY] [Enemy7] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:40] [ENEMY] [Enemy8] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:40] [ENEMY] [Enemy9] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:40] [ENEMY] [Enemy10] Death animation component initialized
[18:55:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:40] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:40] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:40] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:55:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:55:40] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:40] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:40] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:40] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:55:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:40] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:40] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:40] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:40] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:40] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:40] [INFO] [ReplayManager] Replay data cleared
[18:55:40] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:40] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:40] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:40] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:40] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:40] [INFO] [ReplayManager] Enemies count: 10
[18:55:40] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:40] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:40] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:40] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:40] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:40] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:40] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:40] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:40] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:40] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:40] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:40] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:40] [INFO] [BloodDecal] Blood puddle created at (878.6915, 846.8612) (added to group)
[18:55:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:40] [INFO] [CinemaEffects] Found player node: Player
[18:55:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:55:40] [ENEMY] [Enemy1] Registered as sound listener
[18:55:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:55:40] [ENEMY] [Enemy2] Registered as sound listener
[18:55:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:55:40] [ENEMY] [Enemy3] Registered as sound listener
[18:55:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:55:40] [ENEMY] [Enemy4] Registered as sound listener
[18:55:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:55:40] [ENEMY] [Enemy5] Registered as sound listener
[18:55:40] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:55:40] [ENEMY] [Enemy6] Registered as sound listener
[18:55:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:55:40] [ENEMY] [Enemy7] Registered as sound listener
[18:55:40] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:55:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:55:40] [ENEMY] [Enemy8] Registered as sound listener
[18:55:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:55:40] [ENEMY] [Enemy9] Registered as sound listener
[18:55:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:55:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:55:40] [ENEMY] [Enemy10] Registered as sound listener
[18:55:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:55:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:40] [INFO] [LastChance] Found player: Player
[18:55:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:40] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:41] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:42] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[18:55:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[18:55:42] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[18:55:42] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:42] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[18:55:42] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[18:55:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:42] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.2°, current=-101.3°, player=(450,781), corner_timer=0.00
[18:55:42] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:55:42] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:55:42] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[18:55:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.3898, 749.7029), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:55:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:55:42] [ENEMY] [Enemy1] Heard gunshot at (459.3898, 749.7029), source_type=0, intensity=0.01, distance=430
[18:55:42] [ENEMY] [Enemy2] Heard gunshot at (459.3898, 749.7029), source_type=0, intensity=0.06, distance=208
[18:55:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:42] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=68.3°, current=33.8°, player=(459,749), corner_timer=0.00
[18:55:42] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=73.4°, current=-67.5°, player=(459,749), corner_timer=0.00
[18:55:42] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:42] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:55:42] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[18:55:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:42] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[18:55:42] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-175.5°, current=180.0°, player=(469,737), corner_timer=0.00
[18:55:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.1114, 730.8259), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:42] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:42] [INFO] [LastChance] Threat detected: Bullet
[18:55:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:42] [INFO] [Player] Spawning blood effect at (490.89917, 728.06635), dir=(1, 0), lethal=False (C#)
[18:55:42] [INFO] [ImpactEffects] spawn_blood_effect called at (490.8992, 728.0663), dir=(1, 0), lethal=false
[18:55:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:42] [INFO] [ImpactEffects] Blood effect spawned at (490.8992, 728.0663) (scale=1)
[18:55:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:55:42] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:55:42] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:55:42] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:55:42] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=true
[18:55:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:42] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:42] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1.5)
[18:55:42] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:55:42] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:42] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:55:42] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:55:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:42] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:55:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(498,728), corner_timer=-0.01
[18:55:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(498,728), corner_timer=-0.01
[18:55:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:55:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(502,728), corner_timer=0.30
[18:55:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(502,728), corner_timer=0.30
[18:55:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(509.9949, 729.3045), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:55:42] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=57.7°, current=32.8°, player=(513,730), corner_timer=0.00
[18:55:42] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:55:42] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (738.4946, 766.8578) (added to group)
[18:55:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.1631, 741.6864), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:55:42] [ENEMY] [Enemy4] PURSUING corner check: angle -89.6°
[18:55:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.99493, 729.3045), shooter_id=1970702125530, bullet_pos=(922.7285, 799.5398)
[18:55:42] [INFO] [Bullet] Using shooter_position, distance=418,66696
[18:55:42] [INFO] [Bullet] Distance to wall: 418,66696 (28,507805% of viewport)
[18:55:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:42] [INFO] [Bullet] Starting wall penetration at (922.7285, 799.5398)
[18:55:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,87103
[18:55:42] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:42] [INFO] [Bullet] Exiting penetration at (960.51855, 805.9706) after traveling 33,333336 pixels through wall
[18:55:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (534.0585, 718.8595) (added to group)
[18:55:42] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (747.1801, 786.6317) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (533.6656, 743.933) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (738.3175, 746.013) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (737.2957, 790.1711) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (810.3751, 830.2056) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (785.7858, 794.6335) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (732.8145, 751.8564) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (770.8112, 753.0672) (added to group)
[18:55:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(538.1631, 741.6864), shooter_id=1970702125530, bullet_pos=(917.0001, 812.1428)
[18:55:42] [INFO] [Bullet] Using shooter_position, distance=385,33313
[18:55:42] [INFO] [Bullet] Distance to wall: 385,33313 (26,238043% of viewport)
[18:55:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:42] [INFO] [Bullet] Starting wall penetration at (917.0001, 812.1428)
[18:55:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,007692
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (540.2859, 759.6563) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (601.9576, 764.0223) (added to group)
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (753.2435, 806.7708) (added to group)
[18:55:42] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:42] [INFO] [Bullet] Exiting penetration at (954.68726, 819.1519) after traveling 33,333336 pixels through wall
[18:55:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (750.618, 754.86) (added to group)
[18:55:42] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (741.2284, 757.2484) (added to group)
[18:55:42] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(574,782), corner_timer=-0.01
[18:55:42] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[18:55:42] [INFO] [BloodDecal] Blood puddle created at (760.2787, 806.465) (added to group)
[18:55:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.5°, player=(576,786), corner_timer=0.30
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (574.3256, 799.9462) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (780.4755, 738.9163) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (752.0716, 809.9043) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (582.6389, 746.9872) (added to group)
[18:55:43] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (602.0596, 747.5005) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (754.5173, 781.002) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (822.5996, 776.4952) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (778.6907, 759.5215) (added to group)
[18:55:43] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (644.6317, 830.9553) (added to group)
[18:55:43] [ENEMY] [Enemy3] Ragdoll activated
[18:55:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (862.9472, 754.2167) (added to group)
[18:55:43] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=56.6°, current=56.5°, player=(581,825), corner_timer=0.00
[18:55:43] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.7747, 831.8292), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (582.165, 765.4793) (added to group)
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.9666, 857.7911), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (839.3621, 793.1156) (added to group)
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.77466, 831.8292), shooter_id=1970702125530, bullet_pos=(845.4982, 1007.7253)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=318,66666
[18:55:43] [INFO] [Bullet] Distance to wall: 318,66666 (21,698599% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-97.3°, current=-143.9°, player=(563,857), corner_timer=0.02
[18:55:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.3171, 899.3445), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (886.3996, 818.8928) (added to group)
[18:55:43] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:55:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(557,864), corner_timer=-0.01
[18:55:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (587.4926, 793.8627) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (815.7258, 827.0845) (added to group)
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.77466, 831.8292), shooter_id=1970702125530, bullet_pos=(922.05304, 960.4034)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=365,6307
[18:55:43] [INFO] [Bullet] Distance to wall: 365,6307 (24,89647% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [INFO] [Bullet] Starting wall penetration at (922.05304, 960.4034)
[18:55:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(554,867), corner_timer=0.30
[18:55:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,936895
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (860.7989, 772.3907) (added to group)
[18:55:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:43] [INFO] [Bullet] Exiting penetration at (950.4067, 942.8768) after traveling 28,333332 pixels through wall
[18:55:43] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.9666, 857.79114), shooter_id=1970702125530, bullet_pos=(731.8908, 997.8502)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=218,6666
[18:55:43] [INFO] [Bullet] Distance to wall: 218,6666 (14,889412% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (835.6471, 792.9955) (added to group)
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.2194, 883.0067), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:43] [ENEMY] [Enemy4] Heard gunshot at (541.2194, 883.0067), source_type=0, intensity=1.00, distance=34
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.94794, 833.29407), shooter_id=1967699005800, bullet_pos=(524.44336, 601.7083)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=233,33339
[18:55:43] [INFO] [Bullet] Distance to wall: 233,33339 (15,8881% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[18:55:43] [INFO] [ImpactEffects] spawn_blood_effect called at (568.7959, 902.2853), dir=(1, 0), lethal=false
[18:55:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:43] [INFO] [ImpactEffects] Blood effect spawned at (568.7959, 902.2853) (scale=1)
[18:55:43] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:55:43] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-89.6°, current=146.2°, player=(540,888), corner_timer=0.02
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.9666, 857.79114), shooter_id=1970702125530, bullet_pos=(922.30817, 820.81616)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=360,2441
[18:55:43] [INFO] [Bullet] Distance to wall: 360,2441 (24,529686% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.998, 903.6932), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:43] [ENEMY] [Enemy4] Heard gunshot at (544.998, 903.6932), source_type=0, intensity=1.00, distance=19
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:43] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-136.6°, current=142.5°, player=(544,903), corner_timer=0.02
[18:55:43] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:55:43] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-89.6°, current=144.8°, player=(546,905), corner_timer=0.02
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.998, 903.69324), shooter_id=1970702125530, bullet_pos=(613.825, 1000.3608)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=118,66665
[18:55:43] [INFO] [Bullet] Distance to wall: 118,66665 (8,080231% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-125.8°, current=-145.2°, player=(547,907), corner_timer=0.02
[18:55:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.137, 922.7133), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(517.41614, 867.46063), shooter_id=1967699005800, bullet_pos=(517.41614, 867.46063)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=0
[18:55:43] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:55:43] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:55:43] [INFO] [Bullet] Starting wall penetration at (517.41614, 867.46063)
[18:55:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,6942587
[18:55:43] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:55:43] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[18:55:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:43] [INFO] [Bullet] Exiting penetration at (482.39404, 804.93414) after traveling 66,66667 pixels through wall
[18:55:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.5682, 929.088), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.998, 903.69324), shooter_id=1970702125530, bullet_pos=(693.115, 876.9744)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=150,50761
[18:55:43] [INFO] [Bullet] Distance to wall: 150,50761 (10,248341% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.202, 916.6755), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:43] [ENEMY] [Enemy4] Heard gunshot at (561.202, 916.6755), source_type=0, intensity=1.00, distance=17
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:43] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.6517, 862.17883), shooter_id=1967699005800, bullet_pos=(527.5424, 798.3096)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=66,66668
[18:55:43] [INFO] [Bullet] Distance to wall: 66,66668 (4,539457% of viewport)
[18:55:43] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:55:43] [INFO] [Bullet] Starting wall penetration at (527.5424, 798.3096)
[18:55:43] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:43] [INFO] [Bullet] Exiting penetration at (516.55457, 761.5847) after traveling 33,333332 pixels through wall
[18:55:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(567,918), corner_timer=-0.01
[18:55:43] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.94794, 833.29407), shooter_id=1967699005800, bullet_pos=(524.6353, 58.374954)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=775,43616
[18:55:43] [INFO] [Bullet] Distance to wall: 775,43616 (52,800877% of viewport)
[18:55:43] [INFO] [Bullet] Distance-based penetration chance: 85,06564%
[18:55:43] [INFO] [Bullet] Starting wall penetration at (524.6353, 58.374954)
[18:55:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.0247, 939.6043), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(570,919), corner_timer=0.30
[18:55:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,9583764
[18:55:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:43] [INFO] [Bullet] Exiting penetration at (524.6471, 25.041624) after traveling 28,333332 pixels through wall
[18:55:43] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.998, 903.69324), shooter_id=1970702125530, bullet_pos=(755.9311, 1012.63715)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=237,40587
[18:55:43] [INFO] [Bullet] Distance to wall: 237,40587 (16,165403% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [INFO] [Bullet] Starting wall penetration at (755.9311, 1012.63715)
[18:55:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,561567
[18:55:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:43] [INFO] [Bullet] Exiting penetration at (768.1512, 1039.0287) after traveling 24,083332 pixels through wall
[18:55:43] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.0453, 945.1259), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(561.202, 916.6755), shooter_id=1970702125530, bullet_pos=(912.0352, 945.3114)
[18:55:43] [INFO] [Bullet] Using shooter_position, distance=351,9999
[18:55:43] [INFO] [Bullet] Distance to wall: 351,9999 (23,96832% of viewport)
[18:55:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (649.2542, 963.5303) (added to group)
[18:55:43] [INFO] [BloodDecal] Blood puddle created at (678.5558, 875.3988) (added to group)
[18:55:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.2402, 954.4343), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:43] [INFO] [Player] Spawning blood effect at (606.1056, 922.07214), dir=(1, 0), lethal=True (C#)
[18:55:43] [INFO] [ImpactEffects] spawn_blood_effect called at (606.1056, 922.0721), dir=(1, 0), lethal=true
[18:55:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:43] [INFO] [ImpactEffects] Blood effect spawned at (606.1056, 922.0721) (scale=1.5)
[18:55:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:55:43] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:55:43] [INFO] [CinemaEffects] Player died - triggering death effects
[18:55:43] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[18:55:43] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:55:43] [INFO] [LastChance] Player died
[18:55:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.0754, 960.1721), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (671.9405, 988.8597) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (681.9808, 952.5497) (added to group)
[18:55:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.9666, 857.79114), shooter_id=1970702125530, bullet_pos=(515.3332, 307.27582)
[18:55:44] [INFO] [Bullet] Using shooter_position, distance=552,65936
[18:55:44] [INFO] [Bullet] Distance to wall: 552,65936 (37,63159% of viewport)
[18:55:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (678.7341, 919.3065) (added to group)
[18:55:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1766, 951.285), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (647.168, 922.8931) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (668.5433, 928.1503) (added to group)
[18:55:44] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=55.6°, current=56.1°, player=(654,922), corner_timer=0.00
[18:55:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.6431, 887.3738), shooter_id=1967699005800, bullet_pos=(983.04205, 301.05414)
[18:55:44] [INFO] [Bullet] Using shooter_position, distance=699,99976
[18:55:44] [INFO] [Bullet] Distance to wall: 699,99976 (47,664272% of viewport)
[18:55:44] [INFO] [Bullet] Distance-based penetration chance: 91,05835%
[18:55:44] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(667,922), corner_timer=-0.01
[18:55:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (677.5696, 949.7181) (added to group)
[18:55:44] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:55:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(552.7386, 937.0658), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[18:55:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(672,922), corner_timer=0.30
[18:55:44] [INFO] [LastChance] Threat detected: Bullet
[18:55:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (762.1136, 946.048) (added to group)
[18:55:44] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (674.5228, 949.9162) (added to group)
[18:55:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.9666, 857.79114), shooter_id=1970702125530, bullet_pos=(774.1748, 67.24899)
[18:55:44] [INFO] [Bullet] Using shooter_position, distance=818,0124
[18:55:44] [INFO] [Bullet] Distance to wall: 818,0124 (55,699966% of viewport)
[18:55:44] [INFO] [Bullet] Distance-based penetration chance: 81,68337%
[18:55:44] [INFO] [Bullet] Penetration failed (distance roll)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (704.4557, 960.8043) (added to group)
[18:55:44] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.0104, 559.9833), source=ENEMY (Enemy2), range=1469, listeners=9
[18:55:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (691.5181, 986.4487) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (702.3907, 960.2756) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (692.3262, 969.4512) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (713.1105, 943.9913) (added to group)
[18:55:44] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.8°, current=48.8°, player=(724,922), corner_timer=0.00
[18:55:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.9016, 936.2753), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (680.7413, 982.7136) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (716.1777, 925.2037) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (692.5175, 974.3223) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (708.884, 903.1089) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (729.4324, 978.0648) (added to group)
[18:55:44] [INFO] [LastChance] Threat detected: @Area2D@6564
[18:55:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:44] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-89.6°, current=-62.2°, player=(733,922), corner_timer=0.02
[18:55:44] [ENEMY] [Enemy3] Death animation completed
[18:55:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:44] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:44] [INFO] [CinemaEffects] Death effects reset
[18:55:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:44] [ENEMY] [Enemy1] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:44] [ENEMY] [Enemy2] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:44] [ENEMY] [Enemy3] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:44] [ENEMY] [Enemy4] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:44] [ENEMY] [Enemy5] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:44] [ENEMY] [Enemy6] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:44] [ENEMY] [Enemy7] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:44] [ENEMY] [Enemy8] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:44] [ENEMY] [Enemy9] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:44] [ENEMY] [Enemy10] Death animation component initialized
[18:55:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:44] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:44] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:44] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:55:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:55:44] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:44] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:44] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:44] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:55:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:44] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:44] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:44] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:44] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:44] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:44] [INFO] [ReplayManager] Replay data cleared
[18:55:44] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:44] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:44] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:44] [INFO] [ReplayManager] Enemies count: 10
[18:55:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:44] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:44] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:44] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:44] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:44] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:44] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:44] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (696.2886, 984.7797) (added to group)
[18:55:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:44] [INFO] [CinemaEffects] Found player node: Player
[18:55:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:55:44] [ENEMY] [Enemy1] Registered as sound listener
[18:55:44] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:55:44] [ENEMY] [Enemy2] Registered as sound listener
[18:55:44] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:55:44] [ENEMY] [Enemy3] Registered as sound listener
[18:55:44] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:55:44] [ENEMY] [Enemy4] Registered as sound listener
[18:55:44] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:55:44] [ENEMY] [Enemy5] Registered as sound listener
[18:55:44] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:55:44] [ENEMY] [Enemy6] Registered as sound listener
[18:55:44] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:55:44] [ENEMY] [Enemy7] Registered as sound listener
[18:55:44] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:55:44] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:55:44] [ENEMY] [Enemy8] Registered as sound listener
[18:55:44] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:55:44] [ENEMY] [Enemy9] Registered as sound listener
[18:55:44] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:55:44] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:55:44] [ENEMY] [Enemy10] Registered as sound listener
[18:55:44] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:55:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:44] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:44] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:55:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:44] [INFO] [LastChance] Found player: Player
[18:55:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:44] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:44] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (744.3856, 960.2535) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (789.9508, 989.347) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (733.5242, 978.7585) (added to group)
[18:55:44] [INFO] [BloodDecal] Blood puddle created at (721.8992, 947.2722) (added to group)
[18:55:45] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(454,783), corner_timer=0.30
[18:55:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(454,783), corner_timer=0.30
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.5018, 770.0442), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:55:46] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:55:46] [ENEMY] [Enemy1] Heard gunshot at (460.5018, 770.0442), source_type=0, intensity=0.01, distance=450
[18:55:46] [ENEMY] [Enemy2] Heard gunshot at (460.5018, 770.0442), source_type=0, intensity=0.05, distance=228
[18:55:46] [ENEMY] [Enemy3] Heard gunshot at (460.5018, 770.0442), source_type=0, intensity=0.04, distance=240
[18:55:46] [ENEMY] [Enemy4] Heard gunshot at (460.5018, 770.0442), source_type=0, intensity=0.02, distance=364
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.1°, current=-33.8°, player=(460,770), corner_timer=0.00
[18:55:46] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.6°, current=-101.3°, player=(460,770), corner_timer=0.00
[18:55:46] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.2°, current=11.3°, player=(460,770), corner_timer=0.00
[18:55:46] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.1°, current=-67.5°, player=(460,770), corner_timer=0.00
[18:55:46] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:46] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:55:46] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:55:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:46] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.0784, 749.5117), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:46] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:55:46] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:55:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:46] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:46] [INFO] [LastChance] Threat detected: Bullet
[18:55:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(507.7167, 740.2278), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:46] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:46] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.1°, current=-177.1°, player=(507,740), corner_timer=0.00
[18:55:46] [INFO] [Player] Spawning blood effect at (515.7834, 739.6015), dir=(1, 0), lethal=False (C#)
[18:55:46] [INFO] [ImpactEffects] spawn_blood_effect called at (515.7834, 739.6015), dir=(1, 0), lethal=false
[18:55:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:46] [INFO] [ImpactEffects] Blood effect spawned at (515.7834, 739.6015) (scale=1)
[18:55:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:55:46] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:55:46] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:55:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(519,739), corner_timer=-0.01
[18:55:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(519,739), corner_timer=-0.01
[18:55:46] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:55:46] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:55:46] [INFO] [ImpactEffects] spawn_blood_effect called at (699.7252, 752.1155), dir=(1, 0), lethal=true
[18:55:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:46] [INFO] [ImpactEffects] Blood effect spawned at (699.7252, 752.1155) (scale=1.5)
[18:55:46] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:55:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:46] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:55:46] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:55:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:46] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:55:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(523,739), corner_timer=0.30
[18:55:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(523,739), corner_timer=0.30
[18:55:46] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=55.5°, current=5.9°, player=(531,740), corner_timer=0.00
[18:55:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (753.8973, 770.0962) (added to group)
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.6522, 742.6665), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:55:46] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (764.0415, 796.3126) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (805.7288, 761.4225) (added to group)
[18:55:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (815.3418, 791.9146) (added to group)
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(741.7369, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (777.9333, 777.2637) (added to group)
[18:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.4226, 874.4305), shooter_id=2104080992372, bullet_pos=(686.4226, 874.4305)
[18:55:46] [INFO] [Bullet] Using shooter_position, distance=0
[18:55:46] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:55:46] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:55:46] [INFO] [Bullet] Starting wall penetration at (686.4226, 874.4305)
[18:55:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,709246
[18:55:46] [INFO] [LastChance] Threat detected: @Area2D@6851
[18:55:46] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:55:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:46] [INFO] [LastChance] Threat detected: @Area2D@6856
[18:55:46] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:55:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:46] [INFO] [Bullet] Exiting penetration at (657.8749, 848.8478) after traveling 33,333336 pixels through wall
[18:55:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (793.8905, 734.6138) (added to group)
[18:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.6153, 607.9841), shooter_id=2103376351226, bullet_pos=(496.8953, 687.0078)
[18:55:46] [INFO] [Bullet] Using shooter_position, distance=99,999954
[18:55:46] [INFO] [Bullet] Distance to wall: 99,999954 (6,809181% of viewport)
[18:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(538.65216, 742.6665), shooter_id=2107084115494, bullet_pos=(923.866, 733.0729)
[18:55:46] [INFO] [Bullet] Using shooter_position, distance=385,33328
[18:55:46] [INFO] [Bullet] Distance to wall: 385,33328 (26,238054% of viewport)
[18:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:46] [INFO] [Bullet] Starting wall penetration at (923.866, 733.0729)
[18:55:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,195621
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (774.2856, 818.5516) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (765.126, 784.8698) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (768.7817, 742.9733) (added to group)
[18:55:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:46] [INFO] [Bullet] Exiting penetration at (962.1875, 732.11847) after traveling 33,333336 pixels through wall
[18:55:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (787.8431, 780.0318) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (810.8354, 754.8027) (added to group)
[18:55:46] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:55:46] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:55:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:55:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (557.3119, 778.5867) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (566.5786, 768.4599) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (775.5488, 772.2369) (added to group)
[18:55:46] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (750.4762, 778.455) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (781.2441, 804.725) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (750.9296, 762.5624) (added to group)
[18:55:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.12964, 607.665), shooter_id=2103376351226, bullet_pos=(498.35327, 685.9479)
[18:55:46] [INFO] [Bullet] Using shooter_position, distance=99,99996
[18:55:46] [INFO] [Bullet] Distance to wall: 99,99996 (6,8091817% of viewport)
[18:55:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:46] [INFO] [Bullet] Starting wall penetration at (498.35327, 685.9479)
[18:55:46] [INFO] [LastChance] Threat detected: Bullet
[18:55:46] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:55:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,686913
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (842.6929, 803.0264) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (780.7294, 748.9146) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (760.3258, 780.0018) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (794.0432, 805.8821) (added to group)
[18:55:46] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:46] [INFO] [Bullet] Exiting penetration at (522.2057, 715.9563) after traveling 33,333336 pixels through wall
[18:55:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(585,788), corner_timer=-0.01
[18:55:46] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[18:55:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.5°, player=(585,791), corner_timer=0.30
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (785.6927, 834.8556) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (765.6545, 800.2509) (added to group)
[18:55:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:55:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:55:46] [INFO] [EnemyGrenade] Unsafe throw distance (97 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:46] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (799.058, 764.355) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (775.485, 779.1202) (added to group)
[18:55:46] [INFO] [EnemyGrenade] Unsafe throw distance (97 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:46] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:55:46] [INFO] [EnemyGrenade] Unsafe throw distance (96 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:46] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (625.6629, 824.8246) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (607.506, 804.2663) (added to group)
[18:55:46] [INFO] [BloodDecal] Blood puddle created at (824.8152, 792.1198) (added to group)
[18:55:47] [INFO] [EnemyGrenade] Unsafe throw distance (95 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:47] [INFO] [EnemyGrenade] Unsafe throw distance (95 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:47] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (822.9064, 868.6999) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (796.4681, 821.0995) (added to group)
[18:55:47] [INFO] [EnemyGrenade] Unsafe throw distance (94 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:55:47] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=99.9°, current=53.6°, player=(582,814), corner_timer=0.00
[18:55:47] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=0.0°, current=-25.0°, player=(582,814), corner_timer=0.00
[18:55:47] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:55:47] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (839.1981, 806.6846) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (806.3047, 783.9822) (added to group)
[18:55:47] [ENEMY] [Enemy3] Ragdoll activated
[18:55:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (796.9081, 796.5233) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (797.396, 837.0593) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (818.262, 770.452) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (625.0118, 849.7111) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (861.4377, 845.2784) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (860.2201, 838.8115) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (867.464, 866.5866) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (856.4527, 879.3053) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (833.2601, 825.8391) (added to group)
[18:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(578,876), corner_timer=-0.01
[18:55:47] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (639.5923, 856.7711) (added to group)
[18:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(577,880), corner_timer=0.30
[18:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.3572, 888.5591), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (741.923, 798.1655) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (626.6863, 812.2979) (added to group)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (826.7684, 842.3453) (added to group)
[18:55:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(575.35724, 888.5591), shooter_id=2107084115494, bullet_pos=(693.92957, 893.29004)
[18:55:47] [INFO] [Bullet] Using shooter_position, distance=118,66667
[18:55:47] [INFO] [Bullet] Distance to wall: 118,66667 (8,080233% of viewport)
[18:55:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:47] [INFO] [Bullet] Starting wall penetration at (693.92957, 893.29004)
[18:55:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:55:47] [INFO] [Bullet] Exiting penetration at (732.2324, 894.8183) after traveling 33,333336 pixels through wall
[18:55:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (868.3536, 892.2371) (added to group)
[18:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.8013, 916.9014), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:55:47] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[18:55:47] [INFO] [ImpactEffects] spawn_blood_effect called at (842.8325, 930.6252), dir=(1, 0), lethal=false
[18:55:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:47] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 930.6252) (dist=69 px)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (911, 930.6252) (added to group)
[18:55:47] [INFO] [ImpactEffects] Blood effect spawned at (842.8325, 930.6252) (scale=1)
[18:55:47] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[18:55:47] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=178.5°, current=180.0°, player=(540,938), corner_timer=0.00
[18:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0673, 941.348), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:47] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(540,952), corner_timer=-0.01
[18:55:47] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:55:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(540,954), corner_timer=0.30
[18:55:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0673, 956.9681), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:55:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:55:47] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/4->2/4
[18:55:47] [INFO] [ImpactEffects] spawn_blood_effect called at (853.78, 893.8188), dir=(1, 0), lethal=false
[18:55:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:47] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 893.8188) (dist=58 px)
[18:55:47] [INFO] [BloodDecal] Blood puddle created at (911, 893.8188) (added to group)
[18:55:47] [INFO] [ImpactEffects] Blood effect spawned at (853.78, 893.8188) (scale=1)
[18:55:48] [INFO] [BloodDecal] Blood puddle created at (907.1483, 950.5221) (added to group)
[18:55:48] [INFO] [BloodDecal] Blood puddle created at (904.7637, 937.3967) (added to group)
[18:55:48] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[18:55:48] [INFO] [Player.Debug] Debug mode toggled: ON
[18:55:48] [INFO] [Player] Invincibility mode: ON
[18:55:49] [INFO] [ReplayManager] Recording frame 300 (4,3s): player_valid=True, enemies=10
[18:55:50] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[18:55:51] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[18:55:52] [INFO] [ReplayManager] Recording frame 480 (6,7s): player_valid=True, enemies=10
[18:55:52] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[18:55:53] [INFO] [ReplayManager] Recording frame 540 (7,5s): player_valid=True, enemies=10
[18:55:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06726, 956.9681), shooter_id=2107084115494, bullet_pos=(924.69476, 933.65405)
[18:55:53] [INFO] [Bullet] Using shooter_position, distance=385,33344
[18:55:53] [INFO] [Bullet] Distance to wall: 385,33344 (26,238064% of viewport)
[18:55:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:55:53] [INFO] [Bullet] Starting wall penetration at (924.69476, 933.65405)
[18:55:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,007368
[18:55:53] [INFO] [Bullet] Body exited signal received for penetrating body
[18:55:53] [INFO] [Bullet] Exiting penetration at (962.9579, 931.3348) after traveling 33,333336 pixels through wall
[18:55:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:55:53] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-73.4°, current=161.0°, player=(540,961), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[18:55:54] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:55:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(540,961), corner_timer=-0.01
[18:55:54] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:55:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(540,961), corner_timer=0.30
[18:55:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(540,961), corner_timer=-0.01
[18:55:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:55:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(540,961), corner_timer=0.30
[18:55:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:54] [ENEMY] [Enemy1] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:54] [ENEMY] [Enemy2] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:54] [ENEMY] [Enemy3] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:54] [ENEMY] [Enemy4] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:54] [ENEMY] [Enemy5] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:54] [ENEMY] [Enemy6] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:54] [ENEMY] [Enemy7] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:54] [ENEMY] [Enemy8] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:54] [ENEMY] [Enemy9] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:54] [ENEMY] [Enemy10] Death animation component initialized
[18:55:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:54] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:54] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:54] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:55:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:55:54] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:54] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:54] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:54] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:55:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:54] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:54] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:54] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:54] [INFO] [ReplayManager] Replay data cleared
[18:55:54] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:54] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:54] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:54] [INFO] [ReplayManager] Enemies count: 10
[18:55:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:54] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:54] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:54] [INFO] [CinemaEffects] Found player node: Player
[18:55:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:55:54] [ENEMY] [Enemy1] Registered as sound listener
[18:55:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:55:54] [ENEMY] [Enemy2] Registered as sound listener
[18:55:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:55:54] [ENEMY] [Enemy3] Registered as sound listener
[18:55:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:55:54] [ENEMY] [Enemy4] Registered as sound listener
[18:55:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:55:54] [ENEMY] [Enemy5] Registered as sound listener
[18:55:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:55:54] [ENEMY] [Enemy6] Registered as sound listener
[18:55:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:55:54] [ENEMY] [Enemy7] Registered as sound listener
[18:55:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:55:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:55:54] [ENEMY] [Enemy8] Registered as sound listener
[18:55:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:55:54] [ENEMY] [Enemy9] Registered as sound listener
[18:55:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:55:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:55:54] [ENEMY] [Enemy10] Registered as sound listener
[18:55:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:55:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:54] [INFO] [LastChance] Found player: Player
[18:55:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:54] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1193), corner_timer=0.30
[18:55:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1193), corner_timer=0.30
[18:55:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1089), corner_timer=-0.02
[18:55:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1089), corner_timer=-0.02
[18:55:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:55:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1083), corner_timer=0.30
[18:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1083), corner_timer=0.30
[18:55:56] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1016), corner_timer=-0.02
[18:55:56] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:55:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1016), corner_timer=0.30
[18:55:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1015), corner_timer=-0.02
[18:55:57] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:55:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1015), corner_timer=0.30
[18:55:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1015), corner_timer=-0.02
[18:55:57] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:55:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1015), corner_timer=0.30
[18:55:57] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:55:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:55:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:55:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:55:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:55:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:55:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:55:57] [ENEMY] [Enemy1] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:55:57] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:55:57] [ENEMY] [Enemy2] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:55:57] [ENEMY] [Enemy3] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:55:57] [ENEMY] [Enemy4] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:55:57] [ENEMY] [Enemy5] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:55:57] [ENEMY] [Enemy6] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:55:57] [ENEMY] [Enemy7] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:55:57] [ENEMY] [Enemy8] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:55:57] [ENEMY] [Enemy9] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:55:57] [ENEMY] [Enemy10] Death animation component initialized
[18:55:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:55:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:55:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:55:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:55:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:55:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:55:57] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:55:57] [INFO] [Player.Weapon] Removed default MakarovPM
[18:55:57] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:55:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:55:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:55:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:55:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:55:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:55:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:55:57] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:55:57] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:55:57] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:55:57] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:55:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:55:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:55:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:55:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:55:57] [INFO] [BuildingLevel] Setting up weapon: m16
[18:55:57] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:55:57] [INFO] [ScoreManager] Level started with 10 enemies
[18:55:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:55:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:55:57] [INFO] [ReplayManager] Replay data cleared
[18:55:57] [INFO] [BuildingLevel] Previous replay data cleared
[18:55:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:55:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:55:57] [INFO] [ReplayManager] Level: BuildingLevel
[18:55:57] [INFO] [ReplayManager] Player: Player (valid: True)
[18:55:57] [INFO] [ReplayManager] Enemies count: 10
[18:55:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:55:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:55:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:55:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:55:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:55:57] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:55:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:55:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:55:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:55:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:55:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:55:57] [INFO] [BuildingLevel] Replay recording started successfully
[18:55:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:55:57] [INFO] [CinemaEffects] Found player node: Player
[18:55:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[18:55:57] [ENEMY] [Enemy1] Registered as sound listener
[18:55:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[18:55:57] [ENEMY] [Enemy2] Registered as sound listener
[18:55:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[18:55:57] [ENEMY] [Enemy3] Registered as sound listener
[18:55:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[18:55:57] [ENEMY] [Enemy4] Registered as sound listener
[18:55:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[18:55:57] [ENEMY] [Enemy5] Registered as sound listener
[18:55:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[18:55:57] [ENEMY] [Enemy6] Registered as sound listener
[18:55:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[18:55:57] [ENEMY] [Enemy7] Registered as sound listener
[18:55:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:55:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[18:55:57] [ENEMY] [Enemy8] Registered as sound listener
[18:55:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[18:55:57] [ENEMY] [Enemy9] Registered as sound listener
[18:55:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:55:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:55:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[18:55:57] [ENEMY] [Enemy10] Registered as sound listener
[18:55:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:55:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:55:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:55:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:55:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:55:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:55:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:55:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:55:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:55:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:55:58] [INFO] [LastChance] Found player: Player
[18:55:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:55:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:55:58] [INFO] [LastChance] Connected to player Died signal (C#)
[18:55:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:55:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:55:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:55:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,825), corner_timer=0.30
[18:55:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,825), corner_timer=0.30
[18:55:59] [ENEMY] [Enemy3] Status: BLINDED applied
[18:55:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 760.6666), source=PLAYER (AssaultRifle), range=1469, listeners=29
[18:55:59] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[18:55:59] [ENEMY] [Enemy1] Heard gunshot at (450, 760.6666), source_type=0, intensity=0.01, distance=437
[18:55:59] [ENEMY] [Enemy2] Heard gunshot at (450, 760.6666), source_type=0, intensity=0.05, distance=217
[18:55:59] [ENEMY] [Enemy3] Heard gunshot at (450, 760.6666), source_type=0, intensity=0.04, distance=250
[18:55:59] [ENEMY] [Enemy4] Heard gunshot at (450, 760.6666), source_type=0, intensity=0.02, distance=377
[18:55:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:59] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.9°, current=168.8°, player=(450,760), corner_timer=0.00
[18:55:59] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.6°, current=168.8°, player=(450,760), corner_timer=0.00
[18:55:59] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=177.6°, current=-78.7°, player=(450,760), corner_timer=0.00
[18:55:59] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-158.3°, current=-101.3°, player=(450,760), corner_timer=0.00
[18:55:59] [ENEMY] [Enemy3] Status: BLINDED removed
[18:55:59] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:55:59] [INFO] [ImpactEffects] spawn_blood_effect called at (689.343, 750.4547), dir=(1, 0), lethal=false
[18:55:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:59] [INFO] [ImpactEffects] Blood effect spawned at (689.343, 750.4547) (scale=1)
[18:55:59] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.8°, current=180.0°, player=(450,751), corner_timer=0.00
[18:55:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,749), corner_timer=-0.02
[18:55:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,749), corner_timer=-0.02
[18:55:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:55:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 748.7222), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=56.4°, player=(450,748), corner_timer=0.30
[18:55:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.2°, player=(450,748), corner_timer=0.30
[18:55:59] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:55:59] [INFO] [ImpactEffects] spawn_blood_effect called at (689.343, 750.4547), dir=(1, 0), lethal=false
[18:55:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:59] [INFO] [ImpactEffects] Blood effect spawned at (689.343, 750.4547) (scale=1)
[18:55:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:55:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.343, 750.4547), source=ENEMY (Enemy3), range=1469, listeners=10
[18:55:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:55:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 745.7888), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:55:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:55:59] [INFO] [LastChance] Threat detected: Bullet
[18:55:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:55:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:55:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:55:59] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:55:59] [INFO] [Player] Spawning blood effect at (450, 745.7888), dir=(1, 0), lethal=False (C#)
[18:55:59] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 745.7888), dir=(1, 0), lethal=false
[18:55:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:55:59] [INFO] [ImpactEffects] Blood effect spawned at (450, 745.7888) (scale=1)
[18:55:59] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:55:59] [INFO] [ImpactEffects] spawn_blood_effect called at (686.424, 753.5665), dir=(1, 0), lethal=true
[18:55:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:55:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:55:59] [INFO] [ImpactEffects] Blood effect spawned at (686.424, 753.5665) (scale=1.5)
[18:55:59] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:55:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:55:59] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:55:59] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:55:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:55:59] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.2133, 745.7888), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (759.9236, 774.4208) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (734.4508, 789.7815) (added to group)
[18:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(455,745), corner_timer=-0.01
[18:56:00] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[18:56:00] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-147.4°, current=176.6°, player=(457,745), corner_timer=0.00
[18:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(457,745), corner_timer=0.30
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (785.2376, 790.1292) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (786.4219, 757.6161) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (813.2058, 757.8758) (added to group)
[18:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.21335, 745.7888), shooter_id=3557407329781, bullet_pos=(934.4169, 778.88654)
[18:56:00] [INFO] [Bullet] Using shooter_position, distance=485,3334
[18:56:00] [INFO] [Bullet] Distance to wall: 485,3334 (33,047245% of viewport)
[18:56:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:00] [INFO] [Bullet] Starting wall penetration at (934.4169, 778.88654)
[18:56:00] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:56:00] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:56:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,7465
[18:56:00] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:00] [INFO] [Bullet] Exiting penetration at (972.66095, 781.50073) after traveling 33,333332 pixels through wall
[18:56:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.876, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (497.2256, 745.4176) (added to group)
[18:56:00] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (779.5508, 754.0377) (added to group)
[18:56:00] [INFO] [LastChance] Threat detected: @Area2D@7495
[18:56:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (783.124, 820.1078) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (736.6461, 774.1151) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (746.2244, 777.2407) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (507.8123, 759.5872) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (753.6786, 761.1431) (added to group)
[18:56:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.1078, 912.9354), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (850.3193, 831.7204) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (831.4149, 804.3244) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (738.3712, 766.3478) (added to group)
[18:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.7334, 878.70953), shooter_id=3554404208271, bullet_pos=(422.62708, 715.7823)
[18:56:00] [INFO] [Bullet] Using shooter_position, distance=266,66678
[18:56:00] [INFO] [Bullet] Distance to wall: 266,66678 (18,157833% of viewport)
[18:56:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:00] [INFO] [LastChance] Threat detected: Bullet
[18:56:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (746.8718, 753.4188) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (753.1067, 759.3096) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (793.7794, 762.351) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (769.1276, 809.9776) (added to group)
[18:56:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:00] [INFO] [Player] Spawning blood effect at (522.20435, 757.21295), dir=(1, 0), lethal=False (C#)
[18:56:00] [INFO] [ImpactEffects] spawn_blood_effect called at (522.2043, 757.213), dir=(1, 0), lethal=false
[18:56:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:00] [INFO] [ImpactEffects] Blood effect spawned at (522.2043, 757.213) (scale=1)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (857.5677, 768.5556) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (829.8871, 816.8982) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (809.5339, 790.0084) (added to group)
[18:56:00] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:56:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(670.1078, 912.9354), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(531,764), corner_timer=-0.01
[18:56:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (821.9513, 799.5479) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (858.4412, 755.0298) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (756.1947, 771.7882) (added to group)
[18:56:00] [INFO] [LastChance] Threat detected: Bullet
[18:56:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(535,767), corner_timer=0.30
[18:56:00] [ENEMY] [Enemy3] Ragdoll activated
[18:56:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (795.6541, 761.2507) (added to group)
[18:56:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:00] [INFO] [Player] Spawning blood effect at (544.4656, 776.9324), dir=(1, 0), lethal=False (C#)
[18:56:00] [INFO] [ImpactEffects] spawn_blood_effect called at (544.4656, 776.9324), dir=(1, 0), lethal=false
[18:56:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:00] [INFO] [ImpactEffects] Blood effect spawned at (544.4656, 776.9324) (scale=1)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (829.9089, 796.0497) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (808.6875, 825.6471) (added to group)
[18:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.7334, 878.70953), shooter_id=3554404208271, bullet_pos=(56.320724, 940.99225)
[18:56:00] [INFO] [Bullet] Using shooter_position, distance=580,762
[18:56:00] [INFO] [Bullet] Distance to wall: 580,762 (39,545155% of viewport)
[18:56:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(690.1605, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:00] [INFO] [LastChance] Threat detected: Bullet
[18:56:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (840.0182, 875.978) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (841.9157, 872.2338) (added to group)
[18:56:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:00] [INFO] [Player] Spawning blood effect at (563.82184, 804.0061), dir=(1, 0), lethal=False (C#)
[18:56:00] [INFO] [ImpactEffects] spawn_blood_effect called at (563.8218, 804.0061), dir=(1, 0), lethal=false
[18:56:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:00] [INFO] [ImpactEffects] Blood effect spawned at (563.8218, 804.0061) (scale=1)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (661.1307, 853.9954) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (622.7529, 755.8213) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (882.1047, 832.8365) (added to group)
[18:56:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(711.9016, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (621.2573, 858.0063) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (604.9684, 789.027) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (598.8759, 761.1829) (added to group)
[18:56:00] [INFO] [LastChance] Threat detected: Bullet
[18:56:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (895.0002, 775.5049) (added to group)
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (594.0767, 806.3452) (added to group)
[18:56:00] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:00] [INFO] [Player] Spawning blood effect at (570.6398, 834.82465), dir=(1, 0), lethal=False (C#)
[18:56:00] [INFO] [ImpactEffects] spawn_blood_effect called at (570.6398, 834.8246), dir=(1, 0), lethal=false
[18:56:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:00] [INFO] [ImpactEffects] Blood effect spawned at (570.6398, 834.8246) (scale=1)
[18:56:00] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.6888, 839.192), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:56:00] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:56:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(733.8091, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(570,852), corner_timer=-0.01
[18:56:00] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6888, 839.19196), shooter_id=3557407329781, bullet_pos=(640.7284, 1010.78125)
[18:56:00] [INFO] [Bullet] Using shooter_position, distance=185,3333
[18:56:00] [INFO] [Bullet] Distance to wall: 185,3333 (12,619686% of viewport)
[18:56:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:00] [INFO] [LastChance] Threat detected: Bullet
[18:56:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(570,856), corner_timer=0.30
[18:56:00] [INFO] [BloodDecal] Blood puddle created at (606.7454, 808.6339) (added to group)
[18:56:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:01] [INFO] [Player] Spawning blood effect at (570.6888, 869.9921), dir=(1, 0), lethal=False (C#)
[18:56:01] [INFO] [ImpactEffects] spawn_blood_effect called at (570.6888, 869.9921), dir=(1, 0), lethal=false
[18:56:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:01] [INFO] [ImpactEffects] Blood effect spawned at (570.6888, 869.9921) (scale=1)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (649.2516, 775.3641) (added to group)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.6888, 878.7922), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6888, 839.19196), shooter_id=3557407329781, bullet_pos=(708.9419, 880.94293)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=144,41977
[18:56:01] [INFO] [Bullet] Distance to wall: 144,41977 (9,833808% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (589.9628, 833.1672) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (666.2382, 819.7838) (added to group)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(756.8437, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[18:56:01] [INFO] [LastChance] Threat detected: @Area2D@7616
[18:56:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (634.3674, 825.5803) (added to group)
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6888, 878.7922), shooter_id=3557407329781, bullet_pos=(791.9835, 999.3434)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=251,99991
[18:56:01] [INFO] [Bullet] Distance to wall: 251,99991 (17,159138% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (660.4459, 794.3235) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (664.4826, 808.192) (added to group)
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.01746, 912.29553), shooter_id=3554404208271, bullet_pos=(526.1354, 876.9794)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=166,66675
[18:56:01] [INFO] [Bullet] Distance to wall: 166,66675 (11,348645% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [Bullet] Starting wall penetration at (526.1354, 876.9794)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.1702, 916.1063), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:56:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,590691
[18:56:01] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:01] [INFO] [Bullet] Exiting penetration at (488.67252, 868.8566) after traveling 33,333336 pixels through wall
[18:56:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.6113, 912.6004), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (657.5292, 849.9388) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (652.1064, 805.614) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (657.5065, 830.384) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (641.2685, 817.6237) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (618.6149, 847.9551) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (621.1918, 852.889) (added to group)
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6888, 878.7922), shooter_id=3557407329781, bullet_pos=(921.3381, 930.2168)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=354,4001
[18:56:01] [INFO] [Bullet] Distance to wall: 354,4001 (24,131754% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [Bullet] Starting wall penetration at (921.3381, 930.2168)
[18:56:01] [INFO] [LastChance] Threat detected: @Area2D@7634
[18:56:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,709105
[18:56:01] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:01] [INFO] [Bullet] Exiting penetration at (950.7368, 914.5062) after traveling 28,333334 pixels through wall
[18:56:01] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (675.1724, 862.6663) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (626.1837, 821.5237) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (651.3428, 854.8136) (added to group)
[18:56:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:01] [INFO] [Player] Spawning blood effect at (555.9067, 943.0693), dir=(1, 0), lethal=False (C#)
[18:56:01] [INFO] [ImpactEffects] spawn_blood_effect called at (555.9067, 943.0693), dir=(1, 0), lethal=false
[18:56:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:01] [INFO] [ImpactEffects] Blood effect spawned at (555.9067, 943.0693) (scale=1)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (675.5319, 831.7945) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (637.8406, 864.8793) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (652.4656, 889.7783) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (635.0741, 862.2871) (added to group)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.9212, 951.4611), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:01] [ENEMY] [Enemy4] Status: BLINDED applied
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.17017, 916.1063), shooter_id=3557407329781, bullet_pos=(906.1343, 1003.5564)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=352,00006
[18:56:01] [INFO] [Bullet] Distance to wall: 352,00006 (23,968332% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.17017, 916.1063), shooter_id=3557407329781, bullet_pos=(911.04236, 1002.602)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=356,5236
[18:56:01] [INFO] [Bullet] Distance to wall: 356,5236 (24,276348% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=11.9°, current=173.0°, player=(554,951), corner_timer=0.00
[18:56:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(554,951), corner_timer=-0.01
[18:56:01] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:56:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(554,955), corner_timer=0.30
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (659.6389, 882.0864) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (652.9521, 924.6163) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (742.9971, 945.3608) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (634.591, 908.397) (added to group)
[18:56:01] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[18:56:01] [INFO] [ImpactEffects] spawn_blood_effect called at (815.2563, 929.7226), dir=(1, 0), lethal=false
[18:56:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:01] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 929.7226) (dist=96 px)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (911, 929.7226) (added to group)
[18:56:01] [INFO] [ImpactEffects] Blood effect spawned at (815.2563, 929.7226) (scale=1)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (730.8686, 930.0748) (added to group)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.7241, 983.9843), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (705.0045, 950.1613) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (663.0549, 951.5561) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (650.4668, 881.225) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (656.1284, 912.2022) (added to group)
[18:56:01] [ENEMY] [Enemy4] Status: BLINDED removed
[18:56:01] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=171.8°, current=163.0°, player=(554,983), corner_timer=0.00
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(834.5911, 943.7603), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (684.8205, 962.5872) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (715.2155, 937.0468) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (701.7951, 945.0597) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (723.2109, 959.1744) (added to group)
[18:56:01] [INFO] [LastChance] Threat detected: @Area2D@7675
[18:56:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.7241, 983.9843), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.7241, 983.98425), shooter_id=3557407329781, bullet_pos=(920.69995, 863.3874)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=385,33353
[18:56:01] [INFO] [Bullet] Distance to wall: 385,33353 (26,23807% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (659.8931, 932.3131) (added to group)
[18:56:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:01] [INFO] [Player] Spawning blood effect at (554.7241, 983.98425), dir=(1, 0), lethal=False (C#)
[18:56:01] [INFO] [ImpactEffects] spawn_blood_effect called at (554.7241, 983.9843), dir=(1, 0), lethal=false
[18:56:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:01] [INFO] [ImpactEffects] Blood effect spawned at (554.7241, 983.9843) (scale=1)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(853.926, 957.7975), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (632.924, 950.3098) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (629.0097, 984.2831) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (613.9135, 942.9552) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (623.4685, 937.5717) (added to group)
[18:56:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.0°, player=(554,983), corner_timer=-0.01
[18:56:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.7241, 983.98425), shooter_id=3557407329781, bullet_pos=(748.52594, 832.06396)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=246,24971
[18:56:01] [INFO] [Bullet] Distance to wall: 246,24971 (16,767595% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(554,983), corner_timer=0.30
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (744.4214, 985.8763) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (791.9567, 981.9579) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (766.2676, 987.1757) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (898.8017, 955.3876) (added to group)
[18:56:01] [INFO] [LastChance] Threat detected: @Area2D@7687
[18:56:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.7241, 983.9843), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(787.21246, 971.46606), shooter_id=3554404208271, bullet_pos=(622.82495, 998.93494)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=166,66672
[18:56:01] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.7241, 983.98425), shooter_id=3557407329781, bullet_pos=(913.40027, 843.1546)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=385,33307
[18:56:01] [INFO] [Bullet] Distance to wall: 385,33307 (26,238039% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:01] [ENEMY] [Enemy3] Death animation completed
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (858.0637, 938.2343) (added to group)
[18:56:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:01] [INFO] [Player] Spawning blood effect at (554.7241, 983.98425), dir=(1, 0), lethal=False (C#)
[18:56:01] [INFO] [ImpactEffects] spawn_blood_effect called at (554.7241, 983.9843), dir=(1, 0), lethal=false
[18:56:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:01] [INFO] [ImpactEffects] Blood effect spawned at (554.7241, 983.9843) (scale=1)
[18:56:01] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(869.9147, 947.3343), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:01] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (647.6594, 971.3362) (added to group)
[18:56:01] [INFO] [BloodDecal] Blood puddle created at (895.2376, 974.0321) (added to group)
[18:56:01] [INFO] [LastChance] Threat detected: @Area2D@7705
[18:56:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.7241, 983.98425), shooter_id=3557407329781, bullet_pos=(914.9256, 847.10156)
[18:56:01] [INFO] [Bullet] Using shooter_position, distance=385,3336
[18:56:01] [INFO] [Bullet] Distance to wall: 385,3336 (26,238071% of viewport)
[18:56:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(880.0681, 925.7345), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(803.7246, 962.8831), shooter_id=3554404208271, bullet_pos=(503.74237, 959.6207)
[18:56:02] [INFO] [Bullet] Using shooter_position, distance=299,99997
[18:56:02] [INFO] [Bullet] Distance to wall: 299,99997 (20,427551% of viewport)
[18:56:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:02] [INFO] [Bullet] Starting wall penetration at (503.74237, 959.6207)
[18:56:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,59073
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (599.7328, 991.0211) (added to group)
[18:56:02] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:02] [INFO] [Bullet] Exiting penetration at (465.41132, 959.20386) after traveling 33,333336 pixels through wall
[18:56:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.0°, player=(554,983), corner_timer=-0.01
[18:56:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:56:02] [INFO] [LastChance] Threat detected: Bullet
[18:56:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.3°, player=(554,983), corner_timer=0.30
[18:56:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(887.9335, 903.3171), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:02] [INFO] [Player] Spawning blood effect at (554.7241, 983.98425), dir=(1, 0), lethal=False (C#)
[18:56:02] [INFO] [ImpactEffects] spawn_blood_effect called at (554.7241, 983.9843), dir=(1, 0), lethal=false
[18:56:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:02] [INFO] [ImpactEffects] Blood effect spawned at (554.7241, 983.9843) (scale=1)
[18:56:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (649.5789, 983.6083) (added to group)
[18:56:02] [ENEMY] [Enemy1] PURSUING corner check: angle -135.9°
[18:56:02] [ENEMY] [Enemy2] PURSUING corner check: angle 154.6°
[18:56:02] [INFO] [LastChance] Threat detected: @Area2D@7714
[18:56:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (628.0262, 982.0853) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (624.793, 988.1052) (added to group)
[18:56:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(824.12494, 926.7897), shooter_id=3554404208271, bullet_pos=(604.0983, 1004.46045)
[18:56:02] [INFO] [Bullet] Using shooter_position, distance=233,33337
[18:56:02] [INFO] [Bullet] Distance to wall: 233,33337 (15,8881% of viewport)
[18:56:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(887.9343, 880.5325), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[18:56:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[18:56:02] [INFO] [Player] Spawning blood effect at (554.7241, 983.98425), dir=(1, 0), lethal=False (C#)
[18:56:02] [INFO] [ImpactEffects] spawn_blood_effect called at (554.7241, 983.9843), dir=(1, 0), lethal=false
[18:56:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:02] [INFO] [ImpactEffects] Blood effect spawned at (554.7241, 983.9843) (scale=1)
[18:56:02] [INFO] [LastChance] Threat detected: Bullet
[18:56:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:56:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:56:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:56:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:56:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy1] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:56:02] [ENEMY] [Enemy2] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy3] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy4] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy5] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:56:02] [ENEMY] [Enemy6] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy7] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:56:02] [ENEMY] [Enemy8] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy9] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:56:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:02] [ENEMY] [Enemy10] Death animation component initialized
[18:56:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:56:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:56:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:56:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:56:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:56:02] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:56:02] [INFO] [Player.Weapon] Removed default MakarovPM
[18:56:02] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:56:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:56:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:56:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:56:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:56:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:56:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[18:56:02] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:56:02] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:56:02] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:56:02] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:56:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:56:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:56:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:56:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:56:02] [INFO] [BuildingLevel] Setting up weapon: m16
[18:56:02] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:56:02] [INFO] [ScoreManager] Level started with 10 enemies
[18:56:02] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:56:02] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:56:02] [INFO] [ReplayManager] Replay data cleared
[18:56:02] [INFO] [BuildingLevel] Previous replay data cleared
[18:56:02] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:56:02] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:56:02] [INFO] [ReplayManager] Level: BuildingLevel
[18:56:02] [INFO] [ReplayManager] Player: Player (valid: True)
[18:56:02] [INFO] [ReplayManager] Enemies count: 10
[18:56:02] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:56:02] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:56:02] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:56:02] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:56:02] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:56:02] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:56:02] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:56:02] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:56:02] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:56:02] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:56:02] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:56:02] [INFO] [BuildingLevel] Replay recording started successfully
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (735.629, 992.7303) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (679.0315, 981.7176) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (629.6432, 984.0101) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (634.6368, 966.0687) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (612.5511, 992.4742) (added to group)
[18:56:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:56:02] [INFO] [CinemaEffects] Found player node: Player
[18:56:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:56:02] [ENEMY] [Enemy1] Registered as sound listener
[18:56:02] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:56:02] [ENEMY] [Enemy2] Registered as sound listener
[18:56:02] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:56:02] [ENEMY] [Enemy3] Registered as sound listener
[18:56:02] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:56:02] [ENEMY] [Enemy4] Registered as sound listener
[18:56:02] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:56:02] [ENEMY] [Enemy5] Registered as sound listener
[18:56:02] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:56:02] [ENEMY] [Enemy6] Registered as sound listener
[18:56:02] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:56:02] [ENEMY] [Enemy7] Registered as sound listener
[18:56:02] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:56:02] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:56:02] [ENEMY] [Enemy8] Registered as sound listener
[18:56:02] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:56:02] [ENEMY] [Enemy9] Registered as sound listener
[18:56:02] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:56:02] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:56:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:56:02] [ENEMY] [Enemy10] Registered as sound listener
[18:56:02] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:56:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:56:02] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:56:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:56:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:56:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:56:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:56:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:56:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:56:02] [INFO] [LastChance] Found player: Player
[18:56:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:56:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:56:02] [INFO] [LastChance] Connected to player Died signal (C#)
[18:56:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (632.059, 983.7999) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (597.4404, 994.663) (added to group)
[18:56:02] [INFO] [BloodDecal] Blood puddle created at (615.8976, 999.348) (added to group)
[18:56:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:56:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:04] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:56:04] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,910), corner_timer=0.30
[18:56:04] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,910), corner_timer=0.30
[18:56:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,910), corner_timer=-0.02
[18:56:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,910), corner_timer=-0.02
[18:56:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:56:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,910), corner_timer=0.30
[18:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,910), corner_timer=0.30
[18:56:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:56:04] [INFO] [Player] Invincibility mode: OFF
[18:56:04] [INFO] [ExperimentalSettings] Invincibility mode disabled
[18:56:04] [INFO] [GameManager] Invincibility mode toggled: OFF
[18:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,910), corner_timer=-0.02
[18:56:04] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:56:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,910), corner_timer=0.30
[18:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,910), corner_timer=-0.02
[18:56:05] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,910), corner_timer=0.30
[18:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,910), corner_timer=-0.02
[18:56:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,910), corner_timer=0.30
[18:56:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:56:05] [INFO] [Player.Debug] Debug mode toggled: OFF
[18:56:05] [INFO] [ExperimentalSettings] Debug mode disabled
[18:56:05] [INFO] [GameManager] Debug mode toggled: OFF
[18:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,910), corner_timer=-0.02
[18:56:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:56:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,910), corner_timer=0.30
[18:56:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:56:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:56:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:56:06] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:56:06] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:56:06] [ENEMY] [Enemy1] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:56:06] [ENEMY] [Enemy2] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:56:06] [ENEMY] [Enemy3] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:56:06] [ENEMY] [Enemy4] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:56:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:06] [ENEMY] [Enemy5] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:56:06] [ENEMY] [Enemy6] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:56:06] [ENEMY] [Enemy7] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:56:06] [ENEMY] [Enemy8] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:56:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:06] [ENEMY] [Enemy9] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:56:06] [ENEMY] [Enemy10] Death animation component initialized
[18:56:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:06] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:56:06] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:56:06] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:56:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:56:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:56:06] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:56:06] [INFO] [Player.Weapon] Removed default MakarovPM
[18:56:06] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:56:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:56:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:56:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:56:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:56:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:56:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:56:06] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:56:06] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:56:06] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:56:06] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:56:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:56:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:56:06] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:56:06] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:56:06] [INFO] [BuildingLevel] Setting up weapon: m16
[18:56:06] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:56:06] [INFO] [ScoreManager] Level started with 10 enemies
[18:56:06] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:56:06] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:56:06] [INFO] [ReplayManager] Replay data cleared
[18:56:06] [INFO] [BuildingLevel] Previous replay data cleared
[18:56:06] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:56:06] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:56:06] [INFO] [ReplayManager] Level: BuildingLevel
[18:56:06] [INFO] [ReplayManager] Player: Player (valid: True)
[18:56:06] [INFO] [ReplayManager] Enemies count: 10
[18:56:06] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:56:06] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:56:06] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:56:06] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:56:06] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:56:06] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:56:06] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:56:06] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:56:06] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:56:06] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:56:06] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:56:06] [INFO] [BuildingLevel] Replay recording started successfully
[18:56:06] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:56:06] [INFO] [CinemaEffects] Found player node: Player
[18:56:06] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[18:56:06] [ENEMY] [Enemy1] Registered as sound listener
[18:56:06] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[18:56:06] [ENEMY] [Enemy2] Registered as sound listener
[18:56:06] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[18:56:06] [ENEMY] [Enemy3] Registered as sound listener
[18:56:06] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[18:56:06] [ENEMY] [Enemy4] Registered as sound listener
[18:56:06] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[18:56:06] [ENEMY] [Enemy5] Registered as sound listener
[18:56:06] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[18:56:06] [ENEMY] [Enemy6] Registered as sound listener
[18:56:06] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[18:56:06] [ENEMY] [Enemy7] Registered as sound listener
[18:56:06] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:56:06] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[18:56:06] [ENEMY] [Enemy8] Registered as sound listener
[18:56:06] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[18:56:06] [ENEMY] [Enemy9] Registered as sound listener
[18:56:06] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:56:06] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:56:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[18:56:06] [ENEMY] [Enemy10] Registered as sound listener
[18:56:06] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:56:06] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:56:06] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:56:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:56:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:56:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:56:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:56:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:56:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:56:06] [INFO] [LastChance] Found player: Player
[18:56:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:56:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:56:06] [INFO] [LastChance] Connected to player Died signal (C#)
[18:56:06] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:56:07] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:56:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:07] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:56:07] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,863), corner_timer=0.30
[18:56:07] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,863), corner_timer=0.30
[18:56:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.5355, 779.2021), source=PLAYER (AssaultRifle), range=1469, listeners=29
[18:56:07] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[18:56:07] [ENEMY] [Enemy1] Heard gunshot at (453.5355, 779.2021), source_type=0, intensity=0.01, distance=456
[18:56:07] [ENEMY] [Enemy2] Heard gunshot at (453.5355, 779.2021), source_type=0, intensity=0.05, distance=235
[18:56:07] [ENEMY] [Enemy3] Heard gunshot at (453.5355, 779.2021), source_type=0, intensity=0.04, distance=248
[18:56:07] [ENEMY] [Enemy4] Heard gunshot at (453.5355, 779.2021), source_type=0, intensity=0.02, distance=367
[18:56:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:07] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.3°, current=-33.8°, player=(453,779), corner_timer=0.00
[18:56:07] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.9°, current=-67.5°, player=(453,779), corner_timer=0.00
[18:56:07] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.2°, current=11.3°, player=(453,779), corner_timer=0.00
[18:56:07] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-160.8°, current=-67.5°, player=(453,779), corner_timer=0.00
[18:56:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(458,767), corner_timer=-0.02
[18:56:08] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(458,767), corner_timer=-0.02
[18:56:08] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:56:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(460,764), corner_timer=0.30
[18:56:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(460,764), corner_timer=0.30
[18:56:08] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:56:08] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:56:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:08] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:56:08] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.3°, current=180.0°, player=(462,761), corner_timer=0.00
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.7813, 756.0479), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:08] [ENEMY] [Enemy3] Status: BLINDED applied
[18:56:08] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=179.0°, current=-125.2°, player=(470,754), corner_timer=0.00
[18:56:08] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:56:08] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:56:08] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:56:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:08] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:56:08] [INFO] [LastChance] Threat detected: Bullet
[18:56:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(491.0121, 744.0787), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:56:08] [INFO] [Player] Spawning blood effect at (502.2127, 742.0792), dir=(1, 0), lethal=False (C#)
[18:56:08] [INFO] [ImpactEffects] spawn_blood_effect called at (502.2127, 742.0792), dir=(1, 0), lethal=false
[18:56:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:08] [INFO] [ImpactEffects] Blood effect spawned at (502.2127, 742.0792) (scale=1)
[18:56:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:56:08] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:56:08] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:56:08] [INFO] [ImpactEffects] spawn_blood_effect called at (699.8326, 752.1268), dir=(1, 0), lethal=true
[18:56:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:08] [INFO] [ImpactEffects] Blood effect spawned at (699.8326, 752.1268) (scale=1.5)
[18:56:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:56:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:56:08] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:56:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:56:08] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:08] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:56:08] [ENEMY] [Enemy3] Status: BLINDED removed
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.571, 741.4374), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (757.2548, 785.7065) (added to group)
[18:56:08] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=57.2°, current=46.7°, player=(523,741), corner_timer=0.00
[18:56:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(536,741), corner_timer=-0.00
[18:56:08] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[18:56:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(541,741), corner_timer=0.30
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (767.1586, 753.9679) (added to group)
[18:56:08] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(758.8378, 914.2354), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (769.9031, 774.4475) (added to group)
[18:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(701.1183, 878.1928), shooter_id=6240285494273, bullet_pos=(701.1183, 878.1928)
[18:56:08] [INFO] [Bullet] Using shooter_position, distance=0
[18:56:08] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:56:08] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:56:08] [INFO] [Bullet] Starting wall penetration at (701.1183, 878.1928)
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.7712, 741.4374), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:56:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,389572
[18:56:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:08] [INFO] [Bullet] Exiting penetration at (671.07294, 854.3869) after traveling 33,333336 pixels through wall
[18:56:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:08] [INFO] [LastChance] Threat detected: @Area2D@8249
[18:56:08] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (739.2477, 756.3309) (added to group)
[18:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.5482, 608.0252), shooter_id=6239580851864, bullet_pos=(497.55206, 686.4824)
[18:56:08] [INFO] [Bullet] Using shooter_position, distance=100,00008
[18:56:08] [INFO] [Bullet] Distance to wall: 100,00008 (6,8091893% of viewport)
[18:56:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(523.571, 741.43744), shooter_id=6243288617168, bullet_pos=(908.8307, 748.9722)
[18:56:08] [INFO] [Bullet] Using shooter_position, distance=385,33337
[18:56:08] [INFO] [Bullet] Distance to wall: 385,33337 (26,23806% of viewport)
[18:56:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:08] [INFO] [Bullet] Starting wall penetration at (908.8307, 748.9722)
[18:56:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,158812
[18:56:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:08] [INFO] [Bullet] Exiting penetration at (947.1567, 749.7218) after traveling 33,333336 pixels through wall
[18:56:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (798.4611, 751.1877) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (819.3944, 815.3752) (added to group)
[18:56:08] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:56:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:56:08] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (816.7686, 821.6024) (added to group)
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.4439, 746.7808), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (757.9682, 753.0189) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (790.6647, 805.0798) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (760.7026, 796.3438) (added to group)
[18:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.7712, 741.43744), shooter_id=6243288617168, bullet_pos=(910.6936, 748.8379)
[18:56:08] [INFO] [Bullet] Using shooter_position, distance=352,0002
[18:56:08] [INFO] [Bullet] Distance to wall: 352,0002 (23,968342% of viewport)
[18:56:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:08] [INFO] [Bullet] Starting wall penetration at (910.6936, 748.8379)
[18:56:08] [INFO] [LastChance] Threat detected: Bullet
[18:56:08] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,021371
[18:56:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:08] [INFO] [Bullet] Exiting penetration at (949.0185, 749.6438) after traveling 33,333332 pixels through wall
[18:56:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (803.7742, 796.6157) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (589.795, 784.0408) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (749.3033, 780.0526) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (755.7877, 788.6458) (added to group)
[18:56:08] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:56:08] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (826.4921, 735.3745) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (833.3647, 728.4678) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (567.1901, 750.5473) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (792.7733, 735.1479) (added to group)
[18:56:08] [INFO] [Player] Spawning blood effect at (610.04486, 757.26984), dir=(1, 0), lethal=False (C#)
[18:56:08] [INFO] [ImpactEffects] spawn_blood_effect called at (610.0449, 757.2698), dir=(1, 0), lethal=false
[18:56:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:08] [INFO] [ImpactEffects] Blood effect spawned at (610.0449, 757.2698) (scale=1)
[18:56:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:56:08] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:56:08] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:56:08] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:56:08] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (865.3041, 793.4521) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (814.5607, 781.9898) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (805.7642, 747.4911) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (617.187, 771.7139) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (753.0119, 756.6664) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (785.8156, 788.3412) (added to group)
[18:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.4439, 746.7808), shooter_id=6243288617168, bullet_pos=(909.9972, 755.2771)
[18:56:08] [INFO] [Bullet] Using shooter_position, distance=318,66656
[18:56:08] [INFO] [Bullet] Distance to wall: 318,66656 (21,698593% of viewport)
[18:56:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:08] [INFO] [Bullet] Starting wall penetration at (909.9972, 755.2771)
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(617.1075, 764.2762), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:56:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,321274
[18:56:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:08] [INFO] [Bullet] Exiting penetration at (948.3169, 756.29913) after traveling 33,333332 pixels through wall
[18:56:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:08] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (839.8141, 842.6471) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (863.8107, 781.2249) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (767.2392, 801.287) (added to group)
[18:56:08] [INFO] [LastChance] Threat detected: @Area2D@8291
[18:56:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:56:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(620,769), corner_timer=-0.01
[18:56:08] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (768.0457, 813.9418) (added to group)
[18:56:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.3°, player=(622,771), corner_timer=0.30
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (631.4929, 754.6884) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (808.2172, 744.5649) (added to group)
[18:56:08] [INFO] [Player] Spawning blood effect at (624.73236, 776.7073), dir=(1, 0), lethal=False (C#)
[18:56:08] [INFO] [ImpactEffects] spawn_blood_effect called at (624.7324, 776.7073), dir=(1, 0), lethal=false
[18:56:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:08] [INFO] [ImpactEffects] Blood effect spawned at (624.7324, 776.7073) (scale=1)
[18:56:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:56:08] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:56:08] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:56:08] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:56:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.5859, 538.6942), source=ENEMY (Enemy2), range=1469, listeners=9
[18:56:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:56:08] [ENEMY] [Enemy3] Ragdoll activated
[18:56:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (857.7196, 808.8022) (added to group)
[18:56:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.10754, 764.27625), shooter_id=6243288617168, bullet_pos=(935.6229, 754.46533)
[18:56:08] [INFO] [Bullet] Using shooter_position, distance=318,66644
[18:56:08] [INFO] [Bullet] Distance to wall: 318,66644 (21,698586% of viewport)
[18:56:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:08] [INFO] [Bullet] Starting wall penetration at (935.6229, 754.46533)
[18:56:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,956043
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (624.9047, 854.777) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (793.5266, 834.0885) (added to group)
[18:56:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:08] [INFO] [Bullet] Exiting penetration at (973.93805, 753.28516) after traveling 33,333332 pixels through wall
[18:56:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:08] [INFO] [LastChance] Threat detected: @Area2D@8326
[18:56:08] [INFO] [LastChance] Triggering last chance effect!
[18:56:08] [INFO] [LastChance] Starting last chance effect:
[18:56:08] [INFO] [LastChance]   - Time will be frozen (except player)
[18:56:08] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:56:08] [INFO] [LastChance]   - Trigger: threat detected
[18:56:08] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:56:08] [INFO] [LastChance]   - Brightness: 0.60
[18:56:08] [INFO] [LastChance] Pushed bullet @Area2D@8326 from distance 127.4 to 200.0
[18:56:08] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:56:08] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:56:08] [INFO] [LastChance] Skipping player node: Player
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8237
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8240
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8243
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8247
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8251
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8254
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8258
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8265
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8270
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8293
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8307
[18:56:08] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8328
[18:56:08] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:56:08] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:56:08] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (609.2746, 817.8841) (added to group)
[18:56:08] [INFO] [BloodDecal] Blood puddle created at (633.892, 800.3835) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (602.7582, 860.7411) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (606.9792, 802.7377) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (859.2791, 808.6968) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (893.9465, 862.5179) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (819.9074, 775.5065) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (823.3788, 844.215) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (671.0591, 785.9395) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (696.0235, 758.9212) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (665.951, 758.7728) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (857.0105, 843.9647) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (833.0594, 797.7487) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (868.6177, 850.6044) (added to group)
[18:56:09] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (668.9479, 789.687) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (741.3345, 805.2645) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (687.5068, 808.5121) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (682.1783, 805.8661) (added to group)
[18:56:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:56:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:56:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:56:09] [INFO] [LastChance] All process modes restored
[18:56:09] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:56:09] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:56:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:56:09] [ENEMY] [Enemy1] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:56:09] [ENEMY] [Enemy2] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:56:09] [ENEMY] [Enemy3] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:56:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:09] [ENEMY] [Enemy4] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:56:09] [ENEMY] [Enemy5] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:56:09] [ENEMY] [Enemy6] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:56:09] [ENEMY] [Enemy7] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:56:09] [ENEMY] [Enemy8] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:56:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:09] [ENEMY] [Enemy9] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:56:09] [ENEMY] [Enemy10] Death animation component initialized
[18:56:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:56:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:56:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:56:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:56:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:56:09] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:56:09] [INFO] [Player.Weapon] Removed default MakarovPM
[18:56:09] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:56:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:56:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:56:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:56:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:56:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:56:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:56:09] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:56:09] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:56:09] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:56:09] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:56:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:56:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:56:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:56:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:56:09] [INFO] [BuildingLevel] Setting up weapon: m16
[18:56:09] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:56:09] [INFO] [ScoreManager] Level started with 10 enemies
[18:56:09] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:56:09] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:56:09] [INFO] [ReplayManager] Replay data cleared
[18:56:09] [INFO] [BuildingLevel] Previous replay data cleared
[18:56:09] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:56:09] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:56:09] [INFO] [ReplayManager] Level: BuildingLevel
[18:56:09] [INFO] [ReplayManager] Player: Player (valid: True)
[18:56:09] [INFO] [ReplayManager] Enemies count: 10
[18:56:09] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:56:09] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:56:09] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:56:09] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:56:09] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:56:09] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:56:09] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:56:09] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:56:09] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:56:09] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:56:09] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:56:09] [INFO] [BuildingLevel] Replay recording started successfully
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (729.1996, 807.5222) (added to group)
[18:56:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:56:09] [INFO] [CinemaEffects] Found player node: Player
[18:56:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:56:09] [ENEMY] [Enemy1] Registered as sound listener
[18:56:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:56:09] [ENEMY] [Enemy2] Registered as sound listener
[18:56:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:56:09] [ENEMY] [Enemy3] Registered as sound listener
[18:56:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:56:09] [ENEMY] [Enemy4] Registered as sound listener
[18:56:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:56:09] [ENEMY] [Enemy5] Registered as sound listener
[18:56:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:56:09] [ENEMY] [Enemy6] Registered as sound listener
[18:56:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:56:09] [ENEMY] [Enemy7] Registered as sound listener
[18:56:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:56:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:56:09] [ENEMY] [Enemy8] Registered as sound listener
[18:56:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:56:09] [ENEMY] [Enemy9] Registered as sound listener
[18:56:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:56:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:56:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:56:09] [ENEMY] [Enemy10] Registered as sound listener
[18:56:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:56:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:56:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:56:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:56:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:56:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:56:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:56:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:56:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:56:09] [INFO] [LastChance] Found player: Player
[18:56:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:56:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:56:09] [INFO] [LastChance] Connected to player Died signal (C#)
[18:56:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (763.9524, 776.5905) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (818.6801, 805.6948) (added to group)
[18:56:09] [INFO] [BloodDecal] Blood puddle created at (808.1657, 776.1849) (added to group)
[18:56:10] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:56:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:11] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:56:11] [ENEMY] [Enemy3] Status: BLINDED applied
[18:56:11] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:56:11] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 770.9999), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:56:11] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:56:11] [ENEMY] [Enemy1] Heard gunshot at (450, 770.9999), source_type=0, intensity=0.01, distance=447
[18:56:11] [ENEMY] [Enemy2] Heard gunshot at (450, 770.9999), source_type=0, intensity=0.05, distance=227
[18:56:11] [ENEMY] [Enemy3] Heard gunshot at (450, 770.9999), source_type=0, intensity=0.04, distance=251
[18:56:11] [ENEMY] [Enemy4] Heard gunshot at (450, 770.9999), source_type=0, intensity=0.02, distance=373
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:11] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.4°, current=-157.5°, player=(450,770), corner_timer=0.00
[18:56:11] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.3°, current=-67.5°, player=(450,770), corner_timer=0.00
[18:56:11] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.2°, current=-33.8°, player=(450,770), corner_timer=0.00
[18:56:11] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.8°, current=-101.3°, player=(450,770), corner_timer=0.00
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 744.1666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 770.99994), shooter_id=6318148552736, bullet_pos=(918.6642, 772.5089)
[18:56:11] [INFO] [Bullet] Using shooter_position, distance=468,66663
[18:56:11] [INFO] [Bullet] Distance to wall: 468,66663 (31,912374% of viewport)
[18:56:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:11] [INFO] [Bullet] Starting wall penetration at (918.6642, 772.5089)
[18:56:11] [ENEMY] [Enemy3] Status: BLINDED removed
[18:56:11] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.6°, current=172.0°, player=(450,736), corner_timer=0.00
[18:56:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,33078
[18:56:11] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:56:11] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3707, 750.8928), dir=(1, 0), lethal=false
[18:56:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:11] [INFO] [ImpactEffects] Blood effect spawned at (689.3707, 750.8928) (scale=1)
[18:56:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:11] [INFO] [Bullet] Exiting penetration at (965.3306, 772.6592) after traveling 41,666668 pixels through wall
[18:56:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3707, 750.8928), source=ENEMY (Enemy3), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 731.2888), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:11] [INFO] [LastChance] Threat detected: Bullet
[18:56:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:56:11] [INFO] [Player] Spawning blood effect at (450, 729.33325), dir=(1, 0), lethal=False (C#)
[18:56:11] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 729.3333), dir=(1, 0), lethal=false
[18:56:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:11] [INFO] [ImpactEffects] Blood effect spawned at (450, 729.3333) (scale=1)
[18:56:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:56:11] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:56:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(450,729), corner_timer=-0.01
[18:56:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(450,729), corner_timer=-0.01
[18:56:11] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[18:56:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,729), corner_timer=0.30
[18:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(450,729), corner_timer=0.30
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(683.4916, 757.0779), source=ENEMY (Enemy3), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 729.2888), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:11] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.1426, 764.8092), source=ENEMY (Enemy3), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:56:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 731.2888), shooter_id=6318148552736, bullet_pos=(935.32947, 729.36304)
[18:56:11] [INFO] [Bullet] Using shooter_position, distance=485,33328
[18:56:11] [INFO] [Bullet] Distance to wall: 485,33328 (33,047237% of viewport)
[18:56:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:11] [INFO] [Bullet] Starting wall penetration at (935.32947, 729.36304)
[18:56:11] [INFO] [LastChance] Threat detected: @Area2D@8638
[18:56:11] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,662773
[18:56:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:11] [INFO] [Bullet] Exiting penetration at (973.6625, 729.21094) after traveling 33,333332 pixels through wall
[18:56:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 729.2888), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:11] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:56:11] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:56:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:56:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 729.2888), shooter_id=6318148552736, bullet_pos=(935.3011, 734.8617)
[18:56:11] [INFO] [Bullet] Using shooter_position, distance=485,3331
[18:56:11] [INFO] [Bullet] Distance to wall: 485,3331 (33,047222% of viewport)
[18:56:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:11] [INFO] [Bullet] Starting wall penetration at (935.3011, 734.8617)
[18:56:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,634377
[18:56:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:11] [INFO] [Bullet] Exiting penetration at (973.6319, 735.3019) after traveling 33,333336 pixels through wall
[18:56:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (773.0034, 761.5132) (added to group)
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (517.8408, 778.4891) (added to group)
[18:56:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.75574, 756.879), shooter_id=6314793109016, bullet_pos=(51.228374, 792.79443)
[18:56:11] [INFO] [Bullet] Using shooter_position, distance=566,6666
[18:56:11] [INFO] [Bullet] Distance to wall: 566,6666 (38,585373% of viewport)
[18:56:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:11] [INFO] [Bullet] Starting wall penetration at (51.228374, 792.79443)
[18:56:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,06622
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (773.5869, 802.5664) (added to group)
[18:56:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:11] [INFO] [Bullet] Exiting penetration at (12.972111, 795.224) after traveling 33,333332 pixels through wall
[18:56:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (517.595, 721.5443) (added to group)
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (810.1658, 735.1487) (added to group)
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (551.3508, 763.28) (added to group)
[18:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(450,729), corner_timer=-0.01
[18:56:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (818.675, 833.7562) (added to group)
[18:56:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 729.2888), shooter_id=6318148552736, bullet_pos=(934.7171, 753.74506)
[18:56:11] [INFO] [Bullet] Using shooter_position, distance=485,33368
[18:56:11] [INFO] [Bullet] Distance to wall: 485,33368 (33,047264% of viewport)
[18:56:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(609.3327, 762.11975), shooter_id=6314793109016, bullet_pos=(42.885338, 746.3514)
[18:56:11] [INFO] [Bullet] Using shooter_position, distance=566,6669
[18:56:11] [INFO] [Bullet] Distance to wall: 566,6669 (38,585392% of viewport)
[18:56:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:11] [INFO] [Bullet] Starting wall penetration at (42.885338, 746.3514)
[18:56:11] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[18:56:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.2201, 819.4136), source=ENEMY (Enemy3), range=1469, listeners=10
[18:56:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:56:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(450,729), corner_timer=0.30
[18:56:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,443777
[18:56:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:11] [INFO] [Bullet] Exiting penetration at (4.5668488, 745.28467) after traveling 33,333336 pixels through wall
[18:56:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:11] [INFO] [LastChance] Threat detected: Bullet
[18:56:11] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (834.7563, 787.4731) (added to group)
[18:56:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=109.5°, current=110.7°, player=(450,729), corner_timer=0.00
[18:56:11] [INFO] [Player] Spawning blood effect at (450, 729.2888), dir=(1, 0), lethal=False (C#)
[18:56:11] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 729.2888), dir=(1, 0), lethal=false
[18:56:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:11] [INFO] [ImpactEffects] Blood effect spawned at (450, 729.2888) (scale=1)
[18:56:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:56:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:56:11] [INFO] [BloodDecal] Blood puddle created at (826.6589, 792.162) (added to group)
[18:56:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:56:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:56:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:56:12] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:56:12] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:56:12] [ENEMY] [Enemy1] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:56:12] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:12] [ENEMY] [Enemy2] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:56:12] [ENEMY] [Enemy3] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:56:12] [ENEMY] [Enemy4] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:56:12] [ENEMY] [Enemy5] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:56:12] [ENEMY] [Enemy6] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:56:12] [ENEMY] [Enemy7] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:56:12] [ENEMY] [Enemy8] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:56:12] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:12] [ENEMY] [Enemy9] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:56:12] [ENEMY] [Enemy10] Death animation component initialized
[18:56:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:12] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:56:12] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:56:12] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:56:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:56:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:56:12] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:56:12] [INFO] [Player.Weapon] Removed default MakarovPM
[18:56:12] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:56:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:56:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:56:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:56:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:56:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:56:12] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:56:12] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:56:12] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:56:12] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:56:12] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:56:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:56:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:56:12] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:56:12] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:56:12] [INFO] [BuildingLevel] Setting up weapon: m16
[18:56:12] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:56:12] [INFO] [ScoreManager] Level started with 10 enemies
[18:56:12] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:56:12] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:56:12] [INFO] [ReplayManager] Replay data cleared
[18:56:12] [INFO] [BuildingLevel] Previous replay data cleared
[18:56:12] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:56:12] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:56:12] [INFO] [ReplayManager] Level: BuildingLevel
[18:56:12] [INFO] [ReplayManager] Player: Player (valid: True)
[18:56:12] [INFO] [ReplayManager] Enemies count: 10
[18:56:12] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:56:12] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:56:12] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:56:12] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:56:12] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:56:12] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:56:12] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:56:12] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:56:12] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:56:12] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:56:12] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:56:12] [INFO] [BuildingLevel] Replay recording started successfully
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (819.98, 848.9786) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (610.3989, 822.119) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (580.1785, 783.3368) (added to group)
[18:56:12] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:56:12] [INFO] [CinemaEffects] Found player node: Player
[18:56:12] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:56:12] [ENEMY] [Enemy1] Registered as sound listener
[18:56:12] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:56:12] [ENEMY] [Enemy2] Registered as sound listener
[18:56:12] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:56:12] [ENEMY] [Enemy3] Registered as sound listener
[18:56:12] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:56:12] [ENEMY] [Enemy4] Registered as sound listener
[18:56:12] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:56:12] [ENEMY] [Enemy5] Registered as sound listener
[18:56:12] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:56:12] [ENEMY] [Enemy6] Registered as sound listener
[18:56:12] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:56:12] [ENEMY] [Enemy7] Registered as sound listener
[18:56:12] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:56:12] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:56:12] [ENEMY] [Enemy8] Registered as sound listener
[18:56:12] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:56:12] [ENEMY] [Enemy9] Registered as sound listener
[18:56:12] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:56:12] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:56:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:56:12] [ENEMY] [Enemy10] Registered as sound listener
[18:56:12] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:56:12] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:56:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:56:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:56:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:56:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:56:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:56:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:56:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:56:12] [INFO] [LastChance] Found player: Player
[18:56:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:56:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:56:12] [INFO] [LastChance] Connected to player Died signal (C#)
[18:56:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (800.7256, 812.6624) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (622.8628, 746.0447) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (558.1896, 814.796) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (502.8999, 751.4861) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (628.153, 885.9269) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (521.4996, 733.5972) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (548.7809, 803.1158) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (667.0029, 923.2743) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (516.0462, 764.282) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (553.6073, 723.3668) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (593.2881, 808.7206) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (574.8404, 835.4741) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (582.3665, 845.5765) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (660.5886, 811.5632) (added to group)
[18:56:12] [INFO] [BloodDecal] Blood puddle created at (553.2333, 807.2305) (added to group)
[18:56:13] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:56:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:56:13] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,782), corner_timer=0.30
[18:56:13] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,782), corner_timer=0.30
[18:56:13] [ENEMY] [Enemy3] Status: BLINDED applied
[18:56:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 766.9444), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:56:13] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:56:13] [ENEMY] [Enemy1] Heard gunshot at (450, 766.9444), source_type=0, intensity=0.01, distance=443
[18:56:13] [ENEMY] [Enemy2] Heard gunshot at (450, 766.9444), source_type=0, intensity=0.05, distance=223
[18:56:13] [ENEMY] [Enemy3] Heard gunshot at (450, 766.9444), source_type=0, intensity=0.04, distance=251
[18:56:13] [ENEMY] [Enemy4] Heard gunshot at (450, 766.9444), source_type=0, intensity=0.02, distance=374
[18:56:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:13] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.2°, current=168.8°, player=(450,766), corner_timer=0.00
[18:56:13] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.0°, current=-157.5°, player=(450,766), corner_timer=0.00
[18:56:13] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=176.1°, current=-123.8°, player=(450,766), corner_timer=0.00
[18:56:13] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.2°, current=-67.5°, player=(450,766), corner_timer=0.00
[18:56:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:56:13] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3578, 750.7213), dir=(1, 0), lethal=false
[18:56:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:13] [INFO] [ImpactEffects] Blood effect spawned at (689.3578, 750.7213) (scale=1)
[18:56:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 750.3999), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:13] [ENEMY] [Enemy3] Status: BLINDED removed
[18:56:13] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-179.2°, current=-179.1°, player=(450,747), corner_timer=0.00
[18:56:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[18:56:13] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3578, 750.7213), dir=(1, 0), lethal=false
[18:56:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:13] [INFO] [ImpactEffects] Blood effect spawned at (689.3578, 750.7213) (scale=1)
[18:56:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3578, 750.7213), source=ENEMY (Enemy3), range=1469, listeners=10
[18:56:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:56:14] [INFO] [LastChance] Threat detected: Bullet
[18:56:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:14] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(450,745), corner_timer=-0.01
[18:56:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(450,745), corner_timer=-0.01
[18:56:14] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[18:56:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(450,745), corner_timer=0.30
[18:56:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(450,745), corner_timer=0.30
[18:56:14] [INFO] [Player] Spawning blood effect at (450, 745.7332), dir=(1, 0), lethal=False (C#)
[18:56:14] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 745.7332), dir=(1, 0), lethal=false
[18:56:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:14] [INFO] [ImpactEffects] Blood effect spawned at (450, 745.7332) (scale=1)
[18:56:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:56:14] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:56:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[18:56:14] [INFO] [ImpactEffects] spawn_blood_effect called at (684.9607, 755.3716), dir=(1, 0), lethal=true
[18:56:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:14] [INFO] [ImpactEffects] Blood effect spawned at (684.9607, 755.3716) (scale=1.5)
[18:56:14] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:56:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:56:14] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:56:14] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:56:14] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:14] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:56:14] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:56:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:56:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.8762, 906.2301), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (779.2125, 808.7584) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (755.8502, 787.7687) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (760.2939, 783.8423) (added to group)
[18:56:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(713.8808, 883.09595), shooter_id=6401329990606, bullet_pos=(713.8808, 883.09595)
[18:56:14] [INFO] [Bullet] Using shooter_position, distance=0
[18:56:14] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:56:14] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:56:14] [INFO] [Bullet] Starting wall penetration at (713.8808, 883.09595)
[18:56:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,6373867
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (726.0334, 751.7924) (added to group)
[18:56:14] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[18:56:14] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:14] [INFO] [Bullet] Exiting penetration at (649.4674, 851.67883) after traveling 66,66667 pixels through wall
[18:56:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (786.8869, 786.7058) (added to group)
[18:56:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:56:14] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:56:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (833.9455, 790.6851) (added to group)
[18:56:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 745.7332), shooter_id=6404333111926, bullet_pos=(934.5626, 773.0697)
[18:56:14] [INFO] [Bullet] Using shooter_position, distance=485,3331
[18:56:14] [INFO] [Bullet] Distance to wall: 485,3331 (33,047222% of viewport)
[18:56:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:14] [INFO] [Bullet] Starting wall penetration at (934.5626, 773.0697)
[18:56:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,893654
[18:56:14] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:14] [INFO] [Bullet] Exiting penetration at (972.8351, 775.2288) after traveling 33,333336 pixels through wall
[18:56:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (732.0688, 779.5339) (added to group)
[18:56:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(457,745), corner_timer=-0.01
[18:56:14] [ENEMY] [Enemy10] PATROL corner check: angle 7.3°
[18:56:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.3°, current=16.4°, player=(459,745), corner_timer=0.30
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (846.6618, 789.6435) (added to group)
[18:56:14] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (758.7275, 794.6902) (added to group)
[18:56:14] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[18:56:14] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (799.4338, 793.1276) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (783.5934, 789.3206) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (782.372, 793.2975) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (795.819, 753.6718) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (567.2844, 829.423) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (559.2332, 818.6644) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (578.7345, 794.8016) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (764.0499, 801.4904) (added to group)
[18:56:14] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (791.7982, 831.8109) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (864.0854, 874.0527) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (809.6523, 770.1429) (added to group)
[18:56:14] [ENEMY] [Enemy3] Ragdoll activated
[18:56:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (784.2559, 787.1329) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (873.4863, 890.4122) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (789.0312, 793.2363) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (820.8141, 805.431) (added to group)
[18:56:14] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.3°, current=35.5°, player=(525,745), corner_timer=0.00
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (863.4902, 811.7341) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (613.4996, 777.4007) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (640.0165, 751.0876) (added to group)
[18:56:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(547.6003, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:56:14] [ENEMY] [Enemy2] Status: BLINDED applied
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (791.4823, 803.8439) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (814.0762, 766.0036) (added to group)
[18:56:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=53.0°, current=46.9°, player=(547,745), corner_timer=0.00
[18:56:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(547,745), corner_timer=-0.01
[18:56:14] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (623.5786, 742.9919) (added to group)
[18:56:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(552,745), corner_timer=0.30
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (541.1402, 796.6699) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (857.4608, 808.5549) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (838.2755, 845.1) (added to group)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (877.4307, 797.8291) (added to group)
[18:56:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[18:56:14] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:56:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:14] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:56:14] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:56:14] [INFO] [BloodDecal] Blood puddle created at (800.3196, 828.3762) (added to group)
[18:56:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.6227, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:56:15] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[18:56:15] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:56:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:15] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:56:15] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:56:15] [ENEMY] [Enemy2] Status: BLINDED removed
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.0004, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:15] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[18:56:15] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:56:15] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-49.2°, current=121.6°, player=(617,745), corner_timer=0.00
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.0004, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:56:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(626,745), corner_timer=-0.01
[18:56:15] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:56:15] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=43.6°, current=92.5°, player=(627,745), corner_timer=0.00
[18:56:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(627,745), corner_timer=0.30
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (462.3944, 550.8183) (added to group)
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.5392, 535.4601), source=ENEMY (Enemy2), range=1469, listeners=9
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.0004, 745.7332), shooter_id=6404333111926, bullet_pos=(248.54828, 474.33624)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=451,99997
[18:56:15] [INFO] [Bullet] Distance to wall: 451,99997 (30,777512% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [Bullet] Starting wall penetration at (248.54828, 474.33624)
[18:56:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,6333866
[18:56:15] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[18:56:15] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:15] [INFO] [Bullet] Exiting penetration at (191.23839, 431.30502) after traveling 66,666664 pixels through wall
[18:56:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (474.4366, 586.6483) (added to group)
[18:56:15] [INFO] [LastChance] Threat detected: @Area2D@9007
[18:56:15] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.6671, 745.7332), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.5055, 527.3824), source=ENEMY (Enemy2), range=1469, listeners=9
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (485.9801, 566.2757) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (438.8584, 584.9103) (added to group)
[18:56:15] [INFO] [Player] Spawning blood effect at (630.6671, 745.7332), dir=(1, 0), lethal=False (C#)
[18:56:15] [INFO] [ImpactEffects] spawn_blood_effect called at (630.6671, 745.7332), dir=(1, 0), lethal=false
[18:56:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:15] [INFO] [ImpactEffects] Blood effect spawned at (630.6671, 745.7332) (scale=1)
[18:56:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:56:15] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:56:15] [INFO] [LastChance] Threat detected: @Area2D@9013
[18:56:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:56:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(626.0004, 745.7332), shooter_id=6404333111926, bullet_pos=(224.60739, 472.91095)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=485,33325
[18:56:15] [INFO] [Bullet] Distance to wall: 485,33325 (33,047234% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (498.1978, 560.145) (added to group)
[18:56:15] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-49.2°, current=25.5°, player=(630,745), corner_timer=0.00
[18:56:15] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[18:56:15] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:56:15] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:56:15] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(626.0004, 745.7332), shooter_id=6404333111926, bullet_pos=(67.179436, 549.3403)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=592,32684
[18:56:15] [INFO] [Bullet] Distance to wall: 592,32684 (40,332623% of viewport)
[18:56:15] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (496.4908, 572.3826) (added to group)
[18:56:15] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:56:15] [INFO] [GrenadeBase] Grenade created at (467.1288, 530.6373) (frozen)
[18:56:15] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:56:15] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:56:15] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[18:56:15] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[18:56:15] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:56:15] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:56:15] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.528789, 0.848754), Speed: 590.1 (unfrozen)
[18:56:15] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[18:56:15] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[18:56:15] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:56:15] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (604.2227, 745.7332), Distance: 295
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.80988, 579.9877), shooter_id=6400625348201, bullet_pos=(692.9241, 863.01074)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=366,66647
[18:56:15] [INFO] [Bullet] Distance to wall: 366,66647 (24,966995% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.6671, 745.7332), shooter_id=6404333111926, bullet_pos=(235.41785, 464.0838)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=485,33325
[18:56:15] [INFO] [Bullet] Distance to wall: 485,33325 (33,047234% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (473.4323, 615.3802) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (521.2572, 634.0024) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (490.7921, 605.742) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (480.8949, 586.6002) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (535.2872, 667.42) (added to group)
[18:56:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(630,750), corner_timer=-0.01
[18:56:15] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:56:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(630,751), corner_timer=0.30
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.80988, 579.9877), shooter_id=6400625348201, bullet_pos=(596.2501, 1008.88464)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=450,07617
[18:56:15] [INFO] [Bullet] Distance to wall: 450,07617 (30,646515% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [GrenadeBase] Collision detected with Room1_WallRight (type: StaticBody2D)
[18:56:15] [INFO] [FragGrenade] Impact detected! Body: Room1_WallRight (type: StaticBody2D), triggering explosion
[18:56:15] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:56:15] [INFO] [GrenadeBase] EXPLODED at (491.3166, 579.876)!
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(491.3166, 579.876), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[18:56:15] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[18:56:15] [INFO] [ImpactEffects] spawn_blood_effect called at (445.9772, 496.6872), dir=(-0.478556, -0.878057), lethal=true
[18:56:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:15] [INFO] [ImpactEffects] Blood effect spawned at (445.9772, 496.6872) (scale=1.5)
[18:56:15] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:56:15] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:56:15] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[18:56:15] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[18:56:15] [INFO] [DeathAnim] Started - Angle: -118.6 deg, Index: 4
[18:56:15] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.478556, -0.878057)
[18:56:15] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 94.7
[18:56:15] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -13.8 degrees
[18:56:15] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.2 degrees
[18:56:15] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 192.2 degrees
[18:56:15] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 268.0 degrees
[18:56:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (491.3166, 579.876) (radius=225) - using shadow-based wall occlusion
[18:56:15] [INFO] [GrenadeTimer] Impact detected with Room1_WallRight - EXPLODING!
[18:56:15] [INFO] [GrenadeTimer] EXPLODED at (491.31656, 579.876)!
[18:56:15] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:56:15] [INFO] [GrenadeTimer] Damaged enemy at distance 94,7
[18:56:15] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:56:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(491.3166, 579.876), source=NEUTRAL (FragGrenade), range=2938, listeners=8
[18:56:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[18:56:15] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (491.31656, 579.876) (shadow-based wall occlusion)
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.6671, 745.7332), shooter_id=6404333111926, bullet_pos=(62.469543, 618.22107)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=582,32965
[18:56:15] [INFO] [Bullet] Distance to wall: 582,32965 (39,651897% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [Bullet] Starting wall penetration at (62.469543, 618.22107)
[18:56:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:15] [INFO] [Bullet] Exiting penetration at (37.584892, 640.3991) after traveling 28,333334 pixels through wall
[18:56:15] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (559.6488, 656.8628) (added to group)
[18:56:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.80988, 579.9877), shooter_id=6400625348201, bullet_pos=(521.6796, 908.0453)
[18:56:15] [INFO] [Bullet] Using shooter_position, distance=333,8408
[18:56:15] [INFO] [Bullet] Distance to wall: 333,8408 (22,731834% of viewport)
[18:56:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:15] [INFO] [LastChance] Threat detected: @Area2D@9013
[18:56:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:56:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (699.6705, 795.1938) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (712.0146, 751.8831) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (690.0847, 781.376) (added to group)
[18:56:15] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:15] [INFO] [Player] Spawning blood effect at (611.3628, 779.4954), dir=(1, 0), lethal=False (C#)
[18:56:15] [INFO] [ImpactEffects] spawn_blood_effect called at (611.3628, 779.4954), dir=(1, 0), lethal=false
[18:56:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:15] [INFO] [ImpactEffects] Blood effect spawned at (611.3628, 779.4954) (scale=1)
[18:56:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:56:15] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:56:15] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (742.2881, 766.5665) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (705.4625, 798.9088) (added to group)
[18:56:15] [ENEMY] [Enemy3] Death animation completed
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (635.1144, 700.7431) (added to group)
[18:56:15] [INFO] [BloodDecal] Blood puddle created at (574.5959, 727.5135) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (713.6691, 759.7446) (added to group)
[18:56:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(583,811), corner_timer=-0.01
[18:56:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(580,814), corner_timer=0.30
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (400.1246, 447.9694) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (438.9785, 435.0575) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (407.8174, 485.157) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (412.5419, 437.1922) (added to group)
[18:56:16] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (386.7196, 479.7661) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (392.1288, 445.6009) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (419.3492, 476.2385) (added to group)
[18:56:16] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (381.6145, 455.7507) (added to group)
[18:56:16] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=113.2°, current=114.4°, player=(553,851), corner_timer=0.00
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (689.0469, 761.9478) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (835.1412, 843.7501) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (382.0298, 498.7455) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (409.6512, 446.5879) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (679.7846, 830.0722) (added to group)
[18:56:16] [ENEMY] [Enemy2] Ragdoll activated
[18:56:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (716.6523, 808.5645) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (683.5359, 774.3944) (added to group)
[18:56:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.0°, player=(548,876), corner_timer=-0.01
[18:56:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:56:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.3°, player=(548,880), corner_timer=0.30
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (439.2375, 423.2938) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (389.4595, 487.9912) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (393.2455, 484.4838) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (397.089, 492.5461) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (404.944, 476.7811) (added to group)
[18:56:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.4641, 898.1174), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (685.6631, 802.3949) (added to group)
[18:56:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.46405, 898.1174), shooter_id=6404333111926, bullet_pos=(700.2404, 889.87463)
[18:56:16] [INFO] [Bullet] Using shooter_position, distance=152,00003
[18:56:16] [INFO] [Bullet] Distance to wall: 152,00003 (10,349962% of viewport)
[18:56:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[18:56:16] [INFO] [ImpactEffects] spawn_blood_effect called at (796.2653, 869.8362), dir=(1, 0), lethal=false
[18:56:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:16] [INFO] [ImpactEffects] Blood effect spawned at (796.2653, 869.8362) (scale=1)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (397.4713, 499.4409) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (388.1508, 410.8167) (added to group)
[18:56:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.4641, 928.3396), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (390.9097, 413.0983) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (398.0301, 453.9225) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (350.4656, 422.3931) (added to group)
[18:56:16] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[18:56:16] [INFO] [ImpactEffects] spawn_blood_effect called at (799.9088, 862.1583), dir=(1, 0), lethal=true
[18:56:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:16] [INFO] [ImpactEffects] Blood effect spawned at (799.9088, 862.1583) (scale=1.5)
[18:56:16] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:56:16] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:56:16] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[18:56:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:16] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[18:56:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.4641, 947.184), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=5
[18:56:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.8°, current=175.8°, player=(548,951), corner_timer=-0.01
[18:56:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[18:56:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(548,952), corner_timer=0.30
[18:56:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.46405, 947.184), shooter_id=6404333111926, bullet_pos=(759.65533, 890.4979)
[18:56:16] [INFO] [Bullet] Using shooter_position, distance=218,66658
[18:56:16] [INFO] [Bullet] Distance to wall: 218,66658 (14,88941% of viewport)
[18:56:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:16] [INFO] [Bullet] Starting wall penetration at (759.65533, 890.4979)
[18:56:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:16] [INFO] [Bullet] Exiting penetration at (796.67816, 880.56055) after traveling 33,333336 pixels through wall
[18:56:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.4641, 954.6507), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=5
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (842.2552, 891.1331) (added to group)
[18:56:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (844.14, 897.5256) (added to group)
[18:56:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.46405, 954.6507), shooter_id=6404333111926, bullet_pos=(721.9032, 889.3264)
[18:56:16] [INFO] [Bullet] Using shooter_position, distance=185,3332
[18:56:16] [INFO] [Bullet] Distance to wall: 185,3332 (12,6196785% of viewport)
[18:56:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (865.7161, 914.9551) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (875.1866, 870.9062) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (853.9315, 877.1748) (added to group)
[18:56:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.6774, 954.7841), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=5
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (846.8833, 876.0113) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (867.517, 891.6835) (added to group)
[18:56:16] [INFO] [BloodDecal] Blood puddle created at (852.8914, 902.2878) (added to group)
[18:56:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.46405, 954.6507), shooter_id=6404333111926, bullet_pos=(921.1449, 929.91266)
[18:56:17] [INFO] [Bullet] Using shooter_position, distance=373,50098
[18:56:17] [INFO] [Bullet] Distance to wall: 373,50098 (25,43237% of viewport)
[18:56:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:17] [INFO] [Bullet] Starting wall penetration at (921.1449, 929.91266)
[18:56:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,1732
[18:56:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.67737, 954.78406), shooter_id=6404333111926, bullet_pos=(723.4569, 893.1351)
[18:56:17] [INFO] [Bullet] Using shooter_position, distance=185,33344
[18:56:17] [INFO] [Bullet] Distance to wall: 185,33344 (12,619695% of viewport)
[18:56:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:17] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:17] [INFO] [Bullet] Exiting penetration at (953.8075, 936.56616) after traveling 28,333332 pixels through wall
[18:56:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:17] [INFO] [BloodDecal] Blood puddle created at (888.3727, 930.75) (added to group)
[18:56:17] [INFO] [BloodDecal] Blood puddle created at (898.2353, 841.6323) (added to group)
[18:56:17] [INFO] [BloodDecal] Blood puddle created at (861.8878, 870.4055) (added to group)
[18:56:17] [INFO] [BloodDecal] Blood puddle created at (896.3113, 896.7974) (added to group)
[18:56:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.67737, 954.78406), shooter_id=6404333111926, bullet_pos=(919.5606, 946.87274)
[18:56:17] [INFO] [Bullet] Using shooter_position, distance=370,96762
[18:56:17] [INFO] [Bullet] Distance to wall: 370,96762 (25,259867% of viewport)
[18:56:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:17] [INFO] [Bullet] Starting wall penetration at (919.5606, 946.87274)
[18:56:17] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[18:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=125.2°, player=(565,954), corner_timer=-0.01
[18:56:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:56:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,287844
[18:56:17] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:17] [INFO] [Bullet] Exiting penetration at (951.70874, 955.6822) after traveling 28,333334 pixels through wall
[18:56:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(567,954), corner_timer=0.30
[18:56:17] [ENEMY] [Enemy4] Ragdoll activated
[18:56:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:17] [INFO] [BloodDecal] Blood puddle created at (889.9501, 963.1226) (added to group)
[18:56:17] [INFO] [BloodDecal] Blood puddle created at (880.0909, 959.7749) (added to group)
[18:56:17] [ENEMY] [Enemy2] Death animation completed
[18:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(663,953), corner_timer=-0.01
[18:56:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[18:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(667,953), corner_timer=0.30
[18:56:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(768,953), corner_timer=-0.01
[18:56:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(773,953), corner_timer=0.30
[18:56:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:18] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:56:18] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[18:56:18] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(837,904), corner_timer=-0.01
[18:56:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(838,900), corner_timer=0.30
[18:56:18] [ENEMY] [Enemy4] Death animation completed
[18:56:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(825,806), corner_timer=-0.01
[18:56:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(822,803), corner_timer=0.30
[18:56:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:18] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[18:56:19] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[18:56:19] [INFO] [ReplayManager] Recording frame 420 (6,0s): player_valid=True, enemies=10
[18:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(751,731), corner_timer=-0.01
[18:56:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(748,728), corner_timer=0.30
[18:56:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(676,658), corner_timer=-0.01
[18:56:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(672,655), corner_timer=0.30
[18:56:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(574,643), corner_timer=-0.01
[18:56:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(569,643), corner_timer=0.30
[18:56:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:20] [INFO] [ReplayManager] Recording frame 480 (6,9s): player_valid=True, enemies=10
[18:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(464,643), corner_timer=-0.02
[18:56:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(459,643), corner_timer=0.30
[18:56:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.6848, 643.5615), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:56:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.1848, 643.5615), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:56:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.6848, 643.56146), shooter_id=6404333111926, bullet_pos=(513.1373, 55.509144)
[18:56:20] [INFO] [Bullet] Using shooter_position, distance=593,6666
[18:56:20] [INFO] [Bullet] Distance to wall: 593,6666 (40,42385% of viewport)
[18:56:20] [INFO] [Bullet] Distance-based penetration chance: 99,50551%
[18:56:20] [INFO] [Bullet] Starting wall penetration at (513.1373, 55.509144)
[18:56:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(354.6848, 643.5615), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:56:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,933077
[18:56:20] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:20] [INFO] [Bullet] Exiting penetration at (519.54016, 9.283802) after traveling 41,666668 pixels through wall
[18:56:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(354,643), corner_timer=-0.02
[18:56:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(349,643), corner_timer=0.30
[18:56:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(393.1848, 643.56146), shooter_id=6404333111926, bullet_pos=(533.9195, 66.817184)
[18:56:20] [INFO] [Bullet] Using shooter_position, distance=593,66675
[18:56:20] [INFO] [Bullet] Distance to wall: 593,66675 (40,423862% of viewport)
[18:56:20] [INFO] [Bullet] Distance-based penetration chance: 99,50549%
[18:56:20] [INFO] [Bullet] Starting wall penetration at (533.9195, 66.817184)
[18:56:20] [ENEMY] [Enemy1] PURSUING corner check: angle -141.1°
[18:56:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(316.1848, 643.5615), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:56:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,827909
[18:56:20] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:20] [INFO] [Bullet] Exiting penetration at (544.9823, 21.480747) after traveling 41,66667 pixels through wall
[18:56:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.6848, 643.56146), shooter_id=6404333111926, bullet_pos=(507.59418, 200.54099)
[18:56:20] [INFO] [Bullet] Using shooter_position, distance=468,66663
[18:56:20] [INFO] [Bullet] Distance to wall: 468,66663 (31,912374% of viewport)
[18:56:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(277.6848, 643.5615), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:56:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.6848, 643.56146), shooter_id=6404333111926, bullet_pos=(452.3892, 64.66046)
[18:56:20] [INFO] [Bullet] Using shooter_position, distance=587,0882
[18:56:20] [INFO] [Bullet] Distance to wall: 587,0882 (39,975918% of viewport)
[18:56:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:20] [INFO] [Bullet] Starting wall penetration at (452.3892, 64.66046)
[18:56:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,163642
[18:56:20] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:20] [INFO] [Bullet] Exiting penetration at (437.17645, 27.21611) after traveling 35,416668 pixels through wall
[18:56:20] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(277.6848, 643.56146), shooter_id=6404333111926, bullet_pos=(340.03467, 477.90677)
[18:56:20] [INFO] [Bullet] Using shooter_position, distance=176,99994
[18:56:20] [INFO] [Bullet] Distance to wall: 176,99994 (12,052252% of viewport)
[18:56:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:20] [INFO] [Bullet] Starting wall penetration at (340.03467, 477.90677)
[18:56:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:20] [INFO] [Bullet] Exiting penetration at (356.47342, 434.23132) after traveling 41,666668 pixels through wall
[18:56:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(244,643), corner_timer=-0.02
[18:56:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(316.1848, 643.56146), shooter_id=6404333111926, bullet_pos=(528.4827, 44.74756)
[18:56:20] [INFO] [Bullet] Using shooter_position, distance=635,3334
[18:56:20] [INFO] [Bullet] Distance to wall: 635,3334 (43,261017% of viewport)
[18:56:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(239,643), corner_timer=0.30
[18:56:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:21] [INFO] [ReplayManager] Recording frame 540 (7,9s): player_valid=True, enemies=10
[18:56:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(135,640), corner_timer=-0.02
[18:56:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(131,638), corner_timer=0.30
[18:56:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:21] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:56:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,565), corner_timer=-0.02
[18:56:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,560), corner_timer=0.30
[18:56:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:21] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=157.6°, current=156.5°, player=(80,488), corner_timer=0.02
[18:56:21] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:56:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,455), corner_timer=-0.02
[18:56:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:21] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=164.9°, current=-49.4°, player=(80,450), corner_timer=0.02
[18:56:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,450), corner_timer=0.30
[18:56:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06965, 433.6786), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:21] [ENEMY] [Enemy1] Status: BLINDED applied
[18:56:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:22] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[18:56:22] [INFO] [ImpactEffects] spawn_blood_effect called at (314.6652, 386.6267), dir=(1, 0), lethal=false
[18:56:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:22] [INFO] [ImpactEffects] Blood effect spawned at (314.6652, 386.6267) (scale=1)
[18:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06965, 397.3787), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.6652, 386.6267), source=ENEMY (Enemy1), range=1469, listeners=7
[18:56:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:56:22] [INFO] [LastChance] Threat detected: @Area2D@9241
[18:56:22] [INFO] [LastChance] Triggering last chance effect!
[18:56:22] [INFO] [LastChance] Starting last chance effect:
[18:56:22] [INFO] [LastChance]   - Time will be frozen (except player)
[18:56:22] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:56:22] [INFO] [LastChance]   - Trigger: threat detected
[18:56:22] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:56:22] [INFO] [LastChance]   - Brightness: 0.60
[18:56:22] [INFO] [LastChance] Pushed bullet @Area2D@9241 from distance 134.2 to 200.0
[18:56:22] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:56:22] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:56:22] [INFO] [LastChance] Skipping player node: Player
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8930
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8933
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8936
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8940
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8943
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8985
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8997
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9002
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9005
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9012
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9107
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9115
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9121
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9124
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9135
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9210
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9215
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9219
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9223
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9227
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9238
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9240
[18:56:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@9243
[18:56:22] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:56:22] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:56:22] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:56:22] [INFO] [ReplayManager] Recording frame 600 (8,8s): player_valid=True, enemies=10
[18:56:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9244
[18:56:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9244
[18:56:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:56:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:56:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9246
[18:56:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9246
[18:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07518, 362.1787), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:22] [ENEMY] [Enemy1] Status: BLINDED removed
[18:56:22] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[18:56:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9247
[18:56:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9247
[18:56:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:56:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:56:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9249
[18:56:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9249
[18:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07518, 326.9788), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (379.1155, 373.8874) (added to group)
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (373.1165, 416.4246) (added to group)
[18:56:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9252
[18:56:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9252
[18:56:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:56:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:56:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9254
[18:56:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9254
[18:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07518, 291.7788), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (442.116, 392.4496) (added to group)
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (435.1926, 418.6481) (added to group)
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (406.1688, 432.3613) (added to group)
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (437.1541, 397.145) (added to group)
[18:56:22] [INFO] [BloodDecal] Blood puddle created at (466.7647, 467.7927) (added to group)
[18:56:23] [INFO] [ReplayManager] Recording frame 660 (9,6s): player_valid=True, enemies=10
[18:56:24] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:56:24] [ENEMY] [Enemy1] Player reloading: false -> true
[18:56:24] [ENEMY] [Enemy5] Player reloading: false -> true
[18:56:24] [ENEMY] [Enemy6] Player reloading: false -> true
[18:56:24] [ENEMY] [Enemy7] Player reloading: false -> true
[18:56:24] [ENEMY] [Enemy8] Player reloading: false -> true
[18:56:24] [ENEMY] [Enemy9] Player reloading: false -> true
[18:56:24] [ENEMY] [Enemy10] Player reloading: false -> true
[18:56:24] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(264.1389, 171.8199), source=PLAYER (Player), range=900, listeners=7
[18:56:24] [ENEMY] [Enemy1] Heard player RELOAD at (264.1389, 171.8199), intensity=0.05, distance=221
[18:56:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:24] [INFO] [ReplayManager] Recording frame 720 (10,4s): player_valid=True, enemies=10
[18:56:24] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:56:24] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:56:24] [ENEMY] [Enemy1] Player reloading: true -> false
[18:56:24] [ENEMY] [Enemy5] Player reloading: true -> false
[18:56:24] [ENEMY] [Enemy6] Player reloading: true -> false
[18:56:24] [ENEMY] [Enemy7] Player reloading: true -> false
[18:56:24] [ENEMY] [Enemy8] Player reloading: true -> false
[18:56:24] [ENEMY] [Enemy9] Player reloading: true -> false
[18:56:24] [ENEMY] [Enemy10] Player reloading: true -> false
[18:56:24] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:56:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:56:25] [INFO] [ReplayManager] Recording frame 780 (11,3s): player_valid=True, enemies=10
[18:56:26] [INFO] [ReplayManager] Recording frame 840 (12,3s): player_valid=True, enemies=10
[18:56:27] [INFO] [ReplayManager] Recording frame 900 (13,3s): player_valid=True, enemies=10
[18:56:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9260
[18:56:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9260
[18:56:28] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:56:28] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:56:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@9261
[18:56:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@9261
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1310.292, 97.0393), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:28] [ENEMY] [Enemy5] Heard gunshot at (1310.292, 97.0393), source_type=0, intensity=0.01, distance=465
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[18:56:28] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[18:56:28] [INFO] [LastChance] Ending last chance effect
[18:56:28] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[18:56:28] [ENEMY] [Enemy1] Search mode: COMBAT -> SEARCHING at (80.06965, 455.6786)
[18:56:28] [ENEMY] [Enemy1] SEARCHING started: center=(80.06965, 455.6786), radius=100, waypoints=4
[18:56:28] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=true
[18:56:28] [ENEMY] [Enemy5] Search mode: COMBAT -> SEARCHING at (1310.292, 97.0393)
[18:56:28] [ENEMY] [Enemy5] SEARCHING started: center=(1310.292, 97.0393), radius=100, waypoints=3
[18:56:28] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[18:56:28] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[18:56:28] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[18:56:28] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[18:56:28] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[18:56:28] [INFO] [LastChance] Reset memory for 7 enemies (player teleport effect)
[18:56:28] [INFO] [LastChance] All process modes restored
[18:56:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@9244
[18:56:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@9247
[18:56:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@9252
[18:56:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@9260
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: Casing
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8930
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8933
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8936
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8940
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8943
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8985
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8997
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9002
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9005
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9012
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9107
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9115
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9121
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9124
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9135
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9210
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9215
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9219
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9223
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9227
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9238
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9240
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9243
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9246
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9249
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9254
[18:56:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@9261
[18:56:28] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[18:56:28] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[18:56:28] [INFO] [ReplayManager] Recording frame 960 (14,3s): player_valid=True, enemies=10
[18:56:28] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=-145.5°, current=146.3°, player=(1332,97), corner_timer=0.00
[18:56:28] [ENEMY] [Enemy5] SEARCHING corner check: angle 170.7°
[18:56:28] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/4->2/4
[18:56:28] [INFO] [ImpactEffects] spawn_blood_effect called at (304.4836, 387.9458), dir=(1, 0), lethal=false
[18:56:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:28] [INFO] [ImpactEffects] Blood effect spawned at (304.4836, 387.9458) (scale=1)
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1348.792, 97.0393), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[18:56:28] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/4->1/4
[18:56:28] [INFO] [ImpactEffects] spawn_blood_effect called at (291.2475, 389.6605), dir=(1, 0), lethal=false
[18:56:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:28] [INFO] [ImpactEffects] Blood effect spawned at (291.2475, 389.6605) (scale=1)
[18:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(247.1326, 394.99014), shooter_id=6400273025999, bullet_pos=(54.400234, 402.41397)
[18:56:28] [INFO] [Bullet] Using shooter_position, distance=192,87529
[18:56:28] [INFO] [Bullet] Distance to wall: 192,87529 (13,133234% of viewport)
[18:56:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:28] [INFO] [Bullet] Starting wall penetration at (54.400234, 402.41397)
[18:56:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,932432
[18:56:28] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:28] [INFO] [Bullet] Exiting penetration at (16.068043, 402.70993) after traveling 33,333336 pixels through wall
[18:56:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1366,97), corner_timer=-0.00
[18:56:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1370,97), corner_timer=0.30
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1383.91, 97.2364), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[18:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07518, 326.97876), shooter_id=6404333111926, bullet_pos=(519.36926, 389.11432)
[18:56:28] [INFO] [Bullet] Using shooter_position, distance=443,66666
[18:56:28] [INFO] [Bullet] Distance to wall: 443,66666 (30,210081% of viewport)
[18:56:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:28] [INFO] [Bullet] Starting wall penetration at (519.36926, 389.11432)
[18:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07518, 362.1787), shooter_id=6404333111926, bullet_pos=(523.73267, 359.32126)
[18:56:28] [INFO] [Bullet] Using shooter_position, distance=443,6667
[18:56:28] [INFO] [Bullet] Distance to wall: 443,6667 (30,210081% of viewport)
[18:56:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:28] [INFO] [Bullet] Starting wall penetration at (523.73267, 359.32126)
[18:56:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,065975
[18:56:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,656532
[18:56:28] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:28] [INFO] [Bullet] Exiting penetration at (557.3248, 394.4829) after traveling 33,333332 pixels through wall
[18:56:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:28] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:28] [INFO] [Bullet] Exiting penetration at (562.0652, 359.07437) after traveling 33,33334 pixels through wall
[18:56:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1310.2916, 97.0393), shooter_id=6404333111926, bullet_pos=(1839.4722, 327.03436)
[18:56:28] [INFO] [Bullet] Using shooter_position, distance=577,0007
[18:56:28] [INFO] [Bullet] Distance to wall: 577,0007 (39,28904% of viewport)
[18:56:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:28] [INFO] [Bullet] Starting wall penetration at (1839.4722, 327.03436)
[18:56:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:28] [INFO] [Bullet] Exiting penetration at (1874.6285, 342.3142) after traveling 33,333332 pixels through wall
[18:56:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1415.518, 105.9085), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[18:56:28] [ENEMY] [Enemy1] SEARCHING corner check: angle -97.4°
[18:56:28] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/2->1/2
[18:56:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1686.27, 265.9006), dir=(1, 0), lethal=false
[18:56:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:28] [INFO] [ImpactEffects] Blood effect spawned at (1686.27, 265.9006) (scale=1)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (367.4264, 403.753) (added to group)
[18:56:28] [ENEMY] [Enemy5] SEARCHING corner check: angle -66.8°
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (379.1049, 382.5822) (added to group)
[18:56:28] [INFO] [LastChance] Visual effects fade-out complete
[18:56:28] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:56:28] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (350.1354, 422.3618) (added to group)
[18:56:28] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/2->0/2
[18:56:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1672.958, 248.8942), dir=(1, 0), lethal=true
[18:56:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:28] [INFO] [ImpactEffects] Blood effect spawned at (1672.958, 248.8942) (scale=1.5)
[18:56:28] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:56:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:56:28] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[18:56:28] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 6)
[18:56:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:28] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1442.018, 126.9132), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (393.6513, 417.1028) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (390.7177, 404.9643) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (353.4389, 410.9171) (added to group)
[18:56:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(1452,140), corner_timer=-0.01
[18:56:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(1454,143), corner_timer=0.30
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1459.572, 153.3787), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (355.4621, 414.1424) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (439.0964, 412.9048) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (378.7883, 420.7369) (added to group)
[18:56:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (418.7125, 371.3211) (added to group)
[18:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1348.7916, 97.0393), shooter_id=6404333111926, bullet_pos=(2479.4797, 634.6681)
[18:56:28] [INFO] [Bullet] Using shooter_position, distance=1251,9985
[18:56:28] [INFO] [Bullet] Distance to wall: 1251,9985 (85,250885% of viewport)
[18:56:28] [INFO] [Bullet] Distance-based penetration chance: 47,207302%
[18:56:28] [INFO] [Bullet] Penetration failed (distance roll)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (448.0705, 504.171) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (433.5622, 468.5064) (added to group)
[18:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1464.399, 180.7905), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[18:56:28] [ENEMY] [Enemy1] SEARCHING corner check: angle 63.8°
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (446.06, 462.8953) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (1736.237, 276.8344) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (1758.884, 287.328) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (460.497, 497.3091) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (1793.069, 263.6048) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (441.6976, 460.3059) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (1782.331, 266.8572) (added to group)
[18:56:28] [INFO] [BloodDecal] Blood puddle created at (1738.396, 291.3524) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1766.043, 318.7092) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1775.292, 268.9832) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1775.932, 254.7876) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1736.636, 294.0732) (added to group)
[18:56:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(1465,232), corner_timer=-0.01
[18:56:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (441.9083, 457.9558) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (453.9075, 503.502) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1809.241, 322.5306) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1789.93, 309.8629) (added to group)
[18:56:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1466,236), corner_timer=0.30
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1781.486, 352.8192) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1827.212, 283.3458) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1734.957, 310.6371) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (498.2673, 513.8226) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1783.348, 313.6345) (added to group)
[18:56:29] [INFO] [ReplayManager] Recording frame 1020 (15,1s): player_valid=True, enemies=10
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1821.493, 301.1322) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1787.072, 280.4471) (added to group)
[18:56:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1442.0178, 126.913155), shooter_id=6404333111926, bullet_pos=(2477.9285, 703.02826)
[18:56:29] [INFO] [Bullet] Using shooter_position, distance=1185,3352
[18:56:29] [INFO] [Bullet] Distance to wall: 1185,3352 (80,711655% of viewport)
[18:56:29] [INFO] [Bullet] Distance-based penetration chance: 52,503075%
[18:56:29] [INFO] [Bullet] Starting wall penetration at (2477.9285, 703.02826)
[18:56:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,655062
[18:56:29] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:29] [INFO] [Bullet] Exiting penetration at (2511.4294, 721.65967) after traveling 33,333332 pixels through wall
[18:56:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:29] [ENEMY] [Enemy5] Ragdoll activated
[18:56:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1763.473, 279.4318) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1824.101, 363.7664) (added to group)
[18:56:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1459.5721, 153.37871), shooter_id=6404333111926, bullet_pos=(2482.197, 683.79724)
[18:56:29] [INFO] [Bullet] Using shooter_position, distance=1152,0006
[18:56:29] [INFO] [Bullet] Distance to wall: 1152,0006 (78,44184% of viewport)
[18:56:29] [INFO] [Bullet] Distance-based penetration chance: 55,151188%
[18:56:29] [INFO] [Bullet] Penetration failed (distance roll)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1826.291, 280.5194) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1825.631, 280.1601) (added to group)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1782.235, 390.8994) (added to group)
[18:56:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1464.3986, 180.79048), shooter_id=6404333111926, bullet_pos=(2482.0488, 645.33484)
[18:56:29] [INFO] [Bullet] Using shooter_position, distance=1118,6659
[18:56:29] [INFO] [Bullet] Distance to wall: 1118,6659 (76,17202% of viewport)
[18:56:29] [INFO] [BloodDecal] Blood puddle created at (1852.952, 430.7052) (added to group)
[18:56:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(1517,280), corner_timer=-0.01
[18:56:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1520,280), corner_timer=0.30
[18:56:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(1553,236), corner_timer=-0.01
[18:56:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(1556,233), corner_timer=0.30
[18:56:29] [ENEMY] [Enemy6] Status: BLINDED applied
[18:56:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:30] [ENEMY] [Enemy5] Status: BLINDED applied
[18:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1593.846, 195.6906), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:30] [INFO] [ReplayManager] Recording frame 1080 (15,9s): player_valid=True, enemies=10
[18:56:30] [ENEMY] [Enemy6] Status: BLINDED removed
[18:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1625.41, 176.5725), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:30] [ENEMY] [Enemy5] Status: BLINDED removed
[18:56:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(1632,174), corner_timer=-0.01
[18:56:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1636,173), corner_timer=0.30
[18:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1654.218, 173.5917), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:30] [ENEMY] [Enemy5] Death animation completed
[18:56:30] [ENEMY] [Enemy6] Hit: dmg=1, hp=4/4->3/4
[18:56:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(1, 0), lethal=false
[18:56:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:30] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[18:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1681.126, 184.1312), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1851.6466, 321.01752)
[18:56:30] [INFO] [Bullet] Using shooter_position, distance=218,66684
[18:56:30] [INFO] [Bullet] Distance to wall: 218,66684 (14,889428% of viewport)
[18:56:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1706.312, 206.9162), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1711,213), corner_timer=-0.01
[18:56:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1714,216), corner_timer=0.30
[18:56:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1706.3123, 206.9162), shooter_id=6404333111926, bullet_pos=(1850.5269, 323.32324)
[18:56:30] [INFO] [Bullet] Using shooter_position, distance=185,33336
[18:56:30] [INFO] [Bullet] Distance to wall: 185,33336 (12,619689% of viewport)
[18:56:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:30] [INFO] [Bullet] Starting wall penetration at (1850.5269, 323.32324)
[18:56:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,255936
[18:56:30] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:30] [INFO] [Bullet] Exiting penetration at (1880.3553, 347.40024) after traveling 33,333336 pixels through wall
[18:56:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:30] [ENEMY] [Enemy1] SEARCHING corner check: angle -0.1°
[18:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1724.107, 234.7454), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:30] [ENEMY] [Enemy6] Heard gunshot at (1724.107, 234.7454), source_type=0, intensity=0.03, distance=312
[18:56:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:30] [INFO] [BloodDecal] Blood puddle created at (2030.326, 452.4429) (added to group)
[18:56:30] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-136.4°, current=131.9°, player=(1724,234), corner_timer=0.00
[18:56:30] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[18:56:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:30] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-90.0°, current=5.6°, player=(1726,242), corner_timer=0.00
[18:56:30] [INFO] [BloodDecal] Blood puddle created at (2031.246, 467.1137) (added to group)
[18:56:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1724.107, 234.74536), shooter_id=6404333111926, bullet_pos=(1844.5864, 327.4206)
[18:56:30] [INFO] [Bullet] Using shooter_position, distance=151,99992
[18:56:30] [INFO] [Bullet] Distance to wall: 151,99992 (10,349955% of viewport)
[18:56:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1569.5345, 606.93475)
[18:56:30] [INFO] [Bullet] Using shooter_position, distance=437,2819
[18:56:30] [INFO] [Bullet] Distance to wall: 437,2819 (29,775328% of viewport)
[18:56:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:30] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:30] [INFO] [BloodDecal] Blood puddle created at (2072.761, 495.9525) (added to group)
[18:56:30] [INFO] [BloodDecal] Blood puddle created at (2059.528, 522.2054) (added to group)
[18:56:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1654.2183, 173.59169), shooter_id=6404333111926, bullet_pos=(2467.5662, 840.8019)
[18:56:30] [INFO] [Bullet] Using shooter_position, distance=1052,0001
[18:56:30] [INFO] [Bullet] Distance to wall: 1052,0001 (71,63262% of viewport)
[18:56:30] [INFO] [Bullet] Distance-based penetration chance: 63,095272%
[18:56:30] [INFO] [Bullet] Starting wall penetration at (2467.5662, 840.8019)
[18:56:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,556479
[18:56:30] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[18:56:30] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:30] [INFO] [Bullet] Exiting penetration at (2522.9749, 886.255) after traveling 66,66667 pixels through wall
[18:56:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:30] [INFO] [BloodDecal] Blood puddle created at (2044.846, 537.4275) (added to group)
[18:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1381.3254, 413.45996)
[18:56:31] [INFO] [Bullet] Using shooter_position, distance=377,4546
[18:56:31] [INFO] [Bullet] Distance to wall: 377,4546 (25,701576% of viewport)
[18:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:31] [INFO] [BloodDecal] Blood puddle created at (2069.756, 507.1161) (added to group)
[18:56:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1729,311), corner_timer=-0.01
[18:56:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1729,316), corner_timer=0.30
[18:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1724.107, 234.74536), shooter_id=6404333111926, bullet_pos=(1388.1245, 565.89136)
[18:56:31] [INFO] [Bullet] Using shooter_position, distance=471,7435
[18:56:31] [INFO] [Bullet] Distance to wall: 471,7435 (32,121883% of viewport)
[18:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:31] [INFO] [Bullet] Starting wall penetration at (1388.1245, 565.89136)
[18:56:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,114997
[18:56:31] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:31] [INFO] [Bullet] Exiting penetration at (1358.5801, 581.32635) after traveling 28,333334 pixels through wall
[18:56:31] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:31] [INFO] [BloodDecal] Blood puddle created at (2121.26, 609.2627) (added to group)
[18:56:31] [INFO] [ReplayManager] Recording frame 1140 (16,7s): player_valid=True, enemies=10
[18:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1549.1013, 287.64746)
[18:56:31] [INFO] [Bullet] Using shooter_position, distance=167,76797
[18:56:31] [INFO] [Bullet] Distance to wall: 167,76797 (11,423631% of viewport)
[18:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:31] [INFO] [BloodDecal] Blood puddle created at (2093.156, 558.6279) (added to group)
[18:56:31] [INFO] [BloodDecal] Blood puddle created at (2108.671, 556.458) (added to group)
[18:56:31] [INFO] [BloodDecal] Blood puddle created at (2093.321, 513.661) (added to group)
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=172.0°, current=155.4°, player=(1729,382), corner_timer=0.00
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-70.5°, current=1.8°, player=(1729,404), corner_timer=0.00
[18:56:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1729,417), corner_timer=-0.01
[18:56:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(1729,421), corner_timer=0.30
[18:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1274.0061, 66.435196)
[18:56:31] [INFO] [Bullet] Using shooter_position, distance=423,79105
[18:56:31] [INFO] [Bullet] Distance to wall: 423,79105 (28,856712% of viewport)
[18:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=161.4°, current=167.6°, player=(1729,426), corner_timer=0.00
[18:56:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-82.1°, current=-28.2°, player=(1731,447), corner_timer=0.00
[18:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.075, 462.3598), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:31] [ENEMY] [Enemy7] Heard gunshot at (1736.075, 462.3598), source_type=0, intensity=0.01, distance=454
[18:56:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[18:56:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-74.0°, current=89.2°, player=(1736,462), corner_timer=0.17
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=151.2°, current=137.5°, player=(1737,465), corner_timer=0.00
[18:56:31] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/4->2/4
[18:56:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1941.351, 369.7714), dir=(1, 0), lethal=false
[18:56:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:31] [INFO] [ImpactEffects] Blood effect spawned at (1941.351, 369.7714) (scale=1)
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-69.1°, current=13.4°, player=(1747,479), corner_timer=0.00
[18:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1752.279, 484.5673), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[18:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1020.6145, 228.53175)
[18:56:31] [INFO] [Bullet] Using shooter_position, distance=662,002
[18:56:31] [INFO] [Bullet] Distance to wall: 662,002 (45,076935% of viewport)
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=143.1°, current=170.8°, player=(1763,491), corner_timer=0.00
[18:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1777.358, 496.3994), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[18:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1681.1259, 184.13121), shooter_id=6404333111926, bullet_pos=(1079.0234, 263.07394)
[18:56:31] [INFO] [Bullet] Using shooter_position, distance=607,25555
[18:56:31] [INFO] [Bullet] Distance to wall: 607,25555 (41,349148% of viewport)
[18:56:31] [INFO] [Bullet] Distance-based penetration chance: 98,425995%
[18:56:31] [INFO] [Bullet] Starting wall penetration at (1079.0234, 263.07394)
[18:56:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:31] [INFO] [Bullet] Exiting penetration at (1094.1482, 272.01852) after traveling 12,571651 pixels through wall
[18:56:31] [INFO] [Bullet] Damage multiplier after penetration: 0,0140625
[18:56:31] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-101.6°, current=-43.9°, player=(1781,497), corner_timer=0.00
[18:56:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:32] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/4->1/4
[18:56:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1941.852, 348.0684), dir=(1, 0), lethal=false
[18:56:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:32] [INFO] [ImpactEffects] Blood effect spawned at (1941.852, 348.0684) (scale=1)
[18:56:32] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=133.8°, current=180.0°, player=(1797,498), corner_timer=0.00
[18:56:32] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=83.3°, current=2.6°, player=(1801,498), corner_timer=0.00
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (1983.469, 388.6061) (added to group)
[18:56:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1810.74, 498.5258), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[18:56:32] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/4->0/4
[18:56:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1943.711, 360.7519), dir=(1, 0), lethal=true
[18:56:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:32] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:32] [INFO] [ImpactEffects] Blood effect spawned at (1943.711, 360.7519) (scale=1.5)
[18:56:32] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:56:32] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:56:32] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[18:56:32] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:32] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1752.279, 484.56732), shooter_id=6404333111926, bullet_pos=(2463.284, 151.07178)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=785,3326
[18:56:32] [INFO] [Bullet] Distance to wall: 785,3326 (53,474743% of viewport)
[18:56:32] [INFO] [ReplayManager] Recording frame 1200 (17,5s): player_valid=True, enemies=10
[18:56:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1845.94, 498.5258), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2013.335, 416.2843) (added to group)
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1752.279, 484.56732), shooter_id=6404333111926, bullet_pos=(2283.1975, 56.661655)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=681,8927
[18:56:32] [INFO] [Bullet] Distance to wall: 681,8927 (46,43133% of viewport)
[18:56:32] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[18:56:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1881.14, 498.5258), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2042.663, 370.1584) (added to group)
[18:56:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1881.1399, 498.52576), shooter_id=6404333111926, bullet_pos=(1949.3951, 326.21887)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=185,33333
[18:56:32] [INFO] [Bullet] Distance to wall: 185,33333 (12,619688% of viewport)
[18:56:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2100.621, 521.3967) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2054.38, 433.2315) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (1994.04, 388.6144) (added to group)
[18:56:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1916.258, 498.7228), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1845.9397, 498.52576), shooter_id=6404333111926, bullet_pos=(2226.1292, 53.474636)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=585,3328
[18:56:32] [INFO] [Bullet] Distance to wall: 585,3328 (39,856388% of viewport)
[18:56:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2060.467, 447.5097) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2060.464, 347.3514) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (1992.319, 364.4246) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2059.156, 387.9759) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2034.356, 357.7965) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2000.838, 372.6477) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2042.62, 385.438) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2027.817, 402.1661) (added to group)
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1916.2584, 498.72284), shooter_id=6404333111926, bullet_pos=(1927.7578, 313.7466)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=185,33331
[18:56:32] [INFO] [Bullet] Distance to wall: 185,33331 (12,619686% of viewport)
[18:56:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:32] [INFO] [Bullet] Starting wall penetration at (1927.7578, 313.7466)
[18:56:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,5138366
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2056.063, 481.9357) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2120.595, 548.1347) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2026.346, 365.9932) (added to group)
[18:56:32] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[18:56:32] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:32] [INFO] [Bullet] Exiting penetration at (1932.2045, 242.21805) after traveling 66,666664 pixels through wall
[18:56:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2082.368, 518.3133) (added to group)
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1752.279, 484.56732), shooter_id=6404333111926, bullet_pos=(1877.8071, 279.46573)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=240,46613
[18:56:32] [INFO] [Bullet] Distance to wall: 240,46613 (16,373781% of viewport)
[18:56:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:32] [ENEMY] [Enemy1] SEARCHING corner check: angle -25.3°
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2077.573, 521.1757) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2020.086, 410.5572) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2041.797, 385.6232) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2055.904, 363.6881) (added to group)
[18:56:32] [ENEMY] [Enemy6] Ragdoll activated
[18:56:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2094.804, 379.7534) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2097.078, 415.5851) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2016.678, 424.9327) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2086.193, 434.2293) (added to group)
[18:56:32] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1845.9397, 498.52576), shooter_id=6404333111926, bullet_pos=(2472.1252, 440.19785)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=628,89624
[18:56:32] [INFO] [Bullet] Distance to wall: 628,89624 (42,822704% of viewport)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2099.467, 500.4308) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2144.868, 447.1969) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2033.24, 429.9953) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2053.832, 421.4528) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2126.498, 367.8854) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2091.509, 400.3141) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2054.663, 469.6245) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2109.772, 427.3941) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2029.817, 442.7133) (added to group)
[18:56:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2124.948, 371.0677) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2053.498, 468.2675) (added to group)
[18:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1752.279, 484.56732), shooter_id=6404333111926, bullet_pos=(1570.098, 67.80867)
[18:56:32] [INFO] [Bullet] Using shooter_position, distance=454,83813
[18:56:32] [INFO] [Bullet] Distance to wall: 454,83813 (30,970768% of viewport)
[18:56:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2079.939, 438.1263) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2063.257, 483.473) (added to group)
[18:56:32] [INFO] [BloodDecal] Blood puddle created at (2140.741, 542.0231) (added to group)
[18:56:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1752.279, 484.56732), shooter_id=6404333111926, bullet_pos=(1378.7344, 226.50089)
[18:56:33] [INFO] [Bullet] Using shooter_position, distance=454,0197
[18:56:33] [INFO] [Bullet] Distance to wall: 454,0197 (30,915037% of viewport)
[18:56:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:33] [INFO] [ReplayManager] Recording frame 1260 (18,3s): player_valid=True, enemies=10
[18:56:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1845.9397, 498.52576), shooter_id=6404333111926, bullet_pos=(1939.2803, 1190.3859)
[18:56:33] [INFO] [Bullet] Using shooter_position, distance=698,1281
[18:56:33] [INFO] [Bullet] Distance to wall: 698,1281 (47,53683% of viewport)
[18:56:33] [INFO] [Bullet] Distance-based penetration chance: 91,20703%
[18:56:33] [INFO] [Bullet] Starting wall penetration at (1939.2803, 1190.3859)
[18:56:33] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:33] [INFO] [Bullet] Exiting penetration at (1922.4388, 1214.0968) after traveling 0 pixels through wall
[18:56:33] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[18:56:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:33] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-8.0°, current=-8.6°, player=(1991,765), corner_timer=0.17
[18:56:33] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[18:56:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1991.187, 792.0143), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1984.092, 824.2753), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1629.491, 844.048), source=ENEMY (Enemy7), range=1469, listeners=5
[18:56:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=3
[18:56:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:33] [ENEMY] [Enemy6] Death animation completed
[18:56:33] [INFO] [LastChance] Threat detected: @Area2D@9584
[18:56:33] [INFO] [LastChance] Effect already used this life
[18:56:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1964.425, 851.3289), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:34] [ENEMY] [Enemy7] Hit: dmg=1, hp=4/4->3/4
[18:56:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1657.29, 854.9658), dir=(1, 0), lethal=false
[18:56:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:34] [INFO] [ImpactEffects] Blood effect spawned at (1657.29, 854.9658) (scale=1)
[18:56:34] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-0.7°, current=180.0°, player=(1964,851), corner_timer=0.17
[18:56:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1991.1873, 792.01434), shooter_id=6404333111926, bullet_pos=(1373.9155, 833.5365)
[18:56:34] [INFO] [Bullet] Using shooter_position, distance=618,6667
[18:56:34] [INFO] [Bullet] Distance to wall: 618,6667 (42,126156% of viewport)
[18:56:34] [INFO] [Bullet] Distance-based penetration chance: 97,519485%
[18:56:34] [INFO] [Bullet] Starting wall penetration at (1373.9155, 833.5365)
[18:56:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,395447
[18:56:34] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:34] [INFO] [Bullet] Exiting penetration at (1335.6686, 836.10925) after traveling 33,333336 pixels through wall
[18:56:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:34] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[18:56:34] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=89.2°, current=-164.2°, player=(1945,869), corner_timer=0.17
[18:56:34] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/4->2/4
[18:56:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1681.138, 856.6136), dir=(1, 0), lethal=false
[18:56:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:34] [INFO] [ImpactEffects] Blood effect spawned at (1681.138, 856.6136) (scale=1)
[18:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1939.534, 876.2191), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:34] [INFO] [ReplayManager] Recording frame 1320 (19,1s): player_valid=True, enemies=10
[18:56:34] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/4->1/4
[18:56:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1675.69, 842.7559), dir=(1, 0), lethal=false
[18:56:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:34] [INFO] [ImpactEffects] Blood effect spawned at (1675.69, 842.7559) (scale=1)
[18:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1914.643, 901.1092), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1893.892, 927.7137), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1762.344, 839.1765) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1746.499, 853.4492) (added to group)
[18:56:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=26.8°, current=37.2°, player=(1889,939), corner_timer=0.17
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1747.008, 853.8862) (added to group)
[18:56:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1914.6433, 901.1092), shooter_id=6404333111926, bullet_pos=(1368.9214, 818.0929)
[18:56:34] [INFO] [Bullet] Using shooter_position, distance=552,0001
[18:56:34] [INFO] [Bullet] Distance to wall: 552,0001 (37,586704% of viewport)
[18:56:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1741.58, 873.9685) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1743.625, 910.0499) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1759.246, 907.3081) (added to group)
[18:56:34] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[18:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1634.906, 824.0134), source=ENEMY (Enemy7), range=1469, listeners=5
[18:56:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=3
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1772.543, 892.2894) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1724.64, 869.3495) (added to group)
[18:56:34] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=89.2°, current=133.9°, player=(1886,975), corner_timer=0.17
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1744.071, 862.1337) (added to group)
[18:56:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1893.892, 927.71375), shooter_id=6404333111926, bullet_pos=(1424.7496, 803.40186)
[18:56:34] [INFO] [Bullet] Using shooter_position, distance=485,33286
[18:56:34] [INFO] [Bullet] Distance to wall: 485,33286 (33,047207% of viewport)
[18:56:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:34] [INFO] [Bullet] Starting wall penetration at (1424.7496, 803.40186)
[18:56:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:34] [INFO] [Bullet] Exiting penetration at (1387.6951, 793.58325) after traveling 33,333332 pixels through wall
[18:56:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:34] [INFO] [LastChance] Threat detected: @Area2D@9606
[18:56:34] [INFO] [LastChance] Effect already used this life
[18:56:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1736.398, 941.5167) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1779.174, 877.5939) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1759.619, 929.787) (added to group)
[18:56:34] [INFO] [Player] Spawning blood effect at (1887.7842, 1001.0418), dir=(1, 0), lethal=True (C#)
[18:56:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1887.784, 1001.042), dir=(1, 0), lethal=true
[18:56:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:34] [INFO] [ImpactEffects] Blood effect spawned at (1887.784, 1001.042) (scale=1.5)
[18:56:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:56:34] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:56:34] [INFO] [CinemaEffects] Player died - triggering death effects
[18:56:34] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[18:56:34] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:56:34] [INFO] [LastChance] Player died
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1806.068, 852.0024) (added to group)
[18:56:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1887,1005), corner_timer=0.02
[18:56:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.126, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=5
[18:56:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=3
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1782.186, 873.1852) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1792.258, 966.9232) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1748.024, 913.6018) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1751.083, 850.8504) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1812.24, 913.8438) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1842.542, 899.0544) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1816.224, 860.5056) (added to group)
[18:56:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1821.636, 890.0697) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1821.719, 901.5948) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1826.728, 1028.169) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1797.82, 900.5562) (added to group)
[18:56:34] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-36.1°, current=-36.1°, player=(1898,1058), corner_timer=0.02
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1791.891, 912.9152) (added to group)
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1836.365, 899.0841) (added to group)
[18:56:34] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1858.85, 946.4937) (added to group)
[18:56:34] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=0.6°, current=-35.6°, player=(1905,1068), corner_timer=0.02
[18:56:34] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[18:56:34] [INFO] [BloodDecal] Blood puddle created at (1939.44, 1038.115) (added to group)
[18:56:35] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1847.551, 1017.308) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1967.767, 990.9374) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1805.028, 981.1064) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1957.925, 1019.875) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1859.695, 1013.211) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1955.749, 994.6694) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1994.348, 1025.179) (added to group)
[18:56:35] [INFO] [ReplayManager] Recording frame 1380 (19,9s): player_valid=True, enemies=10
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1970.565, 1055.001) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1942.78, 1026.091) (added to group)
[18:56:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1942.549, 1105.958), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:35] [ENEMY] [Enemy8] Heard gunshot at (1942.549, 1105.958), source_type=0, intensity=0.02, distance=347
[18:56:35] [ENEMY] [Enemy9] Heard gunshot at (1942.549, 1105.958), source_type=0, intensity=0.01, distance=471
[18:56:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=2
[18:56:35] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-82.9°, current=-146.2°, player=(1942,1105), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-109.5°, current=-180.0°, player=(1942,1105), corner_timer=0.00
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1988.045, 1078.492) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2019.154, 994.3175) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1975.614, 1063.512) (added to group)
[18:56:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1967.439, 1130.849), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=2
[18:56:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:56:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:56:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:56:35] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:56:35] [INFO] [CinemaEffects] Death effects reset
[18:56:35] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:56:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:35] [ENEMY] [Enemy1] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:56:35] [ENEMY] [Enemy2] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:56:35] [ENEMY] [Enemy3] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:56:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:35] [ENEMY] [Enemy4] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:56:35] [ENEMY] [Enemy5] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:56:35] [ENEMY] [Enemy6] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:56:35] [ENEMY] [Enemy7] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:56:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:35] [ENEMY] [Enemy8] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:56:35] [ENEMY] [Enemy9] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:56:35] [ENEMY] [Enemy10] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:56:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:56:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:56:35] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:56:35] [INFO] [Player.Weapon] Removed default MakarovPM
[18:56:35] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:56:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:56:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:56:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:56:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:56:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:56:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:56:35] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:56:35] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:56:35] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:56:35] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:56:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:56:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:56:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:56:35] [INFO] [BuildingLevel] Setting up weapon: m16
[18:56:35] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:56:35] [INFO] [ScoreManager] Level started with 10 enemies
[18:56:35] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:56:35] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:56:35] [INFO] [ReplayManager] Replay data cleared
[18:56:35] [INFO] [BuildingLevel] Previous replay data cleared
[18:56:35] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:56:35] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:56:35] [INFO] [ReplayManager] Level: BuildingLevel
[18:56:35] [INFO] [ReplayManager] Player: Player (valid: True)
[18:56:35] [INFO] [ReplayManager] Enemies count: 10
[18:56:35] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:56:35] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:56:35] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:56:35] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:56:35] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:56:35] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:56:35] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:56:35] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:56:35] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:56:35] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:56:35] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:56:35] [INFO] [BuildingLevel] Replay recording started successfully
[18:56:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:56:35] [INFO] [CinemaEffects] Found player node: Player
[18:56:35] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[18:56:35] [ENEMY] [Enemy1] Registered as sound listener
[18:56:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[18:56:35] [ENEMY] [Enemy2] Registered as sound listener
[18:56:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[18:56:35] [ENEMY] [Enemy3] Registered as sound listener
[18:56:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[18:56:35] [ENEMY] [Enemy4] Registered as sound listener
[18:56:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[18:56:35] [ENEMY] [Enemy5] Registered as sound listener
[18:56:35] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[18:56:35] [ENEMY] [Enemy6] Registered as sound listener
[18:56:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[18:56:35] [ENEMY] [Enemy7] Registered as sound listener
[18:56:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:56:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[18:56:35] [ENEMY] [Enemy8] Registered as sound listener
[18:56:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[18:56:35] [ENEMY] [Enemy9] Registered as sound listener
[18:56:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[18:56:35] [ENEMY] [Enemy10] Registered as sound listener
[18:56:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:56:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:56:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:56:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:56:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:56:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:56:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:56:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:56:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:56:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:56:35] [INFO] [LastChance] Found player: Player
[18:56:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:56:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:56:35] [INFO] [LastChance] Connected to player Died signal (C#)
[18:56:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2095.183, 1184.944) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1997.29, 1040.023) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2018.003, 1039.018) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2024.016, 1054.423) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2008.326, 1107.807) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (1974.484, 1115.311) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2093.313, 997.3782) (added to group)
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2041.736, 1147.071) (added to group)
[18:56:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:56:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:56:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:56:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:56:35] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:56:35] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:56:35] [ENEMY] [Enemy1] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:56:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:35] [ENEMY] [Enemy2] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:56:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:56:35] [ENEMY] [Enemy3] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:56:35] [ENEMY] [Enemy4] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:56:35] [ENEMY] [Enemy5] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:56:35] [ENEMY] [Enemy6] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:56:35] [ENEMY] [Enemy7] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:56:35] [ENEMY] [Enemy8] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:56:35] [ENEMY] [Enemy9] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:56:35] [ENEMY] [Enemy10] Death animation component initialized
[18:56:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:56:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:56:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:56:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:56:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:56:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:56:35] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:56:35] [INFO] [Player.Weapon] Removed default MakarovPM
[18:56:35] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:56:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:56:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:56:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:56:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:56:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:56:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:56:35] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:56:35] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:56:35] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:56:35] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:56:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:56:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:56:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:56:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:56:35] [INFO] [BuildingLevel] Setting up weapon: m16
[18:56:35] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:56:35] [INFO] [ScoreManager] Level started with 10 enemies
[18:56:35] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:56:35] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:56:35] [INFO] [ReplayManager] Replay data cleared
[18:56:35] [INFO] [BuildingLevel] Previous replay data cleared
[18:56:35] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:56:35] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:56:35] [INFO] [ReplayManager] Level: BuildingLevel
[18:56:35] [INFO] [ReplayManager] Player: Player (valid: True)
[18:56:35] [INFO] [ReplayManager] Enemies count: 10
[18:56:35] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:56:35] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:56:35] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:56:35] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:56:35] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:56:35] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:56:35] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:56:35] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:56:35] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:56:35] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:56:35] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:56:35] [INFO] [BuildingLevel] Replay recording started successfully
[18:56:35] [INFO] [BloodDecal] Blood puddle created at (2007.69, 1076.224) (added to group)
[18:56:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:56:35] [INFO] [CinemaEffects] Found player node: Player
[18:56:35] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 16)
[18:56:35] [ENEMY] [Enemy1] Registered as sound listener
[18:56:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 17)
[18:56:35] [ENEMY] [Enemy2] Registered as sound listener
[18:56:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 18)
[18:56:35] [ENEMY] [Enemy3] Registered as sound listener
[18:56:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 19)
[18:56:35] [ENEMY] [Enemy4] Registered as sound listener
[18:56:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 20)
[18:56:35] [ENEMY] [Enemy5] Registered as sound listener
[18:56:35] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 21)
[18:56:35] [ENEMY] [Enemy6] Registered as sound listener
[18:56:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 22)
[18:56:35] [ENEMY] [Enemy7] Registered as sound listener
[18:56:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:56:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 23)
[18:56:35] [ENEMY] [Enemy8] Registered as sound listener
[18:56:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 24)
[18:56:35] [ENEMY] [Enemy9] Registered as sound listener
[18:56:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:56:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:56:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 25)
[18:56:35] [ENEMY] [Enemy10] Registered as sound listener
[18:56:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:56:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:56:35] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:56:35] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:56:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:56:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:56:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:56:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:56:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:56:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:56:35] [INFO] [LastChance] Found player: Player
[18:56:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:56:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:56:35] [INFO] [LastChance] Connected to player Died signal (C#)
[18:56:35] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:56:36] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:56:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:37] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:56:37] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(453,782), corner_timer=0.30
[18:56:37] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(453,782), corner_timer=0.30
[18:56:37] [ENEMY] [Enemy3] Status: BLINDED applied
[18:56:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.6229, 768.2384), source=PLAYER (AssaultRifle), range=1469, listeners=25
[18:56:37] [INFO] [SoundPropagation] Cleaned up 15 invalid listeners
[18:56:37] [ENEMY] [Enemy1] Heard gunshot at (458.6229, 768.2384), source_type=0, intensity=0.01, distance=447
[18:56:37] [ENEMY] [Enemy2] Heard gunshot at (458.6229, 768.2384), source_type=0, intensity=0.05, distance=226
[18:56:37] [ENEMY] [Enemy3] Heard gunshot at (458.6229, 768.2384), source_type=0, intensity=0.04, distance=242
[18:56:37] [ENEMY] [Enemy4] Heard gunshot at (458.6229, 768.2384), source_type=0, intensity=0.02, distance=366
[18:56:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:37] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.2°, current=-157.5°, player=(458,768), corner_timer=0.00
[18:56:37] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.0°, current=168.8°, player=(458,768), corner_timer=0.00
[18:56:37] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.7°, current=-78.7°, player=(458,768), corner_timer=0.00
[18:56:37] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-158.9°, current=-101.3°, player=(458,768), corner_timer=0.00
[18:56:37] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:56:37] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:56:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:37] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:37] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:56:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.3094, 743.7285), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:56:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:56:37] [ENEMY] [Enemy3] Status: BLINDED removed
[18:56:37] [INFO] [EnemyGrenade] Unsafe throw distance (210 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:37] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:56:37] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[18:56:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:37] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[18:56:37] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:56:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:56:37] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:56:37] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:56:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:37] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:56:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.9426, 731.3409), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:56:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(515,729), corner_timer=-0.01
[18:56:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:56:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(515,729), corner_timer=-0.01
[18:56:37] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[18:56:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(519,729), corner_timer=0.30
[18:56:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(519,729), corner_timer=0.30
[18:56:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9353, 731.7621), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:56:37] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[18:56:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.94257, 731.34094), shooter_id=6881326138888, bullet_pos=(922.765, 757.9113)
[18:56:37] [INFO] [Bullet] Using shooter_position, distance=418,66644
[18:56:37] [INFO] [Bullet] Distance to wall: 418,66644 (28,507769% of viewport)
[18:56:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:37] [INFO] [Bullet] Starting wall penetration at (922.765, 757.9113)
[18:56:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,071596
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (791.5781, 761.2228) (added to group)
[18:56:37] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:37] [INFO] [Bullet] Exiting penetration at (961.02106, 760.3441) after traveling 33,333332 pixels through wall
[18:56:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (755.0156, 765.5811) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (789.1638, 741.2313) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (745.8701, 786.4066) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (761.3578, 781.4928) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (754.9274, 764.7413) (added to group)
[18:56:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9353, 731.76215), shooter_id=6881326138888, bullet_pos=(915.7537, 775.7168)
[18:56:37] [INFO] [Bullet] Using shooter_position, distance=385,33356
[18:56:37] [INFO] [Bullet] Distance to wall: 385,33356 (26,238071% of viewport)
[18:56:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (783.2731, 728.976) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (768.5345, 775.949) (added to group)
[18:56:37] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:56:37] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:56:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (761.098, 780.5616) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (839.4951, 832.0926) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (786.6108, 788.3806) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (766.6803, 791.7004) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (805.78, 801.9028) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (766.6068, 770.5676) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (805.325, 779.3761) (added to group)
[18:56:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(571,776), corner_timer=-0.01
[18:56:37] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[18:56:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.5°, player=(571,780), corner_timer=0.30
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (854.2488, 782.1717) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (770.9865, 781.966) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (838.3138, 817.1777) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (815.3453, 850.4016) (added to group)
[18:56:37] [INFO] [BloodDecal] Blood puddle created at (834.1769, 761.5741) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (806.9183, 834.202) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (777.7825, 787.9093) (added to group)
[18:56:38] [ENEMY] [Enemy3] Ragdoll activated
[18:56:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:38] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.1°, current=104.8°, player=(572,806), corner_timer=0.00
[18:56:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (863.1982, 844.3214) (added to group)
[18:56:38] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=56.9°, current=56.5°, player=(572,815), corner_timer=0.00
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (818.17, 836.5275) (added to group)
[18:56:38] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-150.1°, current=-148.9°, player=(572,823), corner_timer=0.00
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (883.698, 785.0743) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (878.8452, 780.8262) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (854.4484, 763.4595) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (819.8771, 859.3967) (added to group)
[18:56:38] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (839.0875, 856.461) (added to group)
[18:56:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(551,872), corner_timer=-0.01
[18:56:38] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:56:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(548,875), corner_timer=0.30
[18:56:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(545.8034, 878.8511), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:38] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[18:56:38] [INFO] [ImpactEffects] spawn_blood_effect called at (729.2883, 914.0673), dir=(1, 0), lethal=false
[18:56:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:38] [INFO] [ImpactEffects] Blood effect spawned at (729.2883, 914.0673) (scale=1)
[18:56:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(729.2883, 914.0673), source=ENEMY (Enemy4), range=1469, listeners=9
[18:56:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:56:38] [INFO] [LastChance] Threat detected: Bullet
[18:56:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:56:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 905.8746), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:56:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:56:38] [ENEMY] [Enemy4] Status: BLINDED applied
[18:56:38] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=179.9°, current=180.0°, player=(540,914), corner_timer=0.00
[18:56:38] [INFO] [Player] Spawning blood effect at (540.065, 918.8438), dir=(1, 0), lethal=False (C#)
[18:56:38] [INFO] [ImpactEffects] spawn_blood_effect called at (540.065, 918.8438), dir=(1, 0), lethal=false
[18:56:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:38] [INFO] [ImpactEffects] Blood effect spawned at (540.065, 918.8438) (scale=1)
[18:56:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:56:38] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:56:38] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[18:56:38] [INFO] [ImpactEffects] spawn_blood_effect called at (729.2883, 914.0673), dir=(1, 0), lethal=true
[18:56:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:38] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:38] [INFO] [ImpactEffects] Blood effect spawned at (729.2883, 914.0673) (scale=1.5)
[18:56:38] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:56:38] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:56:38] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[18:56:38] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[18:56:38] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:38] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[18:56:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 940.8439), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:56:38] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[18:56:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(540,967), corner_timer=-0.01
[18:56:38] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (783.0746, 941.5311) (added to group)
[18:56:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(540,971), corner_timer=0.30
[18:56:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 975.5107), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:56:38] [ENEMY] [Enemy4] Status: BLINDED removed
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (809.5697, 961.7975) (added to group)
[18:56:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.065, 940.84393), shooter_id=6881326138888, bullet_pos=(923.7731, 905.4873)
[18:56:38] [INFO] [Bullet] Using shooter_position, distance=385,3336
[18:56:38] [INFO] [Bullet] Distance to wall: 385,3336 (26,238071% of viewport)
[18:56:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:38] [INFO] [Bullet] Starting wall penetration at (923.7731, 905.4873)
[18:56:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,05461
[18:56:38] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:38] [INFO] [Bullet] Exiting penetration at (961.9447, 901.97) after traveling 33,333332 pixels through wall
[18:56:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (823.4518, 959.1276) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (803.0347, 944.913) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (587.6892, 931.4492) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (789.4125, 933.1625) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (627.1267, 915.9814) (added to group)
[18:56:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.065, 975.51074), shooter_id=6881326138888, bullet_pos=(920.50287, 914.28235)
[18:56:38] [INFO] [Bullet] Using shooter_position, distance=385,33347
[18:56:38] [INFO] [Bullet] Distance to wall: 385,33347 (26,238066% of viewport)
[18:56:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:38] [INFO] [Bullet] Starting wall penetration at (920.50287, 914.28235)
[18:56:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,63678
[18:56:38] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:38] [INFO] [Bullet] Exiting penetration at (958.3492, 908.1913) after traveling 33,333336 pixels through wall
[18:56:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (793.4558, 927.8985) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (860.983, 960.1644) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (794.1853, 967.4989) (added to group)
[18:56:38] [INFO] [BloodDecal] Blood puddle created at (794.233, 929.5237) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (665.2938, 940.1702) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (804.9115, 938.6144) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (841.2164, 968.7075) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (823.301, 967.2335) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (618.9982, 949.1529) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (667.2787, 908.5198) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (676.9283, 982.395) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (684.7059, 987.7626) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (821.2971, 930.804) (added to group)
[18:56:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(557,962), corner_timer=-0.01
[18:56:39] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (844.8282, 911.4711) (added to group)
[18:56:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(557,959), corner_timer=0.30
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (639.1149, 969.6287) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (631.5386, 991.5016) (added to group)
[18:56:39] [ENEMY] [Enemy4] Ragdoll activated
[18:56:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (864.2446, 946.4437) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (873.572, 991.1986) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (848.3518, 943.733) (added to group)
[18:56:39] [ENEMY] [Enemy3] Death animation completed
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (843.4736, 953.9581) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (849.519, 931.4689) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (851.3861, 959.4171) (added to group)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (826.0639, 979.5317) (added to group)
[18:56:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(568,866), corner_timer=-0.01
[18:56:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(570,863), corner_timer=0.30
[18:56:39] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[18:56:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.1°, current=56.8°, player=(592,836), corner_timer=0.00
[18:56:39] [ENEMY] [Enemy1] PURSUING corner check: angle -133.0°
[18:56:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.1099, 824.5391), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:56:39] [ENEMY] [Enemy2] PURSUING corner check: angle 164.8°
[18:56:39] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[18:56:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.1°, player=(620,808), corner_timer=-0.01
[18:56:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:56:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.4°, player=(622,805), corner_timer=0.30
[18:56:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.9955, 798.6971), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:56:39] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[18:56:39] [INFO] [ImpactEffects] spawn_blood_effect called at (417.4458, 578.3632), dir=(1, 0), lethal=false
[18:56:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:39] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 578.3632) (dist=82 px)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (499, 578.3632) (added to group)
[18:56:39] [INFO] [ImpactEffects] Blood effect spawned at (417.4458, 578.3632) (scale=1)
[18:56:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=46.4°, current=180.0°, player=(626,798), corner_timer=0.29
[18:56:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:39] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[18:56:39] [INFO] [ImpactEffects] spawn_blood_effect called at (435.6278, 596.3775), dir=(1, 0), lethal=false
[18:56:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:39] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 596.3775) (dist=64 px)
[18:56:39] [INFO] [BloodDecal] Blood puddle created at (499, 596.3775) (added to group)
[18:56:39] [INFO] [ImpactEffects] Blood effect spawned at (435.6278, 596.3775) (scale=1)
[18:56:39] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=49.9°, current=21.5°, player=(635,778), corner_timer=0.11
[18:56:39] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[18:56:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.0727, 772.3296), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:56:40] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.4°, current=80.7°, player=(636,763), corner_timer=0.11
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (119 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:56:40] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[18:56:40] [INFO] [ImpactEffects] spawn_blood_effect called at (451.6335, 610.4792), dir=(1, 0), lethal=false
[18:56:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:40] [INFO] [ImpactEffects] Blood effect spawned at (451.6335, 610.4792) (scale=1)
[18:56:40] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=164.8°, current=-180.0°, player=(635,757), corner_timer=0.29
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (236 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (234 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (233 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.8357, 750.5467), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:56:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (231 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (230 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (228 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (227 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (485.1397, 621.6853) (added to group)
[18:56:40] [INFO] [EnemyGrenade] Unsafe throw distance (225 < 275 safe distance, blast=225, margin=50) - skipping throw
[18:56:40] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[18:56:40] [INFO] [ImpactEffects] spawn_blood_effect called at (437.4062, 619.9055), dir=(1, 0), lethal=true
[18:56:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:40] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:40] [INFO] [ImpactEffects] Blood effect spawned at (437.4062, 619.9055) (scale=1.5)
[18:56:40] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:56:40] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:56:40] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[18:56:40] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[18:56:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:40] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[18:56:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.7°, current=175.8°, player=(625,740), corner_timer=-0.01
[18:56:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[18:56:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=178.1°, player=(623,739), corner_timer=0.30
[18:56:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.3162, 736.4528), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[18:56:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (489.0871, 602.5463) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (541.4025, 611.6396) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (557.529, 616.9432) (added to group)
[18:56:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(261.2737, 401.9329), source=ENEMY (Enemy1), range=1469, listeners=7
[18:56:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(305.16843, 453.9314), shooter_id=6877266054384, bullet_pos=(305.16843, 453.9314)
[18:56:40] [INFO] [Bullet] Using shooter_position, distance=0
[18:56:40] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:56:40] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:56:40] [INFO] [Bullet] Starting wall penetration at (305.16843, 453.9314)
[18:56:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,888542
[18:56:40] [ENEMY] [Enemy4] Death animation completed
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (509.9395, 641.6545) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (515.6404, 616.4088) (added to group)
[18:56:40] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:40] [INFO] [Bullet] Exiting penetration at (333.2191, 480.05814) after traveling 33,333336 pixels through wall
[18:56:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (524.1565, 626.4693) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (543.8526, 611.578) (added to group)
[18:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.3162, 736.4528), shooter_id=6881326138888, bullet_pos=(295.8948, 469.38327)
[18:56:40] [INFO] [Bullet] Using shooter_position, distance=418,6666
[18:56:40] [INFO] [Bullet] Distance to wall: 418,6666 (28,507778% of viewport)
[18:56:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:40] [INFO] [Bullet] Starting wall penetration at (295.8948, 469.38327)
[18:56:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:40] [INFO] [Bullet] Exiting penetration at (266.37372, 444.93024) after traveling 33,333336 pixels through wall
[18:56:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (552.4644, 607.2499) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (583.3822, 679.604) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (502.3402, 654.0865) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (508.388, 645.5368) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (515.1627, 648.2448) (added to group)
[18:56:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.6161, 401.9337), source=ENEMY (Enemy1), range=1469, listeners=7
[18:56:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[18:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.64917, 453.81516), shooter_id=6877266054384, bullet_pos=(303.64917, 453.81516)
[18:56:40] [INFO] [Bullet] Using shooter_position, distance=0
[18:56:40] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[18:56:40] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:56:40] [INFO] [Bullet] Starting wall penetration at (303.64917, 453.81516)
[18:56:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,774402
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (552.016, 623.5771) (added to group)
[18:56:40] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:40] [INFO] [Bullet] Exiting penetration at (331.65326, 479.99176) after traveling 33,333336 pixels through wall
[18:56:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (532.2025, 631.7867) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (528.1776, 671.4167) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (511.7194, 621.624) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (571.1965, 674.9215) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (529.3134, 600.3699) (added to group)
[18:56:40] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:56:40] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:40] [INFO] [ReplayManager] Recording frame 300 (4,3s): player_valid=True, enemies=10
[18:56:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=125.2°, player=(555,678), corner_timer=-0.01
[18:56:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (517.9864, 689.2019) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (501.3657, 660.5442) (added to group)
[18:56:40] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[18:56:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(552,674), corner_timer=0.30
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (543.8674, 606.2534) (added to group)
[18:56:40] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-133.0°, current=42.9°, player=(549,671), corner_timer=0.11
[18:56:40] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (578.5298, 673.4102) (added to group)
[18:56:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (560.7174, 604.8428) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (517.9709, 645.757) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (515.2148, 621.8801) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (577.6461, 706.4219) (added to group)
[18:56:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (543.5294, 671.4517) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (508.5102, 672.4392) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (527.9822, 613.1935) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (518.2178, 649.9507) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (535.4958, 679.9651) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (558.6796, 642.5831) (added to group)
[18:56:40] [ENEMY] [Enemy2] Ragdoll activated
[18:56:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (566.6029, 681.7621) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (609.4277, 760.7384) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (608.3627, 704.9033) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (581.2329, 673.3996) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (539.459, 688.2416) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (551.0978, 679.2024) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (539.0574, 653.7673) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (537.3914, 694.8351) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (567.6687, 743.0807) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (601.4812, 641.8048) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (554.3785, 676.247) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (545.204, 728.5796) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (563.9276, 666.222) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (573.0722, 715.0311) (added to group)
[18:56:40] [INFO] [BloodDecal] Blood puddle created at (597.0542, 696.291) (added to group)
[18:56:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(467,636), corner_timer=-0.01
[18:56:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.9°, player=(462,636), corner_timer=0.30
[18:56:41] [INFO] [BloodDecal] Blood puddle created at (581.4899, 730.366) (added to group)
[18:56:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(361,636), corner_timer=-0.01
[18:56:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(357,636), corner_timer=0.30
[18:56:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:41] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[18:56:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(259,628), corner_timer=-0.01
[18:56:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(255,626), corner_timer=0.30
[18:56:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:42] [ENEMY] [Enemy2] Death animation completed
[18:56:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(182,559), corner_timer=-0.01
[18:56:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(179,555), corner_timer=0.30
[18:56:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:42] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[18:56:42] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=152.3°, current=-163.3°, player=(115,485), corner_timer=0.11
[18:56:42] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[18:56:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(113,482), corner_timer=-0.01
[18:56:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(111,478), corner_timer=0.30
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-133.0°, current=-148.3°, player=(107,462), corner_timer=0.11
[18:56:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(107.1586, 458.3226), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=162.1°, current=-165.8°, player=(107,458), corner_timer=0.11
[18:56:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-133.0°, current=-144.1°, player=(106,454), corner_timer=0.11
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=164.8°, current=-165.0°, player=(106,449), corner_timer=0.11
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-133.0°, current=-143.4°, player=(106,445), corner_timer=0.11
[18:56:42] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=167.5°, current=-164.3°, player=(106,440), corner_timer=0.11
[18:56:42] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[18:56:42] [INFO] [ImpactEffects] spawn_blood_effect called at (362.2653, 387.1502), dir=(1, 0), lethal=false
[18:56:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:42] [INFO] [ImpactEffects] Blood effect spawned at (362.2653, 387.1502) (scale=1)
[18:56:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(106.6518, 423.3326), source=PLAYER (AssaultRifle), range=1469, listeners=7
[18:56:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[18:56:42] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/2->0/2
[18:56:42] [INFO] [ImpactEffects] spawn_blood_effect called at (398.2081, 400.6659), dir=(1, 0), lethal=true
[18:56:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:42] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:42] [INFO] [ImpactEffects] Blood effect spawned at (398.2081, 400.6659) (scale=1.5)
[18:56:42] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[18:56:42] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[18:56:42] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[18:56:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:42] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[18:56:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(106.6518, 388.1327), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:56:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(106,379), corner_timer=-0.01
[18:56:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(106,374), corner_timer=0.30
[18:56:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(106.6518, 352.9327), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:56:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (426.5668, 393.3758) (added to group)
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (413.9342, 419.7779) (added to group)
[18:56:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(106.651794, 388.13266), shooter_id=6881326138888, bullet_pos=(525.2967, 392.4099)
[18:56:43] [INFO] [Bullet] Using shooter_position, distance=418,66675
[18:56:43] [INFO] [Bullet] Distance to wall: 418,66675 (28,50779% of viewport)
[18:56:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (413.8942, 385.8976) (added to group)
[18:56:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(106.6518, 317.7328), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:56:43] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (460.818, 387.1497) (added to group)
[18:56:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(106.651794, 352.9327), shooter_id=6881326138888, bullet_pos=(524.7019, 375.6452)
[18:56:43] [INFO] [Bullet] Using shooter_position, distance=418,66663
[18:56:43] [INFO] [Bullet] Distance to wall: 418,66663 (28,507782% of viewport)
[18:56:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:43] [INFO] [Bullet] Starting wall penetration at (524.7019, 375.6452)
[18:56:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,036243
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (462.7553, 391.4721) (added to group)
[18:56:43] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:43] [INFO] [Bullet] Exiting penetration at (562.97876, 377.72476) after traveling 33,333336 pixels through wall
[18:56:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (486.5216, 460.4104) (added to group)
[18:56:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(106,273), corner_timer=-0.01
[18:56:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (456.2863, 404.9499) (added to group)
[18:56:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(106.651794, 317.73276), shooter_id=6881326138888, bullet_pos=(509.33234, 432.3194)
[18:56:43] [INFO] [Bullet] Using shooter_position, distance=418,6666
[18:56:43] [INFO] [Bullet] Distance to wall: 418,6666 (28,507778% of viewport)
[18:56:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(106,269), corner_timer=0.30
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (448.8196, 446.6495) (added to group)
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (479.8104, 427.5581) (added to group)
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (470.0874, 459.2456) (added to group)
[18:56:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (499.7312, 451.8551) (added to group)
[18:56:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(106.651794, 317.73276), shooter_id=6881326138888, bullet_pos=(335.66452, 453.87146)
[18:56:43] [INFO] [Bullet] Using shooter_position, distance=266,4218
[18:56:43] [INFO] [Bullet] Distance to wall: 266,4218 (18,141151% of viewport)
[18:56:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:43] [INFO] [Bullet] Starting wall penetration at (335.66452, 453.87146)
[18:56:43] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:43] [INFO] [Bullet] Exiting penetration at (302.58493, 457.97662) after traveling 28,333336 pixels through wall
[18:56:43] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (474.3942, 464.3244) (added to group)
[18:56:43] [ENEMY] [Enemy1] Ragdoll activated
[18:56:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:43] [INFO] [ReplayManager] Recording frame 480 (6,7s): player_valid=True, enemies=10
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (489.5063, 421.2439) (added to group)
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (473.9034, 506.9979) (added to group)
[18:56:43] [INFO] [BloodDecal] Blood puddle created at (475.8597, 532.8815) (added to group)
[18:56:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(155,188), corner_timer=-0.01
[18:56:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(158,185), corner_timer=0.30
[18:56:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(232,120), corner_timer=-0.01
[18:56:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(236,119), corner_timer=0.30
[18:56:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:44] [INFO] [ReplayManager] Recording frame 540 (7,5s): player_valid=True, enemies=10
[18:56:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(336,115), corner_timer=-0.01
[18:56:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(340,115), corner_timer=0.30
[18:56:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:44] [ENEMY] [Enemy1] Death animation completed
[18:56:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(441,115), corner_timer=-0.01
[18:56:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(446,115), corner_timer=0.30
[18:56:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:45] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:56:45] [ENEMY] [Enemy1] Player reloading: false -> true
[18:56:45] [ENEMY] [Enemy5] Player reloading: false -> true
[18:56:45] [ENEMY] [Enemy6] Player reloading: false -> true
[18:56:45] [ENEMY] [Enemy7] Player reloading: false -> true
[18:56:45] [ENEMY] [Enemy8] Player reloading: false -> true
[18:56:45] [ENEMY] [Enemy9] Player reloading: false -> true
[18:56:45] [ENEMY] [Enemy10] Player reloading: false -> true
[18:56:45] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(475.039, 115.4414), source=PLAYER (Player), range=900, listeners=6
[18:56:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[18:56:45] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1247), can_see=false
[18:56:45] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1512), can_see=false
[18:56:45] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1380), can_see=false
[18:56:45] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1952), can_see=false
[18:56:45] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2168), can_see=false
[18:56:45] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1636), can_see=false
[18:56:45] [INFO] [Player.Reload.Anim] LeftArm: pos=(12.674698, 3.7777777), target=(4, 2), base=(24, 6)
[18:56:45] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.7858088, 6), target=(-2, 6), base=(-2, 6)
[18:56:45] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:56:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.2°, player=(498,115), corner_timer=-0.01
[18:56:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(498,115), corner_timer=0.30
[18:56:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:45] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:56:45] [ENEMY] [Enemy5] Player reloading: true -> false
[18:56:45] [ENEMY] [Enemy6] Player reloading: true -> false
[18:56:45] [ENEMY] [Enemy7] Player reloading: true -> false
[18:56:45] [ENEMY] [Enemy8] Player reloading: true -> false
[18:56:45] [ENEMY] [Enemy9] Player reloading: true -> false
[18:56:45] [ENEMY] [Enemy10] Player reloading: true -> false
[18:56:45] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:56:45] [INFO] [ReplayManager] Recording frame 600 (8,3s): player_valid=True, enemies=10
[18:56:45] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:56:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.2°, player=(498,115), corner_timer=-0.01
[18:56:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[18:56:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(499,115), corner_timer=0.30
[18:56:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(564,115), corner_timer=-0.00
[18:56:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(569,115), corner_timer=0.30
[18:56:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(674,115), corner_timer=-0.02
[18:56:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[18:56:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(679,115), corner_timer=0.30
[18:56:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:46] [INFO] [ReplayManager] Recording frame 660 (9,3s): player_valid=True, enemies=10
[18:56:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(784,115), corner_timer=-0.02
[18:56:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(789,115), corner_timer=0.30
[18:56:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(894,115), corner_timer=-0.02
[18:56:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(899,115), corner_timer=0.30
[18:56:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1004,115), corner_timer=-0.02
[18:56:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1009,115), corner_timer=0.30
[18:56:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:47] [INFO] [ReplayManager] Recording frame 720 (10,3s): player_valid=True, enemies=10
[18:56:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1114,115), corner_timer=-0.02
[18:56:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1119,115), corner_timer=0.30
[18:56:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1224,115), corner_timer=-0.02
[18:56:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1229,115), corner_timer=0.30
[18:56:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1334,115), corner_timer=-0.02
[18:56:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1339,115), corner_timer=0.30
[18:56:48] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[18:56:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:48] [INFO] [ReplayManager] Recording frame 780 (11,3s): player_valid=True, enemies=10
[18:56:48] [ENEMY] [Enemy6] Status: BLINDED applied
[18:56:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1444,115), corner_timer=-0.02
[18:56:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1449,115), corner_timer=0.30
[18:56:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:48] [ENEMY] [Enemy6] Status: BLINDED removed
[18:56:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1493.187, 117.2891), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:48] [ENEMY] [Enemy5] Heard gunshot at (1493.187, 117.2891), source_type=0, intensity=0.03, distance=311
[18:56:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:48] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-131.6°, current=-180.0°, player=(1493,117), corner_timer=0.00
[18:56:49] [ENEMY] [Enemy6] Memory: medium confidence (0.62) - transitioning to PURSUING
[18:56:49] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[18:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1525.436, 132.3792), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[18:56:49] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-143.2°, current=56.2°, player=(1525,132), corner_timer=0.00
[18:56:49] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[18:56:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1540,147), corner_timer=-0.02
[18:56:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:49] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/2->1/2
[18:56:49] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.133, 316.5768), dir=(1, 0), lethal=false
[18:56:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:49] [INFO] [ImpactEffects] Blood effect spawned at (1684.133, 316.5768) (scale=1)
[18:56:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1543,151), corner_timer=0.30
[18:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1548.355, 159.11), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[18:56:49] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[18:56:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:49] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=90.0°, current=143.8°, player=(1554,173), corner_timer=0.00
[18:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1557.445, 190.1776), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[18:56:49] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[18:56:49] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[18:56:49] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[18:56:49] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=150.2°, current=-96.8°, player=(1557,203), corner_timer=0.09
[18:56:49] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-153.3°, current=-118.2°, player=(1557,207), corner_timer=0.09
[18:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1557.776, 225.2273), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[18:56:49] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1746.833, 330.5512) (added to group)
[18:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1493.187, 117.28914), shooter_id=6881326138888, bullet_pos=(2471.2437, 912.1761)
[18:56:49] [INFO] [Bullet] Using shooter_position, distance=1260,3334
[18:56:49] [INFO] [Bullet] Distance to wall: 1260,3334 (85,81842% of viewport)
[18:56:49] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=150.2°, current=-149.5°, player=(1557,238), corner_timer=0.09
[18:56:49] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:56:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.4°, player=(1557,247), corner_timer=-0.01
[18:56:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[18:56:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1557,251), corner_timer=0.30
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1747.164, 351.7556) (added to group)
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1772.411, 354.354) (added to group)
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1770.31, 365.0766) (added to group)
[18:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1557.776, 259.9976), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[18:56:49] [INFO] [ReplayManager] Recording frame 840 (12,2s): player_valid=True, enemies=10
[18:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1557.7758, 259.99762), shooter_id=6881326138888, bullet_pos=(1640.8483, 279.51038)
[18:56:49] [INFO] [Bullet] Using shooter_position, distance=85,333405
[18:56:49] [INFO] [Bullet] Distance to wall: 85,333405 (5,8105087% of viewport)
[18:56:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:49] [ENEMY] [Enemy6] Hit: dmg=1, hp=4/4->3/4
[18:56:49] [INFO] [ImpactEffects] spawn_blood_effect called at (1894.053, 398.4808), dir=(1, 0), lethal=false
[18:56:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:49] [INFO] [ImpactEffects] Blood effect spawned at (1894.053, 398.4808) (scale=1)
[18:56:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:49] [ENEMY] [Enemy7] Memory: high confidence (0.88) - transitioning to PURSUING
[18:56:49] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1753.218, 393.8697) (added to group)
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1774.471, 362.0019) (added to group)
[18:56:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-94.7°, current=89.4°, player=(1558,259), corner_timer=0.21
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1761.235, 358.4289) (added to group)
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1839.285, 324.975) (added to group)
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1769.304, 350.144) (added to group)
[18:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1557.4453, 190.1776), shooter_id=6881326138888, bullet_pos=(2473.0828, 889.2582)
[18:56:49] [INFO] [Bullet] Using shooter_position, distance=1152,0006
[18:56:49] [INFO] [Bullet] Distance to wall: 1152,0006 (78,44184% of viewport)
[18:56:49] [INFO] [BloodDecal] Blood puddle created at (1948.753, 403.6368) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1959.393, 404.8771) (added to group)
[18:56:50] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[18:56:50] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-152.4°, current=-139.4°, player=(1598,239), corner_timer=0.09
[18:56:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1904.012, 425.4406) (added to group)
[18:56:50] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[18:56:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1557.7758, 259.99762), shooter_id=6881326138888, bullet_pos=(2470.3254, 72.1668)
[18:56:50] [INFO] [Bullet] Using shooter_position, distance=931,6799
[18:56:50] [INFO] [Bullet] Distance to wall: 931,6799 (63,439796% of viewport)
[18:56:50] [INFO] [Bullet] Distance-based penetration chance: 72,653564%
[18:56:50] [INFO] [Bullet] Starting wall penetration at (2470.3254, 72.1668)
[18:56:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,86887
[18:56:50] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:50] [INFO] [Bullet] Exiting penetration at (2502.6638, 64.08322) after traveling 28,333334 pixels through wall
[18:56:50] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2020.217, 405.2231) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2015.461, 430.3315) (added to group)
[18:56:50] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=71.7°, player=(1623,214), corner_timer=0.09
[18:56:50] [ENEMY] [Enemy7] PURSUING corner check: angle 93.7°
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1971.085, 472.1057) (added to group)
[18:56:50] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:50] [ENEMY] [Enemy5] Status: BLINDED applied
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2027.438, 488.3795) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2054.319, 538.7662) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2024.224, 540.8596) (added to group)
[18:56:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1673.156, 165.1055), source=PLAYER (AssaultRifle), range=1469, listeners=6
[18:56:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[18:56:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2091.552, 483.1584) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (2011.074, 563.8174) (added to group)
[18:56:50] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/2->0/2
[18:56:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1692.178, 430.6712), dir=(1, 0), lethal=true
[18:56:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:50] [INFO] [ImpactEffects] Blood effect spawned at (1692.178, 430.6712) (scale=1.5)
[18:56:50] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[18:56:50] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:56:50] [ENEMY] [Enemy5] [AllyDeath] Notified 2 enemies
[18:56:50] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[18:56:50] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:50] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[18:56:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1698.047, 140.2154), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:50] [ENEMY] [Enemy5] Status: BLINDED removed
[18:56:50] [INFO] [ReplayManager] Recording frame 900 (13,0s): player_valid=True, enemies=10
[18:56:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1722.938, 115.3252), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:56:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1698.0471, 140.21538), shooter_id=6881326138888, bullet_pos=(1698.7065, 625.5484)
[18:56:50] [INFO] [Bullet] Using shooter_position, distance=485,33347
[18:56:50] [INFO] [Bullet] Distance to wall: 485,33347 (33,04725% of viewport)
[18:56:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:50] [INFO] [Bullet] Starting wall penetration at (1698.7065, 625.5484)
[18:56:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,881752
[18:56:50] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:50] [INFO] [Bullet] Exiting penetration at (1698.7587, 663.8817) after traveling 33,333336 pixels through wall
[18:56:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1747.828, 90.4351), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:56:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1752.173, 457.5486) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1773.099, 440.0503) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1760.4, 435.2044) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1749.745, 440.3018) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1782.265, 489.6572) (added to group)
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1754.937, 428.4053) (added to group)
[18:56:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1722.9377, 115.32524), shooter_id=6881326138888, bullet_pos=(1613.427, 622.29913)
[18:56:50] [INFO] [Bullet] Using shooter_position, distance=518,6667
[18:56:50] [INFO] [Bullet] Distance to wall: 518,6667 (35,31697% of viewport)
[18:56:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1775.28, 80.07398), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[18:56:50] [INFO] [BloodDecal] Blood puddle created at (1782.859, 425.5517) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1783.49, 425.8936) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1794.177, 414.325) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1767.004, 470.0945) (added to group)
[18:56:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1747.8284, 90.435104), shooter_id=6881326138888, bullet_pos=(1592.3398, 620.0833)
[18:56:51] [INFO] [Bullet] Using shooter_position, distance=551,99994
[18:56:51] [INFO] [Bullet] Distance to wall: 551,99994 (37,586693% of viewport)
[18:56:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1778.014, 492.158) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1847.205, 495.4195) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1778.867, 451.4444) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1830.988, 408.2369) (added to group)
[18:56:51] [ENEMY] [Enemy5] Ragdoll activated
[18:56:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1775.2802, 80.07398), shooter_id=6881326138888, bullet_pos=(1617.107, 608.92664)
[18:56:51] [INFO] [Bullet] Using shooter_position, distance=551,9999
[18:56:51] [INFO] [Bullet] Distance to wall: 551,9999 (37,58669% of viewport)
[18:56:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1875.752, 491.1086) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1871.289, 424.3899) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1860.822, 454.11) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1875.721, 612.3867) (added to group)
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1785.074, 566.2842) (added to group)
[18:56:51] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[18:56:51] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:56:51] [INFO] [BloodDecal] Blood puddle created at (1885.823, 446.8549) (added to group)
[18:56:51] [INFO] [ReplayManager] Recording frame 960 (13,8s): player_valid=True, enemies=10
[18:56:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:52] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[18:56:52] [ENEMY] [Enemy5] Death animation completed
[18:56:52] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-84.1°, current=-95.9°, player=(1835,260), corner_timer=0.09
[18:56:52] [ENEMY] [Enemy6] Status: BLINDED applied
[18:56:52] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=-111.0°, player=(1823,262), corner_timer=0.09
[18:56:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:52] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[18:56:52] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1798.601, 275.7653), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[18:56:52] [INFO] [ReplayManager] Recording frame 1020 (14,6s): player_valid=True, enemies=10
[18:56:52] [ENEMY] [Enemy6] Status: BLINDED removed
[18:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1773.71, 299.6416), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:56:52] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1748.82, 324.5318), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:56:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1748.8198, 324.53177), shooter_id=6881326138888, bullet_pos=(1772.8782, 608.84906)
[18:56:52] [INFO] [Bullet] Using shooter_position, distance=285,33334
[18:56:52] [INFO] [Bullet] Distance to wall: 285,33334 (19,428873% of viewport)
[18:56:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:52] [INFO] [Bullet] Starting wall penetration at (1772.8782, 608.84906)
[18:56:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,128256
[18:56:52] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:52] [INFO] [Bullet] Exiting penetration at (1776.1104, 647.0459) after traveling 33,33334 pixels through wall
[18:56:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:52] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/4->2/4
[18:56:52] [INFO] [ImpactEffects] spawn_blood_effect called at (1749.766, 648.0663), dir=(1, 0), lethal=false
[18:56:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:52] [INFO] [ImpactEffects] Blood effect spawned at (1749.766, 648.0663) (scale=1)
[18:56:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1798.6011, 275.7653), shooter_id=6881326138888, bullet_pos=(1816.9194, 1194.2494)
[18:56:52] [INFO] [Bullet] Using shooter_position, distance=918,6668
[18:56:52] [INFO] [Bullet] Distance to wall: 918,6668 (62,553715% of viewport)
[18:56:52] [INFO] [Bullet] Distance-based penetration chance: 73,68733%
[18:56:52] [INFO] [Bullet] Starting wall penetration at (1816.9194, 1194.2494)
[18:56:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,579165
[18:56:52] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:52] [INFO] [Bullet] Exiting penetration at (1817.6838, 1232.5751) after traveling 33,333332 pixels through wall
[18:56:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1773.7104, 299.64163), shooter_id=6881326138888, bullet_pos=(1846.3783, 1215.4297)
[18:56:53] [INFO] [Bullet] Using shooter_position, distance=918,6667
[18:56:53] [INFO] [Bullet] Distance to wall: 918,6667 (62,553703% of viewport)
[18:56:53] [INFO] [Bullet] Distance-based penetration chance: 73,68735%
[18:56:53] [INFO] [Bullet] Starting wall penetration at (1846.3783, 1215.4297)
[18:56:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,773834
[18:56:53] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:53] [INFO] [Bullet] Exiting penetration at (1849.4105, 1253.643) after traveling 33,333332 pixels through wall
[18:56:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1832.221, 665.4219) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1813.536, 643.9605) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1816.291, 678.8533) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1846.645, 642.9008) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1801.546, 670.429) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1894.267, 709.776) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1936.576, 718.7816) (added to group)
[18:56:53] [INFO] [ReplayManager] Recording frame 1080 (15,4s): player_valid=True, enemies=10
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1916.791, 659.9193) (added to group)
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1857.283, 739.1573) (added to group)
[18:56:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:53] [INFO] [BloodDecal] Blood puddle created at (1884.287, 771.2643) (added to group)
[18:56:53] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[18:56:53] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[18:56:53] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:56:53] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[18:56:54] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[18:56:54] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[18:56:54] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[18:56:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:54] [ENEMY] [Enemy6] Status: BLINDED applied
[18:56:54] [INFO] [BloodyFeet:Enemy6] Blood ran out - no more footprints
[18:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1900.258, 602.6287), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:56:54] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/4->1/4
[18:56:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1657.2, 650.3228), dir=(1, 0), lethal=false
[18:56:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:54] [INFO] [ImpactEffects] Blood effect spawned at (1657.2, 650.3228) (scale=1)
[18:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1925.148, 627.5189), source=PLAYER (AssaultRifle), range=1469, listeners=5
[18:56:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[18:56:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:54] [ENEMY] [Enemy6] Status: BLINDED removed
[18:56:54] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/4->0/4
[18:56:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1657.2, 650.3228), dir=(1, 0), lethal=true
[18:56:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:54] [INFO] [ImpactEffects] Blood effect spawned at (1657.2, 650.3228) (scale=1.5)
[18:56:54] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[18:56:54] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:56:54] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[18:56:54] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[18:56:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:54] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[18:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1950.039, 652.409), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[18:56:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1950.0391, 652.409), shooter_id=6881326138888, bullet_pos=(1767.9396, 617.93896)
[18:56:54] [INFO] [Bullet] Using shooter_position, distance=185,33324
[18:56:54] [INFO] [Bullet] Distance to wall: 185,33324 (12,619681% of viewport)
[18:56:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:54] [INFO] [Bullet] Starting wall penetration at (1767.9396, 617.93896)
[18:56:54] [INFO] [ReplayManager] Recording frame 1140 (16,2s): player_valid=True, enemies=10
[18:56:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:54] [INFO] [Bullet] Exiting penetration at (1730.2751, 610.8094) after traveling 33,333336 pixels through wall
[18:56:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1974.93, 677.2991), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1728.355, 634.4053) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1733.597, 665.2575) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1742.802, 628.2274) (added to group)
[18:56:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1974.9297, 677.29913), shooter_id=6881326138888, bullet_pos=(1694.6263, 623.95746)
[18:56:54] [INFO] [Bullet] Using shooter_position, distance=285,33368
[18:56:54] [INFO] [Bullet] Distance to wall: 285,33368 (19,428896% of viewport)
[18:56:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1999.82, 702.1893), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1729.745, 664.827) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1725.326, 686.3063) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1726.198, 668.0601) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1735.015, 664.7382) (added to group)
[18:56:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1736.878, 661.34) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1757.725, 640.9955) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1762.756, 666.2368) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1769.805, 672.275) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1752.773, 659.2681) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1795.701, 742.0857) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1774.851, 700.8714) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1740.604, 694.9239) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1743.576, 717.2104) (added to group)
[18:56:54] [INFO] [BloodDecal] Blood puddle created at (1803.834, 666.0794) (added to group)
[18:56:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1999.8203, 702.1893), shooter_id=6881326138888, bullet_pos=(1588.4972, 624.12006)
[18:56:55] [INFO] [Bullet] Using shooter_position, distance=418,66632
[18:56:55] [INFO] [Bullet] Distance to wall: 418,66632 (28,507761% of viewport)
[18:56:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1752.968, 686.0684) (added to group)
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1764.369, 709.9318) (added to group)
[18:56:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1974.9297, 677.29913), shooter_id=6881326138888, bullet_pos=(1240.5063, 685.96594)
[18:56:55] [INFO] [Bullet] Using shooter_position, distance=734,4745
[18:56:55] [INFO] [Bullet] Distance to wall: 734,4745 (50,01172% of viewport)
[18:56:55] [INFO] [Bullet] Distance-based penetration chance: 88,319664%
[18:56:55] [INFO] [Bullet] Starting wall penetration at (1240.5063, 685.96594)
[18:56:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:55] [INFO] [Bullet] Exiting penetration at (1207.4795, 690.47565) after traveling 28,333334 pixels through wall
[18:56:55] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1744.338, 706.5663) (added to group)
[18:56:55] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:56:55] [ENEMY] [Enemy6] Ragdoll activated
[18:56:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1742.769, 715.2813) (added to group)
[18:56:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1999.8203, 702.1893), shooter_id=6881326138888, bullet_pos=(1277.5997, 684.28906)
[18:56:55] [INFO] [Bullet] Using shooter_position, distance=722,4424
[18:56:55] [INFO] [Bullet] Distance to wall: 722,4424 (49,192432% of viewport)
[18:56:55] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-4.8°, current=-5.1°, player=(2043,773), corner_timer=-0.01
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1774.659, 672.4486) (added to group)
[18:56:55] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1837.57, 693.3579) (added to group)
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1750.16, 750.3444) (added to group)
[18:56:55] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-3.8°, current=139.1°, player=(2041,783), corner_timer=-0.01
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1812.169, 696.8741) (added to group)
[18:56:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1767.662, 756.8895) (added to group)
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1828.165, 791.5797) (added to group)
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1809.228, 740.3397) (added to group)
[18:56:55] [INFO] [BloodDecal] Blood puddle created at (1865.804, 676.938) (added to group)
[18:56:55] [ENEMY] [Enemy7] Status: BLINDED applied
[18:56:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1992.459, 845.8005), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:56:55] [INFO] [ReplayManager] Recording frame 1200 (17,0s): player_valid=True, enemies=10
[18:56:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:55] [ENEMY] [Enemy7] Status: BLINDED removed
[18:56:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1967.568, 870.6906), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:56:55] [ENEMY] [Enemy7] Hit: dmg=1, hp=4/4->3/4
[18:56:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1552.168, 851.7953), dir=(1, 0), lethal=false
[18:56:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:55] [INFO] [ImpactEffects] Blood effect spawned at (1552.168, 851.7953) (scale=1)
[18:56:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1942.678, 895.5807), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:56:55] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[18:56:55] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/4->2/4
[18:56:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1572.216, 848.6208), dir=(1, 0), lethal=false
[18:56:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:55] [INFO] [ImpactEffects] Blood effect spawned at (1572.216, 848.6208) (scale=1)
[18:56:55] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[18:56:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1917.787, 920.4709), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:56:55] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/4->1/4
[18:56:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1573.856, 847.2566), dir=(1, 0), lethal=false
[18:56:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:55] [INFO] [ImpactEffects] Blood effect spawned at (1573.856, 847.2566) (scale=1)
[18:56:55] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-39.8°, current=180.0°, player=(1914,923), corner_timer=-0.01
[18:56:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1619.609, 840.7435) (added to group)
[18:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1892.897, 945.361), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1638.932, 894.0989) (added to group)
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1917.7872, 920.4709), shooter_id=6881326138888, bullet_pos=(1550.8617, 802.7938)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=385,33392
[18:56:56] [INFO] [Bullet] Distance to wall: 385,33392 (26,238096% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1608.3, 849.323) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1663.148, 867.7872) (added to group)
[18:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1868.006, 970.2512), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:56] [ENEMY] [Enemy8] Heard gunshot at (1868.006, 970.2512), source_type=0, intensity=0.01, distance=481
[18:56:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=2
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1917.7872, 920.4709), shooter_id=6881326138888, bullet_pos=(1387.891, 866.5554)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=532,6321
[18:56:56] [INFO] [Bullet] Distance to wall: 532,6321 (36,2679% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [Bullet] Starting wall penetration at (1387.891, 866.5554)
[18:56:56] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-93.8°, current=78.7°, player=(1868,970), corner_timer=0.00
[18:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,678831
[18:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:56] [INFO] [Bullet] Exiting penetration at (1356.849, 878.7005) after traveling 28,333334 pixels through wall
[18:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=20.3°, current=-12.2°, player=(1864,973), corner_timer=-0.01
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1892.8966, 945.361), shooter_id=6881326138888, bullet_pos=(1467.4102, 792.8325)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=451,99963
[18:56:56] [INFO] [Bullet] Distance to wall: 451,99963 (30,777487% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1654.661, 905.7484) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1629.205, 843.4013) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1668.057, 882.7907) (added to group)
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1892.8966, 945.361), shooter_id=6881326138888, bullet_pos=(1378.8866, 809.0681)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=531,7725
[18:56:56] [INFO] [Bullet] Distance to wall: 531,7725 (36,20937% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [Bullet] Starting wall penetration at (1378.8866, 809.0681)
[18:56:56] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=151.2°, current=-31.0°, player=(1846,992), corner_timer=-0.01
[18:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.115, 995.1413), source=PLAYER (AssaultRifle), range=1469, listeners=4
[18:56:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=2
[18:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,19846
[18:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:56] [INFO] [Bullet] Exiting penetration at (1346.1001, 815.0813) after traveling 28,333336 pixels through wall
[18:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:56:56] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/4->0/4
[18:56:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1523.147, 865.5967), dir=(1, 0), lethal=true
[18:56:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:56:56] [INFO] [ImpactEffects] Blood effect spawned at (1523.147, 865.5967) (scale=1.5)
[18:56:56] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[18:56:56] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[18:56:56] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[18:56:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:56:56] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[18:56:56] [ENEMY] [Enemy6] Death animation completed
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1653.94, 888.9496) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1673.926, 871.3793) (added to group)
[18:56:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1678.395, 928.1388) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1651.321, 906.0101) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1679.69, 880.8831) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1663.175, 890.8802) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1739.669, 947.6521) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1653.203, 852.487) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1752.36, 911.9524) (added to group)
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1154, 995.1413), shooter_id=6881326138888, bullet_pos=(1433.8523, 803.28845)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=451,99976
[18:56:56] [INFO] [Bullet] Distance to wall: 451,99976 (30,777496% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1656.056, 963.7282) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1761.034, 958.0686) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1752.698, 834.5427) (added to group)
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1154, 995.1413), shooter_id=6881326138888, bullet_pos=(1375.1873, 822.2933)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=498,8318
[18:56:56] [INFO] [Bullet] Distance to wall: 498,8318 (33,966373% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [ReplayManager] Recording frame 1260 (17,8s): player_valid=True, enemies=10
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1704.127, 1018.201) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1788.086, 982.9352) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1694.156, 893.6924) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1701.39, 865.0228) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1753.84, 946.073) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1692.82, 980.593) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1744.403, 951.4437) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1688.362, 938.2144) (added to group)
[18:56:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.4°, current=0.6°, player=(1808,1067), corner_timer=0.10
[18:56:56] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.104, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=3
[18:56:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1677.8, 892.9505) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1599.517, 880.4852) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1576.602, 864.5194) (added to group)
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1154, 995.1413), shooter_id=6881326138888, bullet_pos=(1553.9032, 906.7479)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=302,4187
[18:56:56] [INFO] [Bullet] Distance to wall: 302,4187 (20,592245% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1778.008, 1027.136) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1606.657, 892.3893) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1599.49, 889.05) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1752.466, 943.291) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1585.613, 907.6656) (added to group)
[18:56:56] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[18:56:56] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1180.934, 1581.874), source=ENEMY (Enemy10), range=1469, listeners=3
[18:56:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1592.048, 885.9916) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1601.947, 912.6913) (added to group)
[18:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1154, 995.1413), shooter_id=6881326138888, bullet_pos=(1755.1577, 795.03705)
[18:56:56] [INFO] [Bullet] Using shooter_position, distance=218,58238
[18:56:56] [INFO] [Bullet] Distance to wall: 218,58238 (14,883677% of viewport)
[18:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:56] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-36.2°, current=-36.2°, player=(1829,1107), corner_timer=0.10
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1663.108, 912.3524) (added to group)
[18:56:56] [ENEMY] [Enemy7] Ragdoll activated
[18:56:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:56:56] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[18:56:56] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=0.6°, current=-35.2°, player=(1841,1120), corner_timer=0.10
[18:56:56] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1647.788, 885.8273) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1646.695, 888.9681) (added to group)
[18:56:56] [INFO] [BloodDecal] Blood puddle created at (1669.607, 949.5782) (added to group)
[18:56:57] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[18:56:57] [INFO] [BloodDecal] Blood puddle created at (1707.988, 901.296) (added to group)
[18:56:57] [INFO] [BloodDecal] Blood puddle created at (1677.288, 898.6027) (added to group)
[18:56:57] [INFO] [BloodDecal] Blood puddle created at (1683.637, 943.5214) (added to group)
[18:56:57] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[18:56:57] [ENEMY] [Enemy7] Player reloading: false -> true
[18:56:57] [ENEMY] [Enemy8] Player reloading: false -> true
[18:56:57] [ENEMY] [Enemy9] Player reloading: false -> true
[18:56:57] [ENEMY] [Enemy10] Player reloading: false -> true
[18:56:57] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1918.41, 1171.934), source=PLAYER (Player), range=900, listeners=3
[18:56:57] [ENEMY] [Enemy8] Heard player RELOAD at (1918.41, 1171.934), intensity=0.12, distance=147
[18:56:57] [ENEMY] [Enemy9] Heard player RELOAD at (1918.41, 1171.934), intensity=0.01, distance=419
[18:56:57] [ENEMY] [Enemy9] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[18:56:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:57] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=true (dist=147), can_see=false
[18:56:57] [ENEMY] [Enemy8] Pursuing vulnerability sound at (1918.41, 1171.934), distance=147
[18:56:57] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-115.7°, current=56.2°, player=(1918,1171), corner_timer=0.00
[18:56:57] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=419), can_see=false
[18:56:57] [ENEMY] [Enemy9] Pursuing vulnerability sound at (1918.41, 1171.934), distance=419
[18:56:57] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=806), can_see=false
[18:56:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.2751, 1565.0266), shooter_id=6880436948449, bullet_pos=(2471.7964, 520.3059)
[18:56:57] [INFO] [Bullet] Using shooter_position, distance=1633,3325
[18:56:57] [INFO] [Bullet] Distance to wall: 1633,3325 (111,21661% of viewport)
[18:56:57] [INFO] [ReplayManager] Recording frame 1320 (18,6s): player_valid=True, enemies=10
[18:56:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1239.4055, 1547.0643), shooter_id=6880436948449, bullet_pos=(2478.5637, 588.4569)
[18:56:57] [INFO] [Bullet] Using shooter_position, distance=1566,6656
[18:56:57] [INFO] [Bullet] Distance to wall: 1566,6656 (106,677155% of viewport)
[18:56:57] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[18:56:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1154, 995.1413), shooter_id=6881326138888, bullet_pos=(2466.6062, 1208.3842)
[18:56:57] [INFO] [Bullet] Using shooter_position, distance=658,94867
[18:56:57] [INFO] [Bullet] Distance to wall: 658,94867 (44,869026% of viewport)
[18:56:57] [INFO] [Player.Reload.Anim] LeftArm: pos=(8.776913, 4.3742275), target=(12, 6), base=(24, 6)
[18:56:57] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9905739, 7.1808004), target=(-2, 8), base=(-2, 6)
[18:56:57] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[18:56:57] [ENEMY] [Enemy7] Player reloading: true -> false
[18:56:57] [ENEMY] [Enemy8] Player reloading: true -> false
[18:56:57] [ENEMY] [Enemy9] Player reloading: true -> false
[18:56:57] [ENEMY] [Enemy10] Player reloading: true -> false
[18:56:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[18:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1239.4055, 1547.0643), shooter_id=6880436948449, bullet_pos=(1958.0078, 290.09412)
[18:56:58] [INFO] [Bullet] Using shooter_position, distance=1447,8823
[18:56:58] [INFO] [Bullet] Distance to wall: 1447,8823 (98,588974% of viewport)
[18:56:58] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[18:56:58] [ENEMY] [Enemy9] Hit: dmg=1, hp=4/4->3/4
[18:56:58] [INFO] [ImpactEffects] spawn_blood_effect called at (2112.683, 1384.083), dir=(1, 0), lethal=false
[18:56:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:58] [INFO] [ImpactEffects] Blood effect spawned at (2112.683, 1384.083) (scale=1)
[18:56:58] [ENEMY] [Enemy7] Death animation completed
[18:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1239.4055, 1547.0643), shooter_id=6880436948449, bullet_pos=(2274.4236, 61.529606)
[18:56:58] [INFO] [Bullet] Using shooter_position, distance=1810,5457
[18:56:58] [INFO] [Bullet] Distance to wall: 1810,5457 (123,28339% of viewport)
[18:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1239.4055, 1547.0643), shooter_id=6880436948449, bullet_pos=(2466.538, 222.519)
[18:56:58] [INFO] [Bullet] Using shooter_position, distance=1805,623
[18:56:58] [INFO] [Bullet] Distance to wall: 1805,623 (122,9482% of viewport)
[18:56:58] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-4.0°, current=23.4°, player=(1935,1171), corner_timer=0.00
[18:56:58] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[18:56:58] [ENEMY] [Enemy9] Pursuing vulnerability sound at (1918.41, 1171.934), distance=234
[18:56:58] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-3.3°, current=94.7°, player=(1935,1170), corner_timer=0.00
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2181.076, 1442.359) (added to group)
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2182.324, 1445.784) (added to group)
[18:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1935.989, 1164.245), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:58] [ENEMY] [Enemy8] Status: BLINDED applied
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2169.877, 1438.278) (added to group)
[18:56:58] [INFO] [ReplayManager] Recording frame 1380 (19,4s): player_valid=True, enemies=10
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2246.953, 1428.233) (added to group)
[18:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1935.9891, 1164.2452), shooter_id=6881326138888, bullet_pos=(1819.2632, 1185.6187)
[18:56:58] [INFO] [Bullet] Using shooter_position, distance=118,66664
[18:56:58] [INFO] [Bullet] Distance to wall: 118,66664 (8,08023% of viewport)
[18:56:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:58] [INFO] [Bullet] Starting wall penetration at (1819.2632, 1185.6187)
[18:56:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:56:58] [INFO] [Bullet] Exiting penetration at (1781.5568, 1192.523) after traveling 33,333336 pixels through wall
[18:56:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1931.715, 1146.049), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2251.394, 1504.224) (added to group)
[18:56:58] [ENEMY] [Enemy8] Hit: dmg=1, hp=4/4->3/4
[18:56:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1690.408, 1165.751), dir=(1, 0), lethal=false
[18:56:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:58] [INFO] [ImpactEffects] Blood effect spawned at (1690.408, 1165.751) (scale=1)
[18:56:58] [ENEMY] [Enemy8] Status: BLINDED removed
[18:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1914.62, 1123.608), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:58] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-160.0°, current=-160.3°, player=(1911,1120), corner_timer=0.00
[18:56:58] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2260.13, 1518.063) (added to group)
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2257.666, 1541.607) (added to group)
[18:56:58] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[18:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2124.066, 1193.993), source=ENEMY (Enemy9), range=1469, listeners=3
[18:56:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[18:56:58] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[18:56:58] [INFO] [LastChance] Threat detected: @Area2D@10813
[18:56:58] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:58] [ENEMY] [Enemy8] Hit: dmg=1, hp=3/4->2/4
[18:56:58] [INFO] [ImpactEffects] spawn_blood_effect called at (1690.408, 1165.751), dir=(1, 0), lethal=false
[18:56:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:56:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:56:58] [INFO] [ImpactEffects] Blood effect spawned at (1690.408, 1165.751) (scale=1)
[18:56:58] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=66.5°, current=140.9°, player=(1899,1108), corner_timer=0.00
[18:56:58] [INFO] [BloodDecal] Blood puddle created at (2309.756, 1564.011) (added to group)
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1886.677, 1095.625), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:59] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[18:56:59] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-173.1°, current=-174.9°, player=(1880,1089), corner_timer=0.00
[18:56:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-36.3°, current=0.6°, player=(1868,1076), corner_timer=0.10
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1861.786, 1070.734), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2057.7544, 1178.7153), shooter_id=6880084625256, bullet_pos=(1524.5309, 986.92163)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=566,66754
[18:56:59] [INFO] [Bullet] Distance to wall: 566,66754 (38,585438% of viewport)
[18:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:59] [INFO] [BloodDecal] Blood puddle created at (1761.334, 1171.114) (added to group)
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1211.888, 1559.154), source=ENEMY (Enemy10), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:56:59] [INFO] [BloodDecal] Blood puddle created at (1803.596, 1173.364) (added to group)
[18:56:59] [INFO] [BloodDecal] Blood puddle created at (1770.892, 1160.155) (added to group)
[18:56:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1836.895, 1045.844), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[18:56:59] [INFO] [BloodDecal] Blood puddle created at (1772.929, 1142.295) (added to group)
[18:56:59] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=0.6°, current=-39.4°, player=(1833,1042), corner_timer=0.10
[18:56:59] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1267.5757, 1524.3982), shooter_id=6880436948449, bullet_pos=(1373.6786, 1395.8679)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=166,6669
[18:56:59] [INFO] [Bullet] Distance to wall: 166,6669 (11,348656% of viewport)
[18:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1836.8954, 1045.8436), shooter_id=6881326138888, bullet_pos=(1720.0479, 1189.7018)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=185,33353
[18:56:59] [INFO] [Bullet] Distance to wall: 185,33353 (12,619701% of viewport)
[18:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:59] [INFO] [BloodDecal] Blood puddle created at (1773.085, 1170.278) (added to group)
[18:56:59] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[18:56:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1267.5757, 1524.3982), shooter_id=6880436948449, bullet_pos=(1496.9094, 1520.1227)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=229,3736
[18:56:59] [INFO] [Bullet] Distance to wall: 229,3736 (15,61847% of viewport)
[18:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:59] [ENEMY] [Enemy9] Status: BLINDED applied
[18:56:59] [ENEMY] [Enemy8] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-56.1°, current=-90.2°, player=(1805,1014), corner_timer=0.00
[18:56:59] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1670.941, 1215.349), source=ENEMY (Enemy8), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[18:56:59] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:56:59] [INFO] [LastChance] Threat detected: @Area2D@10859
[18:56:59] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:56:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:56:59] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=99.1°, current=97.8°, player=(1799,1008), corner_timer=0.00
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1836.8954, 1045.8436), shooter_id=6881326138888, bullet_pos=(1525.8812, 976.5461)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=318,64078
[18:56:59] [INFO] [Bullet] Distance to wall: 318,64078 (21,696836% of viewport)
[18:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1787.114, 996.0629), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:56:59] [INFO] [ReplayManager] Recording frame 1440 (20,2s): player_valid=True, enemies=10
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1762.224, 971.1728), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:56:59] [ENEMY] [Enemy9] Status: BLINDED removed
[18:56:59] [INFO] [BloodDecal] Blood puddle created at (1907.608, 1169.013) (added to group)
[18:56:59] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[18:56:59] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1737.333, 946.2827), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:56:59] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[18:56:59] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[18:56:59] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1787.1141, 996.0629), shooter_id=6881326138888, bullet_pos=(2479.0225, 1367.5614)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=785,3332
[18:56:59] [INFO] [Bullet] Distance to wall: 785,3332 (53,474785% of viewport)
[18:56:59] [INFO] [Bullet] Distance-based penetration chance: 84,27942%
[18:56:59] [INFO] [Bullet] Starting wall penetration at (2479.0225, 1367.5614)
[18:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1836.8954, 1045.8436), shooter_id=6881326138888, bullet_pos=(1113.1875, 1388.3386)
[18:56:59] [INFO] [Bullet] Using shooter_position, distance=800,65967
[18:56:59] [INFO] [Bullet] Distance to wall: 800,65967 (54,51839% of viewport)
[18:56:59] [INFO] [Bullet] Distance-based penetration chance: 83,06188%
[18:56:59] [INFO] [Bullet] Starting wall penetration at (1113.1875, 1388.3386)
[18:56:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,573682
[18:56:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,06345
[18:56:59] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:59] [INFO] [Bullet] Exiting penetration at (1092.6, 1408.8812) after traveling 24,083334 pixels through wall
[18:56:59] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[18:56:59] [INFO] [Bullet] Body exited signal received for penetrating body
[18:56:59] [INFO] [Bullet] Exiting penetration at (2512.7957, 1385.6948) after traveling 33,333336 pixels through wall
[18:56:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:56:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1712.442, 921.3925), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:56:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1762.2235, 971.1728), shooter_id=6881326138888, bullet_pos=(2460.1714, 1331.1935)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=785,33185
[18:57:00] [INFO] [Bullet] Distance to wall: 785,33185 (53,47469% of viewport)
[18:57:00] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[18:57:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1687.552, 896.5024), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:57:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1715.1239, 1163.5948), shooter_id=6879732305901, bullet_pos=(2452.8972, 52.977478)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=1333,3344
[18:57:00] [INFO] [Bullet] Distance to wall: 1333,3344 (90,78919% of viewport)
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1715.1239, 1163.5948), shooter_id=6879732305901, bullet_pos=(2474.4321, 78.420685)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=1324,4441
[18:57:00] [INFO] [Bullet] Distance to wall: 1324,4441 (90,18384% of viewport)
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1762.2235, 971.1728), shooter_id=6881326138888, bullet_pos=(2305.8562, 1413.7284)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=700,9935
[18:57:00] [INFO] [Bullet] Distance to wall: 700,9935 (47,731937% of viewport)
[18:57:00] [INFO] [Bullet] Distance-based penetration chance: 90,97941%
[18:57:00] [INFO] [Bullet] Starting wall penetration at (2305.8562, 1413.7284)
[18:57:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:00] [INFO] [Bullet] Exiting penetration at (2276.463, 1429.4493) after traveling 28,333334 pixels through wall
[18:57:00] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:57:00] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[18:57:00] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1737.3329, 946.28265), shooter_id=6881326138888, bullet_pos=(2478.041, 1294.9496)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=818,6679
[18:57:00] [INFO] [Bullet] Distance to wall: 818,6679 (55,744606% of viewport)
[18:57:00] [INFO] [Bullet] Distance-based penetration chance: 81,631294%
[18:57:00] [INFO] [Bullet] Starting wall penetration at (2478.041, 1294.9496)
[18:57:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1662.579, 871.8093), source=PLAYER (AssaultRifle), range=1469, listeners=3
[18:57:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:57:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,484358
[18:57:00] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:00] [INFO] [Bullet] Exiting penetration at (2512.724, 1311.2756) after traveling 33,333336 pixels through wall
[18:57:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:00] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1712.4423, 921.3925), shooter_id=6881326138888, bullet_pos=(2464.4153, 1321.9437)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=852,0004
[18:57:00] [INFO] [Bullet] Distance to wall: 852,0004 (58,01428% of viewport)
[18:57:00] [INFO] [Bullet] Distance-based penetration chance: 78,983345%
[18:57:00] [INFO] [Bullet] Starting wall penetration at (2464.4153, 1321.9437)
[18:57:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,5473778
[18:57:00] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[18:57:00] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[18:57:00] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:00] [INFO] [Bullet] Exiting penetration at (2527.6682, 1355.6365) after traveling 66,66667 pixels through wall
[18:57:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:00] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1687.5516, 896.5024), shooter_id=6881326138888, bullet_pos=(2460.2559, 1328.6405)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=885,3334
[18:57:00] [INFO] [Bullet] Distance to wall: 885,3334 (60,283978% of viewport)
[18:57:00] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[18:57:00] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[18:57:00] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1687.5516, 896.5024), shooter_id=6881326138888, bullet_pos=(2306.452, 1412.1224)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=805,54425
[18:57:00] [INFO] [Bullet] Distance to wall: 805,54425 (54,85099% of viewport)
[18:57:00] [INFO] [Bullet] Distance-based penetration chance: 82,67385%
[18:57:00] [INFO] [Bullet] Starting wall penetration at (2306.452, 1412.1224)
[18:57:00] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[18:57:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:00] [INFO] [Bullet] Exiting penetration at (2277.156, 1428.0238) after traveling 28,333332 pixels through wall
[18:57:00] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:57:00] [INFO] [ReplayManager] Recording frame 1500 (21,0s): player_valid=True, enemies=10
[18:57:00] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:57:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1662.5795, 871.8093), shooter_id=6881326138888, bullet_pos=(2462.1077, 1388.5842)
[18:57:00] [INFO] [Bullet] Using shooter_position, distance=951,9988
[18:57:00] [INFO] [Bullet] Distance to wall: 951,9988 (64,82335% of viewport)
[18:57:00] [ENEMY] [Enemy9] Hit: dmg=1, hp=3/4->2/4
[18:57:00] [INFO] [ImpactEffects] spawn_blood_effect called at (2401.57, 1420.907), dir=(1, 0), lethal=false
[18:57:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:00] [INFO] [ImpactEffects] Wall found for blood splatter at (2464, 1420.907) (dist=62 px)
[18:57:00] [INFO] [BloodDecal] Blood puddle created at (2463, 1420.907) (added to group)
[18:57:00] [INFO] [ImpactEffects] Blood effect spawned at (2401.57, 1420.907) (scale=1)
[18:57:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:57:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[18:57:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[18:57:01] [INFO] [BloodDecal] Blood puddle created at (2448.954, 1459.773) (added to group)
[18:57:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[18:57:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1837.4065, 1244.4905)
[18:57:01] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[18:57:01] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[18:57:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[18:57:01] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[18:57:01] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[18:57:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[18:57:01] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[18:57:01] [INFO] [Player.Grenade] Timer started, grenade created at (1536.6624, 893.93384)
[18:57:01] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[18:57:01] [INFO] [Player.Grenade] Step 1 complete! Drag: (253.33105, 4.1436768)
[18:57:01] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[18:57:01] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[18:57:01] [INFO] [BloodDecal] Blood puddle created at (2460.709, 1430.696) (added to group)
[18:57:01] [INFO] [ReplayManager] Recording frame 1560 (21,8s): player_valid=True, enemies=10
[18:57:02] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[18:57:02] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[18:57:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-63.5°, current=0.6°, player=(1536,893), corner_timer=0.10
[18:57:02] [ENEMY] [Enemy8] State: SUPPRESSED -> IN_COVER
[18:57:02] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[18:57:02] [INFO] [ReplayManager] Recording frame 1620 (22,6s): player_valid=True, enemies=10
[18:57:02] [ENEMY] [Enemy8] State: IN_COVER -> PURSUING
[18:57:02] [ENEMY] [Enemy8] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-119.7°, current=-8.0°, player=(1536,893), corner_timer=0.00
[18:57:03] [INFO] [ReplayManager] Recording frame 1680 (23,4s): player_valid=True, enemies=10
[18:57:03] [ENEMY] [Enemy9] State: SUPPRESSED -> IN_COVER
[18:57:03] [ENEMY] [Enemy9] State: IN_COVER -> PURSUING
[18:57:03] [ENEMY] [Enemy9] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-148.6°, current=180.0°, player=(1536,893), corner_timer=0.00
[18:57:04] [ENEMY] [Enemy10] PURSUING corner check: angle 60.0°
[18:57:04] [ENEMY] [Enemy8] Warning: No valid flank position (both sides behind walls)
[18:57:04] [ENEMY] [Enemy8] FLANKING started: target=(1435.667, 1066.561), side=right, pos=(1742.105, 1254.547)
[18:57:04] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[18:57:04] [ENEMY] [Enemy8] FLANKING corner check: angle 82.5°
[18:57:04] [INFO] [ReplayManager] Recording frame 1740 (24,4s): player_valid=True, enemies=10
[18:57:04] [ENEMY] [Enemy10] PURSUING corner check: angle 60.0°
[18:57:04] [ENEMY] [Enemy8] FLANKING corner check: angle 123.6°
[18:57:04] [INFO] [Player.Grenade.Simple] Throwing! Target: (1884.0535, 1253.1555), Distance: 511,8, Speed: 535,3, Friction: 280,0
[18:57:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,8049254
[18:57:04] [INFO] [Player.Grenade] Wall detected at (1554.0447, 910) (collider: Table2)! Adjusting spawn from (1578.2522, 935.172) to (1550.5789, 906.3961)
[18:57:04] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[18:57:04] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.693165, 0.72077894), speed=535,3, spawn=(1550.5789, 906.3961)
[18:57:04] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.693165, 0.720779), Speed: 535.3 (clamped from 535.3, max: 1186.5)
[18:57:04] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[18:57:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[18:57:04] [INFO] [Player.Grenade.Simple] Grenade thrown!
[18:57:04] [INFO] [Player.Grenade] State reset to IDLE
[18:57:04] [INFO] [Player.Grenade] State reset to IDLE
[18:57:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[18:57:04] [INFO] [GrenadeBase] Collision detected with Table2 (type: StaticBody2D)
[18:57:04] [INFO] [FragGrenade] Impact detected! Body: Table2 (type: StaticBody2D), triggering explosion
[18:57:04] [INFO] [FragGrenade] Impact detected - exploding immediately!
[18:57:04] [INFO] [GrenadeBase] EXPLODED at (1554.641, 900.5805)!
[18:57:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1554.641, 900.5805), source=NEUTRAL (FragGrenade), range=2937, listeners=3
[18:57:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:57:04] [INFO] [FragGrenade] Player found in blast radius at distance 20.0
[18:57:04] [INFO] [Player] Spawning blood effect at (1536.6624, 891.92523), dir=(-0.90102565, -0.43376574), lethal=False (C#)
[18:57:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1536.662, 891.9252), dir=(-0.901026, -0.433766), lethal=false
[18:57:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:04] [INFO] [ImpactEffects] Blood effect spawned at (1536.662, 891.9252) (scale=1)
[18:57:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:57:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:57:04] [INFO] [Player] Spawning blood effect at (1536.6624, 891.92523), dir=(-0.90102565, -0.43376574), lethal=False (C#)
[18:57:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1536.662, 891.9252), dir=(-0.901026, -0.433766), lethal=false
[18:57:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:04] [INFO] [ImpactEffects] Blood effect spawned at (1536.662, 891.9252) (scale=1)
[18:57:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:04] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:04] [INFO] [Player] Spawning blood effect at (1536.6624, 891.92523), dir=(-0.90102565, -0.43376574), lethal=True (C#)
[18:57:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1536.662, 891.9252), dir=(-0.901026, -0.433766), lethal=true
[18:57:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:57:04] [INFO] [ImpactEffects] Blood effect spawned at (1536.662, 891.9252) (scale=1.5)
[18:57:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[18:57:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[18:57:04] [INFO] [CinemaEffects] Player died - triggering death effects
[18:57:04] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[18:57:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[18:57:04] [INFO] [LastChance] Player died
[18:57:04] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 20.0
[18:57:04] [INFO] [GrenadeBase] Scattered 0 casings (lethal zone) + 3 casings (proximity) from explosion
[18:57:04] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.7 degrees
[18:57:04] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 85.3 degrees
[18:57:04] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.5 degrees
[18:57:04] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.5 degrees
[18:57:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (1554.641, 900.5805) (radius=225) - using shadow-based wall occlusion
[18:57:04] [INFO] [GrenadeTimer] Impact detected with Table2 - EXPLODING!
[18:57:04] [INFO] [GrenadeTimer] EXPLODED at (1554.6412, 900.5805)!
[18:57:04] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[18:57:04] [INFO] [GrenadeTimer] Damaged player at distance 20,0
[18:57:04] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[18:57:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1554.641, 900.5805), source=NEUTRAL (FragGrenade), range=2938, listeners=3
[18:57:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[18:57:04] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1554.6412, 900.5805) (shadow-based wall occlusion)
[18:57:04] [INFO] [GrenadeTimer] Scattered 3 casings
[18:57:05] [ENEMY] [Enemy8] Hit: dmg=1, hp=2/4->1/4
[18:57:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1569.745, 1149.536), dir=(0.08167, 0.996659), lethal=false
[18:57:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:05] [INFO] [ImpactEffects] Blood effect spawned at (1569.745, 1149.536) (scale=1)
[18:57:05] [ENEMY] [Enemy8] FLANKING corner check: angle 126.5°
[18:57:05] [INFO] [Player.Grenade] Player rotation restored to 0
[18:57:05] [ENEMY] [Enemy8] State: FLANKING -> RETREATING
[18:57:05] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=126.5°, current=-14.4°, player=(1536,837), corner_timer=0.15
[18:57:05] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1494.465, 858.9106) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1487.476, 845.2879) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1464.378, 859.6959) (added to group)
[18:57:05] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[18:57:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1476.488, 871.7444) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1504.467, 876.524) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1463.219, 862.8932) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1477.385, 886.415) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1486.006, 882.6531) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1487.761, 912.2689) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1492.507, 892.9362) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1477.175, 887.2033) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1457.578, 833.4608) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1472.429, 914.6397) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1481.768, 889.4249) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1603.966, 1259.004) (added to group)
[18:57:05] [ENEMY] [Enemy9] Warning: No valid flank position (both sides behind walls)
[18:57:05] [ENEMY] [Enemy9] FLANKING started: target=(1717.877, 731.3772), side=left, pos=(2401.57, 1420.907)
[18:57:05] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1489.26, 886.9857) (added to group)
[18:57:05] [ENEMY] [Enemy9] FLANKING corner check: angle 150.0°
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1470.302, 861.2133) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1450.195, 917.9622) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1482.35, 881.2124) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1420.701, 878.9835) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1429.718, 870.9052) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1415.98, 874.2061) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1569.21, 1299.95) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1426.744, 878.4732) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1418.577, 922.0863) (added to group)
[18:57:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:57:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:57:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:57:05] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:57:05] [INFO] [CinemaEffects] Death effects reset
[18:57:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:57:05] [ENEMY] [Enemy1] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:57:05] [ENEMY] [Enemy2] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:57:05] [ENEMY] [Enemy3] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:57:05] [ENEMY] [Enemy4] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:57:05] [ENEMY] [Enemy5] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:57:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:05] [ENEMY] [Enemy6] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:57:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:05] [ENEMY] [Enemy7] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:57:05] [ENEMY] [Enemy8] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:57:05] [ENEMY] [Enemy9] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:57:05] [ENEMY] [Enemy10] Death animation component initialized
[18:57:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:57:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:57:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:57:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:57:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:57:05] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:57:05] [INFO] [Player.Weapon] Removed default MakarovPM
[18:57:05] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:57:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:57:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:57:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:57:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:57:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:57:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:57:05] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:57:05] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:57:05] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:57:05] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:57:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:57:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:57:05] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:57:05] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:57:05] [INFO] [BuildingLevel] Setting up weapon: m16
[18:57:05] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:57:05] [INFO] [ScoreManager] Level started with 10 enemies
[18:57:05] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:57:05] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:57:05] [INFO] [ReplayManager] Replay data cleared
[18:57:05] [INFO] [BuildingLevel] Previous replay data cleared
[18:57:05] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:57:05] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:57:05] [INFO] [ReplayManager] Level: BuildingLevel
[18:57:05] [INFO] [ReplayManager] Player: Player (valid: True)
[18:57:05] [INFO] [ReplayManager] Enemies count: 10
[18:57:05] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:57:05] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:57:05] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:57:05] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:57:05] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:57:05] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:57:05] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:57:05] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:57:05] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:57:05] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:57:05] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:57:05] [INFO] [BuildingLevel] Replay recording started successfully
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1419.696, 915.4739) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1588.866, 1300.951) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1586.723, 1330.01) (added to group)
[18:57:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:57:05] [INFO] [CinemaEffects] Found player node: Player
[18:57:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[18:57:05] [ENEMY] [Enemy1] Registered as sound listener
[18:57:05] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[18:57:05] [ENEMY] [Enemy2] Registered as sound listener
[18:57:05] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[18:57:05] [ENEMY] [Enemy3] Registered as sound listener
[18:57:05] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[18:57:05] [ENEMY] [Enemy4] Registered as sound listener
[18:57:05] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[18:57:05] [ENEMY] [Enemy5] Registered as sound listener
[18:57:05] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 9)
[18:57:05] [ENEMY] [Enemy6] Registered as sound listener
[18:57:05] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 10)
[18:57:05] [ENEMY] [Enemy7] Registered as sound listener
[18:57:05] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[18:57:05] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 11)
[18:57:05] [ENEMY] [Enemy8] Registered as sound listener
[18:57:05] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 12)
[18:57:05] [ENEMY] [Enemy9] Registered as sound listener
[18:57:05] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:57:05] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:57:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 13)
[18:57:05] [ENEMY] [Enemy10] Registered as sound listener
[18:57:05] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:57:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:57:05] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:57:05] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:57:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:57:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:57:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:57:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:57:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:57:05] [INFO] [LastChance] Found player: Player
[18:57:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:57:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:57:05] [INFO] [LastChance] Connected to player Died signal (C#)
[18:57:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1404.15, 925.0454) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1459.381, 895.4099) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1428.874, 933.9065) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1399.904, 840.8455) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1434.231, 908.8868) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1596.495, 1302.326) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1565.26, 1307.163) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1578.853, 1310.542) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1541.64, 1342.227) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1405.667, 894.0198) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1426.981, 965.1293) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1444.141, 935.9985) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1561.947, 1452.911) (added to group)
[18:57:05] [INFO] [BloodDecal] Blood puddle created at (1407.267, 954.2466) (added to group)
[18:57:06] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:57:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:07] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:57:07] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,907), corner_timer=0.30
[18:57:07] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,907), corner_timer=0.30
[18:57:07] [ENEMY] [Enemy3] Status: BLINDED applied
[18:57:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,803), corner_timer=-0.02
[18:57:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,803), corner_timer=-0.02
[18:57:07] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:57:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,797), corner_timer=0.30
[18:57:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,797), corner_timer=0.30
[18:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 786.6666), source=PLAYER (AssaultRifle), range=1469, listeners=13
[18:57:07] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[18:57:07] [ENEMY] [Enemy1] Heard gunshot at (450, 786.6666), source_type=0, intensity=0.01, distance=462
[18:57:07] [ENEMY] [Enemy2] Heard gunshot at (450, 786.6666), source_type=0, intensity=0.04, distance=242
[18:57:07] [ENEMY] [Enemy3] Heard gunshot at (450, 786.6666), source_type=0, intensity=0.04, distance=253
[18:57:07] [ENEMY] [Enemy4] Heard gunshot at (450, 786.6666), source_type=0, intensity=0.02, distance=368
[18:57:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:07] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.0°, current=-157.5°, player=(450,786), corner_timer=0.00
[18:57:07] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.1°, current=168.8°, player=(450,786), corner_timer=0.00
[18:57:07] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=171.7°, current=11.3°, player=(450,786), corner_timer=0.00
[18:57:07] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-162.1°, current=-101.3°, player=(450,786), corner_timer=0.00
[18:57:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:57:07] [INFO] [ImpactEffects] spawn_blood_effect called at (689.4463, 751.5479), dir=(1, 0), lethal=false
[18:57:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:07] [INFO] [ImpactEffects] Blood effect spawned at (689.4463, 751.5479) (scale=1)
[18:57:07] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.6357, 754.5516), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:07] [ENEMY] [Enemy3] Status: BLINDED removed
[18:57:07] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-180.0°, current=-180.0°, player=(451,751), corner_timer=0.00
[18:57:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:57:07] [INFO] [ImpactEffects] spawn_blood_effect called at (689.4463, 751.5479), dir=(1, 0), lethal=true
[18:57:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:57:07] [INFO] [ImpactEffects] Blood effect spawned at (689.4463, 751.5479) (scale=1.5)
[18:57:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:57:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:57:07] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:57:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:57:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:57:07] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.6401, 733.6481), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:57:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(467,728), corner_timer=-0.01
[18:57:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[18:57:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(469,728), corner_timer=0.30
[18:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(476.2509, 730.0808), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:57:07] [INFO] [BloodDecal] Blood puddle created at (742.1741, 795.0675) (added to group)
[18:57:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.64014, 733.64813), shooter_id=7501160385076, bullet_pos=(911.37994, 748.9834)
[18:57:07] [INFO] [Bullet] Using shooter_position, distance=452,00003
[18:57:07] [INFO] [Bullet] Distance to wall: 452,00003 (30,777514% of viewport)
[18:57:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:07] [INFO] [Bullet] Starting wall penetration at (911.37994, 748.9834)
[18:57:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,69911
[18:57:07] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:07] [INFO] [Bullet] Exiting penetration at (949.6912, 750.28394) after traveling 33,333332 pixels through wall
[18:57:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:07] [INFO] [BloodDecal] Blood puddle created at (758.5857, 786.3954) (added to group)
[18:57:07] [INFO] [BloodDecal] Blood puddle created at (795.5756, 818.1135) (added to group)
[18:57:07] [INFO] [BloodDecal] Blood puddle created at (788.4576, 817.5136) (added to group)
[18:57:07] [INFO] [BloodDecal] Blood puddle created at (751.9813, 768.7604) (added to group)
[18:57:07] [INFO] [BloodDecal] Blood puddle created at (739.9316, 766.9906) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (790.0286, 821.0333) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (771.1068, 761.2969) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (777.0815, 734.2062) (added to group)
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(476.2509, 730.0808), shooter_id=7501160385076, bullet_pos=(927.80695, 750.1163)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=452,00034
[18:57:08] [INFO] [Bullet] Distance to wall: 452,00034 (30,777534% of viewport)
[18:57:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:08] [INFO] [Bullet] Starting wall penetration at (927.80695, 750.1163)
[18:57:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,132217
[18:57:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:08] [INFO] [Bullet] Exiting penetration at (966.1026, 751.8154) after traveling 33,333336 pixels through wall
[18:57:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:08] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:57:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:57:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (764.8246, 784.6126) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (770.5548, 793.9286) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (772.8162, 807.0914) (added to group)
[18:57:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(534,780), corner_timer=-0.01
[18:57:08] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (795.0256, 801.9829) (added to group)
[18:57:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(536,783), corner_timer=0.30
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (777.8078, 768.8024) (added to group)
[18:57:08] [ENEMY] [Enemy3] Ragdoll activated
[18:57:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (776.8691, 783.6214) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (864.1187, 825.7599) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (799.2316, 770.9139) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (806.4056, 789.5433) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (783.8795, 763.5196) (added to group)
[18:57:08] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-149.0°, current=-148.2°, player=(550,808), corner_timer=0.00
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (850.8488, 828.981) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (786.3649, 784.0208) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (786.9428, 818.736) (added to group)
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (870.4003, 790.6082) (added to group)
[18:57:08] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:57:08] [INFO] [BloodDecal] Blood puddle created at (898.8292, 879.5309) (added to group)
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.1731, 864.394), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[18:57:08] [ENEMY] [Enemy4] Status: BLINDED applied
[18:57:08] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.8°, current=-173.0°, player=(554,864), corner_timer=0.00
[18:57:08] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.1731, 864.394), shooter_id=7501160385076, bullet_pos=(703.3224, 893.69415)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=152,00005
[18:57:08] [INFO] [Bullet] Distance to wall: 152,00005 (10,349963% of viewport)
[18:57:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:08] [INFO] [Bullet] Starting wall penetration at (703.3224, 893.69415)
[18:57:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(553,877), corner_timer=-0.01
[18:57:08] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:57:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:08] [INFO] [Bullet] Exiting penetration at (740.9368, 901.08344) after traveling 33,333336 pixels through wall
[18:57:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(553,881), corner_timer=0.30
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(550.0341, 897.8796), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.1937, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:57:08] [INFO] [LastChance] Threat detected: @Area2D@11298
[18:57:08] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:57:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:08] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[18:57:08] [INFO] [ImpactEffects] spawn_blood_effect called at (725.1937, 914.0656), dir=(1, 0), lethal=false
[18:57:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:08] [INFO] [ImpactEffects] Blood effect spawned at (725.1937, 914.0656) (scale=1)
[18:57:08] [INFO] [Player] Spawning blood effect at (540.0669, 919.5279), dir=(1, 0), lethal=False (C#)
[18:57:08] [INFO] [ImpactEffects] spawn_blood_effect called at (540.0669, 919.5279), dir=(1, 0), lethal=false
[18:57:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:08] [INFO] [ImpactEffects] Blood effect spawned at (540.0669, 919.5279) (scale=1)
[18:57:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:57:08] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:57:08] [ENEMY] [Enemy4] Status: BLINDED removed
[18:57:08] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=178.3°, current=178.2°, player=(540,919), corner_timer=0.00
[18:57:08] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 925.7896), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.065, 925.7896), shooter_id=7501160385076, bullet_pos=(686.3393, 884.4635)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=152,00005
[18:57:08] [INFO] [Bullet] Distance to wall: 152,00005 (10,349963% of viewport)
[18:57:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(733.0332, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0649, 943.5583), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.065, 925.7896), shooter_id=7501160385076, bullet_pos=(512.44055, 864.8631)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=66,89657
[18:57:08] [INFO] [Bullet] Distance to wall: 66,89657 (4,5551105% of viewport)
[18:57:08] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:57:08] [INFO] [Bullet] Starting wall penetration at (512.44055, 864.8631)
[18:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.8315, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[18:57:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[18:57:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,814009
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.06494, 943.5583), shooter_id=7501160385076, bullet_pos=(681.1367, 886.96545)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=151,99998
[18:57:08] [INFO] [Bullet] Distance to wall: 151,99998 (10,349959% of viewport)
[18:57:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.8162, 929.74713), shooter_id=7498157263925, bullet_pos=(511.67645, 990.6523)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=166,66669
[18:57:08] [INFO] [Bullet] Distance to wall: 166,66669 (11,348641% of viewport)
[18:57:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:08] [INFO] [Bullet] Starting wall penetration at (511.67645, 990.6523)
[18:57:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.8162, 929.74713), shooter_id=7498157263925, bullet_pos=(507.02225, 992.47943)
[18:57:08] [INFO] [Bullet] Using shooter_position, distance=171,6667
[18:57:08] [INFO] [Bullet] Distance to wall: 171,6667 (11,689102% of viewport)
[18:57:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:08] [INFO] [LastChance] Threat detected: @Area2D@11321
[18:57:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:57:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:08] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:08] [INFO] [Bullet] Exiting penetration at (479.31696, 861.1297) after traveling 28,333332 pixels through wall
[18:57:08] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:57:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,849699
[18:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:09] [INFO] [Bullet] Exiting penetration at (537.6399, 1005.65784) after traveling 28,333334 pixels through wall
[18:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.8162, 929.74713), shooter_id=7498157263925, bullet_pos=(537.6399, 1005.65784)
[18:57:09] [INFO] [Bullet] Using shooter_position, distance=149,82977
[18:57:09] [INFO] [Bullet] Distance to wall: 149,82977 (10,202185% of viewport)
[18:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:09] [INFO] [Bullet] Starting wall penetration at (537.6399, 1005.65784)
[18:57:09] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(540,949), corner_timer=-0.01
[18:57:09] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[18:57:09] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:09] [INFO] [Bullet] Exiting penetration at (568.25757, 1018.83624) after traveling 28,333334 pixels through wall
[18:57:09] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(540,950), corner_timer=0.30
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (801.9719, 922.9695) (added to group)
[18:57:09] [INFO] [Player] Spawning blood effect at (540.06494, 951.8838), dir=(1, 0), lethal=False (C#)
[18:57:09] [INFO] [ImpactEffects] spawn_blood_effect called at (540.0649, 951.8838), dir=(1, 0), lethal=false
[18:57:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:09] [INFO] [ImpactEffects] Blood effect spawned at (540.0649, 951.8838) (scale=1)
[18:57:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:09] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:09] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(750.7475, 914.0658), source=ENEMY (Enemy4), range=1469, listeners=9
[18:57:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (797.0396, 915.2656) (added to group)
[18:57:09] [INFO] [LastChance] Threat detected: Bullet
[18:57:09] [INFO] [LastChance] Triggering last chance effect!
[18:57:09] [INFO] [LastChance] Starting last chance effect:
[18:57:09] [INFO] [LastChance]   - Time will be frozen (except player)
[18:57:09] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:57:09] [INFO] [LastChance]   - Trigger: threat detected
[18:57:09] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:57:09] [INFO] [LastChance]   - Brightness: 0.60
[18:57:09] [INFO] [LastChance] Pushed bullet @Area2D@11316 from distance 107.2 to 200.0
[18:57:09] [INFO] [LastChance] Pushed bullet Bullet from distance 142.6 to 200.0
[18:57:09] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[18:57:09] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:57:09] [INFO] [LastChance] Skipping player node: Player
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11240
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11243
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11246
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11294
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11297
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11300
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11305
[18:57:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11318
[18:57:09] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:57:09] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:57:09] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:57:09] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11340
[18:57:09] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11340
[18:57:09] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:09] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:09] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@11342
[18:57:09] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@11342
[18:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0649, 952.3425), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (615.0766, 906.7764) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (608.4473, 929.3597) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (813.033, 898.4375) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (619.575, 924.934) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (788.7034, 959.1645) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (607.3632, 972.6413) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (627.3743, 954.8962) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (800.6945, 984.3452) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (651.2611, 937.6934) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (621.5278, 942.4417) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (889.0214, 924.7619) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (699.7207, 954.1177) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (866.2144, 994.8927) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (636.7305, 944.8841) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (598.5037, 975.0738) (added to group)
[18:57:09] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:57:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:57:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:57:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:57:09] [INFO] [LastChance] All process modes restored
[18:57:09] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:57:09] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:57:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:57:09] [ENEMY] [Enemy1] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:57:09] [ENEMY] [Enemy2] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:57:09] [ENEMY] [Enemy3] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:57:09] [ENEMY] [Enemy4] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:57:09] [ENEMY] [Enemy5] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:57:09] [ENEMY] [Enemy6] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:57:09] [ENEMY] [Enemy7] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:57:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:09] [ENEMY] [Enemy8] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:57:09] [ENEMY] [Enemy9] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:57:09] [ENEMY] [Enemy10] Death animation component initialized
[18:57:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:57:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:57:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:57:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:57:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:57:09] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:57:09] [INFO] [Player.Weapon] Removed default MakarovPM
[18:57:09] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:57:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:57:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:57:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:57:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:57:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:57:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:57:09] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:57:09] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:57:09] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:57:09] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:57:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[18:57:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:57:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:57:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:57:09] [INFO] [BuildingLevel] Setting up weapon: m16
[18:57:09] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:57:09] [INFO] [ScoreManager] Level started with 10 enemies
[18:57:09] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:57:09] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:57:09] [INFO] [ReplayManager] Replay data cleared
[18:57:09] [INFO] [BuildingLevel] Previous replay data cleared
[18:57:09] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:57:09] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:57:09] [INFO] [ReplayManager] Level: BuildingLevel
[18:57:09] [INFO] [ReplayManager] Player: Player (valid: True)
[18:57:09] [INFO] [ReplayManager] Enemies count: 10
[18:57:09] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:57:09] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:57:09] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:57:09] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:57:09] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:57:09] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:57:09] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:57:09] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:57:09] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:57:09] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:57:09] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:57:09] [INFO] [BuildingLevel] Replay recording started successfully
[18:57:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:57:09] [INFO] [CinemaEffects] Found player node: Player
[18:57:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:57:09] [ENEMY] [Enemy1] Registered as sound listener
[18:57:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:57:09] [ENEMY] [Enemy2] Registered as sound listener
[18:57:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:57:09] [ENEMY] [Enemy3] Registered as sound listener
[18:57:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:57:09] [ENEMY] [Enemy4] Registered as sound listener
[18:57:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:57:09] [ENEMY] [Enemy5] Registered as sound listener
[18:57:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:57:09] [ENEMY] [Enemy6] Registered as sound listener
[18:57:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:57:09] [ENEMY] [Enemy7] Registered as sound listener
[18:57:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:57:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:57:09] [ENEMY] [Enemy8] Registered as sound listener
[18:57:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:57:09] [ENEMY] [Enemy9] Registered as sound listener
[18:57:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:57:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:57:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:57:09] [ENEMY] [Enemy10] Registered as sound listener
[18:57:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:57:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:57:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:57:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:57:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:57:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:57:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:57:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:57:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:57:09] [INFO] [LastChance] Found player: Player
[18:57:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:57:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:57:09] [INFO] [LastChance] Connected to player Died signal (C#)
[18:57:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (670.1907, 957.9301) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (621.0128, 975.4732) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (708.6124, 996.2824) (added to group)
[18:57:09] [INFO] [BloodDecal] Blood puddle created at (672.7286, 985.3599) (added to group)
[18:57:10] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:57:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:11] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.3697, 783.9763), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:57:11] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:57:11] [ENEMY] [Enemy1] Heard gunshot at (456.3697, 783.9763), source_type=0, intensity=0.01, distance=461
[18:57:11] [ENEMY] [Enemy2] Heard gunshot at (456.3697, 783.9763), source_type=0, intensity=0.04, distance=241
[18:57:11] [ENEMY] [Enemy3] Heard gunshot at (456.3697, 783.9763), source_type=0, intensity=0.04, distance=246
[18:57:11] [ENEMY] [Enemy4] Heard gunshot at (456.3697, 783.9763), source_type=0, intensity=0.02, distance=363
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:11] [ENEMY] [Enemy3] Status: BLINDED applied
[18:57:11] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.2°, current=168.8°, player=(456,783), corner_timer=0.00
[18:57:11] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.5°, current=45.0°, player=(456,783), corner_timer=0.00
[18:57:11] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.1°, current=11.3°, player=(456,783), corner_timer=0.00
[18:57:11] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.3°, current=-101.3°, player=(456,783), corner_timer=0.00
[18:57:11] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(456,783), corner_timer=0.30
[18:57:11] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(456,783), corner_timer=0.30
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.2922, 761.7814), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.3697, 783.9763), shooter_id=7594290712550, bullet_pos=(925.01935, 779.95874)
[18:57:11] [INFO] [Bullet] Using shooter_position, distance=468,66687
[18:57:11] [INFO] [Bullet] Distance to wall: 468,66687 (31,91239% of viewport)
[18:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:11] [INFO] [Bullet] Starting wall penetration at (925.01935, 779.95874)
[18:57:11] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:57:11] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[18:57:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:11] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[18:57:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,68564
[18:57:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:11] [INFO] [Bullet] Exiting penetration at (971.6843, 779.5587) after traveling 41,666668 pixels through wall
[18:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:11] [ENEMY] [Enemy3] Status: BLINDED removed
[18:57:11] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-179.8°, current=-179.6°, player=(492,749), corner_timer=0.00
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.4261, 748.0721), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:11] [INFO] [LastChance] Threat detected: Bullet
[18:57:11] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:57:11] [INFO] [Player] Spawning blood effect at (511.862, 745.4151), dir=(1, 0), lethal=False (C#)
[18:57:11] [INFO] [ImpactEffects] spawn_blood_effect called at (511.862, 745.4151), dir=(1, 0), lethal=false
[18:57:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:11] [INFO] [ImpactEffects] Blood effect spawned at (511.862, 745.4151) (scale=1)
[18:57:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[18:57:11] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[18:57:11] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:57:11] [INFO] [ImpactEffects] spawn_blood_effect called at (699.9273, 752.1321), dir=(1, 0), lethal=false
[18:57:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:11] [INFO] [ImpactEffects] Blood effect spawned at (699.9273, 752.1321) (scale=1)
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.7092, 758.5283), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(524,745), corner_timer=-0.00
[18:57:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(524,745), corner_timer=-0.00
[18:57:11] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.2523, 745.6303), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[18:57:11] [INFO] [LastChance] Threat detected: Bullet
[18:57:11] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:11] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=56.8°, current=62.8°, player=(528,745), corner_timer=0.00
[18:57:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(528,745), corner_timer=0.30
[18:57:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(528,745), corner_timer=0.30
[18:57:11] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:57:11] [INFO] [ImpactEffects] spawn_blood_effect called at (699.4184, 767.0566), dir=(1, 0), lethal=false
[18:57:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:11] [INFO] [ImpactEffects] Blood effect spawned at (699.4184, 767.0566) (scale=1)
[18:57:11] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.7663, 772.8444), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:11] [INFO] [LastChance] Threat detected: @Area2D@11631
[18:57:11] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[18:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:57:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=48.4°, current=128.1°, player=(554,753), corner_timer=0.00
[18:57:11] [INFO] [Player] Spawning blood effect at (561.2986, 757.992), dir=(1, 0), lethal=False (C#)
[18:57:11] [INFO] [ImpactEffects] spawn_blood_effect called at (561.2986, 757.992), dir=(1, 0), lethal=false
[18:57:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:11] [INFO] [ImpactEffects] Blood effect spawned at (561.2986, 757.992) (scale=1)
[18:57:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:57:11] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:57:11] [INFO] [LastChance] Threat detected: @Area2D@11633
[18:57:11] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:57:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.60373, 608.5934), shooter_id=7590582948138, bullet_pos=(495.51367, 687.9028)
[18:57:11] [INFO] [Bullet] Using shooter_position, distance=100
[18:57:11] [INFO] [Bullet] Distance to wall: 100 (6,809184% of viewport)
[18:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (779.1278, 736.9662) (added to group)
[18:57:11] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:57:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:57:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[18:57:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(631.7137, 761.21326), shooter_id=7590935268566, bullet_pos=(66.74385, 805.03516)
[18:57:11] [INFO] [Bullet] Using shooter_position, distance=566,6668
[18:57:11] [INFO] [Bullet] Distance to wall: 566,6668 (38,585384% of viewport)
[18:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:11] [INFO] [Bullet] Starting wall penetration at (66.74385, 805.03516)
[18:57:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,485123
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (824.7401, 827.7241) (added to group)
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (805.088, 739.5785) (added to group)
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (765.9368, 796.6033) (added to group)
[18:57:11] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[18:57:11] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:11] [INFO] [Bullet] Exiting penetration at (-4.7082024, 810.57733) after traveling 66,66667 pixels through wall
[18:57:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (762.3744, 770.6636) (added to group)
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (590.4841, 731.8024) (added to group)
[18:57:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.05118, 607.7141), shooter_id=7590582948138, bullet_pos=(497.94962, 686.25446)
[18:57:11] [INFO] [Bullet] Using shooter_position, distance=100,00001
[18:57:11] [INFO] [Bullet] Distance to wall: 100,00001 (6,8091846% of viewport)
[18:57:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (612.4985, 743.1534) (added to group)
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (755.8505, 749.9591) (added to group)
[18:57:11] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:11] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[18:57:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(591,801), corner_timer=-0.01
[18:57:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[18:57:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(592,805), corner_timer=0.30
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (749.6594, 799.8397) (added to group)
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (754.6628, 765.9695) (added to group)
[18:57:11] [INFO] [BloodDecal] Blood puddle created at (759.8965, 805.069) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (635.8461, 783.3123) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (839.2155, 744.8817) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (626.2715, 745.7729) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (650.698, 783.3268) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (766.0615, 805.9392) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (601.0372, 755.8562) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (588.391, 802.8358) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (812.7202, 850.4497) (added to group)
[18:57:12] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:12] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:12] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[18:57:12] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-155.0°, current=-153.6°, player=(593,844), corner_timer=0.00
[18:57:12] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (859.8224, 834.5044) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (670.6755, 813.1777) (added to group)
[18:57:12] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (667.5793, 856.2589) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (600.234, 817.4038) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (817.7548, 796.9094) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (873.2059, 830.0275) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (674.4525, 747.7908) (added to group)
[18:57:12] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.7594, 515.6494), source=ENEMY (Enemy2), range=1469, listeners=10
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (905.2708, 954.4795) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (881.3154, 839.4271) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (634.7858, 803.2216) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (646.1984, 761.4644) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (642.0574, 793.506) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (911.186, 881.6018) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (855.3829, 873.7139) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (846.6603, 841.0453) (added to group)
[18:57:12] [INFO] [LastChance] Threat detected: Bullet
[18:57:12] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:57:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.5714, 900.3899), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[18:57:12] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.5461, 499.1233), source=ENEMY (Enemy2), range=1469, listeners=10
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:57:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.3°, player=(580,900), corner_timer=-0.01
[18:57:12] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[18:57:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.5°, player=(578,903), corner_timer=0.30
[18:57:12] [ENEMY] [Enemy4] Status: BLINDED applied
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (862.0253, 829.4792) (added to group)
[18:57:12] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-177.6°, current=-177.7°, player=(575,907), corner_timer=0.00
[18:57:12] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[18:57:12] [INFO] [ImpactEffects] spawn_blood_effect called at (743.4396, 914.0652), dir=(1, 0), lethal=false
[18:57:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:12] [INFO] [ImpactEffects] Blood effect spawned at (743.4396, 914.0652) (scale=1)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (671.6456, 815.3073) (added to group)
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(743.4396, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=10
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[18:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.71277, 565.6808), shooter_id=7590582948138, bullet_pos=(502.04907, 692.11414)
[18:57:12] [INFO] [Bullet] Using shooter_position, distance=133,33324
[18:57:12] [INFO] [Bullet] Distance to wall: 133,33324 (9,078906% of viewport)
[18:57:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:12] [INFO] [Bullet] Starting wall penetration at (502.04907, 692.11414)
[18:57:12] [INFO] [LastChance] Threat detected: @Area2D@11688
[18:57:12] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:57:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:12] [INFO] [Bullet] Exiting penetration at (514.22076, 728.46375) after traveling 33,333336 pixels through wall
[18:57:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (742.0429, 808.6274) (added to group)
[18:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.01324, 580.2936), shooter_id=7590582948138, bullet_pos=(648.0341, 1002.8639)
[18:57:12] [INFO] [Bullet] Using shooter_position, distance=466,66684
[18:57:12] [INFO] [Bullet] Distance to wall: 466,66684 (31,776205% of viewport)
[18:57:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:12] [INFO] [Bullet] Starting wall penetration at (648.0341, 1002.8639)
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.4832, 926.0265), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=5
[18:57:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,991524
[18:57:12] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:12] [INFO] [Bullet] Exiting penetration at (664.3001, 1037.575) after traveling 33,333332 pixels through wall
[18:57:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:12] [INFO] [Player] Spawning blood effect at (557.48315, 926.0265), dir=(1, 0), lethal=False (C#)
[18:57:12] [INFO] [ImpactEffects] spawn_blood_effect called at (557.4832, 926.0265), dir=(1, 0), lethal=false
[18:57:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:12] [INFO] [ImpactEffects] Blood effect spawned at (557.4832, 926.0265) (scale=1)
[18:57:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:12] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:12] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:12] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.3828, 485.971), source=ENEMY (Enemy2), range=1469, listeners=10
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (736.4562, 798.2714) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (679.0891, 842.2382) (added to group)
[18:57:12] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[18:57:12] [INFO] [ImpactEffects] spawn_blood_effect called at (743.4396, 914.0652), dir=(1, 0), lethal=true
[18:57:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:57:12] [INFO] [ImpactEffects] Blood effect spawned at (743.4396, 914.0652) (scale=1.5)
[18:57:12] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[18:57:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:57:12] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[18:57:12] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[18:57:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:57:12] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[18:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.5963, 553.7352), shooter_id=7590582948138, bullet_pos=(497.93335, 684.4415)
[18:57:12] [INFO] [Bullet] Using shooter_position, distance=133,33333
[18:57:12] [INFO] [Bullet] Distance to wall: 133,33333 (9,078912% of viewport)
[18:57:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:12] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[18:57:12] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=IN_COVER, target=172.6°, current=79.5°, player=(540,944), corner_timer=0.00
[18:57:12] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[18:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.5963, 553.7352), shooter_id=7590582948138, bullet_pos=(525.8817, 598.89105)
[18:57:12] [INFO] [Bullet] Using shooter_position, distance=70,61128
[18:57:12] [INFO] [Bullet] Distance to wall: 70,61128 (4,808052% of viewport)
[18:57:12] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[18:57:12] [INFO] [Bullet] Starting wall penetration at (525.8817, 598.89105)
[18:57:12] [ENEMY] [Enemy4] Status: BLINDED removed
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 953.3022), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:57:12] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:12] [INFO] [Bullet] Exiting penetration at (536.233, 567.2057) after traveling 28,333334 pixels through wall
[18:57:12] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[18:57:12] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:57:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(540,968), corner_timer=-0.01
[18:57:12] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:57:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 969.3979), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[18:57:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(540,969), corner_timer=0.30
[18:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.065, 953.3022), shooter_id=7594290712550, bullet_pos=(914.9607, 864.22437)
[18:57:12] [INFO] [Bullet] Using shooter_position, distance=385,33316
[18:57:12] [INFO] [Bullet] Distance to wall: 385,33316 (26,238045% of viewport)
[18:57:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:12] [INFO] [Bullet] Starting wall penetration at (914.9607, 864.22437)
[18:57:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,708242
[18:57:12] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:12] [INFO] [Bullet] Exiting penetration at (952.2557, 855.3628) after traveling 33,333332 pixels through wall
[18:57:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (834.5868, 932.365) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (857.6398, 952.7269) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (642.9768, 967.1312) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (817.9863, 919.623) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (791.2903, 948.385) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (795.3791, 930.2726) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (789.795, 931.9972) (added to group)
[18:57:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.065, 969.3979), shooter_id=7594290712550, bullet_pos=(911.3454, 866.2836)
[18:57:12] [INFO] [Bullet] Using shooter_position, distance=385,3332
[18:57:12] [INFO] [Bullet] Distance to wall: 385,3332 (26,238045% of viewport)
[18:57:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:12] [INFO] [Bullet] Starting wall penetration at (911.3454, 866.2836)
[18:57:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,745513
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (828.0555, 957.2701) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (798.4858, 946.9039) (added to group)
[18:57:12] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:12] [INFO] [Bullet] Exiting penetration at (948.2807, 856.0257) after traveling 33,333332 pixels through wall
[18:57:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (865.2899, 909.6141) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (659.8043, 943.6964) (added to group)
[18:57:12] [INFO] [BloodDecal] Blood puddle created at (657.5078, 925.6436) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (871.9403, 958.0062) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (829.8387, 953.6467) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (852.4197, 915.6324) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (702.0722, 917.5585) (added to group)
[18:57:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(540,941), corner_timer=-0.01
[18:57:13] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:57:13] [ENEMY] [Enemy4] Ragdoll activated
[18:57:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (855.2818, 954.7641) (added to group)
[18:57:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(540,938), corner_timer=0.30
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (897.0887, 922.3187) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (858.9658, 947.287) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (674.2361, 992.1072) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (908.3149, 918.8762) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (854.9409, 965.6119) (added to group)
[18:57:13] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=78.9°, current=81.8°, player=(540,921), corner_timer=0.00
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (753.4638, 954.7736) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (898.21, 919.5979) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (859.1982, 936.3685) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (743.0305, 939.1083) (added to group)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (861.3696, 976.0096) (added to group)
[18:57:13] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:13] [INFO] [BloodDecal] Blood puddle created at (874.7584, 959.2384) (added to group)
[18:57:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.8666, 481.5211), source=ENEMY (Enemy2), range=1469, listeners=9
[18:57:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[18:57:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[18:57:13] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[18:57:13] [INFO] [LastChance] Threat detected: Bullet
[18:57:13] [INFO] [LastChance] Triggering last chance effect!
[18:57:13] [INFO] [LastChance] Starting last chance effect:
[18:57:13] [INFO] [LastChance]   - Time will be frozen (except player)
[18:57:13] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:57:13] [INFO] [LastChance]   - Trigger: threat detected
[18:57:13] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:57:13] [INFO] [LastChance]   - Brightness: 0.60
[18:57:13] [INFO] [LastChance] Pushed bullet Bullet from distance 146.4 to 200.0
[18:57:13] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:57:13] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:57:13] [INFO] [LastChance] Skipping player node: Player
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11618
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11620
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11623
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11629
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11635
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11640
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11669
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11680
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11684
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11689
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11696
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11700
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11708
[18:57:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@11711
[18:57:13] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:57:13] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:57:13] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:57:13] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:57:13] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:57:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:57:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:57:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:57:14] [INFO] [LastChance] All process modes restored
[18:57:14] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:57:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:57:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:57:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:14] [ENEMY] [Enemy1] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:57:14] [ENEMY] [Enemy2] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:57:14] [ENEMY] [Enemy3] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:57:14] [ENEMY] [Enemy4] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:57:14] [ENEMY] [Enemy5] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:57:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:14] [ENEMY] [Enemy6] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:57:14] [ENEMY] [Enemy7] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:57:14] [ENEMY] [Enemy8] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:57:14] [ENEMY] [Enemy9] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:57:14] [ENEMY] [Enemy10] Death animation component initialized
[18:57:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:57:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:57:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:57:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:57:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:57:14] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:57:14] [INFO] [Player.Weapon] Removed default MakarovPM
[18:57:14] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:57:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:57:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:57:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:57:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:57:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:57:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:57:14] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:57:14] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:57:14] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:57:14] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:57:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:57:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:57:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:57:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:57:14] [INFO] [BuildingLevel] Setting up weapon: m16
[18:57:14] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:57:14] [INFO] [ScoreManager] Level started with 10 enemies
[18:57:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:57:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:57:14] [INFO] [ReplayManager] Replay data cleared
[18:57:14] [INFO] [BuildingLevel] Previous replay data cleared
[18:57:14] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:57:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:57:14] [INFO] [ReplayManager] Level: BuildingLevel
[18:57:14] [INFO] [ReplayManager] Player: Player (valid: True)
[18:57:14] [INFO] [ReplayManager] Enemies count: 10
[18:57:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:57:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:57:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:57:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:57:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:57:14] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:57:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:57:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:57:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:57:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:57:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:57:14] [INFO] [BuildingLevel] Replay recording started successfully
[18:57:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:57:14] [INFO] [CinemaEffects] Found player node: Player
[18:57:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[18:57:14] [ENEMY] [Enemy1] Registered as sound listener
[18:57:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[18:57:14] [ENEMY] [Enemy2] Registered as sound listener
[18:57:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[18:57:14] [ENEMY] [Enemy3] Registered as sound listener
[18:57:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[18:57:14] [ENEMY] [Enemy4] Registered as sound listener
[18:57:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[18:57:14] [ENEMY] [Enemy5] Registered as sound listener
[18:57:14] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[18:57:14] [ENEMY] [Enemy6] Registered as sound listener
[18:57:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[18:57:14] [ENEMY] [Enemy7] Registered as sound listener
[18:57:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:57:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[18:57:14] [ENEMY] [Enemy8] Registered as sound listener
[18:57:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[18:57:14] [ENEMY] [Enemy9] Registered as sound listener
[18:57:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:57:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:57:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[18:57:14] [ENEMY] [Enemy10] Registered as sound listener
[18:57:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[18:57:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:57:14] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:57:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:57:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:57:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:57:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:57:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:57:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:57:14] [INFO] [LastChance] Found player: Player
[18:57:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:57:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:57:14] [INFO] [LastChance] Connected to player Died signal (C#)
[18:57:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:57:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:57:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:15] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:57:15] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:57:15] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:57:15] [ENEMY] [Enemy3] Status: BLINDED applied
[18:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 770.1666), source=PLAYER (AssaultRifle), range=1469, listeners=19
[18:57:15] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[18:57:15] [ENEMY] [Enemy1] Heard gunshot at (450, 770.1666), source_type=0, intensity=0.01, distance=446
[18:57:15] [ENEMY] [Enemy2] Heard gunshot at (450, 770.1666), source_type=0, intensity=0.05, distance=226
[18:57:15] [ENEMY] [Enemy3] Heard gunshot at (450, 770.1666), source_type=0, intensity=0.04, distance=251
[18:57:15] [ENEMY] [Enemy4] Heard gunshot at (450, 770.1666), source_type=0, intensity=0.02, distance=373
[18:57:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:15] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.4°, current=-157.5°, player=(450,770), corner_timer=0.00
[18:57:15] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.2°, current=-67.5°, player=(450,770), corner_timer=0.00
[18:57:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=175.4°, current=-123.8°, player=(450,770), corner_timer=0.00
[18:57:15] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.6°, current=168.8°, player=(450,770), corner_timer=0.00
[18:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.2479, 738.7783), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 770.1666), shooter_id=7712553308651, bullet_pos=(918.6669, 769.8179)
[18:57:15] [INFO] [Bullet] Using shooter_position, distance=468,66702
[18:57:15] [INFO] [Bullet] Distance to wall: 468,66702 (31,912401% of viewport)
[18:57:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:15] [INFO] [Bullet] Starting wall penetration at (918.6669, 769.8179)
[18:57:15] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:57:15] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3679, 750.8577), dir=(1, 0), lethal=false
[18:57:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:15] [INFO] [ImpactEffects] Blood effect spawned at (689.3679, 750.8577) (scale=1)
[18:57:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,333565
[18:57:15] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:15] [INFO] [Bullet] Exiting penetration at (965.33356, 769.78314) after traveling 41,66667 pixels through wall
[18:57:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:15] [ENEMY] [Enemy3] Status: BLINDED removed
[18:57:15] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-174.4°, current=-177.1°, player=(455,728), corner_timer=0.00
[18:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.3679, 750.8577), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.7552, 728.0673), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:15] [INFO] [LastChance] Threat detected: Bullet
[18:57:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:57:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:15] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:57:16] [INFO] [Player] Spawning blood effect at (469.80923, 729.2936), dir=(1, 0), lethal=False (C#)
[18:57:16] [INFO] [ImpactEffects] spawn_blood_effect called at (469.8092, 729.2936), dir=(1, 0), lethal=false
[18:57:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:16] [INFO] [ImpactEffects] Blood effect spawned at (469.8092, 729.2936) (scale=1)
[18:57:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:57:16] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:57:16] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:57:16] [INFO] [ImpactEffects] spawn_blood_effect called at (686.4084, 753.9312), dir=(1, 0), lethal=false
[18:57:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:16] [INFO] [ImpactEffects] Blood effect spawned at (686.4084, 753.9312) (scale=1)
[18:57:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(469,729), corner_timer=-0.01
[18:57:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(469,729), corner_timer=-0.01
[18:57:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[18:57:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(472,730), corner_timer=0.30
[18:57:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(472,730), corner_timer=0.30
[18:57:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(683.449, 757.0046), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.2667, 732.3592), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:16] [INFO] [LastChance] Threat detected: Bullet
[18:57:16] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:57:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:16] [INFO] [Player] Spawning blood effect at (488.06638, 739.30786), dir=(1, 0), lethal=False (C#)
[18:57:16] [INFO] [ImpactEffects] spawn_blood_effect called at (488.0664, 739.3079), dir=(1, 0), lethal=false
[18:57:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:16] [INFO] [ImpactEffects] Blood effect spawned at (488.0664, 739.3079) (scale=1)
[18:57:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:16] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:16] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:16] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[18:57:16] [INFO] [ImpactEffects] spawn_blood_effect called at (676.0503, 764.6884), dir=(1, 0), lethal=false
[18:57:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:16] [INFO] [ImpactEffects] Blood effect spawned at (676.0503, 764.6884) (scale=1)
[18:57:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:57:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.0503, 764.6884), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:16] [INFO] [LastChance] Threat detected: @Area2D@12030
[18:57:16] [INFO] [LastChance] Triggering last chance effect!
[18:57:16] [INFO] [LastChance] Starting last chance effect:
[18:57:16] [INFO] [LastChance]   - Time will be frozen (except player)
[18:57:16] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:57:16] [INFO] [LastChance]   - Trigger: threat detected
[18:57:16] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:57:16] [INFO] [LastChance]   - Brightness: 0.60
[18:57:16] [INFO] [LastChance] Pushed bullet @Area2D@12030 from distance 119.8 to 200.0
[18:57:16] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:57:16] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:57:16] [INFO] [LastChance] Skipping player node: Player
[18:57:16] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:57:16] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12016
[18:57:16] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12018
[18:57:16] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12021
[18:57:16] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12027
[18:57:16] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:57:16] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:57:16] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:57:16] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[18:57:16] [INFO] [LastChance] Registered frozen player bullet: Bullet
[18:57:16] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:16] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:16] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12033
[18:57:16] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12033
[18:57:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(502.9426, 752.5921), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (776.6401, 770.2913) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (766.448, 750.2039) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (750.3387, 756.3548) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (785.4691, 803.0489) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (544.4747, 727.4667) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (775.7288, 742.5462) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (802.2364, 746.921) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (578.8558, 810.2811) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (796.8112, 809.9014) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (788.6728, 752.1923) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (750.3926, 798.9364) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (844.4631, 839.3081) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (541.1388, 742.514) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (552.3614, 764.9827) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (572.6567, 718.6725) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (576.271, 807.5663) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (551.2016, 779.5307) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (873.2048, 824.3766) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (774.2526, 771.7299) (added to group)
[18:57:16] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (579.8698, 742.8792) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (542.7947, 784.0474) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (762.9512, 801.4661) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (749.6395, 796.212) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (855.7611, 794.3572) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (621.5089, 834.9192) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (596.9697, 841.9427) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (569.1008, 819.4537) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (613.6816, 754.4693) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (803.7225, 785.3048) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (827.2034, 783.8419) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (841.38, 815.2284) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (812.5792, 832.6627) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (827.1425, 833.1594) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (587.7982, 762.1612) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (834.2261, 799.4236) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (874.3109, 795.0665) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (622.2606, 862.9831) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (580.1633, 811.2523) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (571.3665, 821.7247) (added to group)
[18:57:16] [INFO] [BloodDecal] Blood puddle created at (893.3701, 874.583) (added to group)
[18:57:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:57:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:57:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:57:16] [INFO] [LastChance] All process modes restored
[18:57:16] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:57:16] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:57:16] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:57:16] [ENEMY] [Enemy1] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:57:16] [ENEMY] [Enemy2] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:57:16] [ENEMY] [Enemy3] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:57:16] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:16] [ENEMY] [Enemy4] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:57:16] [ENEMY] [Enemy5] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:57:16] [ENEMY] [Enemy6] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:57:16] [ENEMY] [Enemy7] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:57:16] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:16] [ENEMY] [Enemy8] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:57:16] [ENEMY] [Enemy9] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:57:16] [ENEMY] [Enemy10] Death animation component initialized
[18:57:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:16] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:57:16] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:57:16] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:57:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:57:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:57:16] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:57:16] [INFO] [Player.Weapon] Removed default MakarovPM
[18:57:16] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:57:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:57:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:57:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:57:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:57:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:57:16] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:57:16] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:57:16] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:57:16] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:57:16] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:57:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[18:57:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:57:16] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:57:16] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:57:16] [INFO] [BuildingLevel] Setting up weapon: m16
[18:57:16] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:57:16] [INFO] [ScoreManager] Level started with 10 enemies
[18:57:16] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:57:16] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:57:16] [INFO] [ReplayManager] Replay data cleared
[18:57:16] [INFO] [BuildingLevel] Previous replay data cleared
[18:57:16] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:57:16] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:57:16] [INFO] [ReplayManager] Level: BuildingLevel
[18:57:16] [INFO] [ReplayManager] Player: Player (valid: True)
[18:57:16] [INFO] [ReplayManager] Enemies count: 10
[18:57:16] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:57:16] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:57:16] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:57:16] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:57:16] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:57:16] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:57:16] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:57:16] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:57:16] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:57:16] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:57:16] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:57:16] [INFO] [BuildingLevel] Replay recording started successfully
[18:57:16] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:57:16] [INFO] [CinemaEffects] Found player node: Player
[18:57:16] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:57:16] [ENEMY] [Enemy1] Registered as sound listener
[18:57:16] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:57:16] [ENEMY] [Enemy2] Registered as sound listener
[18:57:16] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:57:16] [ENEMY] [Enemy3] Registered as sound listener
[18:57:16] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:57:16] [ENEMY] [Enemy4] Registered as sound listener
[18:57:16] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:57:16] [ENEMY] [Enemy5] Registered as sound listener
[18:57:16] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:57:16] [ENEMY] [Enemy6] Registered as sound listener
[18:57:16] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:57:16] [ENEMY] [Enemy7] Registered as sound listener
[18:57:16] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:57:16] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:57:16] [ENEMY] [Enemy8] Registered as sound listener
[18:57:16] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:57:16] [ENEMY] [Enemy9] Registered as sound listener
[18:57:16] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[18:57:16] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:57:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:57:16] [ENEMY] [Enemy10] Registered as sound listener
[18:57:16] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:57:16] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:57:17] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:57:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:57:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:57:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:57:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:57:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:57:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:57:17] [INFO] [LastChance] Found player: Player
[18:57:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:57:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:57:17] [INFO] [LastChance] Connected to player Died signal (C#)
[18:57:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:57:17] [INFO] [BloodDecal] Blood puddle created at (640.5783, 840.1819) (added to group)
[18:57:17] [INFO] [BloodDecal] Blood puddle created at (683.8384, 772.6857) (added to group)
[18:57:17] [INFO] [BloodDecal] Blood puddle created at (873.1168, 814.342) (added to group)
[18:57:17] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:57:18] [ENEMY] [Enemy3] Status: BLINDED applied
[18:57:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:18] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:57:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.3806, 783.0801), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:57:18] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:57:18] [ENEMY] [Enemy1] Heard gunshot at (445.3806, 783.0801), source_type=0, intensity=0.01, distance=457
[18:57:18] [ENEMY] [Enemy2] Heard gunshot at (445.3806, 783.0801), source_type=0, intensity=0.04, distance=237
[18:57:18] [ENEMY] [Enemy3] Heard gunshot at (445.3806, 783.0801), source_type=0, intensity=0.04, distance=257
[18:57:18] [ENEMY] [Enemy4] Heard gunshot at (445.3806, 783.0801), source_type=0, intensity=0.02, distance=373
[18:57:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:18] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.4°, current=-157.5°, player=(445,783), corner_timer=0.00
[18:57:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=79.0°, current=168.8°, player=(445,783), corner_timer=0.00
[18:57:18] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.6°, current=11.3°, player=(445,783), corner_timer=0.00
[18:57:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.8°, current=-101.3°, player=(445,783), corner_timer=0.00
[18:57:18] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(445,783), corner_timer=0.30
[18:57:18] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(445,783), corner_timer=0.30
[18:57:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[18:57:18] [INFO] [ImpactEffects] spawn_blood_effect called at (684.1086, 751.8546), dir=(1, 0), lethal=false
[18:57:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:18] [INFO] [ImpactEffects] Blood effect spawned at (684.1086, 751.8546) (scale=1)
[18:57:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.0351, 758.1621), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:18] [ENEMY] [Enemy3] Status: BLINDED removed
[18:57:18] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=179.2°, current=179.3°, player=(428,755), corner_timer=0.00
[18:57:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[18:57:18] [INFO] [ImpactEffects] spawn_blood_effect called at (684.1086, 751.8546), dir=(1, 0), lethal=true
[18:57:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:57:18] [INFO] [ImpactEffects] Blood effect spawned at (684.1086, 751.8546) (scale=1.5)
[18:57:18] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[18:57:18] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[18:57:18] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[18:57:18] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[18:57:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:57:18] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[18:57:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.607, 740.7949), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:57:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.5183, 734.7295), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:57:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(376,734), corner_timer=-0.01
[18:57:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.0°, player=(376,734), corner_timer=-0.01
[18:57:18] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[18:57:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(372,734), corner_timer=0.30
[18:57:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=53.9°, player=(372,734), corner_timer=0.30
[18:57:18] [INFO] [BloodDecal] Blood puddle created at (759.1595, 731.3467) (added to group)
[18:57:18] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[18:57:18] [INFO] [BloodDecal] Blood puddle created at (746.3569, 772.5542) (added to group)
[18:57:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(407.607, 740.7949), shooter_id=7767163145934, bullet_pos=(926.2449, 735.3274)
[18:57:18] [INFO] [Bullet] Using shooter_position, distance=518,6667
[18:57:18] [INFO] [Bullet] Distance to wall: 518,6667 (35,31697% of viewport)
[18:57:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:18] [INFO] [Bullet] Starting wall penetration at (926.2449, 735.3274)
[18:57:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,577639
[18:57:18] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:18] [INFO] [Bullet] Exiting penetration at (964.57605, 734.9233) after traveling 33,333336 pixels through wall
[18:57:18] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.3094, 734.7295), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (767.9521, 785.6179) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (748.4399, 789.9543) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (753.8564, 753.3013) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (765.0573, 795.9592) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (819.0411, 822.5108) (added to group)
[18:57:19] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[18:57:19] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[18:57:19] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[18:57:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(376.51828, 734.7295), shooter_id=7767163145934, bullet_pos=(928.4906, 740.2785)
[18:57:19] [INFO] [Bullet] Using shooter_position, distance=552,0002
[18:57:19] [INFO] [Bullet] Distance to wall: 552,0002 (37,586708% of viewport)
[18:57:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (836.844, 764.1367) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (810.3671, 778.6187) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (775.5303, 794.1487) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (785.3241, 808.0327) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (807.557, 824.319) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (777.046, 817.9189) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (783.6765, 778.0891) (added to group)
[18:57:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.30942, 734.7295), shooter_id=7767163145934, bullet_pos=(928.431, 750.4846)
[18:57:19] [INFO] [Bullet] Using shooter_position, distance=585,3337
[18:57:19] [INFO] [Bullet] Distance to wall: 585,3337 (39,85645% of viewport)
[18:57:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:19] [INFO] [Bullet] Starting wall penetration at (928.431, 750.4846)
[18:57:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.7°, player=(315,734), corner_timer=-0.01
[18:57:19] [ENEMY] [Enemy10] PATROL corner check: angle 7.5°
[18:57:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,761635
[18:57:19] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:19] [INFO] [Bullet] Exiting penetration at (966.7505, 751.5164) after traveling 33,333336 pixels through wall
[18:57:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.5°, current=16.7°, player=(315,734), corner_timer=0.30
[18:57:19] [ENEMY] [Enemy3] Ragdoll activated
[18:57:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (837.2782, 855.2377) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (790.852, 775.5161) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (804.6949, 754.3876) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (831.1296, 825.4738) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (886.5229, 818.3881) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (867.7197, 872.8525) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (840.8499, 810.2246) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (851.1682, 783.6101) (added to group)
[18:57:19] [INFO] [BloodDecal] Blood puddle created at (815.337, 814.692) (added to group)
[18:57:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.4°, player=(373,734), corner_timer=-0.01
[18:57:19] [ENEMY] [Enemy10] PATROL corner check: angle 3.9°
[18:57:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.9°, current=9.6°, player=(378,734), corner_timer=0.30
[18:57:19] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[18:57:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(479,734), corner_timer=-0.01
[18:57:20] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[18:57:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(483,734), corner_timer=0.30
[18:57:20] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.2°, current=58.2°, player=(519,734), corner_timer=0.00
[18:57:20] [ENEMY] [Enemy2] Status: BLINDED applied
[18:57:20] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=53.5°, current=54.4°, player=(536,734), corner_timer=0.00
[18:57:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.3405, 734.7295), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:57:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[18:57:20] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[18:57:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:20] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:57:20] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[18:57:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(585,734), corner_timer=-0.01
[18:57:20] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[18:57:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.5406, 734.7295), source=PLAYER (AssaultRifle), range=1469, listeners=9
[18:57:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[18:57:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(589,734), corner_timer=0.30
[18:57:20] [ENEMY] [Enemy2] Status: BLINDED removed
[18:57:20] [ENEMY] [Enemy3] Death animation completed
[18:57:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[18:57:20] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=true
[18:57:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[18:57:20] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[18:57:20] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[18:57:20] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[18:57:20] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[18:57:20] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[18:57:20] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[18:57:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[18:57:20] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[18:57:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.5523, 741.6403), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:57:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(644.2674, 758.1494), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (439.9442, 560.2764) (added to group)
[18:57:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.5523, 741.64026), shooter_id=7767163145934, bullet_pos=(263.71118, 465.49927)
[18:57:20] [INFO] [Bullet] Using shooter_position, distance=452,00015
[18:57:20] [INFO] [Bullet] Distance to wall: 452,00015 (30,777523% of viewport)
[18:57:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(655,778), corner_timer=-0.01
[18:57:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:57:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.7124, 781.4095), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:57:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(655,781), corner_timer=0.30
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (485.3214, 573.2985) (added to group)
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (468.1552, 594.0867) (added to group)
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (461.77, 548.7825) (added to group)
[18:57:20] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[18:57:20] [INFO] [BloodDecal] Blood puddle created at (486.9743, 583.8089) (added to group)
[18:57:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.2674, 758.1494), shooter_id=7767163145934, bullet_pos=(260.78986, 460.67096)
[18:57:20] [INFO] [Bullet] Using shooter_position, distance=485,3333
[18:57:20] [INFO] [Bullet] Distance to wall: 485,3333 (33,047237% of viewport)
[18:57:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.5523, 741.64026), shooter_id=7767163145934, bullet_pos=(51.822723, 661.0484)
[18:57:20] [INFO] [Bullet] Using shooter_position, distance=575,4015
[18:57:20] [INFO] [Bullet] Distance to wall: 575,4015 (39,18015% of viewport)
[18:57:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:21] [ENEMY] [Enemy1] PURSUING corner check: angle -41.0°
[18:57:21] [ENEMY] [Enemy4] PURSUING corner check: angle -37.8°
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (475.2963, 619.3843) (added to group)
[18:57:21] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[18:57:21] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-41.0°, current=-70.9°, player=(651,811), corner_timer=0.29
[18:57:21] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (488.5529, 650.9152) (added to group)
[18:57:21] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:21] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[18:57:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.7124, 781.40955), shooter_id=7767163145934, bullet_pos=(326.14526, 472.07208)
[18:57:21] [INFO] [Bullet] Using shooter_position, distance=452,00018
[18:57:21] [INFO] [Bullet] Distance to wall: 452,00018 (30,777527% of viewport)
[18:57:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:21] [INFO] [Bullet] Starting wall penetration at (326.14526, 472.07208)
[18:57:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:21] [INFO] [Bullet] Exiting penetration at (298.19525, 445.8377) after traveling 33,333336 pixels through wall
[18:57:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (494.9253, 607.3251) (added to group)
[18:57:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.2674, 758.1494), shooter_id=7767163145934, bullet_pos=(57.09633, 622.2534)
[18:57:21] [INFO] [Bullet] Using shooter_position, distance=602,69196
[18:57:21] [INFO] [Bullet] Distance to wall: 602,69196 (41,038406% of viewport)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (478.9418, 617.6339) (added to group)
[18:57:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.0°, player=(635,833), corner_timer=-0.01
[18:57:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[18:57:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(644.2674, 758.1494), shooter_id=7767163145934, bullet_pos=(132.02226, 690.47766)
[18:57:21] [INFO] [Bullet] Using shooter_position, distance=516,6958
[18:57:21] [INFO] [Bullet] Distance to wall: 516,6958 (35,18277% of viewport)
[18:57:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.3°, player=(631,836), corner_timer=0.30
[18:57:21] [ENEMY] [Enemy2] Ragdoll activated
[18:57:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (606.0031, 666.0458) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (539.9698, 623.0954) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (526.0066, 634.322) (added to group)
[18:57:21] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-152.5°, current=-128.3°, player=(616,851), corner_timer=0.11
[18:57:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(735.7384, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[18:57:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:57:21] [INFO] [LastChance] Threat detected: @Area2D@12423
[18:57:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:57:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:21] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[18:57:21] [INFO] [Player] Spawning blood effect at (607.03375, 861.20306), dir=(1, 0), lethal=False (C#)
[18:57:21] [INFO] [ImpactEffects] spawn_blood_effect called at (607.0338, 861.2031), dir=(1, 0), lethal=false
[18:57:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:21] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 861.2031) (dist=72 px)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (679, 861.2031) (added to group)
[18:57:21] [INFO] [ImpactEffects] Blood effect spawned at (607.0338, 861.2031) (scale=1)
[18:57:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[18:57:21] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (512.1455, 659.3021) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (554.7125, 645.0296) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (520.3082, 674.9967) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (561.8586, 666.0906) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (575.0695, 645.0228) (added to group)
[18:57:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.9772, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[18:57:21] [INFO] [LastChance] Threat detected: @Area2D@12433
[18:57:21] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[18:57:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.3407, 886.1749), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:57:21] [INFO] [Player] Spawning blood effect at (582.3407, 886.17487), dir=(1, 0), lethal=False (C#)
[18:57:21] [INFO] [ImpactEffects] spawn_blood_effect called at (582.3407, 886.1749), dir=(1, 0), lethal=false
[18:57:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:21] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 886.1749) (dist=97 px)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (679, 886.1749) (added to group)
[18:57:21] [INFO] [ImpactEffects] Blood effect spawned at (582.3407, 886.1749) (scale=1)
[18:57:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:21] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:21] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.3407, 886.17487), shooter_id=7767163145934, bullet_pos=(696.045, 852.21735)
[18:57:21] [INFO] [Bullet] Using shooter_position, distance=118,666664
[18:57:21] [INFO] [Bullet] Distance to wall: 118,666664 (8,080232% of viewport)
[18:57:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:21] [INFO] [Bullet] Starting wall penetration at (696.045, 852.21735)
[18:57:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[18:57:21] [INFO] [Bullet] Exiting penetration at (732.77527, 841.2479) after traveling 33,333336 pixels through wall
[18:57:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (623.1218, 663.6646) (added to group)
[18:57:21] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(723.9772, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[18:57:21] [INFO] [LastChance] Threat detected: Bullet
[18:57:21] [INFO] [LastChance] Triggering last chance effect!
[18:57:21] [INFO] [LastChance] Starting last chance effect:
[18:57:21] [INFO] [LastChance]   - Time will be frozen (except player)
[18:57:21] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:57:21] [INFO] [LastChance]   - Trigger: threat detected
[18:57:21] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:57:21] [INFO] [LastChance]   - Brightness: 0.60
[18:57:21] [INFO] [LastChance] Pushed bullet Bullet from distance 88.0 to 200.0
[18:57:21] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:57:21] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:57:21] [INFO] [LastChance] Skipping player node: Player
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12330
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12333
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12336
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12341
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12376
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12379
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12383
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12386
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12391
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12424
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12435
[18:57:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12439
[18:57:21] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:57:21] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:57:21] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:57:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12451
[18:57:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12451
[18:57:21] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12453
[18:57:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12453
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.4601, 910.8111), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (658.996, 897.9662) (added to group)
[18:57:21] [ENEMY] [Enemy4] Status: BLINDED applied
[18:57:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12458
[18:57:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12458
[18:57:21] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12460
[18:57:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12460
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.2372, 943.8477), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (664.2749, 909.049) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (657.517, 893.1306) (added to group)
[18:57:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12466
[18:57:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12466
[18:57:21] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12468
[18:57:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12468
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.2372, 979.0479), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (662.3732, 888.5818) (added to group)
[18:57:21] [ENEMY] [Enemy4] Status: BLINDED removed
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (704.2817, 898.3824) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (699.0215, 920.7788) (added to group)
[18:57:21] [INFO] [ReplayManager] Recording frame 300 (4,3s): player_valid=True, enemies=10
[18:57:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12473
[18:57:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12473
[18:57:21] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12474
[18:57:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12474
[18:57:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.2372, 983.9839), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (729.7904, 947.1819) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (702.305, 981.0383) (added to group)
[18:57:21] [INFO] [BloodDecal] Blood puddle created at (711.9504, 981.784) (added to group)
[18:57:22] [INFO] [BloodDecal] Blood puddle created at (794.3808, 964.0052) (added to group)
[18:57:22] [INFO] [BloodDecal] Blood puddle created at (781.5674, 952.5844) (added to group)
[18:57:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12480
[18:57:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12480
[18:57:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12482
[18:57:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12482
[18:57:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.2372, 977.9584), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[18:57:22] [INFO] [BloodDecal] Blood puddle created at (713.9314, 991.8213) (added to group)
[18:57:22] [INFO] [BloodDecal] Blood puddle created at (747.5161, 951.8351) (added to group)
[18:57:22] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[18:57:22] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[18:57:23] [INFO] [ReplayManager] Recording frame 420 (6,0s): player_valid=True, enemies=10
[18:57:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12492
[18:57:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12492
[18:57:24] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12493
[18:57:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12493
[18:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.3526, 471.1876), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[18:57:24] [ENEMY] [Enemy1] Status: BLINDED applied
[18:57:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12494
[18:57:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12494
[18:57:24] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12496
[18:57:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12496
[18:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.3526, 432.6876), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[18:57:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12497
[18:57:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12497
[18:57:24] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12499
[18:57:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12499
[18:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.3526, 394.1876), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[18:57:24] [ENEMY] [Enemy1] Status: BLINDED removed
[18:57:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12500
[18:57:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12500
[18:57:24] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12502
[18:57:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12502
[18:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.3526, 355.6876), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[18:57:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12503
[18:57:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12503
[18:57:24] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@12504
[18:57:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@12504
[18:57:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.3526, 317.1876), source=PLAYER (AssaultRifle), range=1469, listeners=8
[18:57:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[18:57:24] [INFO] [ReplayManager] Recording frame 480 (7,0s): player_valid=True, enemies=10
[18:57:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:57:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:57:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:57:25] [INFO] [LastChance] All process modes restored
[18:57:25] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:57:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:57:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:57:25] [ENEMY] [Enemy1] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:57:25] [ENEMY] [Enemy2] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:57:25] [ENEMY] [Enemy3] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:57:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:25] [ENEMY] [Enemy4] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:57:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:25] [ENEMY] [Enemy5] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:57:25] [ENEMY] [Enemy6] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:57:25] [ENEMY] [Enemy7] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:57:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:25] [ENEMY] [Enemy8] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:57:25] [ENEMY] [Enemy9] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:57:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:25] [ENEMY] [Enemy10] Death animation component initialized
[18:57:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:57:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:57:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:57:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:57:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:57:25] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:57:25] [INFO] [Player.Weapon] Removed default MakarovPM
[18:57:25] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:57:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:57:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:57:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:57:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:57:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[18:57:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:57:25] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:57:25] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:57:25] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:57:25] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:57:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:57:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:57:25] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:57:25] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:57:25] [INFO] [BuildingLevel] Setting up weapon: m16
[18:57:25] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:57:25] [INFO] [ScoreManager] Level started with 10 enemies
[18:57:25] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:57:25] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:57:25] [INFO] [ReplayManager] Replay data cleared
[18:57:25] [INFO] [BuildingLevel] Previous replay data cleared
[18:57:25] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:57:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:57:25] [INFO] [ReplayManager] Level: BuildingLevel
[18:57:25] [INFO] [ReplayManager] Player: Player (valid: True)
[18:57:25] [INFO] [ReplayManager] Enemies count: 10
[18:57:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:57:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:57:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:57:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:57:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:57:25] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:57:25] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:57:25] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:57:25] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:57:25] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:57:25] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:57:25] [INFO] [BuildingLevel] Replay recording started successfully
[18:57:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:57:25] [INFO] [CinemaEffects] Found player node: Player
[18:57:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[18:57:25] [ENEMY] [Enemy1] Registered as sound listener
[18:57:25] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[18:57:25] [ENEMY] [Enemy2] Registered as sound listener
[18:57:25] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[18:57:25] [ENEMY] [Enemy3] Registered as sound listener
[18:57:25] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[18:57:25] [ENEMY] [Enemy4] Registered as sound listener
[18:57:25] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[18:57:25] [ENEMY] [Enemy5] Registered as sound listener
[18:57:25] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[18:57:25] [ENEMY] [Enemy6] Registered as sound listener
[18:57:25] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[18:57:25] [ENEMY] [Enemy7] Registered as sound listener
[18:57:25] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[18:57:25] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[18:57:25] [ENEMY] [Enemy8] Registered as sound listener
[18:57:25] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[18:57:25] [ENEMY] [Enemy9] Registered as sound listener
[18:57:25] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[18:57:25] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:57:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[18:57:25] [ENEMY] [Enemy10] Registered as sound listener
[18:57:25] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[18:57:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:57:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:57:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[18:57:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:57:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:57:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:57:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:57:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:57:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:57:25] [INFO] [LastChance] Found player: Player
[18:57:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:57:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:57:25] [INFO] [LastChance] Connected to player Died signal (C#)
[18:57:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:57:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:57:26] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:26] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:57:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1092), corner_timer=0.30
[18:57:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1092), corner_timer=0.30
[18:57:27] [INFO] [Player.Debug] Debug mode toggled: ON
[18:57:27] [INFO] [ExperimentalSettings] Debug mode enabled
[18:57:27] [INFO] [GameManager] Debug mode toggled: ON
[18:57:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1092), corner_timer=-0.02
[18:57:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1092), corner_timer=-0.02
[18:57:27] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:57:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1092), corner_timer=0.30
[18:57:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1092), corner_timer=0.30
[18:57:27] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:57:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1066), corner_timer=-0.02
[18:57:27] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[18:57:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1062), corner_timer=0.30
[18:57:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,959), corner_timer=-0.02
[18:57:27] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[18:57:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,953), corner_timer=0.30
[18:57:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,849), corner_timer=-0.02
[18:57:28] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[18:57:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,843), corner_timer=0.30
[18:57:28] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[18:57:28] [ENEMY] [Enemy3] Status: BLINDED applied
[18:57:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,744), corner_timer=-0.02
[18:57:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[18:57:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,741), corner_timer=0.30
[18:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 738.1111), source=PLAYER (AssaultRifle), range=1469, listeners=18
[18:57:28] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[18:57:28] [ENEMY] [Enemy1] Heard gunshot at (450, 738.1111), source_type=0, intensity=0.01, distance=416
[18:57:28] [ENEMY] [Enemy2] Heard gunshot at (450, 738.1111), source_type=0, intensity=0.07, distance=195
[18:57:28] [ENEMY] [Enemy3] Heard gunshot at (450, 738.1111), source_type=0, intensity=0.04, distance=250
[18:57:28] [ENEMY] [Enemy4] Heard gunshot at (450, 738.1111), source_type=0, intensity=0.02, distance=386
[18:57:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=68.9°, current=-157.5°, player=(450,738), corner_timer=0.00
[18:57:28] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.1°, current=-157.5°, player=(450,738), corner_timer=0.00
[18:57:28] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-177.3°, current=-123.8°, player=(450,738), corner_timer=0.00
[18:57:28] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-155.2°, current=-67.5°, player=(450,738), corner_timer=0.00
[18:57:28] [ENEMY] [Enemy3] Status: BLINDED removed
[18:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 728.002), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 738.1111), shooter_id=7907689105532, bullet_pos=(916.42676, 692.34265)
[18:57:28] [INFO] [Bullet] Using shooter_position, distance=468,6669
[18:57:28] [INFO] [Bullet] Distance to wall: 468,6669 (31,912392% of viewport)
[18:57:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:28] [INFO] [Bullet] Starting wall penetration at (916.42676, 692.34265)
[18:57:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,999413
[18:57:28] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:28] [INFO] [Bullet] Exiting penetration at (962.87036, 687.78534) after traveling 41,666668 pixels through wall
[18:57:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 738.1111), shooter_id=7907689105532, bullet_pos=(962.87036, 687.78534)
[18:57:28] [INFO] [Bullet] Using shooter_position, distance=515,33356
[18:57:28] [INFO] [Bullet] Distance to wall: 515,33356 (35,09001% of viewport)
[18:57:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 728.002), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:57:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 728.002), shooter_id=7907689105532, bullet_pos=(918.66064, 730.4357)
[18:57:28] [INFO] [Bullet] Using shooter_position, distance=468,66696
[18:57:28] [INFO] [Bullet] Distance to wall: 468,66696 (31,912395% of viewport)
[18:57:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:28] [INFO] [Bullet] Starting wall penetration at (918.66064, 730.4357)
[18:57:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[18:57:28] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3453, 749.4933), dir=(1, 0), lethal=false
[18:57:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:28] [INFO] [ImpactEffects] Blood effect spawned at (689.3453, 749.4933) (scale=1)
[18:57:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=RETREATING, target=-174.9°, current=180.0°, player=(450,728), corner_timer=0.00
[18:57:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,327055
[18:57:29] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:29] [INFO] [Bullet] Exiting penetration at (965.32666, 730.67804) after traveling 41,666668 pixels through wall
[18:57:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[18:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 728.002), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.1702, 757.0952), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(764.1602, 913.8795), source=ENEMY (Enemy4), range=1469, listeners=10
[18:57:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[18:57:29] [INFO] [LastChance] Threat detected: @Area2D@12768
[18:57:29] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:57:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:29] [INFO] [Player] Spawning blood effect at (450, 728.002), dir=(1, 0), lethal=False (C#)
[18:57:29] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 728.002), dir=(1, 0), lethal=false
[18:57:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:29] [INFO] [ImpactEffects] Blood effect spawned at (450, 728.002) (scale=1)
[18:57:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:29] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(696.61163, 905.6459), shooter_id=7904685986320, bullet_pos=(502.1284, 858.995)
[18:57:29] [INFO] [Bullet] Using shooter_position, distance=200,00009
[18:57:29] [INFO] [Bullet] Distance to wall: 200,00009 (13,618374% of viewport)
[18:57:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:29] [INFO] [Bullet] Starting wall penetration at (502.1284, 858.995)
[18:57:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,14458
[18:57:29] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:29] [INFO] [Bullet] Exiting penetration at (464.85245, 850.0536) after traveling 33,333336 pixels through wall
[18:57:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.7698, 774.4712), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.3691, 914.0652), source=ENEMY (Enemy4), range=1469, listeners=10
[18:57:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 728.002), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:29] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:29] [INFO] [LastChance] Threat detected: @Area2D@12776
[18:57:29] [INFO] [LastChance] Triggering last chance effect!
[18:57:29] [INFO] [LastChance] Starting last chance effect:
[18:57:29] [INFO] [LastChance]   - Time will be frozen (except player)
[18:57:29] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:57:29] [INFO] [LastChance]   - Trigger: threat detected
[18:57:29] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:57:29] [INFO] [LastChance]   - Brightness: 0.60
[18:57:29] [INFO] [LastChance] Pushed bullet @Area2D@12783 from distance 52.0 to 200.0
[18:57:29] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:57:29] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:57:29] [INFO] [LastChance] Skipping player node: Player
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12760
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12764
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12767
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12772
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12781
[18:57:29] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@12785
[18:57:29] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:57:29] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:57:29] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (754.3321, 776.4284) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (747.2043, 764.1295) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (773.1312, 791.3413) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (818.0009, 762.2802) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (804.0026, 751.9683) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (490.8495, 737.2402) (added to group)
[18:57:29] [INFO] [ReplayManager] Recording frame 240 (3,9s): player_valid=True, enemies=10
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (816.7095, 804.3568) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (497.8506, 775.8367) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (558.621, 760.7695) (added to group)
[18:57:29] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (810.0082, 786.9504) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (547.4742, 749.7598) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (570.7802, 829.8137) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (608.8328, 839.4905) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (601.2728, 753.9765) (added to group)
[18:57:29] [INFO] [BloodDecal] Blood puddle created at (596.9991, 746.3568) (added to group)
[18:57:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[18:57:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[18:57:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[18:57:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[18:57:29] [INFO] [LastChance] All process modes restored
[18:57:29] [INFO] [LastChance] Restored original colors to 5 player sprites
[18:57:29] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[18:57:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[18:57:29] [ENEMY] [Enemy1] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[18:57:29] [ENEMY] [Enemy2] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[18:57:29] [ENEMY] [Enemy3] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[18:57:29] [ENEMY] [Enemy4] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[18:57:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:29] [ENEMY] [Enemy5] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[18:57:29] [ENEMY] [Enemy6] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[18:57:29] [ENEMY] [Enemy7] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[18:57:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:29] [ENEMY] [Enemy8] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[18:57:29] [ENEMY] [Enemy9] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[18:57:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[18:57:29] [ENEMY] [Enemy10] Death animation component initialized
[18:57:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[18:57:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[18:57:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[18:57:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[18:57:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[18:57:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[18:57:29] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[18:57:29] [INFO] [Player.Weapon] Removed default MakarovPM
[18:57:29] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[18:57:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[18:57:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[18:57:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[18:57:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[18:57:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[18:57:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[18:57:29] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[18:57:29] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[18:57:29] [INFO] [FlashlightEffect] Flashlight sound loaded
[18:57:29] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[18:57:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[18:57:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[18:57:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[18:57:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[18:57:29] [INFO] [BuildingLevel] Setting up weapon: m16
[18:57:29] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[18:57:29] [INFO] [ScoreManager] Level started with 10 enemies
[18:57:29] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[18:57:29] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[18:57:29] [INFO] [ReplayManager] Replay data cleared
[18:57:29] [INFO] [BuildingLevel] Previous replay data cleared
[18:57:29] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[18:57:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[18:57:29] [INFO] [ReplayManager] Level: BuildingLevel
[18:57:29] [INFO] [ReplayManager] Player: Player (valid: True)
[18:57:29] [INFO] [ReplayManager] Enemies count: 10
[18:57:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[18:57:29] [INFO] [ReplayManager]   Enemy 0: Enemy1
[18:57:29] [INFO] [ReplayManager]   Enemy 1: Enemy2
[18:57:29] [INFO] [ReplayManager]   Enemy 2: Enemy3
[18:57:29] [INFO] [ReplayManager]   Enemy 3: Enemy4
[18:57:29] [INFO] [ReplayManager]   Enemy 4: Enemy5
[18:57:29] [INFO] [ReplayManager]   Enemy 5: Enemy6
[18:57:29] [INFO] [ReplayManager]   Enemy 6: Enemy7
[18:57:29] [INFO] [ReplayManager]   Enemy 7: Enemy8
[18:57:29] [INFO] [ReplayManager]   Enemy 8: Enemy9
[18:57:29] [INFO] [ReplayManager]   Enemy 9: Enemy10
[18:57:29] [INFO] [BuildingLevel] Replay recording started successfully
[18:57:29] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[18:57:29] [INFO] [CinemaEffects] Found player node: Player
[18:57:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[18:57:29] [ENEMY] [Enemy1] Registered as sound listener
[18:57:29] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[18:57:29] [ENEMY] [Enemy2] Registered as sound listener
[18:57:29] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[18:57:29] [ENEMY] [Enemy3] Registered as sound listener
[18:57:29] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[18:57:29] [ENEMY] [Enemy4] Registered as sound listener
[18:57:29] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[18:57:29] [ENEMY] [Enemy5] Registered as sound listener
[18:57:29] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[18:57:29] [ENEMY] [Enemy6] Registered as sound listener
[18:57:29] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[18:57:29] [ENEMY] [Enemy7] Registered as sound listener
[18:57:29] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[18:57:29] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[18:57:29] [ENEMY] [Enemy8] Registered as sound listener
[18:57:29] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[18:57:29] [ENEMY] [Enemy9] Registered as sound listener
[18:57:29] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[18:57:29] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[18:57:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[18:57:29] [ENEMY] [Enemy10] Registered as sound listener
[18:57:29] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[18:57:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[18:57:30] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[18:57:30] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[18:57:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[18:57:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[18:57:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[18:57:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[18:57:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[18:57:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[18:57:30] [INFO] [LastChance] Found player: Player
[18:57:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[18:57:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[18:57:30] [INFO] [LastChance] Connected to player Died signal (C#)
[18:57:30] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[18:57:30] [INFO] [BloodDecal] Blood puddle created at (637.4567, 898.0688) (added to group)
[18:57:30] [INFO] [BloodDecal] Blood puddle created at (576.9303, 782.5078) (added to group)
[18:57:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[18:57:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:31] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[18:57:31] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[18:57:31] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 767.4443), source=PLAYER (AssaultRifle), range=1469, listeners=20
[18:57:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[18:57:31] [ENEMY] [Enemy1] Heard gunshot at (450, 767.4443), source_type=0, intensity=0.01, distance=444
[18:57:31] [ENEMY] [Enemy2] Heard gunshot at (450, 767.4443), source_type=0, intensity=0.05, distance=223
[18:57:31] [ENEMY] [Enemy3] Heard gunshot at (450, 767.4443), source_type=0, intensity=0.04, distance=251
[18:57:31] [ENEMY] [Enemy4] Heard gunshot at (450, 767.4443), source_type=0, intensity=0.02, distance=374
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:31] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.2°, current=-33.8°, player=(450,767), corner_timer=0.00
[18:57:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.1°, current=-157.5°, player=(450,767), corner_timer=0.00
[18:57:31] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=176.0°, current=-78.7°, player=(450,767), corner_timer=0.00
[18:57:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.3°, current=-67.5°, player=(450,767), corner_timer=0.00
[18:57:31] [ENEMY] [Enemy3] Status: BLINDED applied
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 746.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 767.44434), shooter_id=8586562374621, bullet_pos=(917.27185, 803.5788)
[18:57:31] [INFO] [Bullet] Using shooter_position, distance=468,66693
[18:57:31] [INFO] [Bullet] Distance to wall: 468,66693 (31,912395% of viewport)
[18:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:31] [INFO] [Bullet] Starting wall penetration at (917.27185, 803.5788)
[18:57:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,882616
[18:57:31] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:31] [INFO] [Bullet] Exiting penetration at (963.7996, 807.1768) after traveling 41,666668 pixels through wall
[18:57:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 736.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:31] [ENEMY] [Enemy3] Status: BLINDED removed
[18:57:31] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.4°, current=136.2°, player=(450,735), corner_timer=0.00
[18:57:31] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[18:57:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 746.9444), shooter_id=8586562374621, bullet_pos=(915.4148, 802.06055)
[18:57:31] [INFO] [Bullet] Using shooter_position, distance=468,66696
[18:57:31] [INFO] [Bullet] Distance to wall: 468,66696 (31,912395% of viewport)
[18:57:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[18:57:31] [INFO] [Bullet] Starting wall penetration at (915.4148, 802.06055)
[18:57:31] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[18:57:31] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3593, 750.7424), dir=(1, 0), lethal=false
[18:57:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:31] [INFO] [ImpactEffects] Blood effect spawned at (689.3593, 750.7424) (scale=1)
[18:57:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,734), corner_timer=-0.02
[18:57:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[18:57:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,734), corner_timer=-0.02
[18:57:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[18:57:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,937674
[18:57:31] [INFO] [Bullet] Body exited signal received for penetrating body
[18:57:31] [INFO] [Bullet] Exiting penetration at (961.7577, 807.54865) after traveling 41,666668 pixels through wall
[18:57:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[18:57:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,734), corner_timer=0.30
[18:57:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,734), corner_timer=0.30
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.688, 757.7933), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 734.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:31] [INFO] [LastChance] Threat detected: Bullet
[18:57:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[18:57:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[18:57:31] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[18:57:31] [INFO] [Player] Spawning blood effect at (450, 734.9444), dir=(1, 0), lethal=False (C#)
[18:57:31] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 734.9444), dir=(1, 0), lethal=false
[18:57:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:31] [INFO] [ImpactEffects] Blood effect spawned at (450, 734.9444) (scale=1)
[18:57:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[18:57:31] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[18:57:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[18:57:31] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[18:57:31] [INFO] [ImpactEffects] spawn_blood_effect called at (670.372, 770.8102), dir=(1, 0), lethal=false
[18:57:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[18:57:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[18:57:31] [INFO] [ImpactEffects] Blood effect spawned at (670.372, 770.8102) (scale=1)
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.2667, 775.1492), source=ENEMY (Enemy3), range=1469, listeners=10
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[18:57:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 734.9444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[18:57:31] [INFO] [LastChance] Threat detected: Bullet
[18:57:31] [INFO] [LastChance] Triggering last chance effect!
[18:57:31] [INFO] [LastChance] Starting last chance effect:
[18:57:31] [INFO] [LastChance]   - Time will be frozen (except player)
[18:57:31] [INFO] [LastChance]   - Duration: 6.00 real seconds
[18:57:31] [INFO] [LastChance]   - Trigger: threat detected
[18:57:31] [INFO] [LastChance]   - Sepia intensity: 0.70
[18:57:31] [INFO] [LastChance]   - Brightness: 0.60
[18:57:31] [INFO] [LastChance] Pushed bullet @Area2D@13074 from distance 52.0 to 200.0
[18:57:31] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[18:57:31] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[18:57:32] [INFO] [LastChance] Skipping player node: Player
[18:57:32] [INFO] [LastChance] Froze existing bullet casing: Casing
[18:57:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@13062
[18:57:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@13065
[18:57:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@13070
[18:57:32] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@13076
[18:57:32] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[18:57:32] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[18:57:32] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (741.5906, 793.1683) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (736.8185, 784.2284) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (772.7617, 737.3581) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (745.0118, 791.3362) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (719.0166, 793.8942) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (519.2494, 729.4038) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (505.755, 780.2925) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (758.7197, 770.684) (added to group)
[18:57:32] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (763.114, 760.6849) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (547.3077, 816.9802) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (831.6141, 789.1191) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (564.7007, 750.2902) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (847.0187, 767.7981) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (886.7857, 872.5957) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (779.6891, 791.4854) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (532.6962, 790.7299) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (746.7654, 790.1205) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (787.8151, 767.8395) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (840.9015, 812.7321) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (837.4935, 852.6063) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (583.4084, 730.349) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (603.2955, 756.0148) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (550.8198, 809.694) (added to group)
[18:57:32] [INFO] [BloodDecal] Blood puddle created at (670.7522, 793.082) (added to group)
[18:57:32] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[18:57:33] [ENEMY] [Enemy4] Status: BLINDED applied
[18:57:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13104
[18:57:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13104
[18:57:33] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@13105
[18:57:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@13105
[18:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(651.0229, 941.9504), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[18:57:33] [ENEMY] [Enemy4] Status: BLINDED removed
[18:57:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13107
[18:57:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13107
[18:57:33] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@13109
[18:57:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@13109
[18:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.0276, 968.45), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[18:57:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13111
[18:57:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13111
[18:57:33] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@13113
[18:57:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@13113
[18:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.0273, 983.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[18:57:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13115
[18:57:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13115
[18:57:33] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@13117
[18:57:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@13117
[18:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.7741, 983.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[18:57:33] [INFO] [ReplayManager] Recording frame 240 (3,6s): player_valid=True, enemies=10
[18:57:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13119
[18:57:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13119
[18:57:33] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[18:57:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@13121
[18:57:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@13121
[18:57:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(750.0452, 983.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[18:57:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[18:57:34] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[18:57:35] [INFO] ------------------------------------------------------------
[18:57:35] [INFO] GAME LOG ENDED: 2026-02-07T18:57:35
[18:57:35] [INFO] ============================================================
