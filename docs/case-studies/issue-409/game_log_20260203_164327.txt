[16:43:27] [INFO] ============================================================
[16:43:27] [INFO] GAME LOG STARTED
[16:43:27] [INFO] ============================================================
[16:43:27] [INFO] Timestamp: 2026-02-03T16:43:27
[16:43:27] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260203_164327.txt
[16:43:27] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[16:43:27] [INFO] OS: Windows
[16:43:27] [INFO] Debug build: false
[16:43:27] [INFO] Engine version: 4.3-stable (official)
[16:43:27] [INFO] Project: Godot Top-Down Template
[16:43:27] [INFO] ------------------------------------------------------------
[16:43:27] [INFO] [GameManager] GameManager ready
[16:43:27] [INFO] [ScoreManager] ScoreManager ready
[16:43:27] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[16:43:27] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[16:43:27] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[16:43:27] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[16:43:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:43:27] [INFO] [PenultimateHit] Saturation shader loaded successfully
[16:43:27] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[16:43:27] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[16:43:27] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[16:43:27] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[16:43:27] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[16:43:27] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[16:43:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:43:27] [INFO] [LastChance] Last chance shader loaded successfully
[16:43:27] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[16:43:27] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[16:43:27] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[16:43:27] [INFO] [LastChance]   Sepia intensity: 0.70
[16:43:27] [INFO] [LastChance]   Brightness: 0.60
[16:43:27] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[16:43:27] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[16:43:27] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:43:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:43:27] [ENEMY] [Enemy1] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:43:27] [ENEMY] [Enemy2] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:43:27] [ENEMY] [Enemy3] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:43:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:43:27] [ENEMY] [Enemy4] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:43:27] [ENEMY] [Enemy5] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:43:27] [ENEMY] [Enemy6] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:43:27] [ENEMY] [Enemy7] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:43:27] [ENEMY] [Enemy8] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:43:27] [ENEMY] [Enemy9] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:43:27] [ENEMY] [Enemy10] Death animation component initialized
[16:43:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:43:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:43:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:43:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:43:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:43:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:43:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:43:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:43:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:43:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:43:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:43:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:43:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:43:27] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[16:43:27] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:43:27] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:43:27] [INFO] [ScoreManager] Level started with 10 enemies
[16:43:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[16:43:27] [ENEMY] [Enemy1] Registered as sound listener
[16:43:27] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[16:43:27] [ENEMY] [Enemy2] Registered as sound listener
[16:43:27] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[16:43:27] [ENEMY] [Enemy3] Registered as sound listener
[16:43:27] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[16:43:27] [ENEMY] [Enemy4] Registered as sound listener
[16:43:27] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[16:43:27] [ENEMY] [Enemy5] Registered as sound listener
[16:43:27] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[16:43:27] [ENEMY] [Enemy6] Registered as sound listener
[16:43:27] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[16:43:27] [ENEMY] [Enemy7] Registered as sound listener
[16:43:27] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[16:43:27] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[16:43:27] [ENEMY] [Enemy8] Registered as sound listener
[16:43:27] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[16:43:27] [ENEMY] [Enemy9] Registered as sound listener
[16:43:27] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[16:43:27] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:43:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[16:43:27] [ENEMY] [Enemy10] Registered as sound listener
[16:43:27] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:43:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:43:27] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:43:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:43:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:43:27] [INFO] [PenultimateHit] Shader warmup complete in 160 ms
[16:43:27] [INFO] [LastChance] Shader warmup complete in 159 ms
[16:43:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:43:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:43:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:43:27] [INFO] [LastChance] Found player: Player
[16:43:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:43:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:43:27] [INFO] [LastChance] Connected to player Died signal (C#)
[16:43:27] [INFO] [ImpactEffects] Particle shader warmup complete: 5 effects warmed up in 377 ms
[16:43:29] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:43:29] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:43:29] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[16:43:29] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[16:43:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[16:43:29] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:43:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[16:43:29] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:43:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[16:43:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[16:43:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[16:43:29] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:43:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[16:43:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[16:43:30] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:43:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[16:43:31] [INFO] [PauseMenu] Armory button pressed
[16:43:31] [INFO] [PauseMenu] Creating new armory menu instance
[16:43:31] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[16:43:31] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[16:43:31] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[16:43:31] [INFO] [PauseMenu] back_pressed signal exists on instance
[16:43:31] [INFO] [PauseMenu] back_pressed signal connected
[16:43:31] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[16:43:31] [INFO] [PauseMenu] _populate_weapon_grid method exists
[16:43:32] [INFO] [GameManager] Weapon selected: silenced_pistol
[16:43:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:43:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:43:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:43:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:43:32] [ENEMY] [Enemy1] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:43:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:43:32] [ENEMY] [Enemy2] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:43:32] [ENEMY] [Enemy3] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:43:32] [ENEMY] [Enemy4] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:43:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:43:32] [ENEMY] [Enemy5] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:43:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:43:32] [ENEMY] [Enemy6] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:43:32] [ENEMY] [Enemy7] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:43:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:43:32] [ENEMY] [Enemy8] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:43:32] [ENEMY] [Enemy9] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:43:32] [ENEMY] [Enemy10] Death animation component initialized
[16:43:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:43:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:43:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:43:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:43:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:43:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:43:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:43:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:43:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:43:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:43:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:43:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:43:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:43:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:43:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:43:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:43:32] [INFO] [ScoreManager] Level started with 10 enemies
[16:43:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:43:32] [ENEMY] [Enemy1] Registered as sound listener
[16:43:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:43:32] [ENEMY] [Enemy2] Registered as sound listener
[16:43:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:43:32] [ENEMY] [Enemy3] Registered as sound listener
[16:43:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:43:32] [ENEMY] [Enemy4] Registered as sound listener
[16:43:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:43:32] [ENEMY] [Enemy5] Registered as sound listener
[16:43:32] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:43:32] [ENEMY] [Enemy6] Registered as sound listener
[16:43:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:43:32] [ENEMY] [Enemy7] Registered as sound listener
[16:43:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:43:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:43:32] [ENEMY] [Enemy8] Registered as sound listener
[16:43:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:43:32] [ENEMY] [Enemy9] Registered as sound listener
[16:43:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[16:43:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:43:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:43:32] [ENEMY] [Enemy10] Registered as sound listener
[16:43:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:43:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:43:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:43:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:43:32] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:43:32] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:43:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:43:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:43:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:43:32] [INFO] [LastChance] Found player: Player
[16:43:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:43:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:43:32] [INFO] [LastChance] Connected to player Died signal (C#)
[16:43:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:43:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:43:34] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,906), corner_timer=0.30
[16:43:34] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,906), corner_timer=0.30
[16:43:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,888), corner_timer=-0.02
[16:43:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:43:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,888), corner_timer=-0.02
[16:43:34] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:43:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,888), corner_timer=0.30
[16:43:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,888), corner_timer=0.30
[16:43:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,888), corner_timer=-0.02
[16:43:34] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:43:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,888), corner_timer=0.30
[16:43:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,888), corner_timer=-0.02
[16:43:35] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:43:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,888), corner_timer=0.30
[16:43:35] [INFO] [Player.Debug] Debug mode toggled: ON
[16:43:35] [INFO] [GameManager] Debug mode toggled: ON
[16:43:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,888), corner_timer=-0.02
[16:43:35] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:43:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,888), corner_timer=0.30
[16:43:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,888), corner_timer=-0.02
[16:43:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:43:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,888), corner_timer=0.30
[16:43:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(396,823), corner_timer=-0.02
[16:43:36] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:43:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(394,822), corner_timer=0.30
[16:43:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(389,830), corner_timer=-0.02
[16:43:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:43:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(389,833), corner_timer=0.30
[16:43:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(409,904), corner_timer=-0.02
[16:43:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:43:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(411,906), corner_timer=0.30
[16:43:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(418,915), corner_timer=-0.02
[16:43:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:43:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(418,915), corner_timer=0.30
[16:43:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(418,915), corner_timer=-0.02
[16:43:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:43:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(418,915), corner_timer=0.30
[16:43:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(418,915), corner_timer=-0.02
[16:43:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:43:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(418,915), corner_timer=0.30
[16:43:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(418,915), corner_timer=-0.02
[16:43:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:43:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(418,915), corner_timer=0.30
[16:43:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(418,915), corner_timer=-0.02
[16:43:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,915), corner_timer=0.30
[16:43:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(418,915), corner_timer=-0.02
[16:43:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,915), corner_timer=0.30
[16:43:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(418,915), corner_timer=-0.02
[16:43:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,915), corner_timer=0.30
[16:43:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(418,915), corner_timer=-0.02
[16:43:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,915), corner_timer=0.30
[16:43:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(418,906), corner_timer=-0.02
[16:43:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,903), corner_timer=0.30
[16:43:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(418,853), corner_timer=-0.02
[16:43:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,853), corner_timer=0.30
[16:43:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(418,844), corner_timer=-0.02
[16:43:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,841), corner_timer=0.30
[16:43:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(431,760), corner_timer=-0.02
[16:43:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(434,757), corner_timer=0.30
[16:43:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(510,753), corner_timer=-0.02
[16:43:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(514,756), corner_timer=0.30
[16:43:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(589,827), corner_timer=-0.02
[16:43:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(593,830), corner_timer=0.30
[16:43:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(627,854), corner_timer=-0.02
[16:43:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(627,853), corner_timer=0.30
[16:43:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(639,840), corner_timer=0.30
[16:43:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(639,840), corner_timer=-0.02
[16:43:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(638,840), corner_timer=0.30
[16:43:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(583,816), corner_timer=-0.02
[16:43:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(578,815), corner_timer=0.30
[16:43:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(540,803), corner_timer=-0.02
[16:43:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(540,803), corner_timer=0.30
[16:43:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(525,783), corner_timer=-0.02
[16:43:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(522,782), corner_timer=0.30
[16:43:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(438,778), corner_timer=-0.02
[16:43:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(436,778), corner_timer=0.30
[16:43:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(433,791), corner_timer=-0.02
[16:43:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(433,792), corner_timer=0.30
[16:43:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(433,793), corner_timer=-0.02
[16:43:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(433,793), corner_timer=0.30
[16:43:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(437,837), corner_timer=-0.02
[16:43:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(438,839), corner_timer=0.30
[16:43:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(447,845), corner_timer=-0.02
[16:43:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(447,845), corner_timer=0.30
[16:43:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(447,845), corner_timer=-0.02
[16:43:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(447,845), corner_timer=0.30
[16:43:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(447,845), corner_timer=-0.02
[16:43:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(447,845), corner_timer=0.30
[16:43:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(447,845), corner_timer=-0.02
[16:43:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(447,845), corner_timer=0.30
[16:43:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(447,845), corner_timer=-0.02
[16:43:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(447,845), corner_timer=0.30
[16:43:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(450,845), corner_timer=-0.02
[16:43:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(452,845), corner_timer=0.30
[16:43:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,845), corner_timer=-0.02
[16:43:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,845), corner_timer=0.30
[16:43:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(482,816), corner_timer=-0.02
[16:43:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(480,813), corner_timer=0.30
[16:43:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(460,788), corner_timer=-0.02
[16:43:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(460,788), corner_timer=0.30
[16:43:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(460,788), corner_timer=-0.02
[16:43:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(460,788), corner_timer=0.30
[16:43:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(460,788), corner_timer=-0.02
[16:43:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(460,788), corner_timer=0.30
[16:43:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(489,765), corner_timer=-0.02
[16:43:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(492,761), corner_timer=0.30
[16:43:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(553,731), corner_timer=-0.02
[16:43:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(554,731), corner_timer=0.30
[16:43:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(522,755), corner_timer=-0.02
[16:43:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(519,758), corner_timer=0.30
[16:43:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(504,770), corner_timer=-0.02
[16:43:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(504,770), corner_timer=0.30
[16:43:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(504,770), corner_timer=-0.02
[16:43:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(504,770), corner_timer=0.30
[16:43:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(504,770), corner_timer=-0.02
[16:43:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(504,770), corner_timer=0.30
[16:43:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,786), corner_timer=-0.02
[16:43:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(461,789), corner_timer=0.30
[16:43:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(472,866), corner_timer=-0.02
[16:43:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(475,868), corner_timer=0.30
[16:43:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:43:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:43:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:43:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:43:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,880), corner_timer=-0.02
[16:44:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,880), corner_timer=0.30
[16:44:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,873), corner_timer=-0.02
[16:44:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,871), corner_timer=0.30
[16:44:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(454,819), corner_timer=-0.02
[16:44:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(452,818), corner_timer=0.30
[16:44:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,800), corner_timer=-0.02
[16:44:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,796), corner_timer=0.30
[16:44:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,778), corner_timer=-0.02
[16:44:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,778), corner_timer=0.30
[16:44:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,778), corner_timer=-0.02
[16:44:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,778), corner_timer=0.30
[16:44:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,778), corner_timer=-0.02
[16:44:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,778), corner_timer=0.30
[16:44:06] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:44:06] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:06] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.991333, -0.131376), lethal=true
[16:44:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:06] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:44:06] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:44:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:44:06] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:44:06] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:44:06] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:44:06] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 19)
[16:44:06] [INFO] [DeathAnim] Started - Angle: -7.5 deg, Index: 11
[16:44:06] [ENEMY] [Enemy3] Death animation started with hit direction: (0.991333, -0.131376)
[16:44:06] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=77.9°, current=-67.5°, player=(449,778), corner_timer=0.00
[16:44:06] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:44:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:06] [ENEMY] [Enemy1] Memory: medium confidence (0.53) - transitioning to PURSUING
[16:44:06] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:44:06] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.8°, current=33.8°, player=(449,778), corner_timer=0.00
[16:44:06] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:44:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,778), corner_timer=-0.02
[16:44:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,778), corner_timer=0.30
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (739.7693, 762.9775) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (755.1006, 774.0595) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (766.915, 779.1652) (added to group)
[16:44:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (784.7987, 779.0403) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (772.1996, 781.8646) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (789.4885, 756.42) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (785.681, 787.2302) (added to group)
[16:44:06] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[16:44:06] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:44:06] [ENEMY] [Enemy3] Ragdoll activated
[16:44:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (787.5305, 789.7057) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (846.7656, 866.2642) (added to group)
[16:44:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,778), corner_timer=-0.02
[16:44:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (802.797, 799.7202) (added to group)
[16:44:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,778), corner_timer=0.30
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (886.7057, 826.0855) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (867.6794, 813.0211) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (899.2964, 890.0056) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (843.5817, 870.7117) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (890.4714, 792.5375) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (902.4156, 834.3888) (added to group)
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (875.5667, 752.2142) (added to group)
[16:44:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:06] [INFO] [BloodDecal] Blood puddle created at (896.1248, 861.1455) (added to group)
[16:44:06] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[16:44:06] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:44:06] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=150.1°, current=100.2°, player=(449,778), corner_timer=0.28
[16:44:06] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:44:06] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:44:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(449,778), corner_timer=-0.02
[16:44:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,778), corner_timer=0.30
[16:44:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:44:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:44:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:44:07] [ENEMY] [Enemy1] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:44:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:07] [ENEMY] [Enemy2] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:44:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:07] [ENEMY] [Enemy3] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:44:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:07] [ENEMY] [Enemy4] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:44:07] [ENEMY] [Enemy5] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:44:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:07] [ENEMY] [Enemy6] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:44:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:07] [ENEMY] [Enemy7] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:44:07] [ENEMY] [Enemy8] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:44:07] [ENEMY] [Enemy9] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:44:07] [ENEMY] [Enemy10] Death animation component initialized
[16:44:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:07] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:44:07] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:44:07] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:44:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:44:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:44:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:44:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:44:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:44:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:44:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:44:07] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:44:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:44:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:44:07] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:44:07] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:44:07] [INFO] [ScoreManager] Level started with 10 enemies
[16:44:07] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[16:44:07] [ENEMY] [Enemy1] Registered as sound listener
[16:44:07] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[16:44:07] [ENEMY] [Enemy2] Registered as sound listener
[16:44:07] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[16:44:07] [ENEMY] [Enemy3] Registered as sound listener
[16:44:07] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[16:44:07] [ENEMY] [Enemy4] Registered as sound listener
[16:44:07] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[16:44:07] [ENEMY] [Enemy5] Registered as sound listener
[16:44:07] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[16:44:07] [ENEMY] [Enemy6] Registered as sound listener
[16:44:07] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[16:44:07] [ENEMY] [Enemy7] Registered as sound listener
[16:44:07] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:44:07] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[16:44:07] [ENEMY] [Enemy8] Registered as sound listener
[16:44:07] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[16:44:07] [ENEMY] [Enemy9] Registered as sound listener
[16:44:07] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:44:07] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:44:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[16:44:07] [ENEMY] [Enemy10] Registered as sound listener
[16:44:07] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[16:44:07] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:44:07] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:44:07] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:44:07] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:44:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:44:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:44:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:44:07] [INFO] [LastChance] Found player: Player
[16:44:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:44:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:44:07] [INFO] [LastChance] Connected to player Died signal (C#)
[16:44:08] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:08] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:44:08] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,938), corner_timer=0.30
[16:44:08] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,938), corner_timer=0.30
[16:44:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 932.9444), shooter_id=10975335942691, bullet_pos=(516.5975, 925.6108)
[16:44:08] [INFO] [Bullet] Using shooter_position, distance=67.0000381469727
[16:44:08] [INFO] [Bullet] Distance to wall: 67.0000381469727 (4.56215579963383% of viewport)
[16:44:08] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:44:08] [INFO] [Bullet] Caliber cannot penetrate walls
[16:44:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,932), corner_timer=-0.02
[16:44:08] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,932), corner_timer=-0.02
[16:44:08] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:44:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,932), corner_timer=0.30
[16:44:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,932), corner_timer=0.30
[16:44:09] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,932), corner_timer=-0.02
[16:44:09] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:44:09] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,932), corner_timer=0.30
[16:44:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:44:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:44:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:44:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:09] [ENEMY] [Enemy1] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:44:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:09] [ENEMY] [Enemy2] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:44:09] [ENEMY] [Enemy3] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:44:09] [ENEMY] [Enemy4] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:44:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:09] [ENEMY] [Enemy5] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:44:09] [ENEMY] [Enemy6] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:44:09] [ENEMY] [Enemy7] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:44:09] [ENEMY] [Enemy8] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:44:09] [ENEMY] [Enemy9] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:44:09] [ENEMY] [Enemy10] Death animation component initialized
[16:44:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:44:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:44:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:44:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:44:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:44:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:44:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:44:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:44:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:44:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:44:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:44:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:44:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:44:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:44:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:44:09] [INFO] [ScoreManager] Level started with 10 enemies
[16:44:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 30)
[16:44:09] [ENEMY] [Enemy1] Registered as sound listener
[16:44:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 31)
[16:44:09] [ENEMY] [Enemy2] Registered as sound listener
[16:44:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 32)
[16:44:09] [ENEMY] [Enemy3] Registered as sound listener
[16:44:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 33)
[16:44:09] [ENEMY] [Enemy4] Registered as sound listener
[16:44:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 34)
[16:44:09] [ENEMY] [Enemy5] Registered as sound listener
[16:44:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 35)
[16:44:09] [ENEMY] [Enemy6] Registered as sound listener
[16:44:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 36)
[16:44:09] [ENEMY] [Enemy7] Registered as sound listener
[16:44:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:44:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 37)
[16:44:09] [ENEMY] [Enemy8] Registered as sound listener
[16:44:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 38)
[16:44:09] [ENEMY] [Enemy9] Registered as sound listener
[16:44:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:44:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:44:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 39)
[16:44:09] [ENEMY] [Enemy10] Registered as sound listener
[16:44:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:44:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:44:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:44:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:44:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:44:09] [INFO] [LastChance] Found player: Player
[16:44:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:44:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:44:09] [INFO] [LastChance] Connected to player Died signal (C#)
[16:44:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:44:09] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:44:09] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:44:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:44:10] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,912), corner_timer=0.30
[16:44:10] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,912), corner_timer=0.30
[16:44:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(433,902), corner_timer=-0.02
[16:44:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(433,902), corner_timer=-0.02
[16:44:11] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:44:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(430,900), corner_timer=0.30
[16:44:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(430,900), corner_timer=0.30
[16:44:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(384,829), corner_timer=-0.02
[16:44:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:44:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(383,825), corner_timer=0.30
[16:44:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(378,800), corner_timer=-0.02
[16:44:11] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:44:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(378,800), corner_timer=0.30
[16:44:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(378,800), corner_timer=-0.02
[16:44:12] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:44:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(378,800), corner_timer=0.30
[16:44:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(378,800), corner_timer=-0.02
[16:44:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:44:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(378,800), corner_timer=0.30
[16:44:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(378,800), corner_timer=-0.02
[16:44:13] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:44:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(378,800), corner_timer=0.30
[16:44:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(408,800), corner_timer=-0.02
[16:44:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:44:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(413,800), corner_timer=0.30
[16:44:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(483,800), corner_timer=-0.02
[16:44:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:44:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(483,800), corner_timer=0.30
[16:44:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(483,840), corner_timer=-0.02
[16:44:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:44:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(483,844), corner_timer=0.30
[16:44:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(483,872), corner_timer=-0.02
[16:44:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,871), corner_timer=0.30
[16:44:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(484,789), corner_timer=-0.02
[16:44:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(484,784), corner_timer=0.30
[16:44:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(534,726), corner_timer=-0.02
[16:44:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(537,726), corner_timer=0.30
[16:44:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(561,780), corner_timer=-0.02
[16:44:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(561,786), corner_timer=0.30
[16:44:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(564,889), corner_timer=-0.02
[16:44:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(565,894), corner_timer=0.30
[16:44:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(618,971), corner_timer=-0.02
[16:44:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(620,973), corner_timer=0.30
[16:44:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(627,983), corner_timer=-0.02
[16:44:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(627,983), corner_timer=0.30
[16:44:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(627,983), corner_timer=-0.02
[16:44:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(627,983), corner_timer=0.30
[16:44:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:16] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:44:16] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:16] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.898812, -0.438335), lethal=true
[16:44:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:16] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:16] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1.35)
[16:44:16] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[16:44:16] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:44:16] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[16:44:16] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 38)
[16:44:16] [INFO] [DeathAnim] Started - Angle: -26.0 deg, Index: 10
[16:44:16] [ENEMY] [Enemy4] Death animation started with hit direction: (0.898812, -0.438335)
[16:44:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(627,983), corner_timer=-0.02
[16:44:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(627,983), corner_timer=0.30
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (847.5084, 852.4146) (added to group)
[16:44:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (831.4445, 885.5219) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (888.1494, 873.8362) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (887.487, 912.6411) (added to group)
[16:44:17] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (881.0594, 902.8129) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (907.7121, 903.4362) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (844.5637, 897.2802) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (879.2994, 873.9929) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (906.6332, 900.1504) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (862.3868, 891.0222) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (902.1897, 925.5801) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (868.549, 913.4061) (added to group)
[16:44:17] [ENEMY] [Enemy4] Ragdoll activated
[16:44:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(627,983), corner_timer=-0.02
[16:44:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (898.5452, 957.0485) (added to group)
[16:44:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(627,983), corner_timer=0.30
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (906.1094, 922.5589) (added to group)
[16:44:17] [INFO] [BloodDecal] Blood puddle created at (910.311, 965.6657) (added to group)
[16:44:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:44:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:44:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:44:17] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:17] [ENEMY] [Enemy1] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:44:17] [ENEMY] [Enemy2] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:44:17] [ENEMY] [Enemy3] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:44:17] [ENEMY] [Enemy4] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:44:17] [ENEMY] [Enemy5] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:44:17] [ENEMY] [Enemy6] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:44:17] [ENEMY] [Enemy7] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:44:17] [ENEMY] [Enemy8] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:44:17] [ENEMY] [Enemy9] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:44:17] [ENEMY] [Enemy10] Death animation component initialized
[16:44:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:44:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:44:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:44:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:44:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:44:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:44:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:44:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:44:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:44:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:44:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:44:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:44:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:44:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:44:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:44:17] [INFO] [ScoreManager] Level started with 10 enemies
[16:44:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 39)
[16:44:17] [ENEMY] [Enemy1] Registered as sound listener
[16:44:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 40)
[16:44:17] [ENEMY] [Enemy2] Registered as sound listener
[16:44:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 41)
[16:44:17] [ENEMY] [Enemy3] Registered as sound listener
[16:44:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 42)
[16:44:17] [ENEMY] [Enemy4] Registered as sound listener
[16:44:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 43)
[16:44:17] [ENEMY] [Enemy5] Registered as sound listener
[16:44:17] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 44)
[16:44:17] [ENEMY] [Enemy6] Registered as sound listener
[16:44:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 45)
[16:44:17] [ENEMY] [Enemy7] Registered as sound listener
[16:44:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:44:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 46)
[16:44:17] [ENEMY] [Enemy8] Registered as sound listener
[16:44:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 47)
[16:44:17] [ENEMY] [Enemy9] Registered as sound listener
[16:44:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:44:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:44:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 48)
[16:44:17] [ENEMY] [Enemy10] Registered as sound listener
[16:44:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[16:44:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:44:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:44:17] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:44:17] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:44:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:44:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:44:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:44:17] [INFO] [LastChance] Found player: Player
[16:44:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:44:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:44:17] [INFO] [LastChance] Connected to player Died signal (C#)
[16:44:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:19] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:44:19] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(483,901), corner_timer=0.30
[16:44:19] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(483,901), corner_timer=0.30
[16:44:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(483,901), corner_timer=-0.02
[16:44:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(483,901), corner_timer=-0.02
[16:44:19] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:44:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(483,901), corner_timer=0.30
[16:44:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(483,901), corner_timer=0.30
[16:44:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(483,901), corner_timer=-0.02
[16:44:19] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:44:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(483,901), corner_timer=0.30
[16:44:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(483,901), corner_timer=-0.02
[16:44:20] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:44:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(483,901), corner_timer=0.30
[16:44:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(483,901), corner_timer=-0.02
[16:44:20] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:44:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(483,901), corner_timer=0.30
[16:44:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(483,901), corner_timer=-0.02
[16:44:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:44:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(483,901), corner_timer=0.30
[16:44:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(483,901), corner_timer=-0.02
[16:44:21] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:44:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(483,901), corner_timer=0.30
[16:44:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(483,901), corner_timer=-0.02
[16:44:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:44:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(483,901), corner_timer=0.30
[16:44:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(483,901), corner_timer=-0.02
[16:44:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:44:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(483,901), corner_timer=0.30
[16:44:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(483,901), corner_timer=-0.02
[16:44:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:44:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(483,901), corner_timer=0.30
[16:44:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(483,901), corner_timer=-0.02
[16:44:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,901), corner_timer=0.30
[16:44:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(483,901), corner_timer=-0.02
[16:44:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,901), corner_timer=0.30
[16:44:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(483,901), corner_timer=-0.02
[16:44:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(483,901), corner_timer=-0.02
[16:44:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,901), corner_timer=-0.02
[16:44:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,901), corner_timer=0.30
[16:44:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,894), corner_timer=-0.02
[16:44:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,892), corner_timer=0.30
[16:44:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(445,825), corner_timer=-0.02
[16:44:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(444,822), corner_timer=0.30
[16:44:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(432,800), corner_timer=-0.02
[16:44:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(432,800), corner_timer=0.30
[16:44:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(432,800), corner_timer=-0.02
[16:44:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(432,800), corner_timer=0.30
[16:44:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(432,800), corner_timer=-0.02
[16:44:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(432,800), corner_timer=0.30
[16:44:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(432,800), corner_timer=-0.02
[16:44:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(432,800), corner_timer=0.30
[16:44:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,799), corner_timer=-0.02
[16:44:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,798), corner_timer=0.30
[16:44:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:30] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=60.9°, current=33.8°, player=(538,777), corner_timer=0.00
[16:44:30] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[16:44:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(553,779), corner_timer=-0.02
[16:44:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(558,780), corner_timer=0.30
[16:44:30] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[16:44:30] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=56.2°, current=56.2°, player=(581,791), corner_timer=0.00
[16:44:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(620,839), corner_timer=-0.02
[16:44:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:30] [ENEMY] [Enemy2] Memory: high confidence (0.87) - transitioning to PURSUING
[16:44:30] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[16:44:30] [ENEMY] [Enemy3] Memory: medium confidence (0.78) - transitioning to PURSUING
[16:44:30] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[16:44:30] [ENEMY] [Enemy4] Memory: medium confidence (0.70) - transitioning to PURSUING
[16:44:30] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[16:44:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(621,841), corner_timer=0.30
[16:44:30] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=52.8°, current=-157.5°, player=(623,843), corner_timer=0.00
[16:44:30] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=129.4°, current=-123.8°, player=(623,843), corner_timer=0.00
[16:44:30] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.3°, current=-101.3°, player=(623,843), corner_timer=0.00
[16:44:30] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[16:44:30] [ENEMY] [Enemy3] PURSUING corner check: angle -117.3°
[16:44:30] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[16:44:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:31] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[16:44:31] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=101.9°, current=54.7°, player=(627,851), corner_timer=0.12
[16:44:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[16:44:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.1494, 779.3936), source=ENEMY (Enemy3), range=1469, listeners=48
[16:44:31] [INFO] [SoundPropagation] Cleaned up 38 invalid listeners
[16:44:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:44:31] [INFO] [Player] Spawning blood effect at (627.97003, 851.3938), dir=(1, 0), lethal=False (C#)
[16:44:31] [INFO] [ImpactEffects] spawn_blood_effect called at (627.97, 851.3938), dir=(1, 0), lethal=false
[16:44:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:44:31] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 851.3938) (dist=52 px)
[16:44:31] [INFO] [BloodDecal] Blood puddle created at (679, 851.3938) (added to group)
[16:44:31] [INFO] [ImpactEffects] Blood effect spawned at (627.97, 851.3938) (scale=1)
[16:44:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[16:44:31] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[16:44:31] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=94.9°, current=149.8°, player=(627,851), corner_timer=0.10
[16:44:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(627,851), corner_timer=-0.02
[16:44:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(627,851), corner_timer=0.30
[16:44:31] [ENEMY] [Enemy3] PURSUING corner check: angle 76.6°
[16:44:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:31] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[16:44:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:44:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:44:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:44:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:31] [ENEMY] [Enemy1] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:44:31] [ENEMY] [Enemy2] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:44:31] [ENEMY] [Enemy3] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:44:31] [ENEMY] [Enemy4] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:44:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:31] [ENEMY] [Enemy5] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:44:31] [ENEMY] [Enemy6] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:44:31] [ENEMY] [Enemy7] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:44:31] [ENEMY] [Enemy8] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:44:31] [ENEMY] [Enemy9] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:44:31] [ENEMY] [Enemy10] Death animation component initialized
[16:44:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:44:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:44:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:44:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:44:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:44:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:44:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:44:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:44:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:44:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:44:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:44:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[16:44:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:44:31] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:44:31] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:44:31] [INFO] [ScoreManager] Level started with 10 enemies
[16:44:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:44:31] [ENEMY] [Enemy1] Registered as sound listener
[16:44:31] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:44:31] [ENEMY] [Enemy2] Registered as sound listener
[16:44:31] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:44:31] [ENEMY] [Enemy3] Registered as sound listener
[16:44:31] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:44:31] [ENEMY] [Enemy4] Registered as sound listener
[16:44:31] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:44:31] [ENEMY] [Enemy5] Registered as sound listener
[16:44:31] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:44:31] [ENEMY] [Enemy6] Registered as sound listener
[16:44:31] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:44:31] [ENEMY] [Enemy7] Registered as sound listener
[16:44:31] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:44:31] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:44:31] [ENEMY] [Enemy8] Registered as sound listener
[16:44:31] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:44:31] [ENEMY] [Enemy9] Registered as sound listener
[16:44:31] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:44:31] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:44:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:44:31] [ENEMY] [Enemy10] Registered as sound listener
[16:44:31] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:44:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:44:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:44:31] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:44:31] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:44:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:44:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:44:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:44:31] [INFO] [LastChance] Found player: Player
[16:44:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:44:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:44:31] [INFO] [LastChance] Connected to player Died signal (C#)
[16:44:31] [INFO] [BloodDecal] Blood puddle created at (678.1171, 876.4847) (added to group)
[16:44:31] [INFO] [BloodDecal] Blood puddle created at (726.8997, 946.6649) (added to group)
[16:44:31] [INFO] [BloodDecal] Blood puddle created at (718.4996, 931.8423) (added to group)
[16:44:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:33] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:44:33] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(483,881), corner_timer=0.30
[16:44:33] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(483,881), corner_timer=0.30
[16:44:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(483,876), corner_timer=-0.02
[16:44:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(483,876), corner_timer=-0.02
[16:44:33] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:44:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(483,876), corner_timer=0.30
[16:44:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(483,876), corner_timer=0.30
[16:44:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(483,876), corner_timer=-0.02
[16:44:33] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:44:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(483,876), corner_timer=0.30
[16:44:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(483,876), corner_timer=-0.02
[16:44:34] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:44:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(483,876), corner_timer=0.30
[16:44:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(483,876), corner_timer=-0.02
[16:44:34] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:44:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(483,876), corner_timer=0.30
[16:44:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(483,876), corner_timer=-0.02
[16:44:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:44:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(483,876), corner_timer=0.30
[16:44:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(483,876), corner_timer=-0.02
[16:44:35] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:44:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(483,876), corner_timer=0.30
[16:44:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(483,876), corner_timer=-0.02
[16:44:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:44:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(483,876), corner_timer=0.30
[16:44:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(483,876), corner_timer=-0.02
[16:44:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:44:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(483,876), corner_timer=0.30
[16:44:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(483,876), corner_timer=-0.02
[16:44:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:44:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(483,876), corner_timer=0.30
[16:44:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(483,876), corner_timer=-0.02
[16:44:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,876), corner_timer=0.30
[16:44:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(483,876), corner_timer=-0.02
[16:44:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,876), corner_timer=0.30
[16:44:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(483,876), corner_timer=-0.02
[16:44:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:44:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(483,876), corner_timer=-0.02
[16:44:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,876), corner_timer=-0.02
[16:44:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,876), corner_timer=0.30
[16:44:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(474,833), corner_timer=-0.02
[16:44:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(472,830), corner_timer=0.30
[16:44:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(431,771), corner_timer=-0.02
[16:44:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(430,769), corner_timer=0.30
[16:44:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(425,745), corner_timer=-0.02
[16:44:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(425,745), corner_timer=0.30
[16:44:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(425,754), corner_timer=-0.02
[16:44:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(425,754), corner_timer=0.30
[16:44:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(425,754), corner_timer=-0.02
[16:44:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(425,754), corner_timer=0.30
[16:44:44] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:44:44] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:44] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999976, -0.006916), lethal=true
[16:44:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:44] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:44] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:44:44] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:44:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:44:44] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:44:44] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:44:44] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:44:44] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 19)
[16:44:44] [INFO] [DeathAnim] Started - Angle: -0.4 deg, Index: 11
[16:44:44] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999976, -0.006916)
[16:44:44] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=82.8°, current=-67.5°, player=(425,754), corner_timer=0.00
[16:44:44] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:44:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(425,754), corner_timer=-0.02
[16:44:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(425,754), corner_timer=0.30
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (750.5626, 738.649) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (753.0115, 751.4821) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (769.3654, 793.3146) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (794.7226, 767.2584) (added to group)
[16:44:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (808.8495, 773.0938) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (791.5224, 773.1603) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (760.7781, 794.3112) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (766.979, 778.0981) (added to group)
[16:44:44] [ENEMY] [Enemy1] Memory: medium confidence (0.50) - transitioning to PURSUING
[16:44:44] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (812.16, 758.4533) (added to group)
[16:44:44] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.4°, current=-33.8°, player=(444,754), corner_timer=0.00
[16:44:44] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:44:44] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (770.8943, 796.0991) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (783.0414, 797.3895) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (805.1746, 814.0167) (added to group)
[16:44:44] [ENEMY] [Enemy3] Ragdoll activated
[16:44:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (859.9827, 800.8776) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (832.3608, 772.028) (added to group)
[16:44:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(460,754), corner_timer=-0.02
[16:44:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(461,754), corner_timer=0.30
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (821.6368, 807.1166) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (896.4481, 797.2859) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (882.2876, 930.4841) (added to group)
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (884.7188, 765.2834) (added to group)
[16:44:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:44] [INFO] [BloodDecal] Blood puddle created at (890.4343, 909.2197) (added to group)
[16:44:44] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[16:44:44] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:44:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(409,754), corner_timer=-0.02
[16:44:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(404,754), corner_timer=0.30
[16:44:44] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=169.2°, current=119.9°, player=(398,754), corner_timer=0.17
[16:44:44] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:44:44] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:44:45] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=170.9°, current=-138.8°, player=(373,754), corner_timer=0.17
[16:44:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:45] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[16:44:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(352,754), corner_timer=-0.02
[16:44:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(352,754), corner_timer=0.30
[16:44:45] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=171.6°, current=-138.5°, player=(352,754), corner_timer=0.17
[16:44:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.3097, 712.775), source=ENEMY (Enemy2), range=1469, listeners=19
[16:44:45] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[16:44:45] [ENEMY] [Enemy4] Heard gunshot at (634.3097, 712.775), source_type=1, intensity=0.04, distance=250
[16:44:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[16:44:45] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-162.0°, current=-67.5°, player=(352,754), corner_timer=0.00
[16:44:45] [INFO] [LastChance] Threat detected: Bullet
[16:44:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:44:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:44:45] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:44:45] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:45] [INFO] [ImpactEffects] spawn_blood_effect called at (634.3097, 712.775), dir=(0.994079, -0.108662), lethal=true
[16:44:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:45] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:45] [INFO] [ImpactEffects] Blood effect spawned at (634.3097, 712.775) (scale=1.35)
[16:44:45] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[16:44:45] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:44:45] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[16:44:45] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[16:44:45] [INFO] [DeathAnim] Started - Angle: -6.2 deg, Index: 11
[16:44:45] [ENEMY] [Enemy2] Death animation started with hit direction: (0.994079, -0.108662)
[16:44:45] [INFO] [Player] Spawning blood effect at (352.28583, 754.4985), dir=(1, 0), lethal=False (C#)
[16:44:45] [INFO] [ImpactEffects] spawn_blood_effect called at (352.2858, 754.4985), dir=(1, 0), lethal=false
[16:44:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:44:45] [INFO] [ImpactEffects] Blood effect spawned at (352.2858, 754.4985) (scale=1)
[16:44:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[16:44:45] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[16:44:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(352,754), corner_timer=-0.02
[16:44:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:45] [ENEMY] [Enemy3] Death animation completed
[16:44:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(352,754), corner_timer=0.30
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (697.0532, 718.1736) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (686.5334, 726.8414) (added to group)
[16:44:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (695.2067, 723.2949) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (713.6942, 698.258) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (718.8339, 713.5255) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (725.5419, 753.551) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (421.2356, 805.9048) (added to group)
[16:44:45] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (730.4729, 743.5126) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (757.3928, 727.4355) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (723.2462, 737.6411) (added to group)
[16:44:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[16:44:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(352,754), corner_timer=-0.02
[16:44:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:45] [ENEMY] [Enemy2] Ragdoll activated
[16:44:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (733.3812, 738.4994) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (427.7157, 826.174) (added to group)
[16:44:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(352,754), corner_timer=0.30
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (747.0845, 728.2381) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (742.7842, 755.2308) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (435.4014, 804.7046) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (734.191, 791.442) (added to group)
[16:44:45] [INFO] [BloodDecal] Blood puddle created at (497.4791, 757.4077) (added to group)
[16:44:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (825.7847, 756.3209) (added to group)
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (437.0565, 797.5653) (added to group)
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (826.9131, 738.6366) (added to group)
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (460.4382, 791.6325) (added to group)
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (744.7263, 769.8819) (added to group)
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (853.2677, 848.9367) (added to group)
[16:44:46] [INFO] [BloodDecal] Blood puddle created at (479.1517, 913.9665) (added to group)
[16:44:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(353,754), corner_timer=-0.02
[16:44:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(354,754), corner_timer=0.30
[16:44:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(409,754), corner_timer=-0.02
[16:44:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(410,754), corner_timer=0.30
[16:44:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(414,754), corner_timer=-0.02
[16:44:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(414,754), corner_timer=0.30
[16:44:46] [ENEMY] [Enemy1] PURSUING corner check: angle -5.0°
[16:44:46] [ENEMY] [Enemy2] Death animation completed
[16:44:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(414,754), corner_timer=-0.02
[16:44:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(414,754), corner_timer=0.30
[16:44:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:47] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[16:44:47] [ENEMY] [Enemy4] FLANKING started: target=(573.3877, 633.3102), side=left, pos=(778.4597, 906.8609)
[16:44:47] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[16:44:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(414,754), corner_timer=-0.02
[16:44:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(414,754), corner_timer=0.30
[16:44:47] [ENEMY] [Enemy4] FLANKING corner check: angle 128.1°
[16:44:47] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:44:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:47] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-171.1°, current=-169.8°, player=(414,754), corner_timer=0.17
[16:44:47] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[16:44:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(414,754), corner_timer=-0.02
[16:44:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(414,754), corner_timer=0.30
[16:44:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(782.6248, 801.7707), source=ENEMY (Enemy4), range=1469, listeners=8
[16:44:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[16:44:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:48] [INFO] [LastChance] Threat detected: Bullet
[16:44:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:44:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:44:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.7509, 797.7968), source=ENEMY (Enemy4), range=1469, listeners=8
[16:44:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[16:44:48] [INFO] [Player] Spawning blood effect at (414.28583, 754.4985), dir=(1, 0), lethal=False (C#)
[16:44:48] [INFO] [ImpactEffects] spawn_blood_effect called at (414.2858, 754.4985), dir=(1, 0), lethal=false
[16:44:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:44:48] [INFO] [ImpactEffects] Blood effect spawned at (414.2858, 754.4985) (scale=1)
[16:44:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[16:44:48] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[16:44:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[16:44:48] [INFO] [LastChance] Threat detected: @Area2D@1710
[16:44:48] [INFO] [LastChance] Triggering last chance effect!
[16:44:48] [INFO] [LastChance] Starting last chance effect:
[16:44:48] [INFO] [LastChance]   - Time will be frozen (except player)
[16:44:48] [INFO] [LastChance]   - Duration: 6.0 real seconds
[16:44:48] [INFO] [LastChance]   - Sepia intensity: 0.70
[16:44:48] [INFO] [LastChance]   - Brightness: 0.60
[16:44:48] [INFO] [LastChance] Pushed bullet @Area2D@1710 from distance 135.0 to 200.0
[16:44:48] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[16:44:48] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[16:44:48] [INFO] [LastChance] Skipping player node: Player
[16:44:48] [INFO] [LastChance] Froze existing bullet casing: Casing
[16:44:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1671
[16:44:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1672
[16:44:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1709
[16:44:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1711
[16:44:48] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[16:44:48] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[16:44:48] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (463.3329, 773.4796) (added to group)
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (480.9253, 739.5866) (added to group)
[16:44:48] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (490.1606, 795.8821) (added to group)
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (503.33, 780.7073) (added to group)
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (490.569, 831.1898) (added to group)
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (497.1353, 800.2992) (added to group)
[16:44:48] [INFO] [BloodDecal] Blood puddle created at (524.0255, 791.0906) (added to group)
[16:44:48] [INFO] [LastChance] Freezing newly fired player bullet: Bullet9mm
[16:44:48] [INFO] [LastChance] Registered frozen player bullet: Bullet9mm
[16:44:48] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1719
[16:44:48] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1719
[16:44:49] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:44:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1722
[16:44:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1722
[16:44:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1723
[16:44:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1723
[16:44:51] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:44:54] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[16:44:54] [INFO] [LastChance] Ending last chance effect
[16:44:54] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[16:44:54] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (500.0048, 751.3832)
[16:44:54] [ENEMY] [Enemy1] SEARCHING started: center=(500.0048, 751.3832), radius=100, waypoints=5
[16:44:54] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[16:44:54] [ENEMY] [Enemy4] Search mode: COMBAT -> SEARCHING at (414.2858, 754.4985)
[16:44:54] [ENEMY] [Enemy4] SEARCHING started: center=(414.2858, 754.4985), radius=100, waypoints=5
[16:44:54] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[16:44:54] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[16:44:54] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[16:44:54] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[16:44:54] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[16:44:54] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[16:44:54] [INFO] [LastChance] Reset memory for 8 enemies (player teleport effect)
[16:44:54] [INFO] [LastChance] All process modes restored
[16:44:54] [INFO] [LastChance] Unfroze player bullet: Bullet9mm
[16:44:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1722
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: Casing
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1671
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1672
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1709
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1711
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1719
[16:44:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1723
[16:44:54] [INFO] [LastChance] Restored original colors to 5 player sprites
[16:44:54] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[16:44:54] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-39.0°, current=-173.6°, player=(1509,204), corner_timer=0.17
[16:44:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1519,208), corner_timer=-0.02
[16:44:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:54] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 2/2 -> -8/2
[16:44:54] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:54] [INFO] [ImpactEffects] spawn_blood_effect called at (480.6577, 652.5498), dir=(-0.985115, -0.171897), lethal=true
[16:44:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:54] [INFO] [ImpactEffects] Blood effect spawned at (480.6577, 652.5498) (scale=1.35)
[16:44:54] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[16:44:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:44:54] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[16:44:54] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[16:44:54] [INFO] [DeathAnim] Started - Angle: -170.1 deg, Index: 0
[16:44:54] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.985115, -0.171897)
[16:44:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1523,210), corner_timer=0.30
[16:44:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:54] [ENEMY] [Enemy4] SEARCHING corner check: angle -85.3°
[16:44:54] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:44:54] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:54] [INFO] [ImpactEffects] spawn_blood_effect called at (732.8154, 780.9615), dir=(0.989641, 0.143563), lethal=true
[16:44:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:54] [INFO] [ImpactEffects] Blood effect spawned at (732.8154, 780.9615) (scale=1.35)
[16:44:54] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[16:44:54] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:44:54] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[16:44:54] [INFO] [DeathAnim] Started - Angle: 8.3 deg, Index: 12
[16:44:54] [ENEMY] [Enemy4] Death animation started with hit direction: (0.989641, 0.143563)
[16:44:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.7126, 797.6122), shooter_id=19377416047175, bullet_pos=(31.91251, 720.9576)
[16:44:54] [INFO] [Bullet] Using shooter_position, distance=685.101928710938
[16:44:54] [INFO] [Bullet] Distance to wall: 685.101928710938 (46.6498501172891% of viewport)
[16:44:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.7126, 797.6122), shooter_id=19377416047175, bullet_pos=(106.398, 706.7236)
[16:44:54] [INFO] [Bullet] Using shooter_position, distance=613.088989257813
[16:44:54] [INFO] [Bullet] Distance to wall: 613.088989257813 (41.7463566498066% of viewport)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (431.8008, 671.6899) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (440.9146, 678.491) (added to group)
[16:44:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.7126, 797.6122), shooter_id=19377416047175, bullet_pos=(41.49118, 700.46)
[16:44:54] [INFO] [Bullet] Using shooter_position, distance=678.215881347656
[16:44:54] [INFO] [Bullet] Distance to wall: 678.215881347656 (46.1809664899987% of viewport)
[16:44:54] [INFO] [Bullet] Distance-based penetration chance: 92.7888724283349%
[16:44:54] [INFO] [Bullet] Starting wall penetration at (41.49118, 700.46)
[16:44:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.5688972473145
[16:44:54] [INFO] [Bullet] Body exited signal received for penetrating body
[16:44:54] [INFO] [Bullet] Exiting penetration at (6.549335, 697.088) after traveling 30.1041679382324 pixels through wall
[16:44:54] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (438.8367, 684.3046) (added to group)
[16:44:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1626,214), corner_timer=-0.02
[16:44:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (398.6994, 615.2571) (added to group)
[16:44:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1631,214), corner_timer=0.30
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (390.3843, 618.9527) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (774.2283, 800.0368) (added to group)
[16:44:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (801.061, 811.1036) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (786.2026, 796.1381) (added to group)
[16:44:54] [ENEMY] [Enemy1] Ragdoll activated
[16:44:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (356.4532, 618.923) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (794.1371, 819.3463) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (378.8036, 682.6579) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (821.0081, 855.9608) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (849.2691, 814.4486) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (825.2405, 782.1566) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (371.041, 678.1863) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (316.2907, 656.8645) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (814.3099, 811.5557) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (826.0502, 818.477) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (810.2056, 824.6766) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (866.8498, 861.14) (added to group)
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (884.2419, 793.1082) (added to group)
[16:44:54] [ENEMY] [Enemy4] Ragdoll activated
[16:44:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (813.6972, 810.5829) (added to group)
[16:44:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1672,214), corner_timer=-0.02
[16:44:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (869.0321, 854.6943) (added to group)
[16:44:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1672,214), corner_timer=0.30
[16:44:54] [INFO] [BloodDecal] Blood puddle created at (818.8233, 834.4115) (added to group)
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (882.3297, 869.3853) (added to group)
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (850.0474, 821.6931) (added to group)
[16:44:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (886.337, 873.7261) (added to group)
[16:44:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1672,214), corner_timer=-0.02
[16:44:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1672,214), corner_timer=0.30
[16:44:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1672,214), corner_timer=-0.02
[16:44:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1672,214), corner_timer=0.30
[16:44:55] [ENEMY] [Enemy6] Hit taken, damage: 10, health: 2/2 -> -8/2
[16:44:55] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.742354, 0.670008), lethal=true
[16:44:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:55] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1.35)
[16:44:55] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[16:44:55] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[16:44:55] [ENEMY] [Enemy5] [AllyDeath] Witnessed at (1950, 450), entering SEARCHING
[16:44:55] [ENEMY] [Enemy5] SEARCHING started: center=(1950, 450), radius=100, waypoints=5
[16:44:55] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[16:44:55] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[16:44:55] [INFO] [DeathAnim] Started - Angle: 42.1 deg, Index: 14
[16:44:55] [ENEMY] [Enemy6] Death animation started with hit direction: (0.742354, 0.670008)
[16:44:55] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=-101.3°, current=101.3°, player=(1672,214), corner_timer=0.00
[16:44:55] [ENEMY] [Enemy5] SEARCHING corner check: angle -68.2°
[16:44:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:55] [ENEMY] [Enemy1] Death animation completed
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (2007.381, 483.7508) (added to group)
[16:44:55] [ENEMY] [Enemy4] Death animation completed
[16:44:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1672,214), corner_timer=-0.02
[16:44:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1672,214), corner_timer=0.30
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (2008.62, 550.6918) (added to group)
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (2019.531, 562.5764) (added to group)
[16:44:55] [ENEMY] [Enemy5] SEARCHING corner check: angle 111.8°
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (2061.521, 509.9328) (added to group)
[16:44:55] [INFO] [BloodDecal] Blood puddle created at (2018.261, 566.9149) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (1994.713, 610.5138) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2022.741, 551.2053) (added to group)
[16:44:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2022.025, 564.3724) (added to group)
[16:44:56] [ENEMY] [Enemy6] Ragdoll activated
[16:44:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2071.832, 604.7249) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2038.938, 582.2164) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (1987.245, 604.7502) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2001.503, 606.3837) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2075.087, 611.5364) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2122.119, 585.5417) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2080.09, 578.8355) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2085.369, 628.6909) (added to group)
[16:44:56] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-134.2°, current=-134.8°, player=(1672,214), corner_timer=0.05
[16:44:56] [ENEMY] [Enemy5] SEARCHING: Player spotted! Transitioning to COMBAT
[16:44:56] [ENEMY] [Enemy5] State: SEARCHING -> COMBAT
[16:44:56] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[16:44:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1672,214), corner_timer=-0.02
[16:44:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:44:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:44:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:44:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:44:56] [ENEMY] [Enemy1] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:44:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:56] [ENEMY] [Enemy2] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:44:56] [ENEMY] [Enemy3] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:44:56] [ENEMY] [Enemy4] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:44:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:56] [ENEMY] [Enemy5] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:44:56] [ENEMY] [Enemy6] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:44:56] [ENEMY] [Enemy7] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:44:56] [ENEMY] [Enemy8] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:44:56] [ENEMY] [Enemy9] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:44:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:56] [ENEMY] [Enemy10] Death animation component initialized
[16:44:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:44:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:44:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:44:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:44:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:44:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:44:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:44:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:44:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:44:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:44:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:44:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[16:44:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:44:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:44:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:44:56] [INFO] [ScoreManager] Level started with 10 enemies
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2013.648, 630.8804) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2013.314, 664.0547) (added to group)
[16:44:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[16:44:56] [ENEMY] [Enemy1] Registered as sound listener
[16:44:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[16:44:56] [ENEMY] [Enemy2] Registered as sound listener
[16:44:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[16:44:56] [ENEMY] [Enemy3] Registered as sound listener
[16:44:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[16:44:56] [ENEMY] [Enemy4] Registered as sound listener
[16:44:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[16:44:56] [ENEMY] [Enemy5] Registered as sound listener
[16:44:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[16:44:56] [ENEMY] [Enemy6] Registered as sound listener
[16:44:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[16:44:56] [ENEMY] [Enemy7] Registered as sound listener
[16:44:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:44:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[16:44:56] [ENEMY] [Enemy8] Registered as sound listener
[16:44:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[16:44:56] [ENEMY] [Enemy9] Registered as sound listener
[16:44:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:44:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:44:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[16:44:56] [ENEMY] [Enemy10] Registered as sound listener
[16:44:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:44:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:44:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:44:56] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:44:56] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:44:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:44:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:44:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:44:56] [INFO] [LastChance] Found player: Player
[16:44:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:44:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:44:56] [INFO] [LastChance] Connected to player Died signal (C#)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2070.122, 605.7903) (added to group)
[16:44:56] [INFO] [BloodDecal] Blood puddle created at (2039.927, 681.0444) (added to group)
[16:44:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:44:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(445,904), corner_timer=0.30
[16:44:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(445,904), corner_timer=0.30
[16:44:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(379,826), corner_timer=-0.02
[16:44:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:44:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(379,826), corner_timer=-0.02
[16:44:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:44:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(375,823), corner_timer=0.30
[16:44:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(375,823), corner_timer=0.30
[16:44:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(338,786), corner_timer=-0.02
[16:44:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:44:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(338,786), corner_timer=0.30
[16:44:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(338,786), corner_timer=-0.02
[16:44:58] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:44:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(338,786), corner_timer=0.30
[16:44:59] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:44:59] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:44:59] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.997656, -0.068423), lethal=true
[16:44:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:44:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:44:59] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:44:59] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:44:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:44:59] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:44:59] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:44:59] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:44:59] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 14)
[16:44:59] [INFO] [DeathAnim] Started - Angle: -3.9 deg, Index: 11
[16:44:59] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997656, -0.068423)
[16:44:59] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=104.5°, current=-67.5°, player=(338,786), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:44:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(338,786), corner_timer=-0.02
[16:44:59] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:44:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(338,786), corner_timer=0.30
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (777.412, 746.9865) (added to group)
[16:44:59] [ENEMY] [Enemy1] Memory: medium confidence (0.51) - transitioning to PURSUING
[16:44:59] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (766.9617, 794.966) (added to group)
[16:44:59] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=84.9°, current=-33.8°, player=(338,786), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (803.3516, 728.8898) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (776.8149, 813.5438) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (779.5707, 810.373) (added to group)
[16:44:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(338,786), corner_timer=-0.02
[16:44:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:44:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(338,786), corner_timer=0.30
[16:44:59] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (855.1276, 845.4457) (added to group)
[16:44:59] [ENEMY] [Enemy3] Ragdoll activated
[16:44:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (791.8961, 761.9286) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (790.0015, 793.7746) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (810.787, 822.6379) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (814.7122, 815.6347) (added to group)
[16:44:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:44:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:44:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:44:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:44:59] [ENEMY] [Enemy1] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:44:59] [ENEMY] [Enemy2] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:44:59] [ENEMY] [Enemy3] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:44:59] [ENEMY] [Enemy4] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:44:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:59] [ENEMY] [Enemy5] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:44:59] [ENEMY] [Enemy6] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:44:59] [ENEMY] [Enemy7] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:44:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:59] [ENEMY] [Enemy8] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:44:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:44:59] [ENEMY] [Enemy9] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:44:59] [ENEMY] [Enemy10] Death animation component initialized
[16:44:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:44:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:44:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:44:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:44:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:44:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:44:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:44:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:44:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:44:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:44:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:44:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:44:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:44:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:44:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:44:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:44:59] [INFO] [ScoreManager] Level started with 10 enemies
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (796.0878, 763.2815) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (816.2029, 839.4598) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (802.0096, 815.7635) (added to group)
[16:44:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 15)
[16:44:59] [ENEMY] [Enemy1] Registered as sound listener
[16:44:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 16)
[16:44:59] [ENEMY] [Enemy2] Registered as sound listener
[16:44:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 17)
[16:44:59] [ENEMY] [Enemy3] Registered as sound listener
[16:44:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 18)
[16:44:59] [ENEMY] [Enemy4] Registered as sound listener
[16:44:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 19)
[16:44:59] [ENEMY] [Enemy5] Registered as sound listener
[16:44:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 20)
[16:44:59] [ENEMY] [Enemy6] Registered as sound listener
[16:44:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 21)
[16:44:59] [ENEMY] [Enemy7] Registered as sound listener
[16:44:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:44:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 22)
[16:44:59] [ENEMY] [Enemy8] Registered as sound listener
[16:44:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 23)
[16:44:59] [ENEMY] [Enemy9] Registered as sound listener
[16:44:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:44:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:44:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 24)
[16:44:59] [ENEMY] [Enemy10] Registered as sound listener
[16:44:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:44:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:44:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:44:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:44:59] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:44:59] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:44:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:44:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:44:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:44:59] [INFO] [LastChance] Found player: Player
[16:44:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:44:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:44:59] [INFO] [LastChance] Connected to player Died signal (C#)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (824.1143, 831.6857) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (867.9177, 818.0399) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (847.0355, 798.6797) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (910.5836, 905.9029) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (884.8284, 826.3512) (added to group)
[16:44:59] [INFO] [BloodDecal] Blood puddle created at (812.5522, 802.5149) (added to group)
[16:45:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:01] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:01] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(441,850), corner_timer=0.30
[16:45:01] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(441,850), corner_timer=0.30
[16:45:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(383,780), corner_timer=-0.02
[16:45:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(383,780), corner_timer=-0.02
[16:45:01] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(381,778), corner_timer=0.30
[16:45:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(381,778), corner_timer=0.30
[16:45:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(374,768), corner_timer=-0.02
[16:45:01] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(374,768), corner_timer=0.30
[16:45:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(374,768), corner_timer=-0.02
[16:45:02] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(374,768), corner_timer=0.30
[16:45:02] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:45:02] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:02] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999179, -0.040519), lethal=true
[16:45:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:02] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:02] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:02] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:45:02] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:45:02] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:02] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 23)
[16:45:02] [INFO] [DeathAnim] Started - Angle: -2.3 deg, Index: 11
[16:45:02] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999179, -0.040519)
[16:45:02] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=96.8°, current=-67.5°, player=(374,768), corner_timer=0.00
[16:45:02] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:45:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(374,768), corner_timer=-0.02
[16:45:02] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(374,768), corner_timer=0.30
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (765.7446, 790.7296) (added to group)
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (769.911, 747.4483) (added to group)
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (746.4359, 763.6047) (added to group)
[16:45:02] [ENEMY] [Enemy1] Memory: medium confidence (0.51) - transitioning to PURSUING
[16:45:02] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (763.1742, 780.7147) (added to group)
[16:45:02] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=80.0°, current=33.8°, player=(374,768), corner_timer=0.00
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (793.3505, 800.1992) (added to group)
[16:45:02] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (828.6412, 830.7843) (added to group)
[16:45:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(374,768), corner_timer=-0.02
[16:45:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (823.9562, 725.762) (added to group)
[16:45:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(374,768), corner_timer=0.30
[16:45:02] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:45:02] [ENEMY] [Enemy3] Ragdoll activated
[16:45:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:02] [INFO] [BloodDecal] Blood puddle created at (784.3712, 803.0841) (added to group)
[16:45:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:03] [ENEMY] [Enemy1] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:03] [ENEMY] [Enemy2] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:03] [ENEMY] [Enemy3] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:03] [ENEMY] [Enemy4] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:03] [ENEMY] [Enemy5] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:03] [ENEMY] [Enemy6] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:03] [ENEMY] [Enemy7] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:03] [ENEMY] [Enemy8] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:03] [ENEMY] [Enemy9] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:03] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:03] [ENEMY] [Enemy10] Death animation component initialized
[16:45:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:03] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:03] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:03] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[16:45:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:03] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:03] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:03] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (838.0684, 807.0842) (added to group)
[16:45:03] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 24)
[16:45:03] [ENEMY] [Enemy1] Registered as sound listener
[16:45:03] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 25)
[16:45:03] [ENEMY] [Enemy2] Registered as sound listener
[16:45:03] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 26)
[16:45:03] [ENEMY] [Enemy3] Registered as sound listener
[16:45:03] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 27)
[16:45:03] [ENEMY] [Enemy4] Registered as sound listener
[16:45:03] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 28)
[16:45:03] [ENEMY] [Enemy5] Registered as sound listener
[16:45:03] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 29)
[16:45:03] [ENEMY] [Enemy6] Registered as sound listener
[16:45:03] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 30)
[16:45:03] [ENEMY] [Enemy7] Registered as sound listener
[16:45:03] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:45:03] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 31)
[16:45:03] [ENEMY] [Enemy8] Registered as sound listener
[16:45:03] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 32)
[16:45:03] [ENEMY] [Enemy9] Registered as sound listener
[16:45:03] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:45:03] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 33)
[16:45:03] [ENEMY] [Enemy10] Registered as sound listener
[16:45:03] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:45:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:03] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:03] [INFO] [LastChance] Found player: Player
[16:45:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:03] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (812.8829, 810.1058) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (867.637, 781.8488) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (868.6877, 742.0895) (added to group)
[16:45:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:03] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:03] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (815.3256, 798.2467) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (856.3295, 767.3583) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (848.9126, 869.3399) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (837.7936, 861.5372) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (858.7687, 867.4542) (added to group)
[16:45:03] [INFO] [BloodDecal] Blood puddle created at (809.7173, 852.1247) (added to group)
[16:45:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:04] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:04] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1052), corner_timer=0.30
[16:45:04] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1052), corner_timer=0.30
[16:45:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(494,1131), corner_timer=-0.02
[16:45:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(494,1131), corner_timer=-0.02
[16:45:04] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(498,1135), corner_timer=0.30
[16:45:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(498,1135), corner_timer=0.30
[16:45:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(572,1209), corner_timer=-0.02
[16:45:05] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(576,1213), corner_timer=0.30
[16:45:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(650,1287), corner_timer=-0.02
[16:45:05] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(654,1291), corner_timer=0.30
[16:45:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(747,1317), corner_timer=-0.02
[16:45:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(753,1317), corner_timer=0.30
[16:45:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(857,1319), corner_timer=-0.02
[16:45:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(862,1320), corner_timer=0.30
[16:45:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(929,1337), corner_timer=-0.02
[16:45:06] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:45:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(929,1340), corner_timer=0.30
[16:45:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(929,1425), corner_timer=-0.02
[16:45:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:45:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(929,1428), corner_timer=0.30
[16:45:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(929,1449), corner_timer=-0.02
[16:45:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:45:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(929,1449), corner_timer=0.30
[16:45:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(929,1449), corner_timer=-0.02
[16:45:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:45:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(929,1449), corner_timer=0.30
[16:45:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(929,1449), corner_timer=-0.02
[16:45:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(929,1449), corner_timer=0.30
[16:45:08] [ENEMY] [Enemy10] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:45:08] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:08] [INFO] [ImpactEffects] spawn_blood_effect called at (1159.099, 1601.934), dir=(0.835598, 0.549341), lethal=true
[16:45:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:08] [INFO] [ImpactEffects] Wall found for blood splatter at (1195.705, 1626) (dist=43 px)
[16:45:08] [INFO] [BloodDecal] Blood puddle created at (1195.705, 1625) (added to group)
[16:45:08] [INFO] [ImpactEffects] Blood effect spawned at (1159.099, 1601.934) (scale=1.35)
[16:45:08] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[16:45:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:08] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 32)
[16:45:08] [INFO] [DeathAnim] Started - Angle: 33.3 deg, Index: 14
[16:45:08] [ENEMY] [Enemy10] Death animation started with hit direction: (0.835598, 0.549341)
[16:45:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(929,1449), corner_timer=-0.02
[16:45:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(929,1449), corner_timer=0.30
[16:45:08] [ENEMY] [Enemy10] Ragdoll activated
[16:45:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(929,1393), corner_timer=-0.02
[16:45:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(929,1387), corner_timer=0.30
[16:45:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(878,1304), corner_timer=-0.02
[16:45:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(874,1300), corner_timer=0.30
[16:45:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(800,1226), corner_timer=-0.02
[16:45:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(797,1222), corner_timer=0.30
[16:45:09] [ENEMY] [Enemy10] Death animation completed
[16:45:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(781,1124), corner_timer=-0.02
[16:45:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(781,1119), corner_timer=0.30
[16:45:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(723,1047), corner_timer=-0.02
[16:45:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(718,1046), corner_timer=0.30
[16:45:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(614,1044), corner_timer=-0.02
[16:45:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(609,1044), corner_timer=0.30
[16:45:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(507,1040), corner_timer=-0.02
[16:45:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(502,1039), corner_timer=0.30
[16:45:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(439,981), corner_timer=-0.02
[16:45:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(439,976), corner_timer=0.30
[16:45:11] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[16:45:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,900), corner_timer=-0.02
[16:45:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,896), corner_timer=0.30
[16:45:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,875), corner_timer=-0.02
[16:45:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,875), corner_timer=0.30
[16:45:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,829), corner_timer=-0.02
[16:45:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,824), corner_timer=0.30
[16:45:14] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=163.7°, current=-168.8°, player=(483,813), corner_timer=0.00
[16:45:14] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:45:14] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.8°, current=-132.5°, player=(483,792), corner_timer=0.00
[16:45:14] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[16:45:14] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[16:45:14] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-156.1°, current=-101.3°, player=(483,759), corner_timer=0.00
[16:45:14] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[16:45:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,757), corner_timer=-0.02
[16:45:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,756), corner_timer=0.30
[16:45:14] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[16:45:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,756), corner_timer=-0.02
[16:45:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,756), corner_timer=0.30
[16:45:14] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[16:45:14] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-138.0°, current=179.8°, player=(483,756), corner_timer=0.28
[16:45:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[16:45:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.9217, 908.2101), source=ENEMY (Enemy4), range=1469, listeners=32
[16:45:14] [INFO] [SoundPropagation] Cleaned up 23 invalid listeners
[16:45:14] [ENEMY] [Enemy2] Heard gunshot at (652.9217, 908.2101), source_type=1, intensity=0.01, distance=439
[16:45:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[16:45:14] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=67.8°, current=-101.3°, player=(483,756), corner_timer=0.00
[16:45:14] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[16:45:14] [INFO] [LastChance] Threat detected: Bullet
[16:45:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:14] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=178.4°, current=-133.6°, player=(483,756), corner_timer=0.00
[16:45:14] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[16:45:14] [INFO] [Player] Spawning blood effect at (483.93246, 756.06506), dir=(1, 0), lethal=False (C#)
[16:45:14] [INFO] [ImpactEffects] spawn_blood_effect called at (483.9325, 756.0651), dir=(1, 0), lethal=false
[16:45:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:45:14] [INFO] [ImpactEffects] Blood effect spawned at (483.9325, 756.0651) (scale=1)
[16:45:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[16:45:14] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[16:45:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[16:45:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.9921, 900.3383), source=ENEMY (Enemy4), range=1469, listeners=9
[16:45:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[16:45:15] [INFO] [LastChance] Threat detected: Bullet
[16:45:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:45:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.1881, 860.0007), shooter_id=27612848064078, bullet_pos=(523.1787, 803.2353)
[16:45:15] [INFO] [Bullet] Using shooter_position, distance=83.3333969116211
[16:45:15] [INFO] [Bullet] Distance to wall: 83.3333969116211 (5.67432423231714% of viewport)
[16:45:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,756), corner_timer=-0.02
[16:45:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:15] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:45:15] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:15] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999633, -0.027082), lethal=true
[16:45:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:15] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:15] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:15] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:15] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[16:45:15] [INFO] [DeathAnim] Started - Angle: -1.6 deg, Index: 11
[16:45:15] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999633, -0.027082)
[16:45:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,756), corner_timer=0.30
[16:45:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[16:45:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.9921, 900.3383), source=ENEMY (Enemy4), range=1469, listeners=8
[16:45:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[16:45:15] [INFO] [LastChance] Threat detected: @Area2D@2645
[16:45:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:45:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.1881, 860.0007), shooter_id=27612848064078, bullet_pos=(523.1787, 803.2353)
[16:45:15] [INFO] [Bullet] Using shooter_position, distance=83.3333969116211
[16:45:15] [INFO] [Bullet] Distance to wall: 83.3333969116211 (5.67432423231714% of viewport)
[16:45:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (546.6362, 798.038) (added to group)
[16:45:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[16:45:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.9921, 900.3383), source=ENEMY (Enemy4), range=1469, listeners=8
[16:45:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (542.9734, 782.5715) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (558.0593, 763.9461) (added to group)
[16:45:15] [INFO] [LastChance] Threat detected: @Area2D@2649
[16:45:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:45:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (559.3088, 768.3362) (added to group)
[16:45:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.1881, 860.0007), shooter_id=27612848064078, bullet_pos=(523.1787, 803.2353)
[16:45:15] [INFO] [Bullet] Using shooter_position, distance=83.3333969116211
[16:45:15] [INFO] [Bullet] Distance to wall: 83.3333969116211 (5.67432423231714% of viewport)
[16:45:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (595.0118, 792.6285) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (771.0544, 782.1327) (added to group)
[16:45:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[16:45:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.9921, 900.3383), source=ENEMY (Enemy4), range=1469, listeners=8
[16:45:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (607.2976, 748.3885) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (766.854, 761.4127) (added to group)
[16:45:15] [INFO] [LastChance] Threat detected: @Area2D@2657
[16:45:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:45:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.1881, 860.0007), shooter_id=27612848064078, bullet_pos=(523.1787, 803.2353)
[16:45:15] [INFO] [Bullet] Using shooter_position, distance=83.3333969116211
[16:45:15] [INFO] [Bullet] Distance to wall: 83.3333969116211 (5.67432423231714% of viewport)
[16:45:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:15] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[16:45:15] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:45:15] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[16:45:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,756), corner_timer=-0.02
[16:45:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:15] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=65.6°, current=-33.8°, player=(483,756), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,756), corner_timer=0.30
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (760.8521, 792.0927) (added to group)
[16:45:15] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (591.4117, 852.849) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (762.8361, 745.255) (added to group)
[16:45:15] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[16:45:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.9921, 900.3383), source=ENEMY (Enemy4), range=1469, listeners=8
[16:45:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (565.5629, 811.0444) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (813.1846, 812.4579) (added to group)
[16:45:15] [INFO] [LastChance] Threat detected: Bullet
[16:45:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:45:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (644.8239, 795.4742) (added to group)
[16:45:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.1881, 860.0007), shooter_id=27612848064078, bullet_pos=(523.1787, 803.2353)
[16:45:15] [INFO] [Bullet] Using shooter_position, distance=83.3333969116211
[16:45:15] [INFO] [Bullet] Distance to wall: 83.3333969116211 (5.67432423231714% of viewport)
[16:45:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (821.5649, 754.5067) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (829.908, 816.6082) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (797.5363, 811.5068) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (773.4861, 810.9412) (added to group)
[16:45:15] [ENEMY] [Enemy3] Ragdoll activated
[16:45:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:15] [ENEMY] [Enemy1] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:15] [ENEMY] [Enemy2] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:15] [ENEMY] [Enemy3] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:15] [ENEMY] [Enemy4] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:15] [ENEMY] [Enemy5] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:15] [ENEMY] [Enemy6] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:15] [ENEMY] [Enemy7] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:15] [ENEMY] [Enemy8] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:15] [ENEMY] [Enemy9] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:15] [ENEMY] [Enemy10] Death animation component initialized
[16:45:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:45:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:15] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (863.0883, 819.9517) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (800.9425, 799.9135) (added to group)
[16:45:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[16:45:15] [ENEMY] [Enemy1] Registered as sound listener
[16:45:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[16:45:15] [ENEMY] [Enemy2] Registered as sound listener
[16:45:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[16:45:15] [ENEMY] [Enemy3] Registered as sound listener
[16:45:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[16:45:15] [ENEMY] [Enemy4] Registered as sound listener
[16:45:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[16:45:15] [ENEMY] [Enemy5] Registered as sound listener
[16:45:15] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[16:45:15] [ENEMY] [Enemy6] Registered as sound listener
[16:45:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[16:45:15] [ENEMY] [Enemy7] Registered as sound listener
[16:45:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[16:45:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[16:45:15] [ENEMY] [Enemy8] Registered as sound listener
[16:45:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[16:45:15] [ENEMY] [Enemy9] Registered as sound listener
[16:45:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:45:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[16:45:15] [ENEMY] [Enemy10] Registered as sound listener
[16:45:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:45:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:15] [INFO] [LastChance] Found player: Player
[16:45:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:15] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (586.2973, 843.4371) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (849.054, 736.8182) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (830.864, 784.3661) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (823.5224, 809.3441) (added to group)
[16:45:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:15] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:15] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (796.7563, 804.4211) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (889.1021, 834.1122) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (857.6586, 822.3201) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (878.7558, 909.1154) (added to group)
[16:45:15] [INFO] [BloodDecal] Blood puddle created at (887.3495, 752.6422) (added to group)
[16:45:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:17] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:17] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,836), corner_timer=0.30
[16:45:17] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,836), corner_timer=0.30
[16:45:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,769), corner_timer=-0.02
[16:45:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,769), corner_timer=-0.02
[16:45:17] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,768), corner_timer=0.30
[16:45:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,768), corner_timer=0.30
[16:45:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,767), corner_timer=-0.02
[16:45:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,767), corner_timer=0.30
[16:45:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,767), corner_timer=-0.02
[16:45:18] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,767), corner_timer=0.30
[16:45:18] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:45:18] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:18] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.998787, -0.04923), lethal=true
[16:45:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:18] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:18] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:18] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:18] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:45:18] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:45:18] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:18] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 17)
[16:45:18] [INFO] [DeathAnim] Started - Angle: -2.8 deg, Index: 11
[16:45:18] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998787, -0.04923)
[16:45:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=77.1°, current=168.8°, player=(450,767), corner_timer=0.00
[16:45:18] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:45:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,767), corner_timer=-0.02
[16:45:18] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (788.7834, 766.7592) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (743.2747, 742.6924) (added to group)
[16:45:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,767), corner_timer=0.30
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (753.9288, 789.022) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (742.3597, 776.1897) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (771.3209, 737.72) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (810.0441, 765.0786) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (789.1865, 738.4572) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (802.5241, 749.9968) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (763.8866, 781.168) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (776.2722, 820.5186) (added to group)
[16:45:18] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (814.847, 804.7297) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (783.1061, 802.8694) (added to group)
[16:45:18] [ENEMY] [Enemy3] Ragdoll activated
[16:45:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (840.0734, 855.5727) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (881.0804, 878.4005) (added to group)
[16:45:18] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=127.8°, current=125.6°, player=(450,767), corner_timer=0.18
[16:45:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[16:45:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.0563, 657.0981), source=ENEMY (Enemy2), range=1469, listeners=17
[16:45:18] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[16:45:18] [ENEMY] [Enemy1] Heard gunshot at (536.0563, 657.0981), source_type=1, intensity=0.02, distance=387
[16:45:18] [ENEMY] [Enemy4] Heard gunshot at (536.0563, 657.0981), source_type=1, intensity=0.02, distance=359
[16:45:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.3°, current=168.8°, player=(450,767), corner_timer=0.00
[16:45:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.7624, 715.2784), shooter_id=31729993647831, bullet_pos=(500.7624, 715.2784)
[16:45:18] [INFO] [Bullet] Using shooter_position, distance=0
[16:45:18] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[16:45:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:45:18] [INFO] [Bullet] Starting wall penetration at (500.7624, 715.2784)
[16:45:18] [INFO] [LastChance] Threat detected: Bullet
[16:45:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:18] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.3°, current=33.8°, player=(450,767), corner_timer=0.00
[16:45:18] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:45:18] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:45:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:45:18] [INFO] [Bullet] Exiting penetration at (472.1444, 752.1401) after traveling 41.6666679382324 pixels through wall
[16:45:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (876.1959, 797.1636) (added to group)
[16:45:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,767), corner_timer=-0.02
[16:45:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,767), corner_timer=0.30
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (835.9793, 837.4038) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (890.0347, 867.1342) (added to group)
[16:45:18] [INFO] [BloodDecal] Blood puddle created at (815.2216, 801.6051) (added to group)
[16:45:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[16:45:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.7554, 660.8943), source=ENEMY (Enemy2), range=1469, listeners=9
[16:45:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:18] [INFO] [LastChance] Threat detected: Bullet
[16:45:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:18] [ENEMY] [Enemy1] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:18] [ENEMY] [Enemy2] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:18] [ENEMY] [Enemy3] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:18] [ENEMY] [Enemy4] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:18] [ENEMY] [Enemy5] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:18] [ENEMY] [Enemy6] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:18] [ENEMY] [Enemy7] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:18] [ENEMY] [Enemy8] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:18] [ENEMY] [Enemy9] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:18] [ENEMY] [Enemy10] Death animation component initialized
[16:45:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:45:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:18] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:19] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[16:45:19] [ENEMY] [Enemy1] Registered as sound listener
[16:45:19] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[16:45:19] [ENEMY] [Enemy2] Registered as sound listener
[16:45:19] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[16:45:19] [ENEMY] [Enemy3] Registered as sound listener
[16:45:19] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[16:45:19] [ENEMY] [Enemy4] Registered as sound listener
[16:45:19] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[16:45:19] [ENEMY] [Enemy5] Registered as sound listener
[16:45:19] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[16:45:19] [ENEMY] [Enemy6] Registered as sound listener
[16:45:19] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[16:45:19] [ENEMY] [Enemy7] Registered as sound listener
[16:45:19] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:45:19] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[16:45:19] [ENEMY] [Enemy8] Registered as sound listener
[16:45:19] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[16:45:19] [ENEMY] [Enemy9] Registered as sound listener
[16:45:19] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[16:45:19] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[16:45:19] [ENEMY] [Enemy10] Registered as sound listener
[16:45:19] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:45:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:19] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:19] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:19] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:19] [INFO] [LastChance] Found player: Player
[16:45:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:19] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:20] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:20] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(436,863), corner_timer=0.30
[16:45:20] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(436,863), corner_timer=0.30
[16:45:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(385,791), corner_timer=-0.02
[16:45:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(385,791), corner_timer=-0.02
[16:45:20] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(384,788), corner_timer=0.30
[16:45:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(384,788), corner_timer=0.30
[16:45:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(379,779), corner_timer=-0.02
[16:45:21] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(379,779), corner_timer=0.30
[16:45:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(379,779), corner_timer=-0.02
[16:45:21] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(379,779), corner_timer=0.30
[16:45:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(379,779), corner_timer=-0.02
[16:45:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(379,779), corner_timer=0.30
[16:45:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(379,779), corner_timer=-0.02
[16:45:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(379,779), corner_timer=0.30
[16:45:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(379,779), corner_timer=-0.02
[16:45:22] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:45:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(379,779), corner_timer=0.30
[16:45:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(379,779), corner_timer=-0.02
[16:45:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:45:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(379,779), corner_timer=0.30
[16:45:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(379,779), corner_timer=-0.02
[16:45:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:45:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(379,779), corner_timer=0.30
[16:45:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(379,779), corner_timer=-0.02
[16:45:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:45:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(379,779), corner_timer=0.30
[16:45:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(379,779), corner_timer=-0.02
[16:45:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(379,779), corner_timer=0.30
[16:45:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(379,779), corner_timer=-0.02
[16:45:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(379,779), corner_timer=0.30
[16:45:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(379,779), corner_timer=-0.02
[16:45:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(379,779), corner_timer=-0.02
[16:45:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:31] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:45:31] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:31] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.994601, -0.103773), lethal=true
[16:45:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:31] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:31] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:31] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:45:31] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:45:31] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:31] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 18)
[16:45:31] [INFO] [DeathAnim] Started - Angle: -6.0 deg, Index: 11
[16:45:31] [ENEMY] [Enemy3] Death animation started with hit direction: (0.994601, -0.103773)
[16:45:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=95.2°, current=168.8°, player=(379,779), corner_timer=0.00
[16:45:31] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:45:31] [ENEMY] [Enemy1] Memory: medium confidence (0.54) - transitioning to PURSUING
[16:45:31] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:45:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:31] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=79.6°, current=-157.5°, player=(379,779), corner_timer=0.00
[16:45:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:31] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:45:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (760.8624, 736.4706) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (776.1121, 731.7599) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (763.2532, 781.218) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (789.1297, 717.7819) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (800.4437, 786.4458) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (775.7195, 760.7006) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (806.7311, 752.5131) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (774.9258, 733.9626) (added to group)
[16:45:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (761.6677, 772.4941) (added to group)
[16:45:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (793.0518, 792.7095) (added to group)
[16:45:31] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (799.3354, 792.6192) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (797.7078, 782.1416) (added to group)
[16:45:31] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (825.8403, 733.647) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (809.1447, 778.4988) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (791.958, 769.8228) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (834.1624, 814.6649) (added to group)
[16:45:31] [ENEMY] [Enemy3] Ragdoll activated
[16:45:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (838.1411, 765.4589) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (865.3711, 855.956) (added to group)
[16:45:31] [INFO] [BloodDecal] Blood puddle created at (908.8049, 830.0021) (added to group)
[16:45:32] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=149.8°, current=148.5°, player=(379,779), corner_timer=0.08
[16:45:32] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[16:45:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.8527, 672.2827), source=ENEMY (Enemy2), range=1469, listeners=18
[16:45:32] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[16:45:32] [ENEMY] [Enemy4] Heard gunshot at (562.8527, 672.2827), source_type=1, intensity=0.02, distance=329
[16:45:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:32] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-164.0°, current=-101.3°, player=(379,779), corner_timer=0.00
[16:45:32] [INFO] [LastChance] Threat detected: Bullet
[16:45:32] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:32] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:45:32] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:45:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,779), corner_timer=0.30
[16:45:32] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[16:45:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.3554, 713.0338), shooter_id=32885524401583, bullet_pos=(40.2344, 985.5506)
[16:45:32] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[16:45:32] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[16:45:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.5518, 676.0789), source=ENEMY (Enemy2), range=1469, listeners=9
[16:45:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:32] [INFO] [LastChance] Threat detected: @Area2D@3264
[16:45:32] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:32] [INFO] [Player] Spawning blood effect at (379.07843, 779.26697), dir=(1, 0), lethal=False (C#)
[16:45:32] [INFO] [ImpactEffects] spawn_blood_effect called at (379.0784, 779.267), dir=(1, 0), lethal=false
[16:45:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:45:32] [INFO] [ImpactEffects] Blood effect spawned at (379.0784, 779.267) (scale=1)
[16:45:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[16:45:32] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[16:45:32] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[16:45:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.5518, 676.0789), source=ENEMY (Enemy2), range=1469, listeners=9
[16:45:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(379,779), corner_timer=-0.02
[16:45:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:32] [ENEMY] [Enemy1] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:32] [ENEMY] [Enemy2] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:32] [ENEMY] [Enemy3] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:32] [ENEMY] [Enemy4] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:32] [ENEMY] [Enemy5] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:32] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:32] [ENEMY] [Enemy6] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:32] [ENEMY] [Enemy7] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:32] [ENEMY] [Enemy8] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:32] [ENEMY] [Enemy9] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:32] [ENEMY] [Enemy10] Death animation component initialized
[16:45:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[16:45:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:32] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[16:45:32] [ENEMY] [Enemy1] Registered as sound listener
[16:45:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[16:45:32] [ENEMY] [Enemy2] Registered as sound listener
[16:45:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[16:45:32] [ENEMY] [Enemy3] Registered as sound listener
[16:45:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[16:45:32] [ENEMY] [Enemy4] Registered as sound listener
[16:45:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[16:45:32] [ENEMY] [Enemy5] Registered as sound listener
[16:45:32] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[16:45:32] [ENEMY] [Enemy6] Registered as sound listener
[16:45:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[16:45:32] [ENEMY] [Enemy7] Registered as sound listener
[16:45:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:45:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[16:45:32] [ENEMY] [Enemy8] Registered as sound listener
[16:45:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[16:45:32] [ENEMY] [Enemy9] Registered as sound listener
[16:45:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:45:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[16:45:32] [ENEMY] [Enemy10] Registered as sound listener
[16:45:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:45:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:32] [INFO] [LastChance] Found player: Player
[16:45:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:32] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:32] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:32] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:32] [INFO] [BloodDecal] Blood puddle created at (473.1273, 761.6519) (added to group)
[16:45:32] [INFO] [BloodDecal] Blood puddle created at (520.3344, 790.6068) (added to group)
[16:45:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:33] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:33] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,869), corner_timer=0.30
[16:45:33] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,869), corner_timer=0.30
[16:45:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,782), corner_timer=-0.02
[16:45:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,782), corner_timer=-0.02
[16:45:34] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,780), corner_timer=0.30
[16:45:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,780), corner_timer=0.30
[16:45:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,773), corner_timer=-0.02
[16:45:34] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,773), corner_timer=0.30
[16:45:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,773), corner_timer=-0.02
[16:45:34] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,773), corner_timer=0.30
[16:45:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,773), corner_timer=-0.02
[16:45:35] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:35] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:45:35] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:35] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.996998, -0.077428), lethal=true
[16:45:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:35] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:35] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:45:35] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:45:35] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 18)
[16:45:35] [INFO] [DeathAnim] Started - Angle: -4.4 deg, Index: 11
[16:45:35] [ENEMY] [Enemy3] Death animation started with hit direction: (0.996998, -0.077428)
[16:45:35] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=77.4°, current=-67.5°, player=(450,773), corner_timer=0.00
[16:45:35] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:45:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,773), corner_timer=0.30
[16:45:35] [ENEMY] [Enemy1] Memory: medium confidence (0.52) - transitioning to PURSUING
[16:45:35] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:45:35] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.5°, current=-157.5°, player=(450,773), corner_timer=0.00
[16:45:35] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (783.7598, 800.3837) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (790.4062, 771.5731) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (800.9185, 766.3735) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (782.04, 783.5707) (added to group)
[16:45:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,773), corner_timer=-0.02
[16:45:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (765.2942, 788.3821) (added to group)
[16:45:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,773), corner_timer=0.30
[16:45:35] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (766.908, 796.0746) (added to group)
[16:45:35] [ENEMY] [Enemy3] Ragdoll activated
[16:45:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (818.2938, 770.0685) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (793.8929, 761.09) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (844.2123, 783.794) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (874.0197, 836.3025) (added to group)
[16:45:35] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (869.3443, 817.5546) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (823.6425, 826.9267) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (904.2046, 792.0936) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (878.2275, 844.6347) (added to group)
[16:45:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (811.1436, 833.9553) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (813.5245, 856.4177) (added to group)
[16:45:35] [INFO] [BloodDecal] Blood puddle created at (847.1828, 766.076) (added to group)
[16:45:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:36] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:36] [ENEMY] [Enemy1] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:36] [ENEMY] [Enemy2] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:36] [ENEMY] [Enemy3] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:36] [ENEMY] [Enemy4] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:36] [ENEMY] [Enemy5] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:36] [ENEMY] [Enemy6] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:36] [ENEMY] [Enemy7] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:36] [ENEMY] [Enemy8] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:36] [ENEMY] [Enemy9] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:36] [ENEMY] [Enemy10] Death animation component initialized
[16:45:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:36] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:36] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:36] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[16:45:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:36] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:36] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:36] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:36] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[16:45:36] [ENEMY] [Enemy1] Registered as sound listener
[16:45:36] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[16:45:36] [ENEMY] [Enemy2] Registered as sound listener
[16:45:36] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[16:45:36] [ENEMY] [Enemy3] Registered as sound listener
[16:45:36] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[16:45:36] [ENEMY] [Enemy4] Registered as sound listener
[16:45:36] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[16:45:36] [ENEMY] [Enemy5] Registered as sound listener
[16:45:36] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[16:45:36] [ENEMY] [Enemy6] Registered as sound listener
[16:45:36] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[16:45:36] [ENEMY] [Enemy7] Registered as sound listener
[16:45:36] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:45:36] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[16:45:36] [ENEMY] [Enemy8] Registered as sound listener
[16:45:36] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[16:45:36] [ENEMY] [Enemy9] Registered as sound listener
[16:45:36] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:45:36] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[16:45:36] [ENEMY] [Enemy10] Registered as sound listener
[16:45:36] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:45:36] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:36] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:36] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:36] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:36] [INFO] [LastChance] Found player: Player
[16:45:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:36] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:37] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:37] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[16:45:37] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[16:45:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1193), corner_timer=-0.02
[16:45:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1193), corner_timer=-0.02
[16:45:37] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1188), corner_timer=0.30
[16:45:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1188), corner_timer=0.30
[16:45:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1083), corner_timer=-0.02
[16:45:38] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1078), corner_timer=0.30
[16:45:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,973), corner_timer=-0.02
[16:45:38] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,968), corner_timer=0.30
[16:45:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(448,864), corner_timer=-0.02
[16:45:38] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:38] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(446,859), corner_timer=0.30
[16:45:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(383,781), corner_timer=-0.02
[16:45:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(379,777), corner_timer=0.30
[16:45:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(223,742), corner_timer=-0.02
[16:45:39] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:45:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(218,739), corner_timer=0.30
[16:45:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(146,728), corner_timer=-0.02
[16:45:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:45:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(143,728), corner_timer=0.30
[16:45:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(129,728), corner_timer=-0.02
[16:45:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:45:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(127,728), corner_timer=0.30
[16:45:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(80,717), corner_timer=-0.02
[16:45:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:45:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(80,714), corner_timer=0.30
[16:45:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(87,629), corner_timer=-0.02
[16:45:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(89,626), corner_timer=0.30
[16:45:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(119,594), corner_timer=-0.02
[16:45:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(119,594), corner_timer=0.30
[16:45:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(119,594), corner_timer=-0.02
[16:45:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:45:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(119,594), corner_timer=-0.02
[16:45:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,594), corner_timer=-0.02
[16:45:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,594), corner_timer=0.30
[16:45:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:45] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-163.9°, current=-123.8°, player=(119,582), corner_timer=0.00
[16:45:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:45:45] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.3°, current=66.9°, player=(119,576), corner_timer=0.00
[16:45:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(119,576), corner_timer=-0.02
[16:45:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(119,572), corner_timer=0.30
[16:45:45] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[16:45:45] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[16:45:45] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-153.2°, current=168.8°, player=(121,556), corner_timer=0.00
[16:45:45] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[16:45:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(166,501), corner_timer=-0.02
[16:45:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(169,498), corner_timer=0.30
[16:45:46] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-150.9°, current=159.5°, player=(185,483), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:46] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[16:45:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(538.9047, 680.4125), source=ENEMY (Enemy3), range=1469, listeners=28
[16:45:46] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[16:45:46] [ENEMY] [Enemy1] Heard gunshot at (538.9047, 680.4125), source_type=1, intensity=0.02, distance=408
[16:45:46] [ENEMY] [Enemy2] Heard gunshot at (538.9047, 680.4125), source_type=1, intensity=0.07, distance=191
[16:45:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[16:45:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=132.8°, current=-108.8°, player=(191,467), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-158.5°, current=-18.8°, player=(191,467), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[16:45:46] [INFO] [LastChance] Threat detected: Bullet
[16:45:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:46] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[16:45:46] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-144.1°, current=-144.5°, player=(193,436), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[16:45:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(193,436), corner_timer=-0.02
[16:45:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:45:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(193,432), corner_timer=0.30
[16:45:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(476.9062, 652.3628), shooter_id=38734028343841, bullet_pos=(47.98687, 395.4034)
[16:45:46] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[16:45:46] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[16:45:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:45:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[16:45:46] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[16:45:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:46] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:46] [ENEMY] [Enemy1] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:46] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:46] [ENEMY] [Enemy2] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:46] [ENEMY] [Enemy3] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:46] [ENEMY] [Enemy4] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:46] [ENEMY] [Enemy5] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:46] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:46] [ENEMY] [Enemy6] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:46] [ENEMY] [Enemy7] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:46] [ENEMY] [Enemy8] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:46] [ENEMY] [Enemy9] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:46] [ENEMY] [Enemy10] Death animation component initialized
[16:45:46] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:46] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:46] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:46] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:46] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:45:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:46] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:46] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:46] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:46] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:45:46] [ENEMY] [Enemy1] Registered as sound listener
[16:45:46] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:45:46] [ENEMY] [Enemy2] Registered as sound listener
[16:45:46] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:45:46] [ENEMY] [Enemy3] Registered as sound listener
[16:45:46] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:45:46] [ENEMY] [Enemy4] Registered as sound listener
[16:45:46] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:45:46] [ENEMY] [Enemy5] Registered as sound listener
[16:45:46] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:45:46] [ENEMY] [Enemy6] Registered as sound listener
[16:45:46] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:45:46] [ENEMY] [Enemy7] Registered as sound listener
[16:45:46] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:45:46] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:45:46] [ENEMY] [Enemy8] Registered as sound listener
[16:45:46] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:45:46] [ENEMY] [Enemy9] Registered as sound listener
[16:45:46] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:45:46] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:45:46] [ENEMY] [Enemy10] Registered as sound listener
[16:45:46] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:45:46] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:46] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:46] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:46] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:46] [INFO] [LastChance] Found player: Player
[16:45:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:46] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:48] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:48] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(273,945), corner_timer=0.30
[16:45:48] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(273,945), corner_timer=0.30
[16:45:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(173,933), corner_timer=-0.02
[16:45:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(173,933), corner_timer=-0.02
[16:45:48] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(168,933), corner_timer=0.30
[16:45:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(168,933), corner_timer=0.30
[16:45:48] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=165.2°, current=-168.8°, player=(119,903), corner_timer=0.00
[16:45:48] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:45:48] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.1°, current=-8.8°, player=(112,895), corner_timer=0.00
[16:45:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(88,871), corner_timer=-0.02
[16:45:48] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(84,868), corner_timer=0.30
[16:45:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(80,797), corner_timer=-0.02
[16:45:49] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(80,795), corner_timer=0.30
[16:45:49] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[16:45:49] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[16:45:49] [ENEMY] [Enemy2] Memory: high confidence (0.85) - transitioning to PURSUING
[16:45:49] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[16:45:49] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[16:45:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-171.5°, current=-101.3°, player=(80,792), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=143.0°, current=168.8°, player=(80,791), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy2] PURSUING corner check: angle 53.3°
[16:45:49] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[16:45:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:49] [ENEMY] [Enemy1] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:49] [ENEMY] [Enemy2] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:49] [ENEMY] [Enemy3] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:49] [ENEMY] [Enemy4] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:49] [ENEMY] [Enemy5] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:49] [ENEMY] [Enemy6] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:49] [ENEMY] [Enemy7] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:49] [ENEMY] [Enemy8] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:49] [ENEMY] [Enemy9] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:49] [ENEMY] [Enemy10] Death animation component initialized
[16:45:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:45:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:49] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[16:45:49] [ENEMY] [Enemy1] Registered as sound listener
[16:45:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[16:45:49] [ENEMY] [Enemy2] Registered as sound listener
[16:45:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[16:45:49] [ENEMY] [Enemy3] Registered as sound listener
[16:45:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[16:45:49] [ENEMY] [Enemy4] Registered as sound listener
[16:45:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[16:45:49] [ENEMY] [Enemy5] Registered as sound listener
[16:45:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[16:45:49] [ENEMY] [Enemy6] Registered as sound listener
[16:45:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[16:45:49] [ENEMY] [Enemy7] Registered as sound listener
[16:45:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:45:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[16:45:49] [ENEMY] [Enemy8] Registered as sound listener
[16:45:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[16:45:49] [ENEMY] [Enemy9] Registered as sound listener
[16:45:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:45:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[16:45:49] [ENEMY] [Enemy10] Registered as sound listener
[16:45:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:45:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:49] [INFO] [LastChance] Found player: Player
[16:45:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:49] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:49] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:49] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:50] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:50] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,887), corner_timer=0.30
[16:45:50] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,887), corner_timer=0.30
[16:45:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,846), corner_timer=-0.02
[16:45:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,846), corner_timer=-0.02
[16:45:51] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,841), corner_timer=0.30
[16:45:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,841), corner_timer=0.30
[16:45:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,762), corner_timer=-0.02
[16:45:51] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,760), corner_timer=0.30
[16:45:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,756), corner_timer=-0.02
[16:45:51] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,756), corner_timer=0.30
[16:45:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(433,770), corner_timer=-0.02
[16:45:52] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(431,773), corner_timer=0.30
[16:45:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(399,808), corner_timer=-0.02
[16:45:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(399,808), corner_timer=0.30
[16:45:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(399,808), corner_timer=-0.02
[16:45:53] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:45:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(399,808), corner_timer=0.30
[16:45:53] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 2/2 -> -8/2
[16:45:53] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:53] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.98346, -0.181123), lethal=true
[16:45:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:53] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:53] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:53] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:53] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:45:53] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:45:53] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:53] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 29)
[16:45:53] [INFO] [DeathAnim] Started - Angle: -10.4 deg, Index: 11
[16:45:53] [ENEMY] [Enemy3] Death animation started with hit direction: (0.98346, -0.181123)
[16:45:53] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=90.2°, current=45.0°, player=(399,808), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:45:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (750.9595, 738.1049) (added to group)
[16:45:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(399,808), corner_timer=-0.02
[16:45:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:45:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(399,808), corner_timer=0.30
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (762.4501, 752.8454) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (791.2622, 729.4102) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (768.0751, 742.2553) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (761.931, 779.7243) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (793.2214, 755.4286) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (745.8569, 754.6272) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (791.3495, 784.0713) (added to group)
[16:45:53] [ENEMY] [Enemy1] Memory: medium confidence (0.51) - transitioning to PURSUING
[16:45:53] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (759.2735, 759.5466) (added to group)
[16:45:53] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.8°, current=168.8°, player=(399,808), corner_timer=0.00
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (749.2792, 747.6364) (added to group)
[16:45:53] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (788.122, 779.4809) (added to group)
[16:45:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (793.0833, 800.3146) (added to group)
[16:45:53] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:45:53] [ENEMY] [Enemy3] Ragdoll activated
[16:45:53] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:53] [ENEMY] [Enemy1] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:53] [ENEMY] [Enemy2] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:53] [ENEMY] [Enemy3] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:53] [ENEMY] [Enemy4] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:53] [ENEMY] [Enemy5] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:53] [ENEMY] [Enemy6] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:53] [ENEMY] [Enemy7] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:53] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:53] [ENEMY] [Enemy8] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:53] [ENEMY] [Enemy9] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:53] [ENEMY] [Enemy10] Death animation component initialized
[16:45:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:45:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:53] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 30)
[16:45:53] [ENEMY] [Enemy1] Registered as sound listener
[16:45:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 31)
[16:45:53] [ENEMY] [Enemy2] Registered as sound listener
[16:45:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 32)
[16:45:53] [ENEMY] [Enemy3] Registered as sound listener
[16:45:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 33)
[16:45:53] [ENEMY] [Enemy4] Registered as sound listener
[16:45:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 34)
[16:45:53] [ENEMY] [Enemy5] Registered as sound listener
[16:45:53] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 35)
[16:45:53] [ENEMY] [Enemy6] Registered as sound listener
[16:45:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 36)
[16:45:53] [ENEMY] [Enemy7] Registered as sound listener
[16:45:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:45:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 37)
[16:45:53] [ENEMY] [Enemy8] Registered as sound listener
[16:45:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 38)
[16:45:53] [ENEMY] [Enemy9] Registered as sound listener
[16:45:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:45:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 39)
[16:45:53] [ENEMY] [Enemy10] Registered as sound listener
[16:45:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[16:45:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:53] [INFO] [LastChance] Found player: Player
[16:45:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:53] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (835.1795, 734.4453) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (812.4439, 839.9164) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (815.1866, 776.212) (added to group)
[16:45:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:53] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:53] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (836.008, 839.2495) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (822.3743, 844.7132) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (863.4587, 855.5888) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (831.1906, 830.7051) (added to group)
[16:45:53] [INFO] [BloodDecal] Blood puddle created at (812.2145, 844.0195) (added to group)
[16:45:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,874), corner_timer=0.30
[16:45:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,874), corner_timer=0.30
[16:45:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,828), corner_timer=-0.02
[16:45:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,828), corner_timer=-0.02
[16:45:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,828), corner_timer=0.30
[16:45:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,828), corner_timer=0.30
[16:45:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,790), corner_timer=-0.02
[16:45:55] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,786), corner_timer=0.30
[16:45:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,766), corner_timer=-0.02
[16:45:56] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:45:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,766), corner_timer=0.30
[16:45:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,766), corner_timer=-0.02
[16:45:56] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:45:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,766), corner_timer=0.30
[16:45:56] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:45:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:45:56] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.996165, -0.087496), lethal=true
[16:45:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:45:56] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:45:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:45:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:45:56] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:45:56] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:45:56] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:45:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 38)
[16:45:56] [INFO] [DeathAnim] Started - Angle: -5.0 deg, Index: 11
[16:45:56] [ENEMY] [Enemy3] Death animation started with hit direction: (0.996165, -0.087496)
[16:45:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=77.0°, current=168.8°, player=(450,766), corner_timer=0.00
[16:45:56] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:45:56] [ENEMY] [Enemy1] Memory: medium confidence (0.54) - transitioning to PURSUING
[16:45:56] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[16:45:56] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.2°, current=-157.5°, player=(450,766), corner_timer=0.00
[16:45:56] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[16:45:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,766), corner_timer=-0.02
[16:45:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:45:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,766), corner_timer=0.30
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (751.7643, 776.2397) (added to group)
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (779.8175, 796.8278) (added to group)
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (742.845, 737.6721) (added to group)
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (771.8265, 725.6083) (added to group)
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (766.6532, 745.5637) (added to group)
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (781.3745, 771.2361) (added to group)
[16:45:56] [INFO] [BloodDecal] Blood puddle created at (775.6492, 750.7191) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (786.244, 733.0167) (added to group)
[16:45:57] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (783.3954, 744.8968) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (841.1694, 775.0842) (added to group)
[16:45:57] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (813.5541, 777.046) (added to group)
[16:45:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:57] [ENEMY] [Enemy3] Ragdoll activated
[16:45:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (842.4403, 764.026) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (793.6788, 821.8508) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (854.5804, 836.0417) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (894.1497, 801.5157) (added to group)
[16:45:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=128.2°, current=125.9°, player=(450,766), corner_timer=0.18
[16:45:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[16:45:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.0563, 657.0981), source=ENEMY (Enemy2), range=1469, listeners=38
[16:45:57] [INFO] [SoundPropagation] Cleaned up 29 invalid listeners
[16:45:57] [ENEMY] [Enemy4] Heard gunshot at (536.0563, 657.0981), source_type=1, intensity=0.02, distance=359
[16:45:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:57] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-159.1°, current=-67.5°, player=(450,766), corner_timer=0.00
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (784.34, 790.1373) (added to group)
[16:45:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.3785, 715.0438), shooter_id=44868617375159, bullet_pos=(500.3785, 715.0438)
[16:45:57] [INFO] [Bullet] Using shooter_position, distance=0
[16:45:57] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[16:45:57] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[16:45:57] [INFO] [Bullet] Starting wall penetration at (500.3785, 715.0438)
[16:45:57] [INFO] [LastChance] Threat detected: Bullet
[16:45:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:57] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:45:57] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:45:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:45:57] [INFO] [Bullet] Exiting penetration at (471.5175, 751.7156) after traveling 41.6666717529297 pixels through wall
[16:45:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (830.1079, 774.2359) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (866.4626, 767.8326) (added to group)
[16:45:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,766), corner_timer=-0.02
[16:45:57] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:45:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[16:45:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.7554, 660.8943), source=ENEMY (Enemy2), range=1469, listeners=9
[16:45:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,766), corner_timer=0.30
[16:45:57] [INFO] [LastChance] Threat detected: Bullet
[16:45:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:45:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (897.7828, 879.0105) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (864.7019, 850.1113) (added to group)
[16:45:57] [INFO] [Player] Spawning blood effect at (450, 766.4444), dir=(1, 0), lethal=False (C#)
[16:45:57] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 766.4444), dir=(1, 0), lethal=false
[16:45:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:45:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:45:57] [INFO] [ImpactEffects] Blood effect spawned at (450, 766.4444) (scale=1)
[16:45:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[16:45:57] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[16:45:57] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[16:45:57] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[16:45:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.7554, 660.8943), source=ENEMY (Enemy2), range=1469, listeners=9
[16:45:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:45:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:45:57] [INFO] [LastChance] Threat detected: Bullet
[16:45:57] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[16:45:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:45:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:45:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:45:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:45:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:45:57] [ENEMY] [Enemy1] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:45:57] [ENEMY] [Enemy2] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:45:57] [ENEMY] [Enemy3] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:45:57] [ENEMY] [Enemy4] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:45:57] [ENEMY] [Enemy5] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:45:57] [ENEMY] [Enemy6] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:45:57] [ENEMY] [Enemy7] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:45:57] [ENEMY] [Enemy8] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:45:57] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:57] [ENEMY] [Enemy9] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:45:57] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:45:57] [ENEMY] [Enemy10] Death animation component initialized
[16:45:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:45:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:45:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:45:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:45:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:45:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:45:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:45:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:45:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:45:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:45:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:45:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:45:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:45:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:45:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:45:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:45:57] [INFO] [ScoreManager] Level started with 10 enemies
[16:45:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[16:45:57] [ENEMY] [Enemy1] Registered as sound listener
[16:45:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[16:45:57] [ENEMY] [Enemy2] Registered as sound listener
[16:45:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[16:45:57] [ENEMY] [Enemy3] Registered as sound listener
[16:45:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[16:45:57] [ENEMY] [Enemy4] Registered as sound listener
[16:45:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[16:45:57] [ENEMY] [Enemy5] Registered as sound listener
[16:45:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[16:45:57] [ENEMY] [Enemy6] Registered as sound listener
[16:45:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[16:45:57] [ENEMY] [Enemy7] Registered as sound listener
[16:45:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[16:45:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[16:45:57] [ENEMY] [Enemy8] Registered as sound listener
[16:45:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[16:45:57] [ENEMY] [Enemy9] Registered as sound listener
[16:45:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:45:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:45:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[16:45:57] [ENEMY] [Enemy10] Registered as sound listener
[16:45:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:45:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:45:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:45:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:45:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:45:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:45:57] [INFO] [LastChance] Found player: Player
[16:45:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:45:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:45:57] [INFO] [LastChance] Connected to player Died signal (C#)
[16:45:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:45:57] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:45:57] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (495.8944, 767.4433) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (546.6862, 805.1463) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (505.4753, 769.6346) (added to group)
[16:45:57] [INFO] [BloodDecal] Blood puddle created at (646.1773, 806.6401) (added to group)
[16:45:58] [INFO] [BloodDecal] Blood puddle created at (674.7388, 791.8467) (added to group)
[16:45:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:45:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,888), corner_timer=0.30
[16:45:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,888), corner_timer=0.30
[16:45:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,860), corner_timer=-0.02
[16:45:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:45:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,860), corner_timer=-0.02
[16:45:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:45:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,860), corner_timer=0.30
[16:45:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,860), corner_timer=0.30
[16:45:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,860), corner_timer=-0.02
[16:45:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:45:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,860), corner_timer=0.30
[16:46:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,860), corner_timer=-0.02
[16:46:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:46:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(449,860), corner_timer=0.30
[16:46:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(382,860), corner_timer=-0.02
[16:46:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:46:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(377,861), corner_timer=0.30
[16:46:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(288,897), corner_timer=-0.02
[16:46:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:46:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(282,897), corner_timer=0.30
[16:46:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(164,897), corner_timer=-0.02
[16:46:01] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:46:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(164,897), corner_timer=0.30
[16:46:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(164,897), corner_timer=-0.02
[16:46:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:46:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(164,897), corner_timer=0.30
[16:46:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(164,897), corner_timer=-0.02
[16:46:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:46:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(164,897), corner_timer=0.30
[16:46:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(164,897), corner_timer=-0.02
[16:46:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[16:46:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(164,897), corner_timer=0.30
[16:46:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(164,897), corner_timer=-0.02
[16:46:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:46:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(164,897), corner_timer=0.30
[16:46:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:02] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.8°, current=123.7°, player=(164,895), corner_timer=0.00
[16:46:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:46:02] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.1°, current=-65.6°, player=(164,892), corner_timer=0.00
[16:46:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(164,875), corner_timer=-0.02
[16:46:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:46:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(164,871), corner_timer=0.30
[16:46:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:03] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[16:46:03] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[16:46:03] [ENEMY] [Enemy2] Memory: high confidence (0.86) - transitioning to PURSUING
[16:46:03] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[16:46:03] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-171.5°, current=-67.5°, player=(164,804), corner_timer=0.00
[16:46:03] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=133.0°, current=45.0°, player=(164,802), corner_timer=0.00
[16:46:03] [ENEMY] [Enemy2] PURSUING corner check: angle 53.3°
[16:46:03] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[16:46:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(164,799), corner_timer=-0.02
[16:46:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[16:46:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(164,798), corner_timer=0.30
[16:46:03] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.6°, current=-134.3°, player=(164,797), corner_timer=0.00
[16:46:03] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[16:46:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:46:03] [INFO] [ImpactEffects] spawn_blood_effect called at (537.0703, 775.489), dir=(0.991859, -0.127343), lethal=true
[16:46:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:46:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:46:03] [INFO] [ImpactEffects] Blood effect spawned at (537.0703, 775.489) (scale=1.35)
[16:46:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:46:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:46:03] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (537.0703, 775.489), entering SEARCHING
[16:46:03] [ENEMY] [Enemy2] SEARCHING started: center=(537.0703, 775.489), radius=100, waypoints=5
[16:46:03] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[16:46:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 18)
[16:46:03] [INFO] [DeathAnim] Started - Angle: -7.3 deg, Index: 11
[16:46:03] [ENEMY] [Enemy3] Death animation started with hit direction: (0.991859, -0.127343)
[16:46:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (618.7855, 765.0688) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (620.6696, 792.5502) (added to group)
[16:46:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(164,839), corner_timer=-0.02
[16:46:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:46:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(164,842), corner_timer=0.30
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (605.4889, 819.9316) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (619.0104, 806.9034) (added to group)
[16:46:03] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (621.8088, 781.9974) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (607.4139, 806.4709) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (624.3713, 751.3911) (added to group)
[16:46:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (670.7347, 761.7516) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (663.6419, 858.2271) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (599.3602, 780.9709) (added to group)
[16:46:03] [ENEMY] [Enemy2] SEARCHING corner check: angle -56.0°
[16:46:03] [ENEMY] [Enemy3] Ragdoll activated
[16:46:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (649.6571, 769.6077) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (677.687, 808.7535) (added to group)
[16:46:03] [INFO] [BloodDecal] Blood puddle created at (709.5499, 774.9187) (added to group)
[16:46:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(164,859), corner_timer=-0.02
[16:46:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:46:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(164,859), corner_timer=0.30
[16:46:04] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=156.2°, current=157.6°, player=(164,859), corner_timer=0.08
[16:46:04] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:46:04] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (736.9684, 747.0233) (added to group)
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (698.5252, 918.019) (added to group)
[16:46:04] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=156.3°, current=-106.4°, player=(164,859), corner_timer=0.08
[16:46:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(164,859), corner_timer=-0.02
[16:46:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:46:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(164,859), corner_timer=0.30
[16:46:04] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=159.6°, current=-152.0°, player=(164,862), corner_timer=0.08
[16:46:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.5421, 735.7797), source=ENEMY (Enemy2), range=1469, listeners=18
[16:46:04] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[16:46:04] [ENEMY] [Enemy1] Heard gunshot at (505.5421, 735.7797), source_type=1, intensity=0.01, distance=437
[16:46:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[16:46:04] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:46:04] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=104.7°, current=168.8°, player=(164,866), corner_timer=0.00
[16:46:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:04] [INFO] [LastChance] Threat detected: Bullet
[16:46:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:46:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:46:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.6141, 736.0662), source=ENEMY (Enemy2), range=1469, listeners=9
[16:46:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[16:46:04] [INFO] [Player] Spawning blood effect at (164.87933, 889.87427), dir=(1, 0), lethal=False (C#)
[16:46:04] [INFO] [ImpactEffects] spawn_blood_effect called at (164.8793, 889.8743), dir=(1, 0), lethal=false
[16:46:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:46:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:46:04] [INFO] [ImpactEffects] Blood effect spawned at (164.8793, 889.8743) (scale=1)
[16:46:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[16:46:04] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[16:46:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[16:46:04] [INFO] [LastChance] Threat detected: @Area2D@4906
[16:46:04] [INFO] [LastChance] Triggering last chance effect!
[16:46:04] [INFO] [LastChance] Starting last chance effect:
[16:46:04] [INFO] [LastChance]   - Time will be frozen (except player)
[16:46:04] [INFO] [LastChance]   - Duration: 6.0 real seconds
[16:46:04] [INFO] [LastChance]   - Sepia intensity: 0.70
[16:46:04] [INFO] [LastChance]   - Brightness: 0.60
[16:46:04] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[16:46:04] [INFO] [LastChance] Skipping player node: Player
[16:46:04] [INFO] [LastChance] Froze existing bullet casing: Casing
[16:46:04] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4904
[16:46:04] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4905
[16:46:04] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4907
[16:46:04] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[16:46:04] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[16:46:04] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (219.423, 901.7988) (added to group)
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (211.3508, 916.6448) (added to group)
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (220.7434, 916.3273) (added to group)
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (239.4165, 898.8555) (added to group)
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (228.2998, 914.0581) (added to group)
[16:46:04] [INFO] [BloodDecal] Blood puddle created at (281.4995, 948.9162) (added to group)
[16:46:05] [INFO] [BloodDecal] Blood puddle created at (268.2682, 916.6592) (added to group)
[16:46:05] [INFO] [BloodDecal] Blood puddle created at (334.655, 907.3638) (added to group)
[16:46:05] [INFO] [BloodDecal] Blood puddle created at (360.9463, 942.7006) (added to group)
[16:46:05] [INFO] [BloodDecal] Blood puddle created at (346.0373, 1034.918) (added to group)
[16:46:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:46:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:46:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:46:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:46:05] [INFO] [LastChance] Ending last chance effect
[16:46:05] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[16:46:05] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[16:46:05] [INFO] [LastChance] All process modes restored
[16:46:05] [INFO] [LastChance] Restored original colors to 5 player sprites
[16:46:05] [ENEMY] [Enemy1] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:46:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:46:05] [ENEMY] [Enemy2] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:46:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:46:05] [ENEMY] [Enemy3] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:46:05] [ENEMY] [Enemy4] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:46:05] [ENEMY] [Enemy5] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:46:05] [ENEMY] [Enemy6] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:46:05] [ENEMY] [Enemy7] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:46:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[16:46:05] [ENEMY] [Enemy8] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:46:05] [ENEMY] [Enemy9] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:46:05] [ENEMY] [Enemy10] Death animation component initialized
[16:46:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:46:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:46:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:46:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:46:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:46:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:46:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:46:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:46:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:46:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:46:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[16:46:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:46:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[16:46:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:46:05] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:46:05] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:46:05] [INFO] [ScoreManager] Level started with 10 enemies
[16:46:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[16:46:05] [ENEMY] [Enemy1] Registered as sound listener
[16:46:05] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[16:46:05] [ENEMY] [Enemy2] Registered as sound listener
[16:46:05] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[16:46:05] [ENEMY] [Enemy3] Registered as sound listener
[16:46:05] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[16:46:05] [ENEMY] [Enemy4] Registered as sound listener
[16:46:05] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[16:46:05] [ENEMY] [Enemy5] Registered as sound listener
[16:46:05] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[16:46:05] [ENEMY] [Enemy6] Registered as sound listener
[16:46:05] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[16:46:05] [ENEMY] [Enemy7] Registered as sound listener
[16:46:05] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[16:46:05] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[16:46:05] [ENEMY] [Enemy8] Registered as sound listener
[16:46:05] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[16:46:05] [ENEMY] [Enemy9] Registered as sound listener
[16:46:05] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[16:46:05] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:46:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[16:46:05] [ENEMY] [Enemy10] Registered as sound listener
[16:46:05] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:46:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:46:05] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[16:46:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:46:05] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[16:46:05] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[16:46:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:46:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:46:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:46:05] [INFO] [LastChance] Found player: Player
[16:46:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:46:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:46:05] [INFO] [LastChance] Connected to player Died signal (C#)
[16:46:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:46:07] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:46:07] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(399,802), corner_timer=0.30
[16:46:07] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(399,802), corner_timer=0.30
[16:46:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(399,745), corner_timer=-0.02
[16:46:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:46:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(399,745), corner_timer=-0.02
[16:46:07] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:46:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(399,744), corner_timer=0.30
[16:46:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(399,744), corner_timer=0.30
[16:46:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(399,744), corner_timer=-0.02
[16:46:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:46:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(399,744), corner_timer=0.30
[16:46:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(399,744), corner_timer=-0.02
[16:46:08] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[16:46:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(399,744), corner_timer=0.30
[16:46:08] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[16:46:08] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:46:08] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.998863, 0.047668), lethal=true
[16:46:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:46:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:46:08] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.35)
[16:46:08] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:46:08] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:46:08] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[16:46:08] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[16:46:08] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:46:08] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 18)
[16:46:08] [INFO] [DeathAnim] Started - Angle: 2.7 deg, Index: 12
[16:46:08] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998863, 0.047668)
[16:46:08] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=90.2°, current=168.8°, player=(399,744), corner_timer=0.00
[16:46:08] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (779.0801, 758.9211) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (764.2623, 776.1742) (added to group)
[16:46:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(399,744), corner_timer=-0.02
[16:46:08] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (772.0981, 757.3047) (added to group)
[16:46:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(399,744), corner_timer=0.30
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (766.6399, 780.928) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (768.3753, 783.1611) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (791.9515, 803.6413) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (765.4371, 767.3797) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (813.4991, 745.7787) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (789.4323, 818.2635) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (783.7023, 803.4875) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (810.7999, 777.1509) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (809.4892, 850.3125) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (808.7437, 786.6122) (added to group)
[16:46:08] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.5°
[16:46:08] [ENEMY] [Enemy3] Ragdoll activated
[16:46:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (810.1536, 795.512) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (882.2645, 778.2537) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (840.6608, 862.9702) (added to group)
[16:46:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(399,744), corner_timer=-0.02
[16:46:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[16:46:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(399,744), corner_timer=0.30
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (869.4966, 785.4957) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (817.0997, 824.2492) (added to group)
[16:46:08] [INFO] [BloodDecal] Blood puddle created at (909.5477, 878.2923) (added to group)
[16:46:08] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=159.8°, current=158.5°, player=(399,744), corner_timer=0.03
[16:46:08] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[16:46:08] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[16:46:08] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=161.0°, current=-133.1°, player=(399,744), corner_timer=0.03
[16:46:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:09] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[16:46:09] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[16:46:09] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-158.8°, current=168.8°, player=(399,744), corner_timer=0.00
[16:46:09] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[16:46:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(399,744), corner_timer=-0.02
[16:46:09] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[16:46:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(399,744), corner_timer=0.30
[16:46:09] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[16:46:09] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=161.0°, current=-151.6°, player=(399,744), corner_timer=0.03
[16:46:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(399,744), corner_timer=-0.02
[16:46:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:46:09] [ENEMY] [Enemy3] Death animation completed
[16:46:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(399,744), corner_timer=0.30
[16:46:09] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[16:46:09] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[16:46:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7169, 682.4058), source=ENEMY (Enemy2), range=1469, listeners=18
[16:46:09] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[16:46:09] [ENEMY] [Enemy1] Heard gunshot at (580.7169, 682.4058), source_type=1, intensity=0.01, distance=435
[16:46:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:46:09] [INFO] [LastChance] Threat detected: Bullet
[16:46:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[16:46:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:46:09] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.9°, current=-157.5°, player=(399,744), corner_timer=0.00
[16:46:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(399,744), corner_timer=-0.02
[16:46:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[16:46:09] [INFO] [Player] Spawning blood effect at (399.44186, 744.88635), dir=(1, 0), lethal=False (C#)
[16:46:09] [INFO] [ImpactEffects] spawn_blood_effect called at (399.4419, 744.8864), dir=(1, 0), lethal=false
[16:46:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:46:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:46:09] [INFO] [ImpactEffects] Blood effect spawned at (399.4419, 744.8864) (scale=1)
[16:46:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[16:46:09] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[16:46:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(399,744), corner_timer=0.30
[16:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7169, 682.4058), source=ENEMY (Enemy2), range=1469, listeners=9
[16:46:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:46:10] [INFO] [LastChance] Threat detected: Bullet
[16:46:10] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[16:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:46:10] [INFO] [Player] Spawning blood effect at (399.44186, 744.88635), dir=(1, 0), lethal=False (C#)
[16:46:10] [INFO] [ImpactEffects] spawn_blood_effect called at (399.4419, 744.8864), dir=(1, 0), lethal=false
[16:46:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:46:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:46:10] [INFO] [ImpactEffects] Blood effect spawned at (399.4419, 744.8864) (scale=1)
[16:46:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[16:46:10] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[16:46:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7169, 682.4058), source=ENEMY (Enemy2), range=1469, listeners=9
[16:46:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:46:10] [INFO] [LastChance] Threat detected: Bullet
[16:46:10] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[16:46:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:46:10] [INFO] [Player] Spawning blood effect at (399.44186, 744.88635), dir=(1, 0), lethal=False (C#)
[16:46:10] [INFO] [ImpactEffects] spawn_blood_effect called at (399.4419, 744.8864), dir=(1, 0), lethal=false
[16:46:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:46:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:46:10] [INFO] [ImpactEffects] Blood effect spawned at (399.4419, 744.8864) (scale=1)
[16:46:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[16:46:10] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[16:46:10] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[16:46:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7169, 682.4058), source=ENEMY (Enemy2), range=1469, listeners=9
[16:46:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[16:46:10] [INFO] [LastChance] Threat detected: Bullet
[16:46:10] [INFO] [LastChance] Triggering last chance effect!
[16:46:10] [INFO] [LastChance] Starting last chance effect:
[16:46:10] [INFO] [LastChance]   - Time will be frozen (except player)
[16:46:10] [INFO] [LastChance]   - Duration: 6.0 real seconds
[16:46:10] [INFO] [LastChance]   - Sepia intensity: 0.70
[16:46:10] [INFO] [LastChance]   - Brightness: 0.60
[16:46:10] [INFO] [LastChance] Pushed bullet Bullet from distance 124.4 to 200.0
[16:46:10] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[16:46:10] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[16:46:10] [INFO] [LastChance] Skipping player node: Player
[16:46:10] [INFO] [LastChance] Froze existing bullet casing: Casing
[16:46:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5199
[16:46:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5200
[16:46:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5202
[16:46:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@5204
[16:46:10] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[16:46:10] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[16:46:10] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (466.0652, 742.1974) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (478.2692, 734.6599) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (479.3792, 729.4023) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (484.7062, 836.4865) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (469.7363, 797.2391) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (477.7976, 742.2839) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (515.4652, 762.4698) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (474.1949, 762.0155) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (496.1284, 784.229) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (556.0203, 787.5567) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (554.1183, 795.3909) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (517.0903, 757.5552) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (492.6651, 800.5735) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (476.0997, 789.7577) (added to group)
[16:46:10] [INFO] [BloodDecal] Blood puddle created at (559.6274, 792.0441) (added to group)
[16:46:11] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[16:46:11] [INFO] ------------------------------------------------------------
[16:46:11] [INFO] GAME LOG ENDED: 2026-02-03T16:46:11
[16:46:11] [INFO] ============================================================
