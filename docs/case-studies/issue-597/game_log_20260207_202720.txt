[20:27:20] [INFO] ============================================================
[20:27:20] [INFO] GAME LOG STARTED
[20:27:20] [INFO] ============================================================
[20:27:20] [INFO] Timestamp: 2026-02-07T20:27:20
[20:27:20] [INFO] Log file: I:/Загрузки/godot exe/повтор/game_log_20260207_202720.txt
[20:27:20] [INFO] Executable: I:/Загрузки/godot exe/повтор/Godot-Top-Down-Template.exe
[20:27:20] [INFO] OS: Windows
[20:27:20] [INFO] Debug build: false
[20:27:20] [INFO] Engine version: 4.3-stable (official)
[20:27:20] [INFO] Project: Godot Top-Down Template
[20:27:20] [INFO] ------------------------------------------------------------
[20:27:20] [INFO] [GameManager] GameManager ready
[20:27:20] [INFO] [ScoreManager] ScoreManager ready
[20:27:20] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[20:27:20] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[20:27:20] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[20:27:20] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[20:27:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:27:20] [INFO] [PenultimateHit] Saturation shader loaded successfully
[20:27:20] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[20:27:20] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[20:27:20] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[20:27:20] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[20:27:20] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[20:27:20] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[20:27:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:27:20] [INFO] [LastChance] Last chance shader loaded successfully
[20:27:20] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[20:27:20] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[20:27:20] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[20:27:20] [INFO] [LastChance]   Sepia intensity: 0.70
[20:27:20] [INFO] [LastChance]   Brightness: 0.60
[20:27:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[20:27:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[20:27:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[20:27:20] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[20:27:20] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[20:27:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:27:20] [INFO] [CinemaEffects] Created effects layer at layer 99
[20:27:20] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[20:27:20] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[20:27:20] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[20:27:20] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[20:27:20] [INFO] [CinemaEffects]   Grain intensity: 0.15
[20:27:20] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[20:27:20] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[20:27:20] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[20:27:20] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[20:27:20] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[20:27:20] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[20:27:20] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[20:27:20] [INFO] [GrenadeTimerHelper] Autoload ready
[20:27:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:27:20] [INFO] [PowerFantasy] Saturation shader loaded successfully
[20:27:20] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[20:27:20] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[20:27:20] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[20:27:20] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[20:27:20] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:27:20] [ENEMY] [Enemy1] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:27:20] [ENEMY] [Enemy2] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:27:20] [ENEMY] [Enemy3] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:27:20] [ENEMY] [Enemy4] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:27:20] [ENEMY] [Enemy5] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:27:20] [ENEMY] [Enemy6] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:27:20] [ENEMY] [Enemy7] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:27:20] [ENEMY] [Enemy8] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:27:20] [ENEMY] [Enemy9] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:27:20] [ENEMY] [Enemy10] Death animation component initialized
[20:27:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:27:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:27:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:27:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:27:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:27:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:27:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:27:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:27:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:27:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:27:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:27:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[20:27:20] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[20:27:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:27:20] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[20:27:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:27:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:27:20] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[20:27:20] [INFO] [ScoreManager] Level started with 10 enemies
[20:27:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:27:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:27:20] [INFO] [ReplayManager] Replay data cleared
[20:27:20] [INFO] [BuildingLevel] Previous replay data cleared
[20:27:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:27:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:27:20] [INFO] [ReplayManager] Level: BuildingLevel
[20:27:20] [INFO] [ReplayManager] Player: Player (valid: True)
[20:27:20] [INFO] [ReplayManager] Enemies count: 10
[20:27:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:27:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:27:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:27:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:27:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:27:20] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:27:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:27:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:27:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:27:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:27:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:27:20] [INFO] [BuildingLevel] Replay recording started successfully
[20:27:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:27:20] [INFO] [CinemaEffects] Found player node: Player
[20:27:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:27:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[20:27:20] [ENEMY] [Enemy1] Registered as sound listener
[20:27:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[20:27:20] [ENEMY] [Enemy2] Registered as sound listener
[20:27:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[20:27:20] [ENEMY] [Enemy3] Registered as sound listener
[20:27:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[20:27:20] [ENEMY] [Enemy4] Registered as sound listener
[20:27:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[20:27:20] [ENEMY] [Enemy5] Registered as sound listener
[20:27:20] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[20:27:20] [ENEMY] [Enemy6] Registered as sound listener
[20:27:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[20:27:20] [ENEMY] [Enemy7] Registered as sound listener
[20:27:20] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[20:27:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[20:27:20] [ENEMY] [Enemy8] Registered as sound listener
[20:27:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[20:27:20] [ENEMY] [Enemy9] Registered as sound listener
[20:27:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:27:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:27:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[20:27:20] [ENEMY] [Enemy10] Registered as sound listener
[20:27:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[20:27:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:27:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:27:20] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[20:27:20] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:27:20] [INFO] [PenultimateHit] Shader warmup complete in 443 ms
[20:27:20] [INFO] [LastChance] Shader warmup complete in 441 ms
[20:27:20] [INFO] [CinemaEffects] Cinema shader warmup complete in 389 ms
[20:27:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:27:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:27:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:27:20] [INFO] [LastChance] Found player: Player
[20:27:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:27:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:27:20] [INFO] [LastChance] Connected to player Died signal (C#)
[20:27:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:27:21] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 719 ms
[20:27:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:27:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:27:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:27:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[20:27:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[20:27:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[20:27:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:27:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[20:27:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:27:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[20:27:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[20:27:22] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:27:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1231), corner_timer=-0.02
[20:27:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:27:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1228), corner_timer=0.30
[20:27:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1127), corner_timer=-0.02
[20:27:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:27:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1122), corner_timer=0.30
[20:27:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1017), corner_timer=-0.02
[20:27:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:27:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1012), corner_timer=0.30
[20:27:23] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:27:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,907), corner_timer=-0.02
[20:27:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:27:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,902), corner_timer=0.30
[20:27:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[20:27:24] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:27:24] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[20:27:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.692, 787.2942), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:24] [ENEMY] [Enemy1] Heard gunshot at (449.692, 787.2942), source_type=0, intensity=0.01, distance=462
[20:27:24] [ENEMY] [Enemy2] Heard gunshot at (449.692, 787.2942), source_type=0, intensity=0.04, distance=242
[20:27:24] [ENEMY] [Enemy4] Heard gunshot at (449.692, 787.2942), source_type=0, intensity=0.02, distance=368
[20:27:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.9°, current=-33.8°, player=(449,781), corner_timer=0.00
[20:27:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.9°, current=-101.3°, player=(449,781), corner_timer=0.00
[20:27:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.3°, current=-67.5°, player=(449,781), corner_timer=0.00
[20:27:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8892, 752.9436), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(436,743), corner_timer=-0.02
[20:27:24] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:27:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(433,740), corner_timer=0.30
[20:27:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:27:24] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.991957, -0.126574), lethal=false
[20:27:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:27:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:27:24] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=0.5)
[20:27:24] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.5°, current=172.7°, player=(431,738), corner_timer=0.00
[20:27:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:27:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.972, 759.59), source=ENEMY (Enemy3), range=1469, listeners=10
[20:27:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:27:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.2589, 741.4581), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:24] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:27:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.67, 767.3657), source=ENEMY (Enemy3), range=1469, listeners=10
[20:27:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (723.952, 750.7621) (added to group)
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (768.2021, 736.5526) (added to group)
[20:27:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(372,746), corner_timer=-0.02
[20:27:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:27:24] [INFO] [LastChance] Threat detected: @Area2D@292
[20:27:24] [INFO] [LastChance] Not in hard mode - effect disabled
[20:27:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:27:24] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:27:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:27:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:27:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(368,750), corner_timer=0.30
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (732.829, 779.2254) (added to group)
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (753.9772, 783.063) (added to group)
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (779.1213, 735.4257) (added to group)
[20:27:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(353.1449, 771.6404), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:24] [INFO] [Player] Spawning blood effect at (353.1449, 765.6404), dir=(1, 0), lethal=False (C#)
[20:27:24] [INFO] [ImpactEffects] spawn_blood_effect called at (353.1449, 765.6404), dir=(1, 0), lethal=false
[20:27:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:27:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:27:24] [INFO] [ImpactEffects] Blood effect spawned at (353.1449, 765.6404) (scale=1)
[20:27:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:27:24] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:27:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.8892, 752.9436), shooter_id=56438556479, bullet_pos=(920.2842, 702.7936)
[20:27:24] [INFO] [Bullet] Using shooter_position, distance=484.000213623047
[20:27:24] [INFO] [Bullet] Distance to wall: 484.000213623047 (32.9564645435081% of viewport)
[20:27:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:24] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (807.2144, 744.2147) (added to group)
[20:27:24] [INFO] [BloodDecal] Blood puddle created at (800.8998, 759.1581) (added to group)
[20:27:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.2899, 760.82385), shooter_id=53083113079, bullet_pos=(33.386078, 832.57556)
[20:27:24] [INFO] [Bullet] Using shooter_position, distance=583,3335
[20:27:24] [INFO] [Bullet] Distance to wall: 583,3335 (39,720253% of viewport)
[20:27:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:24] [INFO] [Bullet] Starting wall penetration at (33.386078, 832.57556)
[20:27:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,26999
[20:27:25] [INFO] [Bullet] Body exited signal received for penetrating body
[20:27:25] [INFO] [Bullet] Exiting penetration at (-12.92622, 838.3157) after traveling 41,66667 pixels through wall
[20:27:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:27:25] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=133.2°, current=-174.8°, player=(329,788), corner_timer=0.00
[20:27:25] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:27:25] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(297.9322, 824.24), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (407.5157, 770.2283) (added to group)
[20:27:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(293,820), corner_timer=-0.02
[20:27:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:27:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(289,823), corner_timer=0.30
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (852.3195, 826.5717) (added to group)
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (413.7753, 782.8467) (added to group)
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (827.8583, 766.6382) (added to group)
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (854.9781, 783.8584) (added to group)
[20:27:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.2589, 741.4581), shooter_id=56438556479, bullet_pos=(918.2441, 684.7994)
[20:27:25] [INFO] [Bullet] Using shooter_position, distance=533.999572753906
[20:27:25] [INFO] [Bullet] Distance to wall: 533.999572753906 (36.3610128474426% of viewport)
[20:27:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:25] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (465.3721, 795.8165) (added to group)
[20:27:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (462.8708, 748.8264) (added to group)
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (466.249, 780.1719) (added to group)
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (423.2766, 829.801) (added to group)
[20:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(220.746, 837.0686), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[20:27:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(353.1449, 771.6404), shooter_id=56438556479, bullet_pos=(925.306, 654.6486)
[20:27:25] [INFO] [Bullet] Using shooter_position, distance=583.999450683594
[20:27:25] [INFO] [Bullet] Distance to wall: 583.999450683594 (39.7655964773434% of viewport)
[20:27:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:25] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(188,831), corner_timer=-0.02
[20:27:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (498.5424, 814.8276) (added to group)
[20:27:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(183,831), corner_timer=0.30
[20:27:25] [INFO] [BloodDecal] Blood puddle created at (462.9505, 859.7526) (added to group)
[20:27:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(220.746, 837.0686), shooter_id=56438556479, bullet_pos=(502.4848, 801.3027)
[20:27:25] [INFO] [Bullet] Using shooter_position, distance=283.999877929688
[20:27:25] [INFO] [Bullet] Distance to wall: 283.999877929688 (19.3380739179589% of viewport)
[20:27:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:25] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(297.9322, 824.24), shooter_id=56438556479, bullet_pos=(915.7524, 681.9197)
[20:27:25] [INFO] [Bullet] Using shooter_position, distance=634.000732421875
[20:27:25] [INFO] [Bullet] Distance to wall: 634.000732421875 (43.1702756951526% of viewport)
[20:27:25] [INFO] [Bullet] Distance-based penetration chance: 96.301345022322%
[20:27:25] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:25] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:27:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(141,831), corner_timer=-0.02
[20:27:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:27:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(141,831), corner_timer=0.30
[20:27:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:27:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:27:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:27:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:27:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:27:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:27:26] [ENEMY] [Enemy1] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:27:26] [ENEMY] [Enemy2] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:27:26] [ENEMY] [Enemy3] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:27:26] [ENEMY] [Enemy4] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:27:26] [ENEMY] [Enemy5] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:27:26] [ENEMY] [Enemy6] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:27:26] [ENEMY] [Enemy7] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:27:26] [ENEMY] [Enemy8] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:27:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:27:26] [ENEMY] [Enemy9] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:27:26] [ENEMY] [Enemy10] Death animation component initialized
[20:27:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:27:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:27:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:27:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[20:27:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:27:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:27:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:27:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:27:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:27:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:27:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:27:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[20:27:26] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[20:27:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:27:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:27:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:27:26] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[20:27:26] [INFO] [ScoreManager] Level started with 10 enemies
[20:27:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:27:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:27:26] [INFO] [ReplayManager] Replay data cleared
[20:27:26] [INFO] [BuildingLevel] Previous replay data cleared
[20:27:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:27:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:27:26] [INFO] [ReplayManager] Level: BuildingLevel
[20:27:26] [INFO] [ReplayManager] Player: Player (valid: True)
[20:27:26] [INFO] [ReplayManager] Enemies count: 10
[20:27:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:27:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:27:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:27:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:27:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:27:26] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:27:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:27:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:27:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:27:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:27:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:27:26] [INFO] [BuildingLevel] Replay recording started successfully
[20:27:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:27:26] [INFO] [CinemaEffects] Found player node: Player
[20:27:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:27:26] [ENEMY] [Enemy1] Registered as sound listener
[20:27:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:27:26] [ENEMY] [Enemy2] Registered as sound listener
[20:27:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:27:26] [ENEMY] [Enemy3] Registered as sound listener
[20:27:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:27:26] [ENEMY] [Enemy4] Registered as sound listener
[20:27:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:27:26] [ENEMY] [Enemy5] Registered as sound listener
[20:27:26] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:27:26] [ENEMY] [Enemy6] Registered as sound listener
[20:27:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:27:26] [ENEMY] [Enemy7] Registered as sound listener
[20:27:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:27:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:27:26] [ENEMY] [Enemy8] Registered as sound listener
[20:27:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:27:26] [ENEMY] [Enemy9] Registered as sound listener
[20:27:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:27:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:27:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:27:26] [ENEMY] [Enemy10] Registered as sound listener
[20:27:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[20:27:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:27:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:27:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:27:26] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[20:27:26] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:27:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:27:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:27:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:27:26] [INFO] [LastChance] Found player: Player
[20:27:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:27:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:27:26] [INFO] [LastChance] Connected to player Died signal (C#)
[20:27:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:27:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:27:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:27:29] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:27:30] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:27:31] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:27:31] [INFO] [PauseMenu] Armory button pressed
[20:27:31] [INFO] [PauseMenu] Creating new armory menu instance
[20:27:31] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[20:27:31] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[20:27:31] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[20:27:31] [INFO] [PauseMenu] back_pressed signal exists on instance
[20:27:31] [INFO] [PauseMenu] back_pressed signal connected
[20:27:31] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[20:27:31] [INFO] [PauseMenu] _populate_weapon_grid method exists
[20:27:32] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:27:33] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[20:27:34] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[20:27:35] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[20:27:35] [INFO] [GrenadeManager] Grenade type changed from Flashbang to F-1 Grenade
[20:27:35] [INFO] [ActiveItemManager] Active item changed from None to Flashlight
[20:27:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:27:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:27:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:27:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:27:35] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:27:35] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:27:35] [ENEMY] [Enemy1] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:27:35] [ENEMY] [Enemy2] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:27:35] [ENEMY] [Enemy3] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:27:35] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:27:35] [ENEMY] [Enemy4] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:27:35] [ENEMY] [Enemy5] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:27:35] [ENEMY] [Enemy6] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:27:35] [ENEMY] [Enemy7] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:27:35] [ENEMY] [Enemy8] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:27:35] [ENEMY] [Enemy9] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:27:35] [ENEMY] [Enemy10] Death animation component initialized
[20:27:35] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:27:35] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:27:35] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:27:35] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:27:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:27:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:27:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:27:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:27:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:27:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:27:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:27:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:27:35] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:27:35] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:27:35] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:27:35] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:27:35] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[20:27:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:27:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:27:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:27:35] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[20:27:35] [INFO] [ScoreManager] Level started with 10 enemies
[20:27:35] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:27:35] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:27:35] [INFO] [ReplayManager] Replay data cleared
[20:27:35] [INFO] [BuildingLevel] Previous replay data cleared
[20:27:35] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:27:35] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:27:35] [INFO] [ReplayManager] Level: BuildingLevel
[20:27:35] [INFO] [ReplayManager] Player: Player (valid: True)
[20:27:35] [INFO] [ReplayManager] Enemies count: 10
[20:27:35] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:27:35] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:27:35] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:27:35] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:27:35] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:27:35] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:27:35] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:27:35] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:27:35] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:27:35] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:27:35] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:27:35] [INFO] [BuildingLevel] Replay recording started successfully
[20:27:35] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:27:35] [INFO] [CinemaEffects] Found player node: Player
[20:27:35] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[20:27:35] [ENEMY] [Enemy1] Registered as sound listener
[20:27:35] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[20:27:35] [ENEMY] [Enemy2] Registered as sound listener
[20:27:35] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[20:27:35] [ENEMY] [Enemy3] Registered as sound listener
[20:27:35] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[20:27:35] [ENEMY] [Enemy4] Registered as sound listener
[20:27:35] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[20:27:35] [ENEMY] [Enemy5] Registered as sound listener
[20:27:35] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[20:27:35] [ENEMY] [Enemy6] Registered as sound listener
[20:27:35] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[20:27:35] [ENEMY] [Enemy7] Registered as sound listener
[20:27:35] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:27:35] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[20:27:35] [ENEMY] [Enemy8] Registered as sound listener
[20:27:35] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[20:27:35] [ENEMY] [Enemy9] Registered as sound listener
[20:27:35] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[20:27:35] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:27:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[20:27:35] [ENEMY] [Enemy10] Registered as sound listener
[20:27:35] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[20:27:35] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:27:36] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:27:36] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:27:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:27:36] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[20:27:36] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:27:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:27:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:27:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:27:36] [INFO] [LastChance] Found player: Player
[20:27:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:27:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:27:36] [INFO] [LastChance] Connected to player Died signal (C#)
[20:27:36] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:27:36] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:27:37] [INFO] [PauseMenu] Armory button pressed
[20:27:37] [INFO] [PauseMenu] Creating new armory menu instance
[20:27:37] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[20:27:37] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[20:27:37] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[20:27:37] [INFO] [PauseMenu] back_pressed signal exists on instance
[20:27:37] [INFO] [PauseMenu] back_pressed signal connected
[20:27:37] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[20:27:37] [INFO] [PauseMenu] _populate_weapon_grid method exists
[20:27:37] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:27:38] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:27:39] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:27:40] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:27:41] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:27:42] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[20:27:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:27:43] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:27:43] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1149), corner_timer=0.30
[20:27:43] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1149), corner_timer=0.30
[20:27:43] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[20:27:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1045), corner_timer=-0.02
[20:27:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:27:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1045), corner_timer=-0.02
[20:27:43] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:27:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1039), corner_timer=0.30
[20:27:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1039), corner_timer=0.30
[20:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,937), corner_timer=-0.02
[20:27:44] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,933), corner_timer=0.30
[20:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,905), corner_timer=-0.02
[20:27:44] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,905), corner_timer=0.30
[20:27:44] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[20:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,875), corner_timer=-0.02
[20:27:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,870), corner_timer=0.30
[20:27:45] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.0°, current=123.7°, player=(450,821), corner_timer=0.00
[20:27:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:27:45] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.4°, current=-65.3°, player=(449,810), corner_timer=0.00
[20:27:45] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[20:27:45] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:27:45] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-164.2°, current=168.8°, player=(448,800), corner_timer=0.00
[20:27:45] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[20:27:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(436,772), corner_timer=-0.02
[20:27:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.0622, 774.1271), source=PLAYER (MakarovPM), range=1469, listeners=30
[20:27:45] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[20:27:45] [ENEMY] [Enemy1] Heard gunshot at (433.0622, 774.1271), source_type=0, intensity=0.01, distance=445
[20:27:45] [ENEMY] [Enemy2] Heard gunshot at (433.0622, 774.1271), source_type=0, intensity=0.05, distance=227
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:45] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=72.3°, current=-33.8°, player=(433,768), corner_timer=0.00
[20:27:45] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=81.4°, current=-101.3°, player=(433,768), corner_timer=0.00
[20:27:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(433,768), corner_timer=0.30
[20:27:45] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[20:27:45] [INFO] [ImpactEffects] spawn_blood_effect called at (684.477, 753.8744), dir=(0.987607, -0.156949), lethal=false
[20:27:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:27:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:27:45] [INFO] [ImpactEffects] Blood effect spawned at (684.477, 753.8744) (scale=0.5)
[20:27:45] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.1°, current=171.0°, player=(384,738), corner_timer=0.00
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(375.6122, 744.4783), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:45] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:27:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:45] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.1703, 759.861), source=ENEMY (Enemy3), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:27:45] [INFO] [BloodDecal] Blood puddle created at (740.3744, 779.2745) (added to group)
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.0947, 767.8432), source=ENEMY (Enemy3), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(319.1255, 777.6915), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:27:45] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:27:45] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.019, 775.8254), source=ENEMY (Enemy3), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:27:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(307,783), corner_timer=-0.02
[20:27:45] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:27:45] [INFO] [BloodDecal] Blood puddle created at (776.7581, 740.7179) (added to group)
[20:27:45] [INFO] [LastChance] Threat detected: @Area2D@1013
[20:27:45] [INFO] [LastChance] Not in hard mode - effect disabled
[20:27:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:27:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(303,787), corner_timer=0.30
[20:27:45] [INFO] [BloodDecal] Blood puddle created at (775.3301, 721.0409) (added to group)
[20:27:45] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.9435, 783.8076), source=ENEMY (Enemy3), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:27:45] [INFO] [BloodDecal] Blood puddle created at (782.2847, 754.4352) (added to group)
[20:27:45] [INFO] [LastChance] Threat detected: @Area2D@1017
[20:27:45] [INFO] [LastChance] Not in hard mode - effect disabled
[20:27:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:27:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.4292, 766.3216), shooter_id=271958674125, bullet_pos=(34.57349, 853.0124)
[20:27:45] [INFO] [Bullet] Using shooter_position, distance=583,3333
[20:27:45] [INFO] [Bullet] Distance to wall: 583,3333 (39,72024% of viewport)
[20:27:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:45] [INFO] [Bullet] Starting wall penetration at (34.57349, 853.0124)
[20:27:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,064278
[20:27:45] [INFO] [Bullet] Body exited signal received for penetrating body
[20:27:45] [INFO] [Bullet] Exiting penetration at (-11.574963, 859.94763) after traveling 41,666668 pixels through wall
[20:27:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:27:45] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=129.8°, current=163.3°, player=(276,814), corner_timer=0.00
[20:27:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(268.5672, 828.2498), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[20:27:45] [INFO] [BloodDecal] Blood puddle created at (755.972, 755.9227) (added to group)
[20:27:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(604.4938, 775.63525), shooter_id=271958674125, bullet_pos=(62.837494, 772.26306)
[20:27:45] [INFO] [Bullet] Using shooter_position, distance=541,66675
[20:27:45] [INFO] [Bullet] Distance to wall: 541,66675 (36,883087% of viewport)
[20:27:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:45] [INFO] [Bullet] Starting wall penetration at (62.837494, 772.26306)
[20:27:45] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,828581
[20:27:46] [INFO] [Bullet] Body exited signal received for penetrating body
[20:27:46] [INFO] [Bullet] Exiting penetration at (16.171726, 771.97253) after traveling 41,66667 pixels through wall
[20:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:27:46] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:27:46] [INFO] [BloodDecal] Blood puddle created at (821.1992, 753.9658) (added to group)
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(597.5983, 785.0476), shooter_id=271958674125, bullet_pos=(55.934555, 786.80194)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=541,66656
[20:27:46] [INFO] [Bullet] Distance to wall: 541,66656 (36,883076% of viewport)
[20:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(375.6122, 744.4783), shooter_id=275314117949, bullet_pos=(913.9157, 628.449)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=550.666442871094
[20:27:46] [INFO] [Bullet] Distance to wall: 550.666442871094 (37.4958906813936% of viewport)
[20:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:46] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.72266, 794.38855), shooter_id=271958674125, bullet_pos=(140.10736, 710.63104)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=458,33334
[20:27:46] [INFO] [Bullet] Distance to wall: 458,33334 (31,208763% of viewport)
[20:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:46] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.72266, 794.38855), shooter_id=271958674125, bullet_pos=(64.329834, 713.53973)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=532,5654
[20:27:46] [INFO] [Bullet] Distance to wall: 532,5654 (36,263363% of viewport)
[20:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:46] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-94.0°, current=-164.7°, player=(237,853), corner_timer=0.02
[20:27:46] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.72266, 794.38855), shooter_id=271958674125, bullet_pos=(99.373856, 715.59375)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=497,62665
[20:27:46] [INFO] [Bullet] Distance to wall: 497,62665 (33,884315% of viewport)
[20:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:46] [INFO] [Bullet] Starting wall penetration at (99.373856, 715.59375)
[20:27:46] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:27:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:27:46] [INFO] [Bullet] Exiting penetration at (134.41788, 717.64777) after traveling 30,104168 pixels through wall
[20:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[20:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(229,861), corner_timer=-0.02
[20:27:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(225,865), corner_timer=0.30
[20:27:46] [INFO] [BloodDecal] Blood puddle created at (880.5568, 777.3213) (added to group)
[20:27:46] [INFO] [BloodDecal] Blood puddle created at (849.0668, 791.6255) (added to group)
[20:27:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(214.4279, 882.8247), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[20:27:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(199,952), corner_timer=-0.02
[20:27:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(201,956), corner_timer=0.30
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (181 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (178 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(268.5672, 828.2498), shooter_id=275314117949, bullet_pos=(924.0599, 632.8388)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=684.000061035156
[20:27:46] [INFO] [Bullet] Distance to wall: 684.000061035156 (46.5748219210891% of viewport)
[20:27:46] [INFO] [Bullet] Distance-based penetration chance: 92.329374425396%
[20:27:46] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (165 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (163 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(279,1008), corner_timer=-0.02
[20:27:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(319.1255, 777.6915), shooter_id=275314117949, bullet_pos=(1367.656, 442.9488)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=1100.6669921875
[20:27:46] [INFO] [Bullet] Distance to wall: 1100.6669921875 (74.9464394461783% of viewport)
[20:27:46] [INFO] [Bullet] Distance-based penetration chance: 59.2291539794586%
[20:27:46] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(284,1008), corner_timer=0.30
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(214.4279, 882.8247), shooter_id=275314117949, bullet_pos=(914.7107, 662.9177)
[20:27:46] [INFO] [Bullet] Using shooter_position, distance=733.999389648438
[20:27:46] [INFO] [Bullet] Distance to wall: 733.999389648438 (49.9793681470256% of viewport)
[20:27:46] [INFO] [Bullet] Distance-based penetration chance: 88.3574038284701%
[20:27:46] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (130 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (128 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:46] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (123 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (120 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (116 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (109 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (108 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(382,1014), corner_timer=-0.02
[20:27:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (107 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(386,1016), corner_timer=0.30
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (106 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (106 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (105 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:47] [ENEMY] [Enemy1] PURSUING corner check: angle -40.8°
[20:27:47] [ENEMY] [Enemy2] PURSUING corner check: angle 177.4°
[20:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(415,1083), corner_timer=-0.02
[20:27:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(415,1085), corner_timer=0.30
[20:27:47] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:27:47] [ENEMY] [Enemy1] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy2] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy3] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy4] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy5] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy6] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy7] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy8] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy9] Player reloading: false -> true
[20:27:47] [ENEMY] [Enemy10] Player reloading: false -> true
[20:27:47] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(417.0713, 1094.234), source=PLAYER (Player), range=900, listeners=10
[20:27:47] [ENEMY] [Enemy2] Heard player RELOAD at (417.0713, 1094.234), intensity=0.01, distance=465
[20:27:47] [ENEMY] [Enemy3] Heard player RELOAD at (417.0713, 1094.234), intensity=0.02, distance=358
[20:27:47] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:27:47] [ENEMY] [Enemy4] Heard player RELOAD at (417.0713, 1094.234), intensity=0.04, distance=245
[20:27:47] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:27:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[20:27:47] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=718), can_see=false
[20:27:47] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=465), can_see=false
[20:27:47] [ENEMY] [Enemy2] Pursuing vulnerability sound at (417.0713, 1094.234), distance=465
[20:27:47] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=127.6°, current=151.9°, player=(417,1094), corner_timer=0.00
[20:27:47] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=true (dist=358), can_see=false
[20:27:47] [ENEMY] [Enemy3] Pursuing vulnerability sound at (417.0713, 1094.234), distance=358
[20:27:47] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=127.3°, current=-94.0°, player=(417,1094), corner_timer=0.02
[20:27:47] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=245), can_see=false
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (245 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [ENEMY] [Enemy4] Pursuing vulnerability sound at (417.0713, 1094.234), distance=245
[20:27:47] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1483), can_see=false
[20:27:47] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1663), can_see=false
[20:27:47] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1210), can_see=false
[20:27:47] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1525), can_see=false
[20:27:47] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1744), can_see=false
[20:27:47] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=899), can_see=false
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (247 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (250 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (252 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [ENEMY] [Enemy1] PURSUING corner check: angle -82.4°
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (253 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.306324, 2.1576016), target=(-4, 2), base=(16, 6)
[20:27:47] [INFO] [Player.Reload.Anim] RightArm: pos=(4.094332, 6), target=(4, 6), base=(4, 6)
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (256 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (263 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (266 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (269 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Unsafe throw distance (273 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:27:47] [ENEMY] [Enemy1] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy2] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy3] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy4] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy5] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy6] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy7] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy8] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy9] Player reloading: true -> false
[20:27:47] [ENEMY] [Enemy10] Player reloading: true -> false
[20:27:47] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(417,1096), corner_timer=-0.02
[20:27:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(417,1096), corner_timer=0.30
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=102.3°, current=92.4°, player=(417,1096), corner_timer=0.07
[20:27:47] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=102.6°, current=169.7°, player=(417,1096), corner_timer=0.07
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [ENEMY] [Enemy1] PURSUING corner check: angle 127.0°
[20:27:47] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:47] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:27:48] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=105.5°, current=104.4°, player=(417,1096), corner_timer=0.00
[20:27:48] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.3828, 1102.103), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=0.0°, current=61.2°, player=(417,1097), corner_timer=0.00
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=102.0°, current=139.8°, player=(417,1099), corner_timer=0.07
[20:27:48] [INFO] [EnemyGrenade] Throw path blocked to (417.0713, 1094.234)
[20:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(417,1099), corner_timer=-0.02
[20:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:48] [INFO] [EnemyGrenade] Unsafe throw distance (248 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(417,1101), corner_timer=0.30
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=101.6°, current=134.2°, player=(417,1103), corner_timer=0.07
[20:27:48] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:48] [INFO] [EnemyGrenade] Unsafe throw distance (237 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:48] [INFO] [EnemyGrenade] Unsafe throw distance (233 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:48] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:27:48] [INFO] [EnemyGrenade] Unsafe throw distance (227 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=101.6°, current=122.3°, player=(417,1114), corner_timer=0.07
[20:27:48] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:27:48] [INFO] [EnemyGrenade] Unsafe throw distance (223 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=101.1°, current=116.6°, player=(417,1122), corner_timer=0.07
[20:27:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.3828, 1137.103), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=100.4°, current=100.0°, player=(417,1157), corner_timer=0.07
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=100.2°, current=100.6°, player=(417,1163), corner_timer=0.07
[20:27:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.3828, 1102.103), shooter_id=275314117949, bullet_pos=(451.3556, 702.879)
[20:27:48] [INFO] [Bullet] Using shooter_position, distance=400.666412353516
[20:27:48] [INFO] [Bullet] Distance to wall: 400.666412353516 (27.2821127777173% of viewport)
[20:27:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=100.0°, current=99.6°, player=(417,1174), corner_timer=0.07
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=99.8°, current=100.2°, player=(417,1179), corner_timer=0.07
[20:27:48] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(417,1185), corner_timer=-0.02
[20:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1190), corner_timer=0.30
[20:27:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.3033, 1206.66), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[20:27:48] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[20:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (460.7767, 851.6058), dir=(0.116344, -0.993209), lethal=false
[20:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:27:48] [INFO] [ImpactEffects] Blood effect spawned at (460.7767, 851.6058) (scale=0.5)
[20:27:48] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=97.9°, current=96.7°, player=(410,1210), corner_timer=0.02
[20:27:48] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:27:48] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:27:48] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:27:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=177.4°, current=99.9°, player=(403,1223), corner_timer=0.07
[20:27:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:48] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:27:48] [INFO] [GrenadeBase] Grenade created at (451.5749, 928.3253) (frozen)
[20:27:48] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:27:48] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[20:27:48] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[20:27:48] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[20:27:48] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[20:27:48] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:27:48] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.080044, 0.996791), Speed: 465.3 (unfrozen)
[20:27:48] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[20:27:48] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[20:27:48] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:27:48] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (417.3828, 1118.103), Distance: 233
[20:27:48] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:27:48] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:27:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(370.0274, 1265.32), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:27:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[20:27:48] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[20:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (470.2424, 898.9062), dir=(0.180195, -0.983631), lethal=true
[20:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:27:48] [INFO] [ImpactEffects] Blood effect spawned at (470.2424, 898.9062) (scale=0.75)
[20:27:48] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:27:48] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:27:48] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:27:48] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:27:48] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:27:48] [INFO] [PowerFantasy]   - Duration: 300ms
[20:27:48] [ENEMY] [Enemy4] [AllyDeath] Notified 3 enemies
[20:27:48] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[20:27:48] [INFO] [DeathAnim] Started - Angle: -79.6 deg, Index: 6
[20:27:48] [ENEMY] [Enemy4] Death animation started with hit direction: (0.180195, -0.983631)
[20:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(358,1270), corner_timer=-0.02
[20:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(357,1271), corner_timer=0.30
[20:27:48] [INFO] [ReplayManager] Recording frame 780 (12,9s): player_valid=True, enemies=10
[20:27:49] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:27:49] [INFO] [PowerFantasy] Ending power fantasy effect
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (494.1129, 809.2232) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (435.917, 775.843) (added to group)
[20:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (497.0261, 826.0501) (added to group)
[20:27:49] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (498.9984, 817.6077) (added to group)
[20:27:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(308.1906, 1327.156), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=5
[20:27:49] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[20:27:49] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (484.6857, 844.7242) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (493.0523, 873.8269) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (461.6087, 870.7076) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (468.5439, 819.8096) (added to group)
[20:27:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.4°, player=(284,1344), corner_timer=-0.01
[20:27:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (495.3553, 821.2369) (added to group)
[20:27:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(280,1348), corner_timer=0.30
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (501.2681, 751.4311) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (446.5781, 844.6235) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (491.4608, 797.0599) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (486.2223, 845.8377) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (478.5244, 810.0056) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (475.939, 846.6426) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (498.9827, 782.7352) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (529.8807, 735.783) (added to group)
[20:27:49] [ENEMY] [Enemy4] Ragdoll activated
[20:27:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.0274, 1265.32), shooter_id=275314117949, bullet_pos=(498.9039, 714.5305)
[20:27:49] [INFO] [Bullet] Using shooter_position, distance=565.666320800781
[20:27:49] [INFO] [Bullet] Distance to wall: 565.666320800781 (38.5172599519694% of viewport)
[20:27:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:49] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(241.7426, 1377.934), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=5
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (472.7318, 853.5005) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (424.8235, 785.4498) (added to group)
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (426.4969, 820.7388) (added to group)
[20:27:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(194,1371), corner_timer=-0.02
[20:27:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:27:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(188,1371), corner_timer=0.30
[20:27:49] [INFO] [BloodDecal] Blood puddle created at (460.7731, 793.9317) (added to group)
[20:27:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(166.5752, 1377.934), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=4
[20:27:49] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[20:27:49] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(433.2611, 1156.387), source=NEUTRAL (FragGrenade), range=112, listeners=9
[20:27:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[20:27:49] [INFO] [GrenadeBase] Grenade landed at (433.2611, 1156.387)
[20:27:49] [INFO] [FragGrenade] Impact detected - exploding immediately!
[20:27:49] [INFO] [GrenadeBase] EXPLODED at (433.2611, 1156.387)!
[20:27:49] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:27:49] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:27:49] [INFO] [LastChance] Starting last chance effect:
[20:27:49] [INFO] [LastChance]   - Time will be frozen (except player)
[20:27:49] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:27:49] [INFO] [LastChance]   - Trigger: grenade explosion
[20:27:49] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:27:49] [INFO] [LastChance]   - Brightness: 0.60
[20:27:49] [INFO] [LastChance] Set player Player and all 29 children to PROCESS_MODE_ALWAYS
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:27:49] [INFO] [LastChance] Skipping player node: Player
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1011
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1016
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1026
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1047
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1052
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1055
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1057
[20:27:49] [INFO] [LastChance] Froze existing grenade: FragGrenade
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1060
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1066
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1094
[20:27:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1099
[20:27:49] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:27:49] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:27:49] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:27:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(433.2611, 1156.387), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[20:27:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[20:27:49] [INFO] [GrenadeBase] Scattered 5 casings (lethal zone) + 4 casings (proximity) from explosion
[20:27:49] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[20:27:49] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[20:27:49] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 17.2 degrees
[20:27:49] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1100
[20:27:49] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1100
[20:27:49] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 90.8 degrees
[20:27:49] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1101
[20:27:49] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1101
[20:27:49] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 179.2 degrees
[20:27:49] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1102
[20:27:49] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1102
[20:27:49] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 274.9 degrees
[20:27:49] [INFO] [ImpactEffects] Spawning explosion visual effect at (433.2611, 1156.387) (radius=225) - using shadow-based wall occlusion
[20:27:49] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@1103
[20:27:49] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@1103
[20:27:49] [INFO] [ReplayManager] Recording frame 840 (13,7s): player_valid=True, enemies=10
[20:27:50] [INFO] [ReplayManager] Recording frame 900 (14,7s): player_valid=True, enemies=10
[20:27:51] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:27:51] [ENEMY] [Enemy1] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy2] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy3] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy5] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy6] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy7] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy8] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy9] Player reloading: false -> true
[20:27:51] [ENEMY] [Enemy10] Player reloading: false -> true
[20:27:51] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(278.9192, 1428), source=PLAYER (Player), range=900, listeners=9
[20:27:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=3
[20:27:51] [INFO] [LastChance] Effect duration expired after 2.01 real seconds
[20:27:51] [INFO] [LastChance] Ending last chance effect
[20:27:51] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[20:27:51] [ENEMY] [Enemy1] Search mode: PURSUING -> SEARCHING at (417.3828, 1174.436)
[20:27:51] [ENEMY] [Enemy1] SEARCHING started: center=(417.3828, 1174.436), radius=100, waypoints=5
[20:27:51] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[20:27:51] [ENEMY] [Enemy2] Search mode: SUPPRESSED -> SEARCHING at (417.3828, 1174.436)
[20:27:51] [ENEMY] [Enemy2] SEARCHING started: center=(417.3828, 1174.436), radius=100, waypoints=5
[20:27:51] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[20:27:51] [ENEMY] [Enemy3] Search mode: SEEKING_COVER -> SEARCHING at (417.3828, 1096.436)
[20:27:51] [ENEMY] [Enemy3] SEARCHING started: center=(417.3828, 1096.436), radius=100, waypoints=5
[20:27:51] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[20:27:51] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[20:27:51] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[20:27:51] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[20:27:51] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[20:27:51] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[20:27:51] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[20:27:51] [INFO] [LastChance] All process modes restored
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1011
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1016
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1026
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1047
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1052
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1055
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1057
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1060
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1066
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1094
[20:27:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1099
[20:27:51] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[20:27:51] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1100
[20:27:51] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1101
[20:27:51] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1102
[20:27:51] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@1103
[20:27:51] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:27:51] [INFO] [ReplayManager] Recording frame 960 (15,7s): player_valid=True, enemies=10
[20:27:51] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=989), can_see=false
[20:27:51] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=105.1°, current=177.4°, player=(278,1428), corner_timer=0.07
[20:27:51] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=803), can_see=false
[20:27:51] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=SEARCHING, target=111.9°, current=-96.1°, player=(278,1428), corner_timer=0.00
[20:27:51] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=704), can_see=false
[20:27:51] [ENEMY] [Enemy3] SEARCHING corner check: angle 88.9°
[20:27:51] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1784), can_see=false
[20:27:51] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1936), can_see=false
[20:27:51] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1434), can_see=false
[20:27:51] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1621), can_see=false
[20:27:51] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1825), can_see=false
[20:27:51] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=897), can_see=false
[20:27:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:51] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:27:51] [ENEMY] [Enemy2] SEARCHING corner check: angle -73.1°
[20:27:51] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:27:51] [ENEMY] [Enemy1] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy2] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy3] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy5] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy6] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy7] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy8] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy9] Player reloading: true -> false
[20:27:51] [ENEMY] [Enemy10] Player reloading: true -> false
[20:27:51] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(278,1428), corner_timer=-0.02
[20:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:27:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(241.7426, 1377.934), shooter_id=275314117949, bullet_pos=(502.4036, 931.067)
[20:27:52] [INFO] [Bullet] Using shooter_position, distance=517.333679199219
[20:27:52] [INFO] [Bullet] Distance to wall: 517.333679199219 (35.226201509428% of viewport)
[20:27:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:52] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(278,1428), corner_timer=0.30
[20:27:52] [ENEMY] [Enemy1] SEARCHING corner check: angle 172.8°
[20:27:52] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:27:52] [ENEMY] [Enemy3] SEARCHING corner check: angle -169.8°
[20:27:52] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:52] [INFO] [LastChance] Visual effects fade-out complete
[20:27:52] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:27:52] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:27:52] [ENEMY] [Enemy2] SEARCHING corner check: angle 49.6°
[20:27:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(166.5752, 1377.934), shooter_id=275314117949, bullet_pos=(498.1134, 980.7985)
[20:27:52] [INFO] [Bullet] Using shooter_position, distance=517.333618164063
[20:27:52] [INFO] [Bullet] Distance to wall: 517.333618164063 (35.226197353432% of viewport)
[20:27:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:52] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(278,1428), corner_timer=-0.02
[20:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(278,1428), corner_timer=0.30
[20:27:52] [ENEMY] [Enemy1] SEARCHING corner check: angle -49.2°
[20:27:52] [ENEMY] [Enemy3] SEARCHING corner check: angle -169.8°
[20:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:52] [ENEMY] [Enemy2] SEARCHING corner check: angle -171.5°
[20:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(276,1428), corner_timer=-0.02
[20:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(275,1428), corner_timer=0.30
[20:27:52] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:27:52] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.0°
[20:27:52] [INFO] [ReplayManager] Recording frame 1020 (16,7s): player_valid=True, enemies=10
[20:27:52] [ENEMY] [Enemy3] SEARCHING corner check: angle 10.2°
[20:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:52] [ENEMY] [Enemy2] SEARCHING corner check: angle -171.5°
[20:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(195,1428), corner_timer=-0.02
[20:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(189,1428), corner_timer=0.30
[20:27:53] [ENEMY] [Enemy1] SEARCHING corner check: angle -171.4°
[20:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(146.8615, 1430.921), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=3
[20:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:53] [ENEMY] [Enemy2] SEARCHING corner check: angle 8.5°
[20:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(102,1392), corner_timer=-0.02
[20:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(99.46474, 1394.446), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(99,1388), corner_timer=0.30
[20:27:53] [ENEMY] [Enemy1] SEARCHING corner check: angle -171.4°
[20:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:53] [ENEMY] [Enemy2] SEARCHING corner check: angle 8.5°
[20:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(103.0677, 1329.723), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[20:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(108,1319), corner_timer=-0.02
[20:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(111,1317), corner_timer=0.30
[20:27:53] [ENEMY] [Enemy1] SEARCHING corner check: angle -171.4°
[20:27:53] [INFO] [ReplayManager] Recording frame 1080 (17,7s): player_valid=True, enemies=10
[20:27:53] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=136.9°, current=136.7°, player=(129,1314), corner_timer=0.27
[20:27:53] [ENEMY] [Enemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[20:27:53] [ENEMY] [Enemy1] State: SEARCHING -> COMBAT
[20:27:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=155.9°, current=157.2°, player=(129,1314), corner_timer=0.27
[20:27:53] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[20:27:53] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[20:27:53] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=156.7°, current=158.0°, player=(129,1314), corner_timer=0.10
[20:27:53] [ENEMY] [Enemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[20:27:53] [ENEMY] [Enemy3] State: SEARCHING -> COMBAT
[20:27:53] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:27:53] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:27:53] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.8615, 1430.921), shooter_id=275314117949, bullet_pos=(365.8473, 712.9047)
[20:27:53] [INFO] [Bullet] Using shooter_position, distance=750.667663574219
[20:27:53] [INFO] [Bullet] Distance to wall: 750.667663574219 (51.1143415688852% of viewport)
[20:27:53] [INFO] [Bullet] Distance-based penetration chance: 87.033268169634%
[20:27:53] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:54] [INFO] [BloodyFeet:Enemy3] Blood ran out - no more footprints
[20:27:54] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[20:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(166,1343), corner_timer=-0.02
[20:27:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(167,1347), corner_timer=0.30
[20:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.8663, 1362.748), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[20:27:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(99.46474, 1394.446), shooter_id=275314117949, bullet_pos=(477.388, 707.5481)
[20:27:54] [INFO] [Bullet] Using shooter_position, distance=783.9990234375
[20:27:54] [INFO] [Bullet] Distance to wall: 783.9990234375 (53.3839351529423% of viewport)
[20:27:54] [INFO] [Bullet] Distance-based penetration chance: 84.385408988234%
[20:27:54] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:54] [INFO] [BloodyFeet:Enemy2] Blood ran out - no more footprints
[20:27:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(103.0677, 1329.723), shooter_id=275314117949, bullet_pos=(538.3885, 1020.447)
[20:27:54] [INFO] [Bullet] Using shooter_position, distance=534.000305175781
[20:27:54] [INFO] [Bullet] Distance to wall: 534.000305175781 (36.3610627193949% of viewport)
[20:27:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:27:54] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(174.4527, 1414.918), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:27:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[20:27:54] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:27:54] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:27:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(174.4527, 1414.918), shooter_id=275314117949, bullet_pos=(202.4255, 1393.332)
[20:27:54] [INFO] [Bullet] Using shooter_position, distance=35.3333778381348
[20:27:54] [INFO] [Bullet] Distance to wall: 35.3333778381348 (2.40591466935132% of viewport)
[20:27:54] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:27:54] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:54] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:27:54] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=10.2°, current=149.6°, player=(177,1418), corner_timer=0.10
[20:27:54] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:27:54] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:27:54] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:27:54] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-171.4°, current=126.1°, player=(185,1431), corner_timer=0.27
[20:27:54] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=8.5°, current=125.4°, player=(185,1431), corner_timer=0.27
[20:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(191,1440), corner_timer=-0.02
[20:27:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(195,1444), corner_timer=0.30
[20:27:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.8663, 1362.748), shooter_id=275314117949, bullet_pos=(704.6011, 1022.138)
[20:27:54] [INFO] [Bullet] Using shooter_position, distance=634.000122070313
[20:27:54] [INFO] [Bullet] Distance to wall: 634.000122070313 (43.1702341351924% of viewport)
[20:27:54] [INFO] [Bullet] Distance-based penetration chance: 96.3013935089422%
[20:27:54] [INFO] [Bullet] Caliber cannot penetrate walls
[20:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(279,1494), corner_timer=-0.02
[20:27:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(284,1493), corner_timer=0.30
[20:27:54] [INFO] [ReplayManager] Recording frame 1140 (18,7s): player_valid=True, enemies=10
[20:27:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(337,1445), corner_timer=-0.02
[20:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(337,1440), corner_timer=0.30
[20:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(338,1428), corner_timer=-0.02
[20:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(338,1428), corner_timer=0.30
[20:27:55] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:27:55] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:27:55] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:27:55] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:27:55] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (419.54034, 1139.2815)
[20:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:55] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:27:55] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[20:27:55] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:27:55] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[20:27:55] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[20:27:55] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[20:27:55] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:27:55] [INFO] [Player.Grenade] Timer started, grenade created at (338.4886, 1428.0681)
[20:27:55] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[20:27:55] [INFO] [Player.Grenade] Step 1 complete! Drag: (94.19623, 3.8125)
[20:27:55] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[20:27:55] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[20:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(338,1428), corner_timer=-0.02
[20:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(338,1428), corner_timer=0.30
[20:27:55] [INFO] [ReplayManager] Recording frame 1200 (19,7s): player_valid=True, enemies=10
[20:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(338,1428), corner_timer=-0.02
[20:27:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(338,1428), corner_timer=0.30
[20:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(338,1428), corner_timer=-0.02
[20:27:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(338,1428), corner_timer=0.30
[20:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:56] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:27:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(338,1428), corner_timer=-0.02
[20:27:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:56] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:27:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(338,1428), corner_timer=0.30
[20:27:56] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=108.9°, current=-171.4°, player=(338,1428), corner_timer=0.27
[20:27:56] [INFO] [ReplayManager] Recording frame 1260 (20,7s): player_valid=True, enemies=10
[20:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:56] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[20:27:56] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:27:56] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=107.1°, current=10.2°, player=(338,1428), corner_timer=0.10
[20:27:57] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[20:27:57] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[20:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(338,1429), corner_timer=-0.02
[20:27:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:57] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=106.9°, current=8.5°, player=(338,1430), corner_timer=0.27
[20:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(338,1430), corner_timer=0.30
[20:27:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:57] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=102.5°, current=103.1°, player=(374,1486), corner_timer=0.27
[20:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(374,1486), corner_timer=-0.02
[20:27:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(378,1490), corner_timer=0.30
[20:27:57] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:27:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=98.3°, current=68.7°, player=(382,1494), corner_timer=0.27
[20:27:57] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:27:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(417,1539), corner_timer=-0.02
[20:27:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,1539), corner_timer=0.30
[20:27:57] [INFO] [Player.Grenade.Simple] Throwing! Target: (486.3462, 1221.2942), Distance: 309,4, Speed: 430,9, Friction: 300,0
[20:27:57] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,356709
[20:27:57] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:27:57] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.21245572, -0.97717065), speed=430,9, spawn=(429.67575, 1481.9447)
[20:27:57] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.212456, -0.977171), Speed: 430.9 (clamped from 430.9, max: 1000.0)
[20:27:57] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[20:27:57] [INFO] [Player.Grenade.Simple] Grenade thrown!
[20:27:57] [INFO] [Player.Grenade] State reset to IDLE
[20:27:57] [INFO] [Player.Grenade] State reset to IDLE
[20:27:57] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[20:27:57] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[20:27:57] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (29.6785, 502.4746)
[20:27:57] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[20:27:57] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (-317.5266, 1330.234)
[20:27:57] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[20:27:57] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (-100.332, 1755.85)
[20:27:57] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=10.2°, current=81.4°, player=(415,1540), corner_timer=0.10
[20:27:57] [INFO] [ReplayManager] Recording frame 1320 (21,7s): player_valid=True, enemies=10
[20:27:57] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=EVADING_GRENADE, target=-171.4°, current=147.5°, player=(412,1541), corner_timer=0.27
[20:27:57] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P1:visible, state=EVADING_GRENADE, target=84.7°, current=47.2°, player=(412,1541), corner_timer=0.10
[20:27:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:57] [INFO] [Player.Grenade] Player rotation restored to 0
[20:27:57] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=EVADING_GRENADE, target=10.2°, current=33.2°, player=(407,1541), corner_timer=0.10
[20:27:57] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[20:27:57] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=EVADING_GRENADE, target=8.5°, current=123.1°, player=(401,1541), corner_timer=0.27
[20:27:58] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[20:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(364,1541), corner_timer=-0.02
[20:27:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(359,1541), corner_timer=0.30
[20:27:58] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[20:27:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:58] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:27:58] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=EVADING_GRENADE, target=49.2°, current=73.6°, player=(287,1505), corner_timer=0.27
[20:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(279,1492), corner_timer=-0.02
[20:27:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(277,1487), corner_timer=0.30
[20:27:58] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=EVADING_GRENADE, target=8.5°, current=39.3°, player=(271,1446), corner_timer=0.27
[20:27:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(271,1428), corner_timer=-0.02
[20:27:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(271,1428), corner_timer=0.30
[20:27:58] [INFO] [ReplayManager] Recording frame 1380 (22,7s): player_valid=True, enemies=10
[20:27:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:59] [INFO] [GrenadeBase] Collision detected with WallBottom (type: StaticBody2D)
[20:27:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(271,1428), corner_timer=-0.02
[20:27:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(271,1428), corner_timer=0.30
[20:27:59] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[20:27:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:59] [INFO] [GrenadeTimer] Flashbang grenade landed at (882.3273, 2032.4479)
[20:27:59] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(882.3273, 2032.448), source=NEUTRAL (DefensiveGrenade), range=112, listeners=9
[20:27:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[20:27:59] [INFO] [GrenadeTimer] Emitted grenade landing sound at (882.3273, 2032.4479)
[20:27:59] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(882.9144, 2031.873), source=NEUTRAL (DefensiveGrenade), range=112, listeners=9
[20:27:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[20:27:59] [INFO] [GrenadeBase] Grenade landed at (882.9144, 2031.873)
[20:27:59] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[20:27:59] [ENEMY] [Enemy1] State: EVADING_GRENADE -> COMBAT
[20:27:59] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=79.3°, current=-171.4°, player=(271,1428), corner_timer=0.27
[20:27:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(271,1428), corner_timer=-0.02
[20:27:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:27:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(271,1428), corner_timer=0.30
[20:27:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:27:59] [INFO] [GrenadeBase] EXPLODED at (884.0786, 2030.732)!
[20:27:59] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:27:59] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:27:59] [INFO] [LastChance] Starting last chance effect:
[20:27:59] [INFO] [LastChance]   - Time will be frozen (except player)
[20:27:59] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:27:59] [INFO] [LastChance]   - Trigger: grenade explosion
[20:27:59] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:27:59] [INFO] [LastChance]   - Brightness: 0.60
[20:27:59] [INFO] [LastChance] Set player Player and all 29 children to PROCESS_MODE_ALWAYS
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:27:59] [INFO] [LastChance] Skipping player node: Player
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1011
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1016
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1026
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1047
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1052
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1055
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1057
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1060
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1066
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1094
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1099
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1127
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1133
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1143
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1163
[20:27:59] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1187
[20:27:59] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[20:27:59] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:27:59] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:27:59] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:27:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(884.0786, 2030.732), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=9
[20:27:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[20:27:59] [INFO] [GrenadeBase] Scattered 0 casings (lethal zone) + 2 casings (proximity) from explosion
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle -4.5 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1222
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1222
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle 7.6 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1223
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1223
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 32.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1224
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1224
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 25.1 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1225
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1225
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 40.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1226
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1226
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 38.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1227
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1227
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 59.6 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1228
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1228
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 73.0 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1229
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1229
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 70.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1230
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1230
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 87.1 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1231
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1231
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 103.7 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1232
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1232
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 110.8 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1233
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1233
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 108.0 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1234
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1234
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 112.2 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1235
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1235
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 113.5 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1236
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1236
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 130.7 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1237
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1237
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 133.1 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1238
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1238
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 150.3 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1239
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1239
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 163.7 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1240
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1240
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 157.3 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1241
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1241
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 172.1 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1242
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1242
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 183.7 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1243
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1243
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 190.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1244
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1244
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 218.3 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1245
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1245
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 218.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1246
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1246
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 238.6 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1247
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1247
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 244.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1248
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1248
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 245.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1249
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1249
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 237.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1250
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1250
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 273.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1251
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1251
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 274.1 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1252
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1252
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 275.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1253
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1253
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 274.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1254
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1254
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 298.9 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1255
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1255
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 303.1 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1256
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1256
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 303.0 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1257
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1257
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 325.3 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1258
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1258
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 323.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1259
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1259
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 348.4 degrees
[20:27:59] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1260
[20:27:59] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1260
[20:27:59] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 348.4 degrees
[20:27:59] [INFO] [ImpactEffects] Spawning explosion visual effect at (884.0786, 2030.732) (radius=700) - using shadow-based wall occlusion
[20:27:59] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@1261
[20:27:59] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@1261
[20:27:59] [INFO] [ReplayManager] Recording frame 1440 (23,7s): player_valid=True, enemies=10
[20:28:00] [INFO] [LastChance] Freezing newly fired player bullet: Bullet9mm
[20:28:00] [INFO] [LastChance] Registered frozen player bullet: Bullet9mm
[20:28:00] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:00] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:00] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1262
[20:28:00] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1262
[20:28:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(134.8127, 1459.636), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:28:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:28:00] [INFO] [ReplayManager] Recording frame 1500 (24,7s): player_valid=True, enemies=10
[20:28:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1263
[20:28:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1263
[20:28:01] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1265
[20:28:01] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1265
[20:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(107.2306, 1428.962), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:28:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1266
[20:28:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1266
[20:28:01] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1267
[20:28:01] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1267
[20:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(105.5349, 1416.636), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:28:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1268
[20:28:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1268
[20:28:01] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1270
[20:28:01] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1270
[20:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(105.5349, 1456.97), source=PLAYER (MakarovPM), range=1469, listeners=9
[20:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[20:28:01] [INFO] [LastChance] Effect duration expired after 2.02 real seconds
[20:28:01] [INFO] [LastChance] Ending last chance effect
[20:28:01] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[20:28:01] [ENEMY] [Enemy1] Search mode: COMBAT -> SEARCHING at (414.2789, 1540.899)
[20:28:01] [ENEMY] [Enemy1] SEARCHING started: center=(414.2789, 1540.899), radius=100, waypoints=5
[20:28:01] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[20:28:01] [ENEMY] [Enemy2] Search mode: EVADING_GRENADE -> SEARCHING at (271.3155, 1451.731)
[20:28:01] [ENEMY] [Enemy2] SEARCHING started: center=(271.3155, 1451.731), radius=100, waypoints=5
[20:28:01] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[20:28:01] [ENEMY] [Enemy3] Search mode: EVADING_GRENADE -> SEARCHING at (410.2971, 1541.172)
[20:28:01] [ENEMY] [Enemy3] SEARCHING started: center=(410.2971, 1541.172), radius=100, waypoints=5
[20:28:01] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[20:28:01] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[20:28:01] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[20:28:01] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[20:28:01] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[20:28:01] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[20:28:01] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[20:28:01] [INFO] [LastChance] All process modes restored
[20:28:01] [INFO] [LastChance] Unfroze player bullet: Bullet9mm
[20:28:01] [INFO] [LastChance] Unfroze player bullet: @Area2D@1263
[20:28:01] [INFO] [LastChance] Unfroze player bullet: @Area2D@1266
[20:28:01] [INFO] [LastChance] Unfroze player bullet: @Area2D@1268
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1011
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1016
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1026
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1047
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1052
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1055
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1057
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1060
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1066
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1094
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1099
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1127
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1133
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1143
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1163
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1187
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1262
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1265
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1267
[20:28:01] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1270
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1222
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1223
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1224
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1225
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1226
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1227
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1228
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1229
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1230
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1231
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1232
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1233
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1234
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1235
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1236
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1237
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1238
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1239
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1240
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1241
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1242
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1243
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1244
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1245
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1246
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1247
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1248
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1249
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1250
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1251
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1252
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1253
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1254
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1255
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1256
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1257
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1258
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1259
[20:28:01] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1260
[20:28:01] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@1261
[20:28:01] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[20:28:01] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:28:01] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=83.5°, current=8.5°, player=(105,1483), corner_timer=0.27
[20:28:01] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=-86.3°, current=10.2°, player=(105,1483), corner_timer=0.10
[20:28:01] [ENEMY] [Enemy1] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy2] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy3] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy5] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy7] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:28:01] [ENEMY] [Enemy10] Player ammo empty: false -> true
[20:28:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(105.5349, 1494.97), source=PLAYER (Player), range=600, listeners=9
[20:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[20:28:01] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[20:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (94.64143, 1338.337), dir=(-0.275266, -0.961368), lethal=false
[20:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:01] [INFO] [ImpactEffects] Blood effect spawned at (94.64143, 1338.337) (scale=0.5)
[20:28:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=914), can_see=false
[20:28:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=157), can_see=false
[20:28:01] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=253), can_see=false
[20:28:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1963), can_see=false
[20:28:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2120), can_see=false
[20:28:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[20:28:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1795), can_see=false
[20:28:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[20:28:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1059), can_see=false
[20:28:01] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[20:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (97.92706, 1342.281), dir=(-0.289437, -0.957197), lethal=false
[20:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:01] [INFO] [ImpactEffects] Blood effect spawned at (97.92706, 1342.281) (scale=0.5)
[20:28:01] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[20:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (101.2127, 1346.225), dir=(-0.251029, -0.967979), lethal=false
[20:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:01] [INFO] [ImpactEffects] Blood effect spawned at (101.2127, 1346.225) (scale=0.5)
[20:28:01] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[20:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (101.2127, 1346.225), dir=(-0.365462, -0.930826), lethal=true
[20:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:01] [INFO] [ImpactEffects] Blood effect spawned at (101.2127, 1346.225) (scale=0.75)
[20:28:01] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:28:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:28:01] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:01] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:01] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:01] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:01] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[20:28:01] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:28:01] [INFO] [DeathAnim] Started - Angle: -111.4 deg, Index: 4
[20:28:01] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.365462, -0.930826)
[20:28:01] [ENEMY] [Enemy10] Hit: dmg=1, hp=3/3->2/3
[20:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1159.099, 1601.934), dir=(0.546646, -0.837364), lethal=false
[20:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:01] [INFO] [ImpactEffects] Blood effect spawned at (1159.099, 1601.934) (scale=1)
[20:28:01] [ENEMY] [Enemy10] Hit: dmg=1, hp=2/3->1/3
[20:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1159.099, 1601.934), dir=(0.545352, -0.838207), lethal=false
[20:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:01] [INFO] [ImpactEffects] Blood effect spawned at (1159.099, 1601.934) (scale=1)
[20:28:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(105,1517), corner_timer=-0.00
[20:28:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(105,1518), corner_timer=0.30
[20:28:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(105.5349, 1518.62), source=PLAYER (Player), range=600, listeners=8
[20:28:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:28:01] [INFO] [ReplayManager] Recording frame 1560 (25,6s): player_valid=True, enemies=10
[20:28:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(105.5349, 1523.57), source=PLAYER (Player), range=600, listeners=8
[20:28:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:28:02] [INFO] [LastChance] Visual effects fade-out complete
[20:28:02] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:28:02] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:28:02] [INFO] [PowerFantasy] Effect duration expired after 305.00 ms
[20:28:02] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:02] [ENEMY] [Enemy3] SEARCHING corner check: angle 82.5°
[20:28:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=981), can_see=false
[20:28:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=121), can_see=false
[20:28:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2009), can_see=false
[20:28:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2159), can_see=false
[20:28:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1649), can_see=false
[20:28:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1799), can_see=false
[20:28:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[20:28:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[20:28:02] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[20:28:02] [INFO] [ImpactEffects] spawn_blood_effect called at (224.4905, 599.6238), dir=(-0.431377, -0.902172), lethal=false
[20:28:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:02] [INFO] [ImpactEffects] Blood effect spawned at (224.4905, 599.6238) (scale=1)
[20:28:02] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/4->2/4
[20:28:02] [INFO] [ImpactEffects] spawn_blood_effect called at (224.4905, 599.6238), dir=(-0.41625, -0.90925), lethal=false
[20:28:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:02] [INFO] [ImpactEffects] Blood effect spawned at (224.4905, 599.6238) (scale=1)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (86.44807, 1308.221) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (65.57045, 1300.07) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (89.03901, 1278.993) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (97.31685, 1322.69) (added to group)
[20:28:02] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (69.11598, 1329.588) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (101.3897, 1298.094) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (108.4538, 1275.127) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1172.91, 1542.789) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1170.979, 1568.64) (added to group)
[20:28:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.4°, player=(105,1571), corner_timer=-0.01
[20:28:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:28:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(105,1571), corner_timer=0.30
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (89.27682, 1256.979) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (74.66483, 1321.748) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (96.96352, 1299.33) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (89.98942, 1303.334) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (77.07142, 1277.549) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (76.59138, 1325.499) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (74.70518, 1252.316) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (102.76, 1306.951) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1247.605, 1555.243) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1184.353, 1526.831) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1199.406, 1534.864) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (87.35612, 1300.347) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (72.9916, 1247.062) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (111.3837, 1259.297) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (89.10474, 1305.78) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (86.90021, 1284.032) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (81.39291, 1242.84) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (82.17979, 1242.338) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (105.051, 1307.946) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1232.282, 1586.864) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1215.272, 1567.323) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1250.91, 1571.873) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1222.962, 1596.199) (added to group)
[20:28:02] [ENEMY] [Enemy2] Ragdoll activated
[20:28:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (96.01904, 1248.559) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (95.67038, 1268.307) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (72.24915, 1309.963) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1201.333, 1513.338) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (184.0738, 579.4028) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (191.5157, 590.4335) (added to group)
[20:28:02] [ENEMY] [Enemy1] SEARCHING corner check: angle -77.9°
[20:28:02] [ENEMY] [Enemy3] SEARCHING corner check: angle 82.5°
[20:28:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (99.28996, 1251.677) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (82.12331, 1250.61) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1212.072, 1517.008) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1195.593, 1552.288) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1263.057, 1542.279) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (168.6567, 560.5908) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (175.1789, 574.9005) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (170.7037, 531.3641) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (84.71793, 1300.66) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1276.65, 1607.103) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1327.05, 1567.44) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (215.2504, 563.1294) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (224.8872, 556.9608) (added to group)
[20:28:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(105,1571), corner_timer=-0.02
[20:28:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(105,1571), corner_timer=0.30
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (73.27238, 1296.926) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (92.25718, 1328.598) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (92.64251, 1284.166) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1296.756, 1612.306) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1194.687, 1603.796) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1299.042, 1530.066) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (167.0096, 507.6757) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (219.6165, 544.602) (added to group)
[20:28:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=978), can_see=false
[20:28:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=214), can_see=false
[20:28:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2009), can_see=false
[20:28:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2159), can_see=false
[20:28:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1649), can_see=false
[20:28:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1799), can_see=false
[20:28:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[20:28:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (75.32906, 1307.07) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1303.82, 1595.974) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (1200.947, 1553.04) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (136.8086, 559.8398) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (165.7049, 492.3047) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (180.3669, 563.3589) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (96.12276, 559.7717) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (136.462, 552.0856) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (137.9146, 603.084) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (111.5987, 594.7834) (added to group)
[20:28:02] [INFO] [ReplayManager] Recording frame 1620 (26,5s): player_valid=True, enemies=10
[20:28:02] [ENEMY] [Enemy1] SEARCHING corner check: angle -77.9°
[20:28:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:02] [ENEMY] [Enemy3] SEARCHING corner check: angle 82.5°
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (153.6902, 593.1216) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (135.4697, 530.536) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (142.0267, 597.1539) (added to group)
[20:28:02] [INFO] [BloodDecal] Blood puddle created at (162.7166, 599.9364) (added to group)
[20:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(105,1571), corner_timer=-0.02
[20:28:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(105,1571), corner_timer=0.30
[20:28:03] [ENEMY] [Enemy1] SEARCHING corner check: angle -77.9°
[20:28:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:03] [ENEMY] [Enemy3] SEARCHING corner check: angle 82.5°
[20:28:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=994), can_see=false
[20:28:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=357), can_see=false
[20:28:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2009), can_see=false
[20:28:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2159), can_see=false
[20:28:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1649), can_see=false
[20:28:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1799), can_see=false
[20:28:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[20:28:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[20:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(105,1571), corner_timer=-0.02
[20:28:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(105,1571), corner_timer=0.30
[20:28:03] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:03] [ENEMY] [Enemy2] Death animation completed
[20:28:03] [ENEMY] [Enemy1] SEARCHING corner check: angle 48.9°
[20:28:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:03] [ENEMY] [Enemy3] SEARCHING corner check: angle -179.8°
[20:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(157,1565), corner_timer=-0.02
[20:28:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(160,1564), corner_timer=0.30
[20:28:03] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(163.2329, 1563.208), source=PLAYER (Player), range=600, listeners=8
[20:28:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:28:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=815), can_see=false
[20:28:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=362), can_see=false
[20:28:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1952), can_see=false
[20:28:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2099), can_see=false
[20:28:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1587), can_see=false
[20:28:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1735), can_see=false
[20:28:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1931), can_see=false
[20:28:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=991), can_see=false
[20:28:03] [INFO] [ReplayManager] Recording frame 1680 (27,5s): player_valid=True, enemies=10
[20:28:03] [ENEMY] [Enemy1] SEARCHING corner check: angle -175.4°
[20:28:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:03] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(171.4406, 1557.175), source=PLAYER (Player), range=600, listeners=8
[20:28:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:28:03] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=179.1°, current=135.5°, player=(168,1558), corner_timer=-0.02
[20:28:03] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[20:28:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.4567, 1554.016), source=ENEMY (Enemy3), range=1469, listeners=8
[20:28:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[20:28:03] [ENEMY] [Enemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[20:28:03] [ENEMY] [Enemy3] State: SEARCHING -> COMBAT
[20:28:04] [INFO] [LastChance] Threat detected: Bullet
[20:28:04] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(159,1566), corner_timer=-0.02
[20:28:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(157,1567), corner_timer=0.30
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(154.5363, 1569.038), source=PLAYER (Player), range=600, listeners=8
[20:28:04] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (154.5363, 1569.038), intensity=0.03, distance=297
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:28:04] [INFO] [Player] Spawning blood effect at (154.53632, 1569.0385), dir=(1, 0), lethal=False (C#)
[20:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (154.5363, 1569.038), dir=(1, 0), lethal=false
[20:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:04] [INFO] [ImpactEffects] Blood effect spawned at (154.5363, 1569.038) (scale=1)
[20:28:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:28:04] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:28:04] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.1434, 1563.934), source=ENEMY (Enemy3), range=1469, listeners=8
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[20:28:04] [INFO] [LastChance] Threat detected: @Area2D@1504
[20:28:04] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:04] [INFO] [Player] Spawning blood effect at (125.74019, 1571.9338), dir=(1, 0), lethal=False (C#)
[20:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (125.7402, 1571.934), dir=(1, 0), lethal=false
[20:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:04] [INFO] [ImpactEffects] Blood effect spawned at (125.7402, 1571.934) (scale=1)
[20:28:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[20:28:04] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[20:28:04] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.2077, 1563.933), source=ENEMY (Enemy3), range=1469, listeners=8
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[20:28:04] [ENEMY] [Enemy1] SEARCHING corner check: angle -175.4°
[20:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:04] [INFO] [LastChance] Threat detected: Bullet
[20:28:04] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:04] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=120.3°, current=119.7°, player=(101,1571), corner_timer=0.27
[20:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=716)
[20:28:04] [ENEMY] [Enemy1] State: SEARCHING -> RETREATING
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(92.43095, 1572.343), source=PLAYER (Player), range=600, listeners=8
[20:28:04] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (92.43095, 1572.343), intensity=0.03, distance=291
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:28:04] [INFO] [Player] Spawning blood effect at (92.430954, 1572.3431), dir=(1, 0), lethal=False (C#)
[20:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (92.43095, 1572.343), dir=(1, 0), lethal=false
[20:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:04] [INFO] [ImpactEffects] Blood effect spawned at (92.43095, 1572.343) (scale=1)
[20:28:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[20:28:04] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[20:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=717), can_see=true
[20:28:04] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.31, 1563.933), source=ENEMY (Enemy3), range=1469, listeners=8
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[20:28:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2020), can_see=false
[20:28:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2170), can_see=false
[20:28:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1662), can_see=false
[20:28:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1812), can_see=false
[20:28:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2008), can_see=false
[20:28:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1067), can_see=false
[20:28:04] [INFO] [LastChance] Threat detected: @Area2D@1513
[20:28:04] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1576), corner_timer=-0.02
[20:28:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1578), corner_timer=0.30
[20:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(315.96368, 1573.6836), shooter_id=271958674125, bullet_pos=(66.05907, 1580.5903)
[20:28:04] [INFO] [Bullet] Using shooter_position, distance=250,00005
[20:28:04] [INFO] [Bullet] Distance to wall: 250,00005 (17,022963% of viewport)
[20:28:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:04] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(349.635, 1563.934), source=ENEMY (Enemy3), range=1469, listeners=8
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[20:28:04] [INFO] [LastChance] Threat detected: Bullet
[20:28:04] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(282.72086, 1576.3069), shooter_id=271958674125, bullet_pos=(158.03752, 1585.1992)
[20:28:04] [INFO] [Bullet] Using shooter_position, distance=125,00003
[20:28:04] [INFO] [Bullet] Distance to wall: 125,00003 (8,511482% of viewport)
[20:28:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:04] [INFO] [Bullet] Starting wall penetration at (158.03752, 1585.1992)
[20:28:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:28:04] [INFO] [Bullet] Exiting penetration at (111.489075, 1588.519) after traveling 41,666676 pixels through wall
[20:28:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:28:04] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-175.4°, current=122.1°, player=(80,1596), corner_timer=0.27
[20:28:04] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:28:04] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:28:04] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[20:28:04] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=170.9°, current=171.5°, player=(80,1602), corner_timer=-0.02
[20:28:04] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=245), can_see=false
[20:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:04] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[20:28:04] [INFO] [BloodDecal] Blood puddle created at (295.5709, 1574.038) (added to group)
[20:28:04] [INFO] [BloodDecal] Blood puddle created at (165.1829, 1570.121) (added to group)
[20:28:04] [ENEMY] [Enemy3] Pursuing vulnerability sound at (80.06497, 1599.813), distance=244
[20:28:04] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:04] [INFO] [BloodDecal] Blood puddle created at (274.0518, 1582.632) (added to group)
[20:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1631), corner_timer=-0.02
[20:28:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:04] [INFO] [BloodDecal] Blood puddle created at (294.7309, 1583.773) (added to group)
[20:28:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1634), corner_timer=0.30
[20:28:04] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=755), can_see=false
[20:28:04] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:28:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2075), can_see=false
[20:28:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2220), can_see=false
[20:28:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1704), can_see=false
[20:28:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1831), can_see=false
[20:28:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2022), can_see=false
[20:28:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1080), can_see=false
[20:28:04] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:04] [ENEMY] [Enemy1] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy3] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:04] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:04] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06499, 1648.452), source=PLAYER (Player), range=900, listeners=8
[20:28:04] [ENEMY] [Enemy3] Heard player RELOAD at (80.06499, 1648.452), intensity=0.07, distance=188
[20:28:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[20:28:04] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=120.1°, current=176.6°, player=(80,1648), corner_timer=0.27
[20:28:04] [INFO] [ReplayManager] Recording frame 1740 (28,5s): player_valid=True, enemies=10
[20:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:05] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:05] [ENEMY] [Enemy1] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy3] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:05] [ENEMY] [Enemy1] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy3] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy5] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy7] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:28:05] [ENEMY] [Enemy10] Player ammo empty: true -> false
[20:28:05] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1650), corner_timer=-0.02
[20:28:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1650), corner_timer=0.30
[20:28:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:05] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1650), corner_timer=-0.02
[20:28:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1650), corner_timer=0.30
[20:28:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:05] [ENEMY] [Enemy3] Pursuing vulnerability sound at (80.06499, 1648.452), distance=422
[20:28:05] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=171.6°, current=153.7°, player=(80,1599), corner_timer=-0.02
[20:28:05] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=122.4°, current=122.1°, player=(80,1593), corner_timer=0.27
[20:28:05] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=172.3°, current=-44.1°, player=(80,1593), corner_timer=-0.02
[20:28:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1588), corner_timer=-0.02
[20:28:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1582), corner_timer=0.30
[20:28:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1583.317), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:05] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:28:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1546.317), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:05] [INFO] [ReplayManager] Recording frame 1800 (29,5s): player_valid=True, enemies=10
[20:28:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[20:28:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400.8348, 1563.933), dir=(0.999594, -0.028483), lethal=false
[20:28:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:06] [INFO] [ImpactEffects] Blood effect spawned at (400.8348, 1563.933) (scale=0.5)
[20:28:06] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-173.4°, current=178.4°, player=(80,1526), corner_timer=-0.02
[20:28:06] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[20:28:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1526), corner_timer=-0.02
[20:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1526), corner_timer=0.30
[20:28:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1535.984), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[20:28:06] [INFO] [ImpactEffects] spawn_blood_effect called at (405.3678, 1556.89), dir=(0.999467, 0.032649), lethal=false
[20:28:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:06] [INFO] [ImpactEffects] Blood effect spawned at (405.3678, 1556.89) (scale=0.5)
[20:28:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:06] [INFO] [BloodyFeet:Enemy3] Blood ran out - no more footprints
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (449.1107, 1580.639) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (477.3335, 1561.437) (added to group)
[20:28:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1589.65), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06499, 1589.65), shooter_id=275314117949, bullet_pos=(98.72715, 1589.24)
[20:28:06] [INFO] [Bullet] Using shooter_position, distance=18.6666679382324
[20:28:06] [INFO] [Bullet] Distance to wall: 18.6666679382324 (1.27104774488988% of viewport)
[20:28:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:06] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1589), corner_timer=-0.02
[20:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (492.3896, 1576.953) (added to group)
[20:28:06] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=122.0°, current=122.0°, player=(80,1594), corner_timer=0.27
[20:28:06] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:28:06] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1594), corner_timer=0.30
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (456.4593, 1550.232) (added to group)
[20:28:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[20:28:06] [INFO] [ImpactEffects] spawn_blood_effect called at (415.4303, 1557.17), dir=(0.99935, 0.036053), lethal=true
[20:28:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:06] [INFO] [ImpactEffects] Blood effect spawned at (415.4303, 1557.17) (scale=0.75)
[20:28:06] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:28:06] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:28:06] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:06] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:06] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:06] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:06] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[20:28:06] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[20:28:06] [INFO] [DeathAnim] Started - Angle: 2.1 deg, Index: 12
[20:28:06] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99935, 0.036053)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (447.4898, 1569.811) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (490.9984, 1552.995) (added to group)
[20:28:06] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:28:06] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (500.3256, 1585.707) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (522.8719, 1568.413) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (473.8434, 1585.518) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (486.2961, 1546.889) (added to group)
[20:28:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:06] [INFO] [ReplayManager] Recording frame 1860 (30,2s): player_valid=True, enemies=10
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (600.2045, 1578.24) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (467.6559, 1577.7) (added to group)
[20:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(80,1646), corner_timer=-0.01
[20:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(80,1646), corner_timer=0.30
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (481.6692, 1551.793) (added to group)
[20:28:06] [INFO] [BloodDecal] Blood puddle created at (520.8594, 1555.027) (added to group)
[20:28:07] [INFO] [BloodDecal] Blood puddle created at (603.524, 1595.719) (added to group)
[20:28:07] [INFO] [BloodDecal] Blood puddle created at (525.2591, 1574.581) (added to group)
[20:28:07] [ENEMY] [Enemy3] Ragdoll activated
[20:28:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:28:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:07] [INFO] [BloodDecal] Blood puddle created at (531.6184, 1582.742) (added to group)
[20:28:07] [INFO] [BloodDecal] Blood puddle created at (585.0757, 1573.867) (added to group)
[20:28:07] [INFO] [BloodDecal] Blood puddle created at (610.236, 1595.522) (added to group)
[20:28:07] [INFO] [BloodDecal] Blood puddle created at (591.3019, 1569.904) (added to group)
[20:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(80,1595), corner_timer=-0.02
[20:28:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:07] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=122.3°, current=122.0°, player=(80,1590), corner_timer=0.27
[20:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(80,1590), corner_timer=0.30
[20:28:07] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:28:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(80,1485), corner_timer=-0.02
[20:28:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(80,1480), corner_timer=0.30
[20:28:07] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[20:28:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:07] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:07] [ENEMY] [Enemy1] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy3] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:07] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:07] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06499, 1408.742), source=PLAYER (Player), range=900, listeners=7
[20:28:07] [ENEMY] [Enemy1] Heard player RELOAD at (80.06499, 1408.742), intensity=0.04, distance=243
[20:28:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[20:28:07] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[20:28:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(267.8484, 1254.321), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:07] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1935), can_see=false
[20:28:07] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2101), can_see=false
[20:28:07] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1614), can_see=false
[20:28:07] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1820), can_see=false
[20:28:07] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2025), can_see=false
[20:28:07] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1096), can_see=false
[20:28:07] [INFO] [ReplayManager] Recording frame 1920 (31,2s): player_valid=True, enemies=10
[20:28:07] [INFO] [LastChance] Threat detected: Bullet
[20:28:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:07] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.1291752, 2.1576016), target=(-4, 2), base=(16, 6)
[20:28:07] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9171832, 6), target=(4, 6), base=(4, 6)
[20:28:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(220.58948, 1303.2825), shooter_id=271254030942, bullet_pos=(59.348152, 1435.2069)
[20:28:07] [INFO] [Bullet] Using shooter_position, distance=208,33345
[20:28:07] [INFO] [Bullet] Distance to wall: 208,33345 (14,185808% of viewport)
[20:28:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(80,1375), corner_timer=-0.02
[20:28:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:07] [ENEMY] [Enemy1] Player reloading - priority attack triggered
[20:28:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.7276, 1261.237), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,1370), corner_timer=0.30
[20:28:08] [INFO] [LastChance] Threat detected: @Area2D@1614
[20:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:08] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:08] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:08] [ENEMY] [Enemy1] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy3] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:08] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:08] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.979, 1302.9707), shooter_id=271254030942, bullet_pos=(63.15892, 1388.8789)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=166,66672
[20:28:08] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(220.58948, 1303.2825), shooter_id=271254030942, bullet_pos=(262.87802, 1585.3485)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=285,21848
[20:28:08] [INFO] [Bullet] Distance to wall: 285,21848 (19,421051% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.7276, 1261.237), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:08] [INFO] [LastChance] Threat detected: @Area2D@1619
[20:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:08] [ENEMY] [Enemy3] Death animation completed
[20:28:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(199.45741, 1293.265), shooter_id=271254030942, bullet_pos=(44.17201, 1353.7977)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=166,66663
[20:28:08] [INFO] [Bullet] Distance to wall: 166,66663 (11,348638% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.7276, 1261.237), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:08] [INFO] [LastChance] Threat detected: @Area2D@1623
[20:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(220.58948, 1303.2825), shooter_id=271254030942, bullet_pos=(510.97647, 1406.16)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=308,07208
[20:28:08] [INFO] [Bullet] Distance to wall: 308,07208 (20,977194% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1271.742), source=PLAYER (MakarovPM), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(194.31607, 1280.8087), shooter_id=271254030942, bullet_pos=(30.471897, 1311.3517)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=166,6667
[20:28:08] [INFO] [Bullet] Distance to wall: 166,6667 (11,348642% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [INFO] [Bullet] Starting wall penetration at (30.471897, 1311.3517)
[20:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(80,1265), corner_timer=-0.02
[20:28:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,22108
[20:28:08] [INFO] [Bullet] Body exited signal received for penetrating body
[20:28:08] [INFO] [Bullet] Exiting penetration at (-15.404469, 1319.9037) after traveling 41,666668 pixels through wall
[20:28:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,1260), corner_timer=0.30
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.7276, 1261.237), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:08] [INFO] [LastChance] Threat detected: @Area2D@1630
[20:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(191.65161, 1266.5774), shooter_id=271254030942, bullet_pos=(66.83612, 1259.7882)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=124,99999
[20:28:08] [INFO] [Bullet] Distance to wall: 124,99999 (8,51148% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/4->1/4
[20:28:08] [INFO] [ImpactEffects] spawn_blood_effect called at (259.7276, 1261.237), dir=(0.999144, 0.041368), lethal=false
[20:28:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:08] [INFO] [ImpactEffects] Blood effect spawned at (259.7276, 1261.237) (scale=0.5)
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.7276, 1261.237), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:08] [INFO] [LastChance] Threat detected: @Area2D@1633
[20:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1211.242), source=PLAYER (MakarovPM), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[20:28:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(192.60498, 1252.4591), shooter_id=271254030942, bullet_pos=(31.897213, 1208.2911)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=166,66672
[20:28:08] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(220.58948, 1303.2825), shooter_id=271254030942, bullet_pos=(894.39594, 1713.1599)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=788,6791
[20:28:08] [INFO] [Bullet] Distance to wall: 788,6791 (53,70261% of viewport)
[20:28:08] [INFO] [Bullet] Distance-based penetration chance: 84,013626%
[20:28:08] [INFO] [Bullet] Starting wall penetration at (894.39594, 1713.1599)
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.7276, 1261.237), source=ENEMY (Enemy1), range=1469, listeners=7
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[20:28:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,036744
[20:28:08] [INFO] [Bullet] Body exited signal received for penetrating body
[20:28:08] [INFO] [Bullet] Exiting penetration at (918.2735, 1732.2784) after traveling 25,58854 pixels through wall
[20:28:08] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[20:28:08] [INFO] [LastChance] Threat detected: @Area2D@1641
[20:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:08] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/4->0/4
[20:28:08] [INFO] [ImpactEffects] spawn_blood_effect called at (259.7276, 1261.237), dir=(0.964886, 0.262668), lethal=true
[20:28:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:08] [INFO] [ImpactEffects] Blood effect spawned at (259.7276, 1261.237) (scale=0.75)
[20:28:08] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:28:08] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:28:08] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:08] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:08] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:08] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:08] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[20:28:08] [INFO] [DeathAnim] Started - Angle: 15.2 deg, Index: 13
[20:28:08] [ENEMY] [Enemy1] Death animation started with hit direction: (0.964886, 0.262668)
[20:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1155), corner_timer=-0.02
[20:28:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(194.95801, 1239.7349), shooter_id=271254030942, bullet_pos=(44.97174, 1167.0581)
[20:28:08] [INFO] [Bullet] Using shooter_position, distance=166,66672
[20:28:08] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[20:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1150), corner_timer=0.30
[20:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06807, 1150.742), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[20:28:08] [INFO] [ReplayManager] Recording frame 1980 (32,0s): player_valid=True, enemies=10
[20:28:08] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:28:08] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:08] [INFO] [BloodDecal] Blood puddle created at (319.1212, 1279.768) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (353.786, 1267.534) (added to group)
[20:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (376.6007, 1269.62) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (325.1079, 1323.871) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (392.3186, 1355.696) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (384.4011, 1335.762) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (336.7394, 1288.94) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (330.1914, 1328.932) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (304.5426, 1315.146) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (314.6284, 1281.516) (added to group)
[20:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(127,1065), corner_timer=-0.01
[20:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(131,1061), corner_timer=0.30
[20:28:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06807, 1150.742), shooter_id=275314117949, bullet_pos=(351.8965, 1395.326)
[20:28:09] [INFO] [Bullet] Using shooter_position, distance=365.665924072266
[20:28:09] [INFO] [Bullet] Distance to wall: 365.665924072266 (24.8988651704242% of viewport)
[20:28:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:09] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (368.7477, 1284.201) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (325.2278, 1307.054) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (343.167, 1290.811) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (341.9856, 1303.963) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (402.955, 1290.215) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (429.1464, 1321.413) (added to group)
[20:28:09] [ENEMY] [Enemy1] Ragdoll activated
[20:28:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (390.2862, 1328.922) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (360.4838, 1363.114) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (366.1349, 1348.925) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (434.265, 1350.897) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (483.1093, 1453.493) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (340.6142, 1362.439) (added to group)
[20:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (371.4261, 1312.192) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (411.9928, 1383.916) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (400.4222, 1361.483) (added to group)
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (460.2242, 1403.918) (added to group)
[20:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(205,988), corner_timer=-0.02
[20:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (428.4082, 1381.848) (added to group)
[20:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(208,984), corner_timer=0.30
[20:28:09] [INFO] [BloodDecal] Blood puddle created at (488.1843, 1371.644) (added to group)
[20:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:09] [INFO] [ReplayManager] Recording frame 2040 (32,9s): player_valid=True, enemies=10
[20:28:09] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(282,910), corner_timer=-0.02
[20:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(286,906), corner_timer=0.30
[20:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(360,832), corner_timer=-0.02
[20:28:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(364,828), corner_timer=0.30
[20:28:10] [ENEMY] [Enemy1] Death animation completed
[20:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:10] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(438,754), corner_timer=-0.02
[20:28:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(442,750), corner_timer=0.30
[20:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:10] [INFO] [ReplayManager] Recording frame 2100 (33,9s): player_valid=True, enemies=10
[20:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(516,724), corner_timer=-0.02
[20:28:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(520,723), corner_timer=0.30
[20:28:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(593,655), corner_timer=-0.02
[20:28:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(597,651), corner_timer=0.30
[20:28:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(671,577), corner_timer=-0.02
[20:28:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(675,573), corner_timer=0.30
[20:28:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:11] [INFO] [ReplayManager] Recording frame 2160 (34,9s): player_valid=True, enemies=10
[20:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(749,499), corner_timer=-0.02
[20:28:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(753,496), corner_timer=0.30
[20:28:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:12] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(837,446), corner_timer=-0.02
[20:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(842,446), corner_timer=0.30
[20:28:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(947,446), corner_timer=-0.02
[20:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(952,446), corner_timer=0.30
[20:28:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:12] [INFO] [ReplayManager] Recording frame 2220 (35,9s): player_valid=True, enemies=10
[20:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1057,446), corner_timer=-0.02
[20:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1062,446), corner_timer=0.30
[20:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1167,446), corner_timer=-0.02
[20:28:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1172,446), corner_timer=0.30
[20:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1271,432), corner_timer=-0.02
[20:28:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1275,429), corner_timer=0.30
[20:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:13] [INFO] [ReplayManager] Recording frame 2280 (36,9s): player_valid=True, enemies=10
[20:28:13] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[20:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1322,344), corner_timer=-0.02
[20:28:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1322,338), corner_timer=0.30
[20:28:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1322,234), corner_timer=-0.02
[20:28:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1322,228), corner_timer=0.30
[20:28:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,134), corner_timer=-0.02
[20:28:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1349,130), corner_timer=0.30
[20:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1373.267, 113.2119), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:14] [ENEMY] [Enemy5] Heard gunshot at (1373.267, 113.2119), source_type=0, intensity=0.02, distance=404
[20:28:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:14] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-143.4°, current=56.2°, player=(1373,107), corner_timer=0.00
[20:28:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1399.268, 86.06651), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:14] [INFO] [ReplayManager] Recording frame 2340 (37,9s): player_valid=True, enemies=10
[20:28:14] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-142.8°, current=-114.7°, player=(1402,80), corner_timer=0.00
[20:28:14] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-142.4°, current=-118.0°, player=(1402,80), corner_timer=0.00
[20:28:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1402,80), corner_timer=-0.02
[20:28:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:14] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-143.0°, current=-120.5°, player=(1402,80), corner_timer=0.00
[20:28:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1402,80), corner_timer=0.30
[20:28:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1373.267, 113.2119), shooter_id=275314117949, bullet_pos=(1644.848, 277.3593)
[20:28:14] [INFO] [Bullet] Using shooter_position, distance=317.3330078125
[20:28:14] [INFO] [Bullet] Distance to wall: 317.3330078125 (21.6077880259007% of viewport)
[20:28:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1386.768, 86.06651), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:15] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:28:15] [ENEMY] [Enemy5] Hit: dmg=1, hp=4/4->3/4
[20:28:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.066, 278.0962), dir=(0.843833, 0.536605), lethal=false
[20:28:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:15] [INFO] [ImpactEffects] Blood effect spawned at (1684.066, 278.0962) (scale=0.5)
[20:28:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1349,92), corner_timer=-0.02
[20:28:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1345,95), corner_timer=0.30
[20:28:15] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=102.5°, current=-152.6°, player=(1341,98), corner_timer=0.00
[20:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1337.74, 108.0473), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:15] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:28:15] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:28:15] [ENEMY] [Enemy6] Memory: high confidence (0.88) - transitioning to PURSUING
[20:28:15] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1715.981, 326.944) (added to group)
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1737.183, 319.5371) (added to group)
[20:28:15] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-153.4°, current=11.3°, player=(1310,129), corner_timer=0.00
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1754.559, 335.5356) (added to group)
[20:28:15] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:15] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[20:28:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1740.361, 306.7829) (added to group)
[20:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1284.023, 168.2971), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:28:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1337.74, 108.0473), shooter_id=275314117949, bullet_pos=(1588.256, 274.3067)
[20:28:15] [INFO] [Bullet] Using shooter_position, distance=300.6669921875
[20:28:15] [INFO] [Bullet] Distance to wall: 300.6669921875 (20.472968375894% of viewport)
[20:28:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:15] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1724.475, 380.447) (added to group)
[20:28:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1280,171), corner_timer=-0.02
[20:28:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1735.925, 397.7754) (added to group)
[20:28:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1278,175), corner_timer=0.30
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1725.838, 395.5253) (added to group)
[20:28:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1284.023, 168.2971), shooter_id=275314117949, bullet_pos=(1373.059, 215.2681)
[20:28:15] [INFO] [Bullet] Using shooter_position, distance=100.666435241699
[20:28:15] [INFO] [Bullet] Distance to wall: 100.666435241699 (6.85456268485919% of viewport)
[20:28:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:15] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1750.201, 386.1987) (added to group)
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1795.828, 417.9204) (added to group)
[20:28:15] [INFO] [BloodDecal] Blood puddle created at (1807.447, 495.2587) (added to group)
[20:28:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:15] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[20:28:15] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=150.2°, current=-166.8°, player=(1288,226), corner_timer=0.03
[20:28:15] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:28:15] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:28:15] [INFO] [ReplayManager] Recording frame 2400 (38,9s): player_valid=True, enemies=10
[20:28:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1313,253), corner_timer=-0.02
[20:28:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1317,257), corner_timer=0.30
[20:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,330), corner_timer=-0.02
[20:28:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,333), corner_timer=0.30
[20:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1386.768, 86.06651), shooter_id=275314117949, bullet_pos=(2464.344, 784.2698)
[20:28:16] [INFO] [Bullet] Using shooter_position, distance=1284.00085449219
[20:28:16] [INFO] [Bullet] Distance to wall: 1284.00085449219 (87.4299792517507% of viewport)
[20:28:16] [INFO] [Bullet] Distance-based penetration chance: 44.6650242062909%
[20:28:16] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:16] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:16] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:16] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:16] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:16] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:16] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:16] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:16] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1347.935, 344.1017), source=PLAYER (Player), range=900, listeners=6
[20:28:16] [ENEMY] [Enemy5] Heard player RELOAD at (1347.935, 344.1017), intensity=0.02, distance=348
[20:28:16] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:28:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[20:28:16] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=176.1°, current=-170.4°, player=(1347,344), corner_timer=0.00
[20:28:16] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=true (dist=348), can_see=false
[20:28:16] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1347.935, 344.1017), distance=348
[20:28:16] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=555), can_see=false
[20:28:16] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=614), can_see=false
[20:28:16] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1236), can_see=false
[20:28:16] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1421), can_see=false
[20:28:16] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1272), can_see=false
[20:28:16] [ENEMY] [Enemy7] Memory: medium confidence (0.79) - transitioning to PURSUING
[20:28:16] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-115.4°, current=89.4°, player=(1347,344), corner_timer=0.13
[20:28:16] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:16] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:16] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:16] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:16] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:16] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:16] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:16] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:16] [ENEMY] [Enemy7] PURSUING corner check: angle -2.7°
[20:28:16] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:16] [INFO] [ReplayManager] Recording frame 2460 (39,9s): player_valid=True, enemies=10
[20:28:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:17] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.0°, current=-174.9°, player=(1341,202), corner_timer=0.00
[20:28:17] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1334.067, 189.0085), distance=132
[20:28:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:17] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[20:28:17] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:28:17] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:28:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1320.016, 178.8289), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:28:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1320.016, 178.8289), shooter_id=275314117949, bullet_pos=(1366.823, 198.2227)
[20:28:17] [INFO] [Bullet] Using shooter_position, distance=50.6666107177734
[20:28:17] [INFO] [Bullet] Distance to wall: 50.6666107177734 (3.44998269145499% of viewport)
[20:28:17] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:17] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1280.422, 154.9137), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:28:17] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=115.7°, current=-152.4°, player=(1280,148), corner_timer=0.00
[20:28:17] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:28:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1280.422, 154.9137), shooter_id=275314117949, bullet_pos=(1389.275, 198.709)
[20:28:17] [INFO] [Bullet] Using shooter_position, distance=117.333335876465
[20:28:17] [INFO] [Bullet] Distance to wall: 117.333335876465 (7.9894425968082% of viewport)
[20:28:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:17] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:17] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:28:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:17] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:28:17] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:28:17] [INFO] [ReplayManager] Recording frame 2520 (40,9s): player_valid=True, enemies=10
[20:28:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1209.094, 169.6623), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:28:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1209.094, 169.6623), shooter_id=275314117949, bullet_pos=(1362.403, 236.72)
[20:28:18] [INFO] [Bullet] Using shooter_position, distance=167.333755493164
[20:28:18] [INFO] [Bullet] Distance to wall: 167.333755493164 (11.3940631111736% of viewport)
[20:28:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:18] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1189.644, 217.3321), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:28:18] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[20:28:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1189.644, 217.3321), shooter_id=275314117949, bullet_pos=(1365.177, 272.5073)
[20:28:18] [INFO] [Bullet] Using shooter_position, distance=183.999740600586
[20:28:18] [INFO] [Bullet] Distance to wall: 183.999740600586 (12.5288806831823% of viewport)
[20:28:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:18] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:18] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[20:28:18] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-170.8°, current=150.2°, player=(1212,250), corner_timer=0.03
[20:28:18] [ENEMY] [Enemy7] FLANKING started: target=(1128.163, 443.2429), side=right, pos=(1514.725, 838.6094)
[20:28:18] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:18] [ENEMY] [Enemy7] FLANKING corner check: angle 81.6°
[20:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:18] [INFO] [ReplayManager] Recording frame 2580 (41,9s): player_valid=True, enemies=10
[20:28:19] [ENEMY] [Enemy7] FLANKING corner check: angle 93.6°
[20:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:19] [ENEMY] [Enemy7] FLANKING corner check: angle 33.7°
[20:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:19] [ENEMY] [Enemy7] FLANKING corner check: angle 103.1°
[20:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:19] [ENEMY] [Enemy6] PURSUING corner check: angle 113.4°
[20:28:19] [INFO] [ReplayManager] Recording frame 2640 (42,9s): player_valid=True, enemies=10
[20:28:20] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:20] [ENEMY] [Enemy6] PURSUING corner check: angle 103.0°
[20:28:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(910.9094, 147.6084), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[20:28:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:20] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[20:28:20] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[20:28:20] [ENEMY] [Enemy7] FLANKING corner check: angle 175.0°
[20:28:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(910.9094, 140.5529), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[20:28:20] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-167.9°, current=-167.2°, player=(910,134), corner_timer=0.00
[20:28:20] [INFO] [ReplayManager] Recording frame 2700 (43,9s): player_valid=True, enemies=10
[20:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(911.89, 184.3568), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[20:28:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(910.9094, 147.6084), shooter_id=275314117949, bullet_pos=(1365.785, 254.7946)
[20:28:21] [INFO] [Bullet] Using shooter_position, distance=467.334014892578
[20:28:21] [INFO] [Bullet] Distance to wall: 467.334014892578 (31.8216324255134% of viewport)
[20:28:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(911.89, 184.3568), shooter_id=275314117949, bullet_pos=(1077.551, 207.9555)
[20:28:21] [INFO] [Bullet] Using shooter_position, distance=167.333587646484
[20:28:21] [INFO] [Bullet] Distance to wall: 167.333587646484 (11.3940516821846% of viewport)
[20:28:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:21] [ENEMY] [Enemy7] FLANKING corner check: angle -101.8°
[20:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(910.9094, 140.5529), shooter_id=275314117949, bullet_pos=(1366.543, 244.4664)
[20:28:21] [INFO] [Bullet] Using shooter_position, distance=467.33251953125
[20:28:21] [INFO] [Bullet] Distance to wall: 467.33251953125 (31.8215306036108% of viewport)
[20:28:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:21] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[20:28:21] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:28:21] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:28:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:21] [ENEMY] [Enemy7] FLANKING corner check: angle -83.6°
[20:28:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:21] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-119.7°, current=-96.4°, player=(954,239), corner_timer=0.03
[20:28:21] [INFO] [ReplayManager] Recording frame 2760 (44,9s): player_valid=True, enemies=10
[20:28:21] [ENEMY] [Enemy7] FLANKING corner check: angle -57.0°
[20:28:21] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:28:22] [ENEMY] [Enemy6] PURSUING corner check: angle 169.8°
[20:28:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(881.9748, 246.1762), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(832.653, 273.1623), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:22] [ENEMY] [Enemy6] PURSUING corner check: angle 132.3°
[20:28:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:22] [ENEMY] [Enemy5] Player ammo empty: false -> true
[20:28:22] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:28:22] [ENEMY] [Enemy7] Player ammo empty: false -> true
[20:28:22] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:28:22] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:28:22] [ENEMY] [Enemy10] Player ammo empty: false -> true
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(801.5402, 298.2751), source=PLAYER (Player), range=600, listeners=6
[20:28:22] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (801.5402, 298.2751), intensity=0.03, distance=308
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:28:22] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=624), can_see=false
[20:28:22] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=815), can_see=false
[20:28:22] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1046.798, 484.8519), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=3
[20:28:22] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1592), can_see=false
[20:28:22] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1804), can_see=false
[20:28:22] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1352), can_see=false
[20:28:22] [INFO] [LastChance] Threat detected: Bullet
[20:28:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:22] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/3->2/3
[20:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1025.071, 469.4125), dir=(0.719566, 0.694424), lethal=false
[20:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:22] [INFO] [ImpactEffects] Blood effect spawned at (1025.071, 469.4125) (scale=0.5)
[20:28:22] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016, 463.8003), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=3
[20:28:22] [INFO] [LastChance] Threat detected: @Area2D@1811
[20:28:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:22] [INFO] [Player] Spawning blood effect at (737.14307, 328.70148), dir=(1, 0), lethal=False (C#)
[20:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (737.1431, 328.7015), dir=(1, 0), lethal=false
[20:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:22] [INFO] [ImpactEffects] Blood effect spawned at (737.1431, 328.7015) (scale=1)
[20:28:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[20:28:22] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[20:28:22] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.1201, 446.1511), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=3
[20:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(988.2739, 450.13077), shooter_id=273367960777, bullet_pos=(458.02295, 46.053238)
[20:28:22] [INFO] [Bullet] Using shooter_position, distance=666,6669
[20:28:22] [INFO] [Bullet] Distance to wall: 666,6669 (45,394577% of viewport)
[20:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(881.9748, 246.1762), shooter_id=275314117949, bullet_pos=(1339.18, 685.4008)
[20:28:22] [INFO] [Bullet] Using shooter_position, distance=633.999084472656
[20:28:22] [INFO] [Bullet] Distance to wall: 633.999084472656 (43.17016348326% of viewport)
[20:28:22] [INFO] [Bullet] Distance-based penetration chance: 96.3014759361967%
[20:28:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:22] [INFO] [LastChance] Threat detected: @Area2D@1816
[20:28:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:22] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:22] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:22] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:22] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:22] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:22] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:22] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(704.1431, 328.7015), source=PLAYER (Player), range=900, listeners=6
[20:28:22] [ENEMY] [Enemy7] Heard player RELOAD at (704.1431, 328.7015), intensity=0.03, distance=271
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[20:28:22] [INFO] [Player] Spawning blood effect at (698.64307, 328.70148), dir=(1, 0), lethal=False (C#)
[20:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (698.6431, 328.7015), dir=(1, 0), lethal=false
[20:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:22] [INFO] [ImpactEffects] Blood effect spawned at (698.6431, 328.7015) (scale=1)
[20:28:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[20:28:22] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[20:28:22] [ENEMY] [Enemy7] Player reloading - priority attack triggered
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(949.057, 430.8872), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=4
[20:28:22] [INFO] [BloodDecal] Blood puddle created at (1107.176, 526.268) (added to group)
[20:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(988.2739, 450.13077), shooter_id=273367960777, bullet_pos=(280.60086, 226.29822)
[20:28:22] [INFO] [Bullet] Using shooter_position, distance=742,2279
[20:28:22] [INFO] [Bullet] Distance to wall: 742,2279 (50,539665% of viewport)
[20:28:22] [INFO] [LastChance] Threat detected: @Area2D@1821
[20:28:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:22] [INFO] [ReplayManager] Recording frame 2820 (45,9s): player_valid=True, enemies=10
[20:28:22] [INFO] [BloodDecal] Blood puddle created at (1055.203, 548.1512) (added to group)
[20:28:22] [INFO] [BloodDecal] Blood puddle created at (1113.182, 562.345) (added to group)
[20:28:22] [INFO] [Player] Spawning blood effect at (660.14307, 328.70148), dir=(1, 0), lethal=False (C#)
[20:28:22] [INFO] [ImpactEffects] spawn_blood_effect called at (660.1431, 328.7015), dir=(1, 0), lethal=false
[20:28:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:22] [INFO] [ImpactEffects] Blood effect spawned at (660.1431, 328.7015) (scale=1)
[20:28:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 4.0
[20:28:22] [INFO] [LastChance] Player health updated (C# Damaged): 4.0
[20:28:22] [ENEMY] [Enemy7] Player reloading - priority attack triggered
[20:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(914.2018, 417.5263), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=4
[20:28:22] [INFO] [BloodDecal] Blood puddle created at (1075.243, 564.4413) (added to group)
[20:28:22] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:22] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:22] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:22] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:22] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:22] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:22] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:22] [ENEMY] [Enemy5] Player ammo empty: true -> false
[20:28:22] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:28:22] [ENEMY] [Enemy7] Player ammo empty: true -> false
[20:28:22] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:28:22] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:28:22] [ENEMY] [Enemy10] Player ammo empty: true -> false
[20:28:22] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(988.2739, 450.13077), shooter_id=273367960777, bullet_pos=(146.98141, 56.93199)
[20:28:23] [INFO] [Bullet] Using shooter_position, distance=928,6433
[20:28:23] [INFO] [Bullet] Distance to wall: 928,6433 (63,23303% of viewport)
[20:28:23] [INFO] [Bullet] Distance-based penetration chance: 72,8948%
[20:28:23] [INFO] [Bullet] Penetration failed (distance roll)
[20:28:23] [INFO] [LastChance] Threat detected: @Area2D@1829
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (783.584, 347.9101) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (1105.49, 621.2504) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (1123.666, 550.4483) (added to group)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(878.7393, 405.869), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=4
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (1105.545, 653.7604) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (845.8427, 408.986) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (757.1385, 329.6695) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (858.3025, 341.4072) (added to group)
[20:28:23] [INFO] [LastChance] Threat detected: Bullet
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [INFO] [BloodyFeet:Enemy7] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (1124.364, 639.991) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (1157.938, 681.5163) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (868.3539, 313.1012) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (860.908, 398.397) (added to group)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(842.8057, 395.7504), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:23] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (761.5223, 358.2701) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (725.2029, 376.1174) (added to group)
[20:28:23] [INFO] [LastChance] Threat detected: Bullet
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (838.3301, 433.7742) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (727.6771, 356.7593) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (743.6544, 376.4059) (added to group)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.6431, 334.7015), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (874.4522, 392.2941) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (792.5673, 348.3965) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (774.4322, 397.467) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (742.4371, 379.0484) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (733.8501, 359.2355) (added to group)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(806.5249, 386.9559), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (935.1444, 417.4704) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (838.7296, 425.5067) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (777.28, 392.2755) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (789.613, 422.6787) (added to group)
[20:28:23] [INFO] [LastChance] Threat detected: Bullet
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (889.7025, 476.1681) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (904.7821, 432.3924) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (756.2909, 412.3156) (added to group)
[20:28:23] [INFO] [Player] Spawning blood effect at (540.065, 335.9031), dir=(1, 0), lethal=False (C#)
[20:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (540.065, 335.9031), dir=(1, 0), lethal=false
[20:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:23] [INFO] [ImpactEffects] Blood effect spawned at (540.065, 335.9031) (scale=1)
[20:28:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:28:23] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (875.6881, 399.3367) (added to group)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2097, 380.3742), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (890.9656, 379.3981) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (751.4987, 398.6987) (added to group)
[20:28:23] [INFO] [LastChance] Threat detected: Bullet
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 352.2567), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (762.0676, 442.3169) (added to group)
[20:28:23] [INFO] [Player] Spawning blood effect at (540.065, 353.43344), dir=(1, 0), lethal=False (C#)
[20:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (540.065, 353.4334), dir=(1, 0), lethal=false
[20:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:23] [INFO] [ImpactEffects] Blood effect spawned at (540.065, 353.4334) (scale=1)
[20:28:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:28:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (907.8243, 530.5872) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (772.3147, 345.7882) (added to group)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2097, 380.3742), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (838.6263, 361.2009) (added to group)
[20:28:23] [INFO] [LastChance] Threat detected: Bullet
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [INFO] [Player] Spawning blood effect at (540.065, 388.2087), dir=(1, 0), lethal=False (C#)
[20:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (540.065, 388.2087), dir=(1, 0), lethal=false
[20:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:23] [INFO] [ImpactEffects] Blood effect spawned at (540.065, 388.2087) (scale=1)
[20:28:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:28:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:28:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:28:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:28:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:28:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:28:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:28:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:28:23] [INFO] [PenultimateHit] Applying saturation to 6 enemies
[20:28:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:28:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:28:23] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/3->1/3
[20:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (775.2097, 380.3742), dir=(0.99797, 0.06368), lethal=false
[20:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:23] [INFO] [ImpactEffects] Blood effect spawned at (775.2097, 380.3742) (scale=0.5)
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2097, 380.3742), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.065, 405.7587), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (605.1628, 365.2364) (added to group)
[20:28:23] [INFO] [LastChance] Threat detected: Bullet
[20:28:23] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (593.8812, 353.6335) (added to group)
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (620.1833, 378.2888) (added to group)
[20:28:23] [INFO] [ReplayManager] Recording frame 2880 (46,7s): player_valid=True, enemies=10
[20:28:23] [INFO] [BloodDecal] Blood puddle created at (611.819, 320.268) (added to group)
[20:28:24] [INFO] [BloodDecal] Blood puddle created at (625.1915, 398.5824) (added to group)
[20:28:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(707.54913, 393.56635), shooter_id=273367960777, bullet_pos=(524.22833, 395.77655)
[20:28:24] [INFO] [Bullet] Using shooter_position, distance=183,33412
[20:28:24] [INFO] [Bullet] Distance to wall: 183,33412 (12,483558% of viewport)
[20:28:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:24] [INFO] [Bullet] Starting wall penetration at (524.22833, 395.77655)
[20:28:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:28:24] [INFO] [Bullet] Exiting penetration at (515.0623, 395.88705) after traveling 4,166667 pixels through wall
[20:28:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:28:24] [INFO] [BloodDecal] Blood puddle created at (610.928, 362.0471) (added to group)
[20:28:24] [INFO] [BloodDecal] Blood puddle created at (603.4999, 393.248) (added to group)
[20:28:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2097, 380.3742), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:24] [INFO] [LastChance] Threat detected: Bullet
[20:28:24] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:24] [INFO] [ReplayManager] Recording frame 2940 (46,8s): player_valid=True, enemies=10
[20:28:24] [INFO] [BloodDecal] Blood puddle created at (584.4007, 357.5049) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (610.2751, 338.4174) (added to group)
[20:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.3469, 453.763), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (605.4412, 395.3977) (added to group)
[20:28:25] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[20:28:25] [INFO] [Player] Spawning blood effect at (543.6866, 452.70807), dir=(1, 0), lethal=True (C#)
[20:28:25] [INFO] [ImpactEffects] spawn_blood_effect called at (543.6866, 452.7081), dir=(1, 0), lethal=true
[20:28:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:25] [INFO] [ImpactEffects] Blood effect spawned at (543.6866, 452.7081) (scale=1.5)
[20:28:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:28:25] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:28:25] [INFO] [CinemaEffects] Player died - triggering death effects
[20:28:25] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[20:28:25] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:28:25] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:28:25] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[20:28:25] [INFO] [LastChance] Player died
[20:28:25] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (679.6807, 427.8762) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (594.3813, 385.0343) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (633.6678, 333.3702) (added to group)
[20:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2097, 380.3742), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:25] [INFO] [LastChance] Threat detected: Bullet
[20:28:25] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (830.6595, 393.5991) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (641.7308, 402.3878) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (611.7786, 400.8091) (added to group)
[20:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.2097, 380.3742), source=ENEMY (Enemy7), range=1469, listeners=6
[20:28:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (645.2698, 446.4273) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (597.9733, 393.8906) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (610.9649, 401.3869) (added to group)
[20:28:25] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/3->0/3
[20:28:25] [INFO] [ImpactEffects] spawn_blood_effect called at (775.2097, 380.3742), dir=(0.957241, -0.289292), lethal=true
[20:28:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:25] [INFO] [ImpactEffects] Blood effect spawned at (775.2097, 380.3742) (scale=0.75)
[20:28:25] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[20:28:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:28:25] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:25] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:25] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:25] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:25] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 5)
[20:28:25] [INFO] [DeathAnim] Started - Angle: -16.8 deg, Index: 10
[20:28:25] [ENEMY] [Enemy7] Death animation started with hit direction: (0.957241, -0.289292)
[20:28:25] [INFO] [LastChance] Threat detected: Bullet
[20:28:25] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (642.7987, 435.7271) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (831.1536, 440.4579) (added to group)
[20:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.8578, 509.5829), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:28:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (714.1746, 364.4907) (added to group)
[20:28:25] [INFO] [PenultimateHit] Visual effects fade-out complete
[20:28:25] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:28:25] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (628.4677, 414.5347) (added to group)
[20:28:25] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:28:25] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (631.4676, 425.9502) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (582.7565, 446.7099) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (611.7941, 457.8492) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (656.8256, 493.3247) (added to group)
[20:28:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (699.2946, 510.0817) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (610.8383, 457.1054) (added to group)
[20:28:25] [INFO] [ReplayManager] Recording frame 3000 (47,1s): player_valid=True, enemies=10
[20:28:25] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=156.3°, current=156.5°, player=(601,522), corner_timer=0.05
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (636.2661, 405.4922) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (628.2521, 428.4652) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (679.4498, 404.4391) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (891.7513, 436.9886) (added to group)
[20:28:25] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (638.9869, 494.1208) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (930.2921, 472.3899) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (632.3778, 453.0605) (added to group)
[20:28:25] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=155.3°, current=89.1°, player=(613,533), corner_timer=0.05
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (931.7841, 406.4521) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (649.3983, 454.0742) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (608.3926, 492.3985) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (954.0304, 472.4768) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (854.9658, 475.1667) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (881.5023, 482.6034) (added to group)
[20:28:25] [INFO] [BloodDecal] Blood puddle created at (820.5362, 370.5167) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (837.3721, 335.5315) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (821.0509, 397.2271) (added to group)
[20:28:26] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=152.8°, current=103.8°, player=(638,552), corner_timer=0.05
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (916.3029, 513.9829) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (663.8668, 463.5755) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (824.5647, 382.5166) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (830.5409, 365.6285) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (686.1984, 552.7333) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (970.9504, 464.993) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (639.9585, 476.1536) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (821.8657, 377.4075) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (824.3464, 356.0476) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (701.9199, 461.0027) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (619.1115, 510.3897) (added to group)
[20:28:26] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (666.7862, 494.2451) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (658.3777, 539.5037) (added to group)
[20:28:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:28:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:28:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:28:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:28:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:28:26] [INFO] [CinemaEffects] Death effects reset
[20:28:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:28:26] [ENEMY] [Enemy1] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:28:26] [ENEMY] [Enemy2] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:28:26] [ENEMY] [Enemy3] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:28:26] [ENEMY] [Enemy4] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:28:26] [ENEMY] [Enemy5] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:28:26] [ENEMY] [Enemy6] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:28:26] [ENEMY] [Enemy7] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:28:26] [ENEMY] [Enemy8] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:28:26] [ENEMY] [Enemy9] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:28:26] [ENEMY] [Enemy10] Death animation component initialized
[20:28:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:28:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:28:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:28:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:28:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:28:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:28:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:28:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:28:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:28:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:28:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:28:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:28:26] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:28:26] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:28:26] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:28:26] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:28:26] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[20:28:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:28:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:28:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:28:26] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[20:28:26] [INFO] [ScoreManager] Level started with 10 enemies
[20:28:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:28:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:28:26] [INFO] [ReplayManager] Replay data cleared
[20:28:26] [INFO] [BuildingLevel] Previous replay data cleared
[20:28:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:28:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:28:26] [INFO] [ReplayManager] Level: BuildingLevel
[20:28:26] [INFO] [ReplayManager] Player: Player (valid: True)
[20:28:26] [INFO] [ReplayManager] Enemies count: 10
[20:28:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:28:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:28:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:28:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:28:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:28:26] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:28:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:28:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:28:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:28:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:28:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:28:26] [INFO] [BuildingLevel] Replay recording started successfully
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (675.9424, 488.0085) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (650.1827, 500.6319) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (867.1523, 377.2947) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (821.0081, 364.8884) (added to group)
[20:28:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:28:26] [INFO] [CinemaEffects] Found player node: Player
[20:28:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[20:28:26] [ENEMY] [Enemy1] Registered as sound listener
[20:28:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[20:28:26] [ENEMY] [Enemy2] Registered as sound listener
[20:28:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[20:28:26] [ENEMY] [Enemy3] Registered as sound listener
[20:28:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[20:28:26] [ENEMY] [Enemy4] Registered as sound listener
[20:28:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[20:28:26] [ENEMY] [Enemy5] Registered as sound listener
[20:28:26] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[20:28:26] [ENEMY] [Enemy6] Registered as sound listener
[20:28:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[20:28:26] [ENEMY] [Enemy7] Registered as sound listener
[20:28:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:28:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[20:28:26] [ENEMY] [Enemy8] Registered as sound listener
[20:28:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[20:28:26] [ENEMY] [Enemy9] Registered as sound listener
[20:28:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:28:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:28:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[20:28:26] [ENEMY] [Enemy10] Registered as sound listener
[20:28:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:28:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:28:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:28:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:28:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:28:26] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[20:28:26] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:28:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:28:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:28:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:28:26] [INFO] [LastChance] Found player: Player
[20:28:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:28:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:28:26] [INFO] [LastChance] Connected to player Died signal (C#)
[20:28:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (703.5582, 481.5349) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (733.5375, 504.1118) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (746.366, 585.1974) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (671.6367, 504.2967) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (656.8088, 578.3804) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (842.7203, 381.9066) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (843.5458, 383.1169) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (871.8489, 402.7273) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (862.5375, 398.1774) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (885.1464, 352.5538) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (769.699, 515.7147) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (902.1042, 417.3065) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (858.6702, 411.9365) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (682.3292, 574.3658) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (959.8762, 442.2216) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (886.5601, 384.8339) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (909.6635, 397.2325) (added to group)
[20:28:26] [INFO] [BloodDecal] Blood puddle created at (889.2098, 494.3253) (added to group)
[20:28:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:28:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[20:28:27] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:28:27] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[20:28:27] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[20:28:27] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:28:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:28:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:28:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0761, 787.5493), source=PLAYER (MakarovPM), range=1469, listeners=15
[20:28:27] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[20:28:27] [ENEMY] [Enemy1] Heard gunshot at (449.0761, 787.5493), source_type=0, intensity=0.01, distance=462
[20:28:27] [ENEMY] [Enemy2] Heard gunshot at (449.0761, 787.5493), source_type=0, intensity=0.04, distance=243
[20:28:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:28:27] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.9°, current=-157.5°, player=(449,781), corner_timer=0.00
[20:28:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.0°, current=-157.5°, player=(449,781), corner_timer=0.00
[20:28:27] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.3°, current=168.8°, player=(449,781), corner_timer=0.00
[20:28:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(449,781), corner_timer=0.30
[20:28:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(449,781), corner_timer=0.30
[20:28:27] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[20:28:27] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[20:28:27] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.992262, -0.124164), lethal=false
[20:28:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:27] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=0.5)
[20:28:27] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-176.8°, current=172.9°, player=(427,739), corner_timer=0.00
[20:28:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.3855, 738.5634), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:28:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:28:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(402,731), corner_timer=-0.02
[20:28:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(402,731), corner_timer=-0.02
[20:28:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:28:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(399,731), corner_timer=0.30
[20:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(399,731), corner_timer=0.30
[20:28:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.0302, 759.644), source=ENEMY (Enemy3), range=1469, listeners=10
[20:28:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:28:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:28:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.8057, 767.4917), source=ENEMY (Enemy3), range=1469, listeners=10
[20:28:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:28:28] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[20:28:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.1849, 760.6395), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:28:28] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:28:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:28:28] [INFO] [LastChance] Threat detected: @Area2D@2248
[20:28:28] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (779.5581, 731.851) (added to group)
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (787.7239, 815.0901) (added to group)
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (817.8645, 782.6765) (added to group)
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (776.5723, 770.5795) (added to group)
[20:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(612.36694, 761.71857), shooter_id=1083673940491, bullet_pos=(35.443817, 847.9599)
[20:28:28] [INFO] [Bullet] Using shooter_position, distance=583,3334
[20:28:28] [INFO] [Bullet] Distance to wall: 583,3334 (39,72024% of viewport)
[20:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:28] [INFO] [Bullet] Starting wall penetration at (35.443817, 847.9599)
[20:28:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,18458
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (804.8057, 765.3805) (added to group)
[20:28:28] [INFO] [Bullet] Body exited signal received for penetrating body
[20:28:28] [INFO] [Bullet] Exiting penetration at (-10.710024, 854.8592) after traveling 41,666668 pixels through wall
[20:28:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:28:28] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=132.6°, current=-176.0°, player=(328,789), corner_timer=0.00
[20:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(328,789), corner_timer=-0.02
[20:28:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(324,793), corner_timer=0.30
[20:28:28] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:28:28] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (810.3454, 836.1479) (added to group)
[20:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(415.3855, 738.5634), shooter_id=1087029383891, bullet_pos=(924.0863, 644.4545)
[20:28:28] [INFO] [Bullet] Using shooter_position, distance=517.332580566406
[20:28:28] [INFO] [Bullet] Distance to wall: 517.332580566406 (35.2261267014996% of viewport)
[20:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(304.7209, 818.668), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (806.5494, 793.5515) (added to group)
[20:28:28] [INFO] [BloodDecal] Blood puddle created at (873.702, 726.2282) (added to group)
[20:28:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(236.0014, 838.6589), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[20:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(236,832), corner_timer=-0.02
[20:28:28] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:28:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(230,833), corner_timer=0.30
[20:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(363.1849, 760.6395), shooter_id=1087029383891, bullet_pos=(916.7584, 636.4447)
[20:28:28] [INFO] [Bullet] Using shooter_position, distance=567.334045410156
[20:28:28] [INFO] [Bullet] Distance to wall: 567.334045410156 (38.6308183872969% of viewport)
[20:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(173.6302, 889.8463), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=1
[20:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(170,898), corner_timer=-0.02
[20:28:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:28:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(304.7209, 818.668), shooter_id=1087029383891, bullet_pos=(911.0293, 702.5179)
[20:28:29] [INFO] [Bullet] Using shooter_position, distance=617.333618164063
[20:28:29] [INFO] [Bullet] Distance to wall: 617.333618164063 (42.0353812372175% of viewport)
[20:28:29] [INFO] [Bullet] Distance-based penetration chance: 97.6253885565796%
[20:28:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(170,903), corner_timer=0.30
[20:28:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.8616, 948.1871), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[20:28:29] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:28:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(173.6302, 889.8463), shooter_id=1087029383891, bullet_pos=(503.2291, 835.804)
[20:28:29] [INFO] [Bullet] Using shooter_position, distance=334
[20:28:29] [INFO] [Bullet] Distance to wall: 334 (22.7426741718437% of viewport)
[20:28:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(236.0014, 838.6589), shooter_id=1087029383891, bullet_pos=(925.382, 713.4088)
[20:28:29] [INFO] [Bullet] Using shooter_position, distance=700.666198730469
[20:28:29] [INFO] [Bullet] Distance to wall: 700.666198730469 (47.7096498830878% of viewport)
[20:28:29] [INFO] [Bullet] Distance-based penetration chance: 91.0054084697308%
[20:28:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(169,1008), corner_timer=-0.02
[20:28:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:28:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(169,1013), corner_timer=0.30
[20:28:29] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:28:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.8616, 948.1871), shooter_id=1087029383891, bullet_pos=(510.9834, 866.9282)
[20:28:29] [INFO] [Bullet] Using shooter_position, distance=350.666656494141
[20:28:29] [INFO] [Bullet] Distance to wall: 350.666656494141 (23.8775374598086% of viewport)
[20:28:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:29] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-94.0°, current=160.3°, player=(169,1046), corner_timer=0.02
[20:28:29] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:28:29] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:28:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.8616, 1069.187), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:28:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:29] [ENEMY] [Enemy1] PURSUING corner check: angle -41.4°
[20:28:29] [ENEMY] [Enemy2] PURSUING corner check: angle 162.6°
[20:28:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.8616, 1146.187), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[20:28:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.8616, 1069.187), shooter_id=1087029383891, bullet_pos=(511.6652, 934.6351)
[20:28:29] [INFO] [Bullet] Using shooter_position, distance=367.33349609375
[20:28:29] [INFO] [Bullet] Distance to wall: 367.33349609375 (25.0124132157616% of viewport)
[20:28:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(169,1184), corner_timer=-0.02
[20:28:29] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:28:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(169,1189), corner_timer=0.30
[20:28:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:30] [ENEMY] [Enemy1] PURSUING corner check: angle 84.6°
[20:28:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.8616, 1146.187), shooter_id=1087029383891, bullet_pos=(503.746, 993.0371)
[20:28:30] [INFO] [Bullet] Using shooter_position, distance=367.333221435547
[20:28:30] [INFO] [Bullet] Distance to wall: 367.333221435547 (25.0123945137795% of viewport)
[20:28:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:30] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.8616, 1146.187), shooter_id=1087029383891, bullet_pos=(503.746, 993.0371)
[20:28:30] [INFO] [Bullet] Using shooter_position, distance=367.333221435547
[20:28:30] [INFO] [Bullet] Distance to wall: 367.333221435547 (25.0123945137795% of viewport)
[20:28:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:30] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:30] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(144,1283), corner_timer=-0.02
[20:28:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(144,1289), corner_timer=0.30
[20:28:30] [ENEMY] [Enemy1] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy2] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy3] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy4] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy5] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy7] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:28:30] [ENEMY] [Enemy10] Player ammo empty: false -> true
[20:28:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(144.9169, 1300.354), source=PLAYER (Player), range=600, listeners=10
[20:28:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[20:28:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=938), can_see=false
[20:28:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=711), can_see=false
[20:28:30] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=672), can_see=false
[20:28:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=581), can_see=false
[20:28:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1822), can_see=false
[20:28:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[20:28:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1521), can_see=false
[20:28:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1761), can_see=false
[20:28:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1971), can_see=false
[20:28:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1058), can_see=false
[20:28:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:30] [ENEMY] [Enemy1] PURSUING corner check: angle 118.8°
[20:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(158,1388), corner_timer=-0.02
[20:28:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(161,1392), corner_timer=0.30
[20:28:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(172.8269, 1404.294), source=PLAYER (Player), range=600, listeners=10
[20:28:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[20:28:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1048), can_see=false
[20:28:30] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=823), can_see=false
[20:28:30] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=745), can_see=false
[20:28:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=652), can_see=false
[20:28:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1855), can_see=false
[20:28:30] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2012), can_see=false
[20:28:30] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1513), can_see=false
[20:28:30] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1702), can_see=false
[20:28:30] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1905), can_see=false
[20:28:30] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=975), can_see=false
[20:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(219,1448), corner_timer=-0.02
[20:28:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:28:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(223,1449), corner_timer=0.30
[20:28:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:31] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(270,1433), corner_timer=-0.02
[20:28:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(271,1432), corner_timer=0.30
[20:28:31] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1025), can_see=false
[20:28:31] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=798), can_see=false
[20:28:31] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=699), can_see=false
[20:28:31] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=607), can_see=false
[20:28:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1791), can_see=false
[20:28:31] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[20:28:31] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1441), can_see=false
[20:28:31] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1628), can_see=false
[20:28:31] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1831), can_see=false
[20:28:31] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=903), can_see=false
[20:28:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:31] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:31] [ENEMY] [Enemy1] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy2] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy3] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy4] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:31] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:31] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(272.5334, 1431.072), source=PLAYER (Player), range=900, listeners=10
[20:28:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=3
[20:28:31] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.199336, 4.333333), target=(-4, 2), base=(16, 6)
[20:28:31] [INFO] [Player.Reload.Anim] RightArm: pos=(4.46733, 6), target=(4, 6), base=(4, 6)
[20:28:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:31] [ENEMY] [Enemy1] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy2] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy3] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy4] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:31] [ENEMY] [Enemy1] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy2] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy3] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy4] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy5] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy7] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:28:31] [ENEMY] [Enemy10] Player ammo empty: true -> false
[20:28:31] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(272,1431), corner_timer=-0.02
[20:28:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(272,1431), corner_timer=0.30
[20:28:31] [ENEMY] [Enemy2] PURSUING corner check: angle -94.1°
[20:28:31] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[20:28:31] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[20:28:31] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=119.8°, current=172.5°, player=(272,1431), corner_timer=0.00
[20:28:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:31] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(272,1431), corner_timer=-0.02
[20:28:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:28:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(272,1431), corner_timer=0.30
[20:28:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:32] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(272,1431), corner_timer=-0.02
[20:28:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(272,1431), corner_timer=0.30
[20:28:32] [ENEMY] [Enemy1] PURSUING corner check: angle -172.7°
[20:28:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:32] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:28:32] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:28:32] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=118.4°, current=-94.0°, player=(277,1431), corner_timer=0.02
[20:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(302,1431), corner_timer=-0.02
[20:28:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(307,1431), corner_timer=0.30
[20:28:32] [ENEMY] [Enemy1] PURSUING corner check: angle 7.3°
[20:28:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(411,1431), corner_timer=-0.02
[20:28:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1431), corner_timer=0.30
[20:28:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.0335, 1437.072), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=7
[20:28:33] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[20:28:33] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[20:28:33] [ENEMY] [Enemy2] FLANKING started: target=(284.6454, 1347.3), side=left, pos=(395.3505, 657.562)
[20:28:33] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[20:28:33] [ENEMY] [Enemy3] PURSUING corner check: angle 86.3°
[20:28:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(466,1431), corner_timer=-0.02
[20:28:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(466,1431), corner_timer=0.30
[20:28:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.1446, 1437.072), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=7
[20:28:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(442.1447, 1437.072), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=7
[20:28:33] [ENEMY] [Enemy2] FLANKING corner check: angle -85.9°
[20:28:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(395,1431), corner_timer=-0.02
[20:28:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(390,1431), corner_timer=0.30
[20:28:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:33] [ENEMY] [Enemy2] FLANKING corner check: angle 48.0°
[20:28:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(459.0335, 1437.072), shooter_id=1087029383891, bullet_pos=(243.2897, 700.6916)
[20:28:33] [INFO] [Bullet] Using shooter_position, distance=767.333679199219
[20:28:33] [INFO] [Bullet] Distance to wall: 767.333679199219 (52.2491612188919% of viewport)
[20:28:33] [INFO] [Bullet] Distance-based penetration chance: 85.7093119112929%
[20:28:33] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(295,1431), corner_timer=-0.02
[20:28:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(292,1431), corner_timer=0.30
[20:28:33] [ENEMY] [Enemy4] PURSUING corner check: angle -34.4°
[20:28:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.1446, 1437.072), shooter_id=1087029383891, bullet_pos=(189.7436, 703.035)
[20:28:34] [INFO] [Bullet] Using shooter_position, distance=783.999755859375
[20:28:34] [INFO] [Bullet] Distance to wall: 783.999755859375 (53.3839850248946% of viewport)
[20:28:34] [INFO] [Bullet] Distance-based penetration chance: 84.3853508042897%
[20:28:34] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.1447, 1437.072), shooter_id=1087029383891, bullet_pos=(264.8286, 707.6471)
[20:28:34] [INFO] [Bullet] Using shooter_position, distance=750.667175292969
[20:28:34] [INFO] [Bullet] Distance to wall: 750.667175292969 (51.114308320917% of viewport)
[20:28:34] [INFO] [Bullet] Distance-based penetration chance: 87.0333069589302%
[20:28:34] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:34] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[20:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(255,1428), corner_timer=-0.02
[20:28:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(252,1428), corner_timer=0.30
[20:28:34] [ENEMY] [Enemy2] FLANKING corner check: angle -146.2°
[20:28:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:34] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=109.3°, current=109.0°, player=(197,1428), corner_timer=0.17
[20:28:34] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[20:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(153,1428), corner_timer=-0.02
[20:28:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(148.7054, 1434.913), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[20:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(148,1428), corner_timer=0.30
[20:28:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(111.7803, 1450.923), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[20:28:34] [ENEMY] [Enemy3] FLANKING started: target=(303.2852, 1479.274), side=right, pos=(566.2078, 827.8615)
[20:28:34] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[20:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(105.2817, 1466.282), source=PLAYER (MakarovPM), range=1469, listeners=10
[20:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[20:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(105,1460), corner_timer=-0.02
[20:28:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(106,1461), corner_timer=0.30
[20:28:35] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[20:28:35] [INFO] [ImpactEffects] spawn_blood_effect called at (326.4649, 998.7148), dir=(0.410731, -0.911757), lethal=false
[20:28:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:35] [INFO] [ImpactEffects] Blood effect spawned at (326.4649, 998.7148) (scale=0.5)
[20:28:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:35] [ENEMY] [Enemy3] FLANKING corner check: angle -21.1°
[20:28:35] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[20:28:35] [INFO] [ImpactEffects] spawn_blood_effect called at (307.9827, 1043.003), dir=(0.438562, -0.898701), lethal=true
[20:28:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:35] [INFO] [ImpactEffects] Blood effect spawned at (307.9827, 1043.003) (scale=0.75)
[20:28:35] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:28:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:28:35] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:35] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:35] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:35] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:35] [ENEMY] [Enemy1] [AllyDeath] Witnessed at (307.9827, 1043.003), entering SEARCHING
[20:28:35] [ENEMY] [Enemy1] SEARCHING started: center=(307.9827, 1043.003), radius=100, waypoints=5
[20:28:35] [ENEMY] [Enemy3] [AllyDeath] Witnessed at (307.9827, 1043.003), entering SEARCHING
[20:28:35] [ENEMY] [Enemy3] SEARCHING started: center=(307.9827, 1043.003), radius=100, waypoints=5
[20:28:35] [ENEMY] [Enemy2] [AllyDeath] Notified 3 enemies
[20:28:35] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[20:28:35] [INFO] [DeathAnim] Started - Angle: -64.0 deg, Index: 7
[20:28:35] [ENEMY] [Enemy2] Death animation started with hit direction: (0.438562, -0.898701)
[20:28:35] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[20:28:35] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:28:35] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.4°, player=(177,1467), corner_timer=-0.01
[20:28:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:28:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(181,1466), corner_timer=0.30
[20:28:35] [ENEMY] [Enemy1] SEARCHING corner check: angle -88.1°
[20:28:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (425.5918, 943.7299) (added to group)
[20:28:35] [ENEMY] [Enemy3] SEARCHING corner check: angle -147.8°
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (330.1068, 1005.539) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (311.1217, 1019.322) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (394.4813, 933.9294) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (310.6175, 1017.326) (added to group)
[20:28:35] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (338.6053, 925.9615) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (355.2756, 999.0372) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (374.642, 972.8202) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (437.4602, 926.758) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (367.9593, 964.3694) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (329.6899, 957.7463) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (387.0848, 985.2435) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (428.4219, 922.5069) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (321.0149, 970.1744) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (305.8058, 987.8668) (added to group)
[20:28:35] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[20:28:35] [INFO] [ImpactEffects] spawn_blood_effect called at (438.0643, 836.7856), dir=(0.454927, -0.890529), lethal=true
[20:28:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:35] [INFO] [ImpactEffects] Blood effect spawned at (438.0643, 836.7856) (scale=0.75)
[20:28:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:28:35] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:28:35] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:35] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:35] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:35] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:35] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:28:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[20:28:35] [INFO] [DeathAnim] Started - Angle: -62.9 deg, Index: 7
[20:28:35] [ENEMY] [Enemy3] Death animation started with hit direction: (0.454927, -0.890529)
[20:28:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(226,1428), corner_timer=-0.02
[20:28:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (399.8514, 993.1543) (added to group)
[20:28:35] [INFO] [BloodDecal] Blood puddle created at (387.6154, 1005.383) (added to group)
[20:28:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(228,1428), corner_timer=0.30
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (309.3748, 1017.151) (added to group)
[20:28:36] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:28:36] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (398.1583, 1002.977) (added to group)
[20:28:36] [INFO] [ReplayManager] Recording frame 600 (9,5s): player_valid=True, enemies=10
[20:28:36] [ENEMY] [Enemy1] SEARCHING corner check: angle -2.9°
[20:28:36] [ENEMY] [Enemy2] Ragdoll activated
[20:28:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (365.7798, 1018.145) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (347.0511, 1017.623) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (377.7471, 963.2275) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (329.8256, 990.7231) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (395.5049, 934.8378) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (337.7441, 996.5854) (added to group)
[20:28:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (385.7335, 947.1454) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (410.1081, 1029.74) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (335.7416, 939.8192) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (430.6041, 1021.846) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (459.5017, 818.7643) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (498.2129, 804.2134) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (476.4731, 772.4236) (added to group)
[20:28:36] [ENEMY] [Enemy4] PURSUING corner check: angle 43.1°
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (386.938, 938.9955) (added to group)
[20:28:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.2°, current=89.3°, player=(199,1428), corner_timer=-0.01
[20:28:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[20:28:36] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=114.8°, current=126.5°, player=(194,1428), corner_timer=0.03
[20:28:36] [ENEMY] [Enemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[20:28:36] [ENEMY] [Enemy1] State: SEARCHING -> COMBAT
[20:28:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.1°, player=(194,1428), corner_timer=0.30
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (495.4241, 818.196) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (489.4319, 798.1234) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (447.8852, 766.5928) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (500.1663, 761.5813) (added to group)
[20:28:36] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (445.3774, 790.6876) (added to group)
[20:28:36] [ENEMY] [Enemy3] Ragdoll activated
[20:28:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(142.2099, 1438.604), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (483.8861, 718.5627) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (479.8484, 725.0969) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (524.6166, 783.8997) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (439.4695, 777.2759) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (489.325, 796.0313) (added to group)
[20:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(112.9485, 1457.564), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[20:28:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.1°, player=(112,1451), corner_timer=-0.02
[20:28:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:28:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(111,1454), corner_timer=0.30
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (443.4983, 835.1364) (added to group)
[20:28:36] [INFO] [BloodDecal] Blood puddle created at (568.9718, 750.4128) (added to group)
[20:28:36] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(138,1494), corner_timer=-0.02
[20:28:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(142,1495), corner_timer=0.30
[20:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.5312, 1502.429), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[20:28:37] [INFO] [ReplayManager] Recording frame 660 (10,5s): player_valid=True, enemies=10
[20:28:37] [ENEMY] [Enemy2] Death animation completed
[20:28:37] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=112.6°, current=112.6°, player=(168,1496), corner_timer=0.03
[20:28:37] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:28:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(142.2099, 1438.604), shooter_id=1087029383891, bullet_pos=(339.4918, 714.3239)
[20:28:37] [INFO] [Bullet] Using shooter_position, distance=750.667114257813
[20:28:37] [INFO] [Bullet] Distance to wall: 750.667114257813 (51.114304164921% of viewport)
[20:28:37] [INFO] [Bullet] Distance-based penetration chance: 87.0333118075922%
[20:28:37] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(245,1496), corner_timer=-0.02
[20:28:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(251,1496), corner_timer=0.30
[20:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.9485, 1457.564), shooter_id=1087029383891, bullet_pos=(362.3859, 714.3019)
[20:28:37] [INFO] [Bullet] Using shooter_position, distance=784.000610351563
[20:28:37] [INFO] [Bullet] Distance to wall: 784.000610351563 (53.3840432088389% of viewport)
[20:28:37] [INFO] [Bullet] Distance-based penetration chance: 84.3852829230213%
[20:28:37] [INFO] [Bullet] Penetration failed (distance roll)
[20:28:37] [ENEMY] [Enemy3] Death animation completed
[20:28:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(325,1457), corner_timer=-0.02
[20:28:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(327,1454), corner_timer=0.30
[20:28:37] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:37] [ENEMY] [Enemy1] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy3] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy4] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:37] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:37] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(330.8285, 1448.02), source=PLAYER (Player), range=900, listeners=8
[20:28:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=3
[20:28:37] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=504), can_see=false
[20:28:37] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=535), can_see=false
[20:28:37] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1755), can_see=false
[20:28:37] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1902), can_see=false
[20:28:37] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1393), can_see=false
[20:28:37] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1569), can_see=false
[20:28:37] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1772), can_see=false
[20:28:37] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=842), can_see=false
[20:28:37] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[20:28:37] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-2.9°, current=97.3°, player=(334,1440), corner_timer=0.03
[20:28:37] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:28:37] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:28:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(157.5312, 1502.429), shooter_id=1087029383891, bullet_pos=(409.4431, 707.3845)
[20:28:37] [INFO] [Bullet] Using shooter_position, distance=833.999755859375
[20:28:37] [INFO] [Bullet] Distance to wall: 833.999755859375 (56.7885769667873% of viewport)
[20:28:37] [INFO] [Bullet] Distance-based penetration chance: 80.4133268720815%
[20:28:37] [INFO] [Bullet] Penetration failed (distance roll)
[20:28:37] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:37] [ENEMY] [Enemy1] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy3] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy4] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:37] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:37] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(338,1432), corner_timer=-0.02
[20:28:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(338,1432), corner_timer=0.30
[20:28:38] [INFO] [ReplayManager] Recording frame 720 (11,5s): player_valid=True, enemies=10
[20:28:38] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:38] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[20:28:38] [ENEMY] [Enemy4] FLANKING started: target=(217.6706, 1270.33), side=left, pos=(548.0665, 958.8812)
[20:28:38] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:28:38] [ENEMY] [Enemy4] FLANKING corner check: angle -23.2°
[20:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(333,1432), corner_timer=-0.02
[20:28:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(334,1432), corner_timer=0.30
[20:28:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:38] [ENEMY] [Enemy4] FLANKING corner check: angle -42.9°
[20:28:38] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:28:38] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=88.0°, current=128.8°, player=(411,1432), corner_timer=0.03
[20:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(411,1432), corner_timer=-0.02
[20:28:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1432), corner_timer=0.30
[20:28:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:39] [ENEMY] [Enemy4] FLANKING corner check: angle -42.9°
[20:28:39] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:39] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:28:39] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:28:39] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-2.9°, current=74.4°, player=(516,1428), corner_timer=0.03
[20:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(516,1428), corner_timer=-0.02
[20:28:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(521,1428), corner_timer=0.30
[20:28:39] [INFO] [ReplayManager] Recording frame 780 (12,5s): player_valid=True, enemies=10
[20:28:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:39] [ENEMY] [Enemy4] FLANKING corner check: angle 99.0°
[20:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(574,1428), corner_timer=-0.02
[20:28:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(576,1428), corner_timer=0.30
[20:28:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:39] [ENEMY] [Enemy4] FLANKING corner check: angle -172.4°
[20:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(577,1428), corner_timer=-0.02
[20:28:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(574,1428), corner_timer=0.30
[20:28:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:40] [ENEMY] [Enemy4] FLANKING corner check: angle -166.8°
[20:28:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(541,1428), corner_timer=-0.02
[20:28:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(541,1428), corner_timer=0.30
[20:28:40] [INFO] [ReplayManager] Recording frame 840 (13,5s): player_valid=True, enemies=10
[20:28:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:40] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:28:40] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:28:40] [ENEMY] [Enemy4] FLANKING corner check: angle 14.2°
[20:28:40] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=71.7°, current=-2.9°, player=(541,1428), corner_timer=0.03
[20:28:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(541,1428), corner_timer=-0.02
[20:28:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(541,1428), corner_timer=0.30
[20:28:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:40] [ENEMY] [Enemy4] FLANKING corner check: angle -3.3°
[20:28:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(541,1428), corner_timer=-0.02
[20:28:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(541,1428), corner_timer=0.30
[20:28:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:41] [ENEMY] [Enemy4] FLANKING corner check: angle -3.3°
[20:28:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(541,1428), corner_timer=-0.02
[20:28:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:41] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[20:28:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(541,1428), corner_timer=0.30
[20:28:41] [INFO] [ReplayManager] Recording frame 900 (14,5s): player_valid=True, enemies=10
[20:28:41] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=33.7°, current=59.0°, player=(541,1428), corner_timer=0.15
[20:28:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:41] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[20:28:41] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=23.5°, current=-33.6°, player=(541,1428), corner_timer=0.08
[20:28:41] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=23.0°, current=-25.3°, player=(544,1428), corner_timer=0.08
[20:28:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(548,1428), corner_timer=-0.02
[20:28:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(549,1429), corner_timer=0.30
[20:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(559.3557, 1441.865), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:28:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(559.3557, 1441.865), shooter_id=1087029383891, bullet_pos=(498.6042, 1412.83)
[20:28:41] [INFO] [Bullet] Using shooter_position, distance=67.3334045410156
[20:28:41] [INFO] [Bullet] Distance to wall: 67.3334045410156 (4.58485533041096% of viewport)
[20:28:41] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:41] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.2479, 1471.209), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:28:41] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:28:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(605,1491), corner_timer=-0.02
[20:28:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(606,1496), corner_timer=0.30
[20:28:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.2479, 1471.209), shooter_id=1087029383891, bullet_pos=(400.5709, 1405.714)
[20:28:41] [INFO] [Bullet] Using shooter_position, distance=200.66650390625
[20:28:41] [INFO] [Bullet] Distance to wall: 200.66650390625 (13.6637512441403% of viewport)
[20:28:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:41] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.8397, 1520.237), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:28:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:41] [ENEMY] [Enemy1] PURSUING corner check: angle -40.1°
[20:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.5975, 1550.514), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:28:42] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-3.3°, current=57.7°, player=(592,1549), corner_timer=0.08
[20:28:42] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[20:28:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(608.8397, 1520.237), shooter_id=1087029383891, bullet_pos=(392.1514, 1394.222)
[20:28:42] [INFO] [Bullet] Using shooter_position, distance=250.666427612305
[20:28:42] [INFO] [Bullet] Distance to wall: 250.666427612305 (17.068337991038% of viewport)
[20:28:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:42] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(578,1557), corner_timer=-0.02
[20:28:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(574,1559), corner_timer=0.30
[20:28:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.8821, 1567.101), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:28:42] [INFO] [ReplayManager] Recording frame 960 (15,5s): player_valid=True, enemies=10
[20:28:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(597.5975, 1550.514), shooter_id=1087029383891, bullet_pos=(367.6123, 1414.229)
[20:28:42] [INFO] [Bullet] Using shooter_position, distance=267.3330078125
[20:28:42] [INFO] [Bullet] Distance to wall: 267.3330078125 (18.2031960840079% of viewport)
[20:28:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:42] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:42] [ENEMY] [Enemy1] PURSUING corner check: angle 139.9°
[20:28:42] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:28:42] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:28:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(508.4717, 1556.531), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=4
[20:28:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.8821, 1567.101), shooter_id=1087029383891, bullet_pos=(369.8044, 1410.936)
[20:28:42] [INFO] [Bullet] Using shooter_position, distance=250.666961669922
[20:28:42] [INFO] [Bullet] Distance to wall: 250.666961669922 (17.0683743560032% of viewport)
[20:28:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:42] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:42] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:28:42] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:28:42] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=86.9°, current=135.5°, player=(489,1533), corner_timer=0.18
[20:28:42] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:28:42] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:28:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(489,1533), corner_timer=-0.02
[20:28:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(486,1529), corner_timer=0.30
[20:28:42] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=87.5°, current=174.1°, player=(484,1525), corner_timer=0.18
[20:28:42] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:28:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.4717, 1556.531), shooter_id=1087029383891, bullet_pos=(376.2368, 1405.597)
[20:28:42] [INFO] [Bullet] Using shooter_position, distance=200.666488647461
[20:28:42] [INFO] [Bullet] Distance to wall: 200.666488647461 (13.6637502051413% of viewport)
[20:28:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:42] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:42] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=90.4°, current=139.6°, player=(459,1466), corner_timer=0.18
[20:28:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(440,1448), corner_timer=-0.02
[20:28:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(436,1445), corner_timer=0.30
[20:28:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:28:42] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=104.1°, current=104.1°, player=(380,1434), corner_timer=0.18
[20:28:42] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:28:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(336,1434), corner_timer=-0.02
[20:28:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(331,1434), corner_timer=0.30
[20:28:43] [INFO] [ReplayManager] Recording frame 1020 (16,5s): player_valid=True, enemies=10
[20:28:43] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:28:43] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:28:43] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=166.1°, current=144.9°, player=(298,1434), corner_timer=0.08
[20:28:43] [ENEMY] [Enemy10] Memory: high confidence (0.90) - transitioning to PURSUING
[20:28:43] [ENEMY] [Enemy10] State: IDLE -> PURSUING
[20:28:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-169.1°, current=0.6°, player=(292,1434), corner_timer=0.00
[20:28:43] [ENEMY] [Enemy10] PURSUING corner check: angle -109.4°
[20:28:43] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-3.3°, current=161.1°, player=(259,1434), corner_timer=0.08
[20:28:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(227,1432), corner_timer=-0.02
[20:28:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(222,1431), corner_timer=0.30
[20:28:43] [ENEMY] [Enemy10] PURSUING corner check: angle 119.4°
[20:28:43] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=135.3°, current=134.7°, player=(176,1423), corner_timer=0.18
[20:28:43] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:28:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(130,1422), corner_timer=-0.02
[20:28:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(125.9208, 1429.372), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(125,1423), corner_timer=0.30
[20:28:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(125.9208, 1429.372), shooter_id=1087029383891, bullet_pos=(198.8802, 1387.744)
[20:28:43] [INFO] [Bullet] Using shooter_position, distance=84.0000686645508
[20:28:43] [INFO] [Bullet] Distance to wall: 84.0000686645508 (5.71971913787538% of viewport)
[20:28:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:43] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(92.16174, 1451.59), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(92.16174, 1451.59), shooter_id=1087029383891, bullet_pos=(199.99, 1405.328)
[20:28:44] [INFO] [Bullet] Using shooter_position, distance=117.333274841309
[20:28:44] [INFO] [Bullet] Distance to wall: 117.333274841309 (7.98943844081218% of viewport)
[20:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:44] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(90,1468), corner_timer=-0.02
[20:28:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(91,1470), corner_timer=0.30
[20:28:44] [INFO] [ReplayManager] Recording frame 1080 (17,5s): player_valid=True, enemies=10
[20:28:44] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[20:28:44] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:28:44] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=131.5°, current=131.5°, player=(123,1486), corner_timer=0.18
[20:28:44] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:28:44] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:28:44] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:28:44] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(155,1495), corner_timer=-0.02
[20:28:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(158,1497), corner_timer=0.30
[20:28:44] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:28:44] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:28:44] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[20:28:44] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[20:28:44] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=161.0°, current=-158.0°, player=(166,1523), corner_timer=0.08
[20:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(149,1545), corner_timer=-0.02
[20:28:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(145,1548), corner_timer=0.30
[20:28:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1572), corner_timer=-0.02
[20:28:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1573), corner_timer=0.30
[20:28:45] [INFO] [ReplayManager] Recording frame 1140 (18,5s): player_valid=True, enemies=10
[20:28:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(90,1629), corner_timer=-0.02
[20:28:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(93,1633), corner_timer=0.30
[20:28:45] [ENEMY] [Enemy10] Warning: No valid flank position (both sides behind walls)
[20:28:45] [ENEMY] [Enemy10] FLANKING started: target=(172.1303, 1457.089), side=left, pos=(951.0927, 1499.057)
[20:28:45] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:28:45] [ENEMY] [Enemy10] FLANKING corner check: angle -30.2°
[20:28:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(162,1693), corner_timer=-0.02
[20:28:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(166,1693), corner_timer=0.30
[20:28:45] [ENEMY] [Enemy10] FLANKING corner check: angle -42.9°
[20:28:45] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:45] [ENEMY] [Enemy1] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy4] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:45] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:45] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(186.5469, 1693.934), source=PLAYER (Player), range=900, listeners=8
[20:28:45] [ENEMY] [Enemy1] Heard player RELOAD at (186.5469, 1693.934), intensity=0.02, distance=391
[20:28:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[20:28:45] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=391), can_see=false
[20:28:45] [ENEMY] [Enemy1] Pursuing vulnerability sound at (186.5469, 1693.934), distance=391
[20:28:45] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=599), can_see=false
[20:28:45] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2024), can_see=false
[20:28:45] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2158), can_see=false
[20:28:45] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1632), can_see=false
[20:28:45] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1731), can_see=false
[20:28:45] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1919), can_see=false
[20:28:45] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=812), can_see=false
[20:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(186,1693), corner_timer=-0.02
[20:28:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(186,1693), corner_timer=0.30
[20:28:46] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:46] [ENEMY] [Enemy1] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy4] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:46] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:46] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:46] [INFO] [ReplayManager] Recording frame 1200 (19,5s): player_valid=True, enemies=10
[20:28:46] [ENEMY] [Enemy10] FLANKING corner check: angle -113.4°
[20:28:46] [ENEMY] [Enemy4] PURSUING corner check: angle -111.8°
[20:28:46] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(186,1693), corner_timer=-0.02
[20:28:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(186,1693), corner_timer=0.30
[20:28:46] [ENEMY] [Enemy10] FLANKING corner check: angle 69.4°
[20:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(186,1693), corner_timer=-0.02
[20:28:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(186,1693), corner_timer=0.30
[20:28:46] [ENEMY] [Enemy10] FLANKING corner check: angle 83.7°
[20:28:47] [ENEMY] [Enemy1] Pursuing vulnerability sound at (186.5469, 1693.934), distance=376
[20:28:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(186,1693), corner_timer=-0.02
[20:28:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(186,1693), corner_timer=0.30
[20:28:47] [INFO] [ReplayManager] Recording frame 1260 (20,5s): player_valid=True, enemies=10
[20:28:47] [ENEMY] [Enemy10] FLANKING corner check: angle 105.2°
[20:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.5469, 1699.934), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(181,1693), corner_timer=-0.02
[20:28:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(179,1693), corner_timer=0.30
[20:28:47] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=166.5°, current=-176.8°, player=(177,1693), corner_timer=0.03
[20:28:47] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:28:47] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=167.3°, current=-128.6°, player=(171,1693), corner_timer=0.03
[20:28:47] [ENEMY] [Enemy10] FLANKING corner check: angle 98.2°
[20:28:47] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=168.6°, current=-141.9°, player=(151,1694), corner_timer=0.03
[20:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.4301, 1702.441), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:28:47] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[20:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (533.9411, 1621.932), dir=(0.987392, -0.158293), lethal=false
[20:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:47] [INFO] [ImpactEffects] Blood effect spawned at (533.9411, 1621.932) (scale=0.5)
[20:28:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(110,1718), corner_timer=-0.02
[20:28:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:47] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:28:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(108,1721), corner_timer=0.30
[20:28:47] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:28:47] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(100.7558, 1743.982), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:28:47] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=139.9°, current=164.7°, player=(100,1737), corner_timer=0.03
[20:28:47] [ENEMY] [Enemy10] FLANKING corner check: angle 93.2°
[20:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(100.7558, 1743.982), shooter_id=1087029383891, bullet_pos=(167.6602, 1736.395)
[20:28:47] [INFO] [Bullet] Using shooter_position, distance=67.3333358764648
[20:28:47] [INFO] [Bullet] Distance to wall: 67.3333358764648 (4.58485065491543% of viewport)
[20:28:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:47] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:47] [INFO] [BloodDecal] Blood puddle created at (592.0281, 1624.113) (added to group)
[20:28:47] [INFO] [BloodDecal] Blood puddle created at (615.8384, 1614.778) (added to group)
[20:28:47] [INFO] [BloodDecal] Blood puddle created at (585.5716, 1617.536) (added to group)
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (606.2701, 1662.646) (added to group)
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (619.334, 1681.328) (added to group)
[20:28:48] [ENEMY] [Enemy4] FLANKING started: target=(62.53888, 1582.322), side=left, pos=(551.9235, 1363.884)
[20:28:48] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[20:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(114,1782), corner_timer=-0.02
[20:28:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:48] [ENEMY] [Enemy4] FLANKING corner check: angle -113.3°
[20:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(117,1783), corner_timer=0.30
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (681.2942, 1596.178) (added to group)
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (604.8708, 1642.416) (added to group)
[20:28:48] [INFO] [ReplayManager] Recording frame 1320 (21,5s): player_valid=True, enemies=10
[20:28:48] [ENEMY] [Enemy10] FLANKING corner check: angle 120.8°
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (706.2759, 1632.197) (added to group)
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (671.8926, 1731.355) (added to group)
[20:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.4301, 1702.441), shooter_id=1087029383891, bullet_pos=(889.6491, 1620.839)
[20:28:48] [INFO] [Bullet] Using shooter_position, distance=750.66748046875
[20:28:48] [INFO] [Bullet] Distance to wall: 750.66748046875 (51.1143291008971% of viewport)
[20:28:48] [INFO] [Bullet] Distance-based penetration chance: 87.03328271562%
[20:28:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:48] [INFO] [BloodDecal] Blood puddle created at (711.5107, 1683.523) (added to group)
[20:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1746), corner_timer=-0.02
[20:28:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:48] [ENEMY] [Enemy4] FLANKING corner check: angle 106.5°
[20:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1743), corner_timer=0.30
[20:28:48] [ENEMY] [Enemy10] FLANKING corner check: angle -121.1°
[20:28:48] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=166.2°, current=139.9°, player=(143,1723), corner_timer=0.03
[20:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1721), corner_timer=-0.02
[20:28:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:48] [ENEMY] [Enemy4] FLANKING corner check: angle -113.2°
[20:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1719), corner_timer=0.30
[20:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.6274, 1718.326), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.6274, 1718.326), shooter_id=1087029383891, bullet_pos=(162.1679, 1716.159)
[20:28:48] [INFO] [Bullet] Using shooter_position, distance=18.6666736602783
[20:28:48] [INFO] [Bullet] Distance to wall: 18.6666736602783 (1.27104813451451% of viewport)
[20:28:48] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9551, 1629.092), source=ENEMY (Enemy1), range=1469, listeners=8
[20:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[20:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9551, 1629.092), source=ENEMY (Enemy1), range=1469, listeners=8
[20:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.25647, 1649.9258), shooter_id=1082969297377, bullet_pos=(231.2868, 1740.6187)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=250,00012
[20:28:49] [INFO] [Bullet] Distance to wall: 250,00012 (17,022968% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [ENEMY] [Enemy10] FLANKING corner check: angle -121.1°
[20:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9551, 1629.092), source=ENEMY (Enemy1), range=1469, listeners=8
[20:28:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[20:28:49] [INFO] [LastChance] Threat detected: @Area2D@2521
[20:28:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:28:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.65604, 1648.749), shooter_id=1082969297377, bullet_pos=(221.17313, 1709.5935)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=250,00003
[20:28:49] [INFO] [Bullet] Distance to wall: 250,00003 (17,022963% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9551, 1629.092), source=ENEMY (Enemy1), range=1469, listeners=8
[20:28:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[20:28:49] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[20:28:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(114,1701), corner_timer=-0.02
[20:28:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.064, 1709.252), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:49] [ENEMY] [Enemy4] FLANKING corner check: angle -113.2°
[20:28:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(114,1703), corner_timer=0.30
[20:28:49] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=139.9°, current=112.9°, player=(113,1704), corner_timer=0.03
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.65604, 1648.749), shooter_id=1082969297377, bullet_pos=(50.1437, 1647.1174)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=413,51556
[20:28:49] [INFO] [Bullet] Distance to wall: 413,51556 (28,157034% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.25647, 1649.9258), shooter_id=1082969297377, bullet_pos=(522.85657, 1881.335)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=238,7136
[20:28:49] [INFO] [Bullet] Distance to wall: 238,7136 (16,254448% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [ReplayManager] Recording frame 1380 (22,5s): player_valid=True, enemies=10
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.55118, 1648.1353), shooter_id=1082969297377, bullet_pos=(47.24411, 1665.4436)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=416,66672
[20:28:49] [INFO] [Bullet] Distance to wall: 416,66672 (28,371605% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.65604, 1648.749), shooter_id=1082969297377, bullet_pos=(169.01329, 1607.1256)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=297,56827
[20:28:49] [INFO] [Bullet] Distance to wall: 297,56827 (20,261972% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.71136, 1648.3364), shooter_id=1082969297377, bullet_pos=(47.104004, 1641.3064)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=416,66666
[20:28:49] [INFO] [Bullet] Distance to wall: 416,66666 (28,3716% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [Bullet] Starting wall penetration at (47.104004, 1641.3064)
[20:28:49] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[20:28:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,560514
[20:28:49] [INFO] [Bullet] Body exited signal received for penetrating body
[20:28:49] [INFO] [Bullet] Exiting penetration at (0.44397736, 1640.519) after traveling 41,666668 pixels through wall
[20:28:49] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:28:49] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(128.8088, 1740.76), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:49] [ENEMY] [Enemy10] FLANKING corner check: angle -109.7°
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(128.8088, 1740.76), shooter_id=1087029383891, bullet_pos=(163.8382, 1736.135)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=35.3333129882813
[20:28:49] [INFO] [Bullet] Distance to wall: 35.3333129882813 (2.40591025360555% of viewport)
[20:28:49] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:49] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:49] [ENEMY] [Enemy10] State: FLANKING -> RETREATING
[20:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-109.7°, current=-24.1°, player=(139,1745), corner_timer=0.28
[20:28:49] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:28:49] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:28:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1757), corner_timer=-0.02
[20:28:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.65604, 1648.749), shooter_id=1082969297377, bullet_pos=(514.113, 1720.4791)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=87,698975
[20:28:49] [INFO] [Bullet] Distance to wall: 87,698975 (5,9715843% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [ENEMY] [Enemy4] FLANKING corner check: angle 0.2°
[20:28:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1760), corner_timer=0.30
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.65604, 1648.749), shooter_id=1082969297377, bullet_pos=(336.6104, 1814.2573)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=208,64705
[20:28:49] [INFO] [Bullet] Distance to wall: 208,64705 (14,207162% of viewport)
[20:28:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:49] [INFO] [Bullet] Starting wall penetration at (336.6104, 1814.2573)
[20:28:49] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:28:49] [INFO] [Bullet] Exiting penetration at (312.9582, 1826.7533) after traveling 21,750261 pixels through wall
[20:28:49] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[20:28:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1781), corner_timer=-0.02
[20:28:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1781), corner_timer=0.30
[20:28:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.064, 1709.252), shooter_id=1087029383891, bullet_pos=(895.5924, 1647.041)
[20:28:49] [INFO] [Bullet] Using shooter_position, distance=784.00048828125
[20:28:49] [INFO] [Bullet] Distance to wall: 784.00048828125 (53.3840348968468% of viewport)
[20:28:49] [INFO] [Bullet] Distance-based penetration chance: 84.3852926203454%
[20:28:49] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1774), corner_timer=-0.02
[20:28:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1771), corner_timer=0.30
[20:28:50] [INFO] [ReplayManager] Recording frame 1440 (23,5s): player_valid=True, enemies=10
[20:28:50] [ENEMY] [Enemy4] FLANKING corner check: angle -108.0°
[20:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:28:50] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:28:50] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:50] [ENEMY] [Enemy4] FLANKING corner check: angle -64.2°
[20:28:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:28:50] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1124.342, 1574.309)
[20:28:50] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:28:50] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[20:28:50] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:28:50] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[20:28:50] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[20:28:50] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[20:28:50] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:28:50] [INFO] [Player.Grenade] Timer started, grenade created at (143.93506, 1736.8458)
[20:28:50] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[20:28:50] [INFO] [Player.Grenade] Step 1 complete! Drag: (154.98962, -0.3232422)
[20:28:51] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[20:28:51] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[20:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:51] [INFO] [ReplayManager] Recording frame 1500 (24,5s): player_valid=True, enemies=10
[20:28:51] [ENEMY] [Enemy4] FLANKING corner check: angle -71.9°
[20:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:51] [ENEMY] [Enemy4] FLANKING corner check: angle -69.4°
[20:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:51] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[20:28:51] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[20:28:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=99.6°, current=-109.7°, player=(143,1736), corner_timer=0.28
[20:28:51] [ENEMY] [Enemy4] FLANKING corner check: angle -68.1°
[20:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:52] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:28:52] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:28:52] [INFO] [ReplayManager] Recording frame 1560 (25,5s): player_valid=True, enemies=10
[20:28:52] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=162.5°, current=139.9°, player=(143,1736), corner_timer=0.03
[20:28:52] [ENEMY] [Enemy4] FLANKING corner check: angle -67.3°
[20:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:52] [ENEMY] [Enemy4] FLANKING corner check: angle -67.0°
[20:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:52] [ENEMY] [Enemy4] FLANKING corner check: angle -66.8°
[20:28:53] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(-4.268707, 1602.549), pos=(186.6015, 1563.98)
[20:28:53] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[20:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,1736), corner_timer=-0.02
[20:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(143,1736), corner_timer=0.30
[20:28:53] [INFO] [ReplayManager] Recording frame 1620 (26,5s): player_valid=True, enemies=10
[20:28:53] [ENEMY] [Enemy4] PURSUING corner check: angle -111.2°
[20:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(123,1770), corner_timer=-0.02
[20:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(121,1774), corner_timer=0.30
[20:28:53] [INFO] [Player.Grenade.Simple] Throwing! Target: (19.37333, 1455.4945), Distance: 331,4, Speed: 445,9, Friction: 300,0
[20:28:53] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,8578728
[20:28:53] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:28:53] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(-0.28314954, -0.95907575), speed=445,9, spawn=(100.27431, 1729.5199)
[20:28:53] [INFO] [GrenadeBase] Simple mode throw! Dir: (-0.28315, -0.959076), Speed: 445.9 (clamped from 445.9, max: 1000.0)
[20:28:53] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[20:28:53] [INFO] [Player.Grenade.Simple] Grenade thrown!
[20:28:53] [INFO] [Player.Grenade] State reset to IDLE
[20:28:53] [INFO] [Player.Grenade] State reset to IDLE
[20:28:53] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[20:28:53] [ENEMY] [Enemy4] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[20:28:53] [ENEMY] [Enemy4] EVADING_GRENADE started: escaping to (465.8539, 2102.434)
[20:28:53] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=-111.2°, current=87.2°, player=(116,1791), corner_timer=0.13
[20:28:53] [INFO] [Player.Grenade] Player rotation restored to 0
[20:28:53] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=151.6°, current=152.2°, player=(121,1842), corner_timer=0.03
[20:28:53] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=151.3°, current=-21.9°, player=(123,1847), corner_timer=0.02
[20:28:53] [ENEMY] [Enemy1] PURSUING corner check: angle 51.4°
[20:28:53] [INFO] [GrenadeBase] Collision detected with WallLeft (type: StaticBody2D)
[20:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(135,1864), corner_timer=-0.02
[20:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(138,1868), corner_timer=0.30
[20:28:53] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[20:28:53] [ENEMY] [Enemy10] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[20:28:53] [ENEMY] [Enemy10] EVADING_GRENADE started: escaping to (846.7231, 1850.375)
[20:28:53] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=-109.7°, current=-179.2°, player=(168,1887), corner_timer=0.15
[20:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(227,1886), corner_timer=-0.02
[20:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(230,1885), corner_timer=0.30
[20:28:54] [INFO] [ReplayManager] Recording frame 1680 (27,5s): player_valid=True, enemies=10
[20:28:54] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(80.88634, 1566.24), source=NEUTRAL (DefensiveGrenade), range=112, listeners=8
[20:28:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=0
[20:28:54] [INFO] [GrenadeBase] Grenade landed at (80.88634, 1566.24)
[20:28:54] [INFO] [GrenadeTimer] Flashbang grenade landed at (80.886345, 1566.2396)
[20:28:54] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(80.88634, 1566.24), source=NEUTRAL (DefensiveGrenade), range=112, listeners=8
[20:28:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=0
[20:28:54] [INFO] [GrenadeTimer] Emitted grenade landing sound at (80.886345, 1566.2396)
[20:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(252,1819), corner_timer=-0.02
[20:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(251,1815), corner_timer=0.30
[20:28:54] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=151.7°, current=-160.3°, player=(232,1807), corner_timer=0.08
[20:28:54] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:28:54] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=152.5°, current=-72.3°, player=(227,1807), corner_timer=0.08
[20:28:54] [INFO] [BloodyFeet:Enemy10] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(216,1808), corner_timer=-0.02
[20:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(216,1808), corner_timer=0.30
[20:28:54] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[20:28:54] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (869.9149, 1806.071)
[20:28:54] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=51.4°, current=-119.3°, player=(216,1808), corner_timer=0.08
[20:28:54] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=EVADING_GRENADE, target=149.5°, current=-164.0°, player=(216,1808), corner_timer=0.08
[20:28:54] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P1:visible, state=EVADING_GRENADE, target=-141.4°, current=-111.3°, player=(216,1808), corner_timer=0.13
[20:28:54] [INFO] [GrenadeBase] EXPLODED at (81.15772, 1564.23)!
[20:28:54] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:28:54] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:28:54] [INFO] [LastChance] Starting last chance effect:
[20:28:54] [INFO] [LastChance]   - Time will be frozen (except player)
[20:28:54] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:28:54] [INFO] [LastChance]   - Trigger: grenade explosion
[20:28:54] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:28:54] [INFO] [LastChance]   - Brightness: 0.60
[20:28:54] [INFO] [LastChance] Set player Player and all 29 children to PROCESS_MODE_ALWAYS
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:28:54] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:28:55] [INFO] [LastChance] Skipping player node: Player
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2246
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2251
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2261
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2265
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2269
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2274
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2282
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2285
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2290
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2293
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2296
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2312
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2317
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2321
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2389
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2397
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2401
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2429
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2431
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2435
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2438
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2445
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2448
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2458
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2463
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2477
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2491
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2496
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2510
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2540
[20:28:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2554
[20:28:55] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[20:28:55] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:28:55] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:28:55] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:28:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(81.15772, 1564.23), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=8
[20:28:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:28:55] [INFO] [GrenadeBase] Scattered 19 casings (lethal zone) + 4 casings (proximity) from explosion
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 7.4 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2593
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2593
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -3.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2594
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2594
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 21.9 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2595
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2595
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 41.1 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2596
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2596
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 42.0 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2597
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2597
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 53.2 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2598
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2598
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 66.2 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2599
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2599
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 74.3 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2600
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2600
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 75.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2601
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2601
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 70.5 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2602
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2602
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 96.8 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2603
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2603
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 90.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2604
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2604
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 118.3 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2605
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2605
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 131.5 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2606
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2606
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 116.5 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2607
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2607
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 135.6 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2608
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2608
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 146.4 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2609
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2609
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 146.9 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2610
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2610
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 170.9 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2611
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2611
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 156.2 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2612
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2612
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 174.2 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2613
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2613
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 188.2 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2614
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2614
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 208.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2615
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2615
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 205.8 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2616
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2616
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 212.1 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2617
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2617
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 220.3 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2618
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2618
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 232.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2619
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2619
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 240.0 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2620
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2620
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 258.4 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2621
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2621
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 247.3 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2622
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2622
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 273.3 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2623
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2623
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 266.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2624
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2624
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 292.1 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2625
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2625
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 288.7 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2626
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2626
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 300.4 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2627
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2627
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 313.9 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2628
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2628
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 321.0 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2629
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2629
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 327.1 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2630
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2630
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 333.8 degrees
[20:28:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2631
[20:28:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2631
[20:28:55] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 359.0 degrees
[20:28:55] [INFO] [ImpactEffects] Spawning explosion visual effect at (81.15772, 1564.23) (radius=700) - using shadow-based wall occlusion
[20:28:55] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@2632
[20:28:55] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@2632
[20:28:55] [INFO] [ReplayManager] Recording frame 1740 (28,5s): player_valid=True, enemies=10
[20:28:56] [INFO] [ReplayManager] Recording frame 1800 (29,5s): player_valid=True, enemies=10
[20:28:56] [INFO] [LastChance] Freezing newly fired player bullet: Bullet9mm
[20:28:56] [INFO] [LastChance] Registered frozen player bullet: Bullet9mm
[20:28:56] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:56] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:56] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2633
[20:28:56] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2633
[20:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(297.9939, 2049.046), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[20:28:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2634
[20:28:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2634
[20:28:56] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:56] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:56] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2636
[20:28:56] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2636
[20:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.4939, 2049.046), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2637
[20:28:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2637
[20:28:56] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[20:28:56] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[20:28:56] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2639
[20:28:56] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2639
[20:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.7162, 2049.046), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:56] [ENEMY] [Enemy1] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy4] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy5] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy7] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:28:56] [ENEMY] [Enemy10] Player ammo empty: false -> true
[20:28:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(443.4384, 2043.046), source=PLAYER (Player), range=600, listeners=8
[20:28:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (443.4384, 2043.046), intensity=0.02, distance=376
[20:28:56] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (443.4384, 2043.046), intensity=1.00, distance=23
[20:28:56] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (443.4384, 2043.046), intensity=0.01, distance=417
[20:28:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(452.1051, 2043.046), source=PLAYER (Player), range=600, listeners=8
[20:28:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (452.1051, 2043.046), intensity=0.02, distance=374
[20:28:56] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (452.1051, 2043.046), intensity=1.00, distance=14
[20:28:56] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (452.1051, 2043.046), intensity=0.01, distance=411
[20:28:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(447.0495, 2043.046), source=PLAYER (Player), range=600, listeners=8
[20:28:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (447.0495, 2043.046), intensity=0.02, distance=375
[20:28:56] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (447.0495, 2043.046), intensity=1.00, distance=19
[20:28:56] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (447.0495, 2043.046), intensity=0.01, distance=415
[20:28:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(425.6607, 2043.046), source=PLAYER (Player), range=600, listeners=8
[20:28:57] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (425.6607, 2043.046), intensity=0.02, distance=380
[20:28:57] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (425.6607, 2043.046), intensity=1.00, distance=40
[20:28:57] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (425.6607, 2043.046), intensity=0.01, distance=431
[20:28:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:57] [INFO] [LastChance] Effect duration expired after 2.02 real seconds
[20:28:57] [INFO] [LastChance] Ending last chance effect
[20:28:57] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[20:28:57] [ENEMY] [Enemy1] Search mode: EVADING_GRENADE -> SEARCHING at (216.553, 1808.658)
[20:28:57] [ENEMY] [Enemy1] SEARCHING started: center=(216.553, 1808.658), radius=100, waypoints=5
[20:28:57] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[20:28:57] [ENEMY] [Enemy4] Search mode: EVADING_GRENADE -> SEARCHING at (216.553, 1808.658)
[20:28:57] [ENEMY] [Enemy4] SEARCHING started: center=(216.553, 1808.658), radius=100, waypoints=5
[20:28:57] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[20:28:57] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[20:28:57] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[20:28:57] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[20:28:57] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[20:28:57] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=true
[20:28:57] [ENEMY] [Enemy10] Search mode: EVADING_GRENADE -> SEARCHING at (230.0114, 1807.394)
[20:28:57] [ENEMY] [Enemy10] SEARCHING started: center=(230.0114, 1807.394), radius=100, waypoints=5
[20:28:57] [INFO] [LastChance] Reset memory for 8 enemies (player teleport effect)
[20:28:57] [INFO] [LastChance] All process modes restored
[20:28:57] [INFO] [LastChance] Unfroze player bullet: Bullet9mm
[20:28:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@2634
[20:28:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@2637
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2246
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2251
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2261
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2265
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2269
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2274
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2282
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2285
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2290
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2293
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2296
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2312
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2317
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2321
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2389
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2397
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2401
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2429
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2431
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2435
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2438
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2445
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2448
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2458
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2463
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2477
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2491
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2496
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2510
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2540
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2554
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2633
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2636
[20:28:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2639
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2593
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2594
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2595
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2596
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2597
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2598
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2599
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2600
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2601
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2602
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2603
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2604
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2605
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2606
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2607
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2608
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2609
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2610
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2611
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2612
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2613
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2614
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2615
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2616
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2617
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2618
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2619
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2620
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2621
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2622
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2623
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2624
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2625
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2626
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2627
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2628
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2629
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2630
[20:28:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2631
[20:28:57] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@2632
[20:28:57] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:28:57] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=104.6°, current=125.7°, player=(425,2043), corner_timer=0.08
[20:28:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=380), can_see=false
[20:28:57] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=175.6°, current=-122.8°, player=(425,2043), corner_timer=0.13
[20:28:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=40), can_see=false
[20:28:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2119), can_see=false
[20:28:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2205), can_see=false
[20:28:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1648), can_see=false
[20:28:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1589), can_see=false
[20:28:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1745), can_see=false
[20:28:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=140.1°, current=-87.2°, player=(425,2043), corner_timer=0.15
[20:28:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=431), can_see=false
[20:28:57] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[20:28:57] [INFO] [ImpactEffects] spawn_blood_effect called at (461.635, 2036.987), dir=(0.99395, 0.109832), lethal=false
[20:28:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:57] [INFO] [ImpactEffects] Blood effect spawned at (461.635, 2036.987) (scale=0.5)
[20:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(297.9939, 2049.046), shooter_id=1087029383891, bullet_pos=(364.1877, 2061.382)
[20:28:57] [INFO] [Bullet] Using shooter_position, distance=67.3333435058594
[20:28:57] [INFO] [Bullet] Distance to wall: 67.3333435058594 (4.58485117441493% of viewport)
[20:28:57] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:28:57] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.4939, 2049.046), shooter_id=1087029383891, bullet_pos=(447.1548, 2063.241)
[20:28:57] [INFO] [Bullet] Using shooter_position, distance=100.66667175293
[20:28:57] [INFO] [Bullet] Distance to wall: 100.66667175293 (6.85457878934378% of viewport)
[20:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:57] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(395.1051, 2043.046), source=PLAYER (Player), range=600, listeners=8
[20:28:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:57] [ENEMY] [Enemy1] SEARCHING corner check: angle 89.0°
[20:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(395,2043), corner_timer=-0.02
[20:28:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(389,2043), corner_timer=0.30
[20:28:57] [INFO] [ReplayManager] Recording frame 1860 (30,5s): player_valid=True, enemies=10
[20:28:57] [ENEMY] [Enemy10] SEARCHING corner check: angle 113.5°
[20:28:57] [ENEMY] [Enemy4] SEARCHING corner check: angle -55.0°
[20:28:57] [INFO] [LastChance] Visual effects fade-out complete
[20:28:57] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:28:57] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:28:57] [ENEMY] [Enemy1] SEARCHING corner check: angle 59.8°
[20:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(301,2003), corner_timer=-0.02
[20:28:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(296,2001), corner_timer=0.30
[20:28:57] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:28:57] [ENEMY] [Enemy1] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy4] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy5] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy6] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy7] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy8] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy9] Player reloading: false -> true
[20:28:57] [ENEMY] [Enemy10] Player reloading: false -> true
[20:28:57] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(281.3464, 1999.008), source=PLAYER (Player), range=900, listeners=8
[20:28:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:57] [ENEMY] [Enemy10] SEARCHING corner check: angle 113.5°
[20:28:57] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=285), can_see=false
[20:28:57] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=78), can_see=false
[20:28:57] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2179), can_see=false
[20:28:57] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2281), can_see=false
[20:28:57] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1730), can_see=false
[20:28:57] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1714), can_see=false
[20:28:57] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1878), can_see=false
[20:28:57] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=446), can_see=false
[20:28:57] [INFO] [BloodDecal] Blood puddle created at (593.7548, 2052.298) (added to group)
[20:28:57] [ENEMY] [Enemy4] SEARCHING corner check: angle 125.0°
[20:28:57] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:28:57] [ENEMY] [Enemy1] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy4] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy5] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy6] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy7] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy8] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy9] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy10] Player reloading: true -> false
[20:28:57] [ENEMY] [Enemy1] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy4] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy5] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy7] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:28:57] [ENEMY] [Enemy10] Player ammo empty: true -> false
[20:28:57] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:28:57] [ENEMY] [Enemy1] SEARCHING corner check: angle -120.2°
[20:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(193,1998), corner_timer=-0.02
[20:28:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(187,1998), corner_timer=0.30
[20:28:57] [ENEMY] [Enemy10] SEARCHING corner check: angle -90.1°
[20:28:57] [ENEMY] [Enemy4] SEARCHING corner check: angle 144.6°
[20:28:57] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(96.38736, 2000.081), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(87,1990), corner_timer=-0.02
[20:28:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(82,1987), corner_timer=0.30
[20:28:58] [INFO] [ReplayManager] Recording frame 1920 (31,5s): player_valid=True, enemies=10
[20:28:58] [ENEMY] [Enemy10] SEARCHING corner check: angle 60.1°
[20:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06516, 1965.895), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.38736, 2000.081), shooter_id=1087029383891, bullet_pos=(320.9653, 1888.733)
[20:28:58] [INFO] [Bullet] Using shooter_position, distance=250.666351318359
[20:28:58] [INFO] [Bullet] Distance to wall: 250.666351318359 (17.068332796043% of viewport)
[20:28:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:58] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1916), corner_timer=-0.02
[20:28:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1910), corner_timer=0.30
[20:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06514, 1900.344), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:58] [ENEMY] [Enemy10] SEARCHING corner check: angle -119.9°
[20:28:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06516, 1965.895), shooter_id=1087029383891, bullet_pos=(316.054, 1807.891)
[20:28:58] [INFO] [Bullet] Using shooter_position, distance=284.000427246094
[20:28:58] [INFO] [Bullet] Distance to wall: 284.000427246094 (19.3381113219231% of viewport)
[20:28:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:28:58] [INFO] [Bullet] Caliber cannot penetrate walls
[20:28:58] [INFO] [BloodyFeet:Enemy10] Blood ran out - no more footprints
[20:28:58] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/3->1/3
[20:28:58] [INFO] [ImpactEffects] spawn_blood_effect called at (177.7162, 1814.066), dir=(0.85791, -0.513801), lethal=false
[20:28:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:28:58] [INFO] [ImpactEffects] Wall found for blood splatter at (217.9004, 1790) (dist=46 px)
[20:28:58] [INFO] [BloodDecal] Blood puddle created at (217.9004, 1791) (added to group)
[20:28:58] [INFO] [ImpactEffects] Blood effect spawned at (177.7162, 1814.066) (scale=0.5)
[20:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06514, 1823.344), source=PLAYER (MakarovPM), range=1469, listeners=8
[20:28:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[20:28:58] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/2->0/2
[20:28:58] [INFO] [ImpactEffects] spawn_blood_effect called at (135.1983, 1814.074), dir=(0.907384, -0.420303), lethal=true
[20:28:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:58] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:58] [INFO] [ImpactEffects] Wall found for blood splatter at (187.1706, 1790) (dist=57 px)
[20:28:58] [INFO] [BloodDecal] Blood puddle created at (187.1706, 1791) (added to group)
[20:28:58] [INFO] [ImpactEffects] Blood effect spawned at (135.1983, 1814.074) (scale=0.75)
[20:28:58] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:28:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:28:58] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:58] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:58] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:58] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:58] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (135.1983, 1814.074), entering SEARCHING
[20:28:58] [ENEMY] [Enemy4] SEARCHING started: center=(135.1983, 1814.074), radius=100, waypoints=4
[20:28:58] [ENEMY] [Enemy10] [AllyDeath] Witnessed at (135.1983, 1814.074), entering SEARCHING
[20:28:58] [ENEMY] [Enemy10] SEARCHING started: center=(135.1983, 1814.074), radius=100, waypoints=4
[20:28:58] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[20:28:58] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[20:28:58] [INFO] [DeathAnim] Started - Angle: -24.9 deg, Index: 10
[20:28:58] [ENEMY] [Enemy1] Death animation started with hit direction: (0.907384, -0.420303)
[20:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1806), corner_timer=-0.02
[20:28:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1800), corner_timer=0.30
[20:28:59] [INFO] [PowerFantasy] Effect duration expired after 307.00 ms
[20:28:59] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:59] [ENEMY] [Enemy10] SEARCHING corner check: angle 88.8°
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (214.0855, 1792.104) (added to group)
[20:28:59] [INFO] [ReplayManager] Recording frame 1980 (32,2s): player_valid=True, enemies=10
[20:28:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06514, 1769.444), source=PLAYER (MakarovPM), range=1469, listeners=7
[20:28:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (241.113, 1829.243) (added to group)
[20:28:59] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/3->0/3
[20:28:59] [INFO] [ImpactEffects] spawn_blood_effect called at (132.5606, 1814.076), dir=(0.700167, 0.713979), lethal=true
[20:28:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:28:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:28:59] [INFO] [ImpactEffects] Blood effect spawned at (132.5606, 1814.076) (scale=0.75)
[20:28:59] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:28:59] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:28:59] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:28:59] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:28:59] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:28:59] [INFO] [PowerFantasy]   - Duration: 300ms
[20:28:59] [ENEMY] [Enemy10] [AllyDeath] Witnessed at (132.5606, 1814.076), entering SEARCHING
[20:28:59] [ENEMY] [Enemy10] SEARCHING started: center=(132.5606, 1814.076), radius=100, waypoints=4
[20:28:59] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[20:28:59] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[20:28:59] [INFO] [DeathAnim] Started - Angle: 45.6 deg, Index: 15
[20:28:59] [ENEMY] [Enemy4] Death animation started with hit direction: (0.700167, 0.713979)
[20:28:59] [INFO] [BloodyFeet:Enemy10] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (288.6269, 1822.077) (added to group)
[20:28:59] [INFO] [PowerFantasy] Effect duration expired after 321.00 ms
[20:28:59] [INFO] [PowerFantasy] Ending power fantasy effect
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (191.326, 1793.915) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (207.5961, 1806.62) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (195.5207, 1806.746) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (178.967, 1817.337) (added to group)
[20:28:59] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-133.5°, current=-135.5°, player=(80,1702), corner_timer=0.07
[20:28:59] [ENEMY] [Enemy10] SEARCHING: Player spotted! Transitioning to COMBAT
[20:28:59] [ENEMY] [Enemy10] State: SEARCHING -> COMBAT
[20:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=175.7°, current=89.4°, player=(80,1697), corner_timer=-0.01
[20:28:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.0°
[20:28:59] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (233.3549, 1810.556) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (220.4156, 1839.235) (added to group)
[20:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.0°, current=92.3°, player=(80,1691), corner_timer=0.30
[20:28:59] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=88.8°, current=-105.5°, player=(80,1686), corner_timer=0.07
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (271.6837, 1814.849) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (305.4687, 1768.752) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (249.7781, 1841.087) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (253.8095, 1792.392) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (248.9438, 1819.775) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (186.423, 1849.452) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (158.9376, 1882.139) (added to group)
[20:28:59] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:28:59] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:28:59] [ENEMY] [Enemy1] Ragdoll activated
[20:28:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (238.2463, 1790.73) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (202.4361, 1803.648) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (154.214, 1891.177) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (202.0935, 1873.224) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (220.5055, 1879.793) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (233.9168, 1880.927) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (159.9081, 1879.109) (added to group)
[20:28:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06514, 1642.943), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:28:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (280.871, 1886.094) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (250.7733, 1793.651) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (198.1549, 1881.721) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (176.0145, 1926.979) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (168.2303, 1947.622) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (224.8977, 1794.255) (added to group)
[20:28:59] [INFO] [BloodDecal] Blood puddle created at (199.1305, 1917.063) (added to group)
[20:29:00] [ENEMY] [Enemy4] Ragdoll activated
[20:29:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (250.7826, 1830.941) (added to group)
[20:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06514, 1642.943), shooter_id=1087029383891, bullet_pos=(164.1919, 1787.591)
[20:29:00] [INFO] [Bullet] Using shooter_position, distance=167.333557128906
[20:29:00] [INFO] [Bullet] Distance to wall: 167.333557128906 (11.3940496041866% of viewport)
[20:29:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:00] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06514, 1593.443), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.2°, current=89.0°, player=(80,1587), corner_timer=-0.02
[20:29:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[20:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=91.8°, player=(80,1581), corner_timer=0.30
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (241.2435, 1843) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (181.654, 1938.432) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (335.783, 1909.173) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (280.1019, 1981.368) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (272.7595, 1984.883) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (217.4053, 2020.607) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (172.5674, 2020.682) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (247.1246, 1949.436) (added to group)
[20:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06514, 1593.443), shooter_id=1087029383891, bullet_pos=(157.3708, 1741.849)
[20:29:00] [INFO] [Bullet] Using shooter_position, distance=167.333633422852
[20:29:00] [INFO] [Bullet] Distance to wall: 167.333633422852 (11.3940547991816% of viewport)
[20:29:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:00] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:00] [INFO] [ReplayManager] Recording frame 2040 (32,9s): player_valid=True, enemies=10
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (197.614, 2030.099) (added to group)
[20:29:00] [INFO] [BloodDecal] Blood puddle created at (225.942, 2043.962) (added to group)
[20:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.1°, player=(93,1483), corner_timer=-0.02
[20:29:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(96,1479), corner_timer=0.30
[20:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(176,1457), corner_timer=-0.02
[20:29:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(180,1459), corner_timer=0.30
[20:29:00] [ENEMY] [Enemy1] Death animation completed
[20:29:00] [ENEMY] [Enemy4] Death animation completed
[20:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(254,1529), corner_timer=-0.02
[20:29:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(256,1533), corner_timer=0.30
[20:29:01] [INFO] [ReplayManager] Recording frame 2100 (33,9s): player_valid=True, enemies=10
[20:29:01] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:01] [ENEMY] [Enemy1] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy4] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy5] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:01] [ENEMY] [Enemy10] Player reloading: false -> true
[20:29:01] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(276.8908, 1571.933), source=PLAYER (Player), range=900, listeners=6
[20:29:01] [ENEMY] [Enemy10] Heard player RELOAD at (276.8908, 1571.933), intensity=0.04, distance=253
[20:29:01] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:29:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:01] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1876), can_see=false
[20:29:01] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2014), can_see=false
[20:29:01] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1495), can_see=false
[20:29:01] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1628), can_see=false
[20:29:01] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1823), can_see=false
[20:29:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-73.2°, current=88.8°, player=(276,1571), corner_timer=0.07
[20:29:01] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=253), can_see=false
[20:29:01] [ENEMY] [Enemy10] Pursuing vulnerability sound at (276.8908, 1571.933), distance=253
[20:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(277,1571), corner_timer=-0.02
[20:29:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(277,1571), corner_timer=0.30
[20:29:01] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:01] [ENEMY] [Enemy4] Player reloading: true -> false
[20:29:01] [ENEMY] [Enemy5] Player reloading: true -> false
[20:29:01] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:01] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:01] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:01] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:01] [ENEMY] [Enemy10] Player reloading: true -> false
[20:29:01] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:01] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(277,1571), corner_timer=-0.02
[20:29:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(277,1571), corner_timer=0.30
[20:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(279,1571), corner_timer=-0.02
[20:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(280,1571), corner_timer=0.30
[20:29:02] [INFO] [ReplayManager] Recording frame 2160 (34,9s): player_valid=True, enemies=10
[20:29:02] [ENEMY] [Enemy10] Pursuing vulnerability sound at (276.8908, 1571.933), distance=97
[20:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(361,1571), corner_timer=-0.02
[20:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(366,1571), corner_timer=0.30
[20:29:02] [INFO] [BloodyFeet:Enemy10] Blood ran out - no more footprints
[20:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(418,1571), corner_timer=-0.02
[20:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,1571), corner_timer=0.30
[20:29:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(411.5226, 1577.933), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[20:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(400,1571), corner_timer=-0.02
[20:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(396,1571), corner_timer=0.30
[20:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.5226, 1577.933), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[20:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(378.5226, 1577.933), shooter_id=1087029383891, bullet_pos=(478.8836, 1585.772)
[20:29:03] [INFO] [Bullet] Using shooter_position, distance=100.666687011719
[20:29:03] [INFO] [Bullet] Distance to wall: 100.666687011719 (6.85457982834279% of viewport)
[20:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:03] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:03] [INFO] [ReplayManager] Recording frame 2220 (35,9s): player_valid=True, enemies=10
[20:29:03] [ENEMY] [Enemy10] Pursuing vulnerability sound at (276.8908, 1571.933), distance=263
[20:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(301.6893, 1577.933), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(296,1571), corner_timer=-0.02
[20:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(301.6893, 1577.933), shooter_id=1087029383891, bullet_pos=(368.6295, 1585.198)
[20:29:03] [INFO] [Bullet] Using shooter_position, distance=67.3333129882813
[20:29:03] [INFO] [Bullet] Distance to wall: 67.3333129882813 (4.58484909641692% of viewport)
[20:29:03] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:29:03] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(290,1571), corner_timer=0.30
[20:29:03] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-175.6°, current=160.7°, player=(290,1571), corner_timer=0.07
[20:29:03] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:29:03] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(411.5226, 1577.933), shooter_id=1087029383891, bullet_pos=(894.7647, 1605.002)
[20:29:03] [INFO] [Bullet] Using shooter_position, distance=483.999633789063
[20:29:03] [INFO] [Bullet] Distance to wall: 483.999633789063 (32.9564250615459% of viewport)
[20:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:03] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:03] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=88.8°, current=124.4°, player=(268,1571), corner_timer=0.07
[20:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.1893, 1577.933), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:03] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[20:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(252.1893, 1577.933), shooter_id=1087029383891, bullet_pos=(352.5331, 1585.99)
[20:29:03] [INFO] [Bullet] Using shooter_position, distance=100.666709899902
[20:29:03] [INFO] [Bullet] Distance to wall: 100.666709899902 (6.85458138684129% of viewport)
[20:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:03] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:03] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(186,1571), corner_timer=-0.02
[20:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(180,1571), corner_timer=0.30
[20:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(175.1893, 1577.925), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(129.5916, 1577.934), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(175.1893, 1577.925), shooter_id=1087029383891, bullet_pos=(359.0305, 1585.565)
[20:29:03] [INFO] [Bullet] Using shooter_position, distance=183.999923706055
[20:29:03] [INFO] [Bullet] Distance to wall: 183.999923706055 (12.5288931511704% of viewport)
[20:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:03] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(129.5916, 1577.934), shooter_id=1087029383891, bullet_pos=(213.2397, 1585.615)
[20:29:03] [INFO] [Bullet] Using shooter_position, distance=83.9999771118164
[20:29:03] [INFO] [Bullet] Distance to wall: 83.9999771118164 (5.71971290388135% of viewport)
[20:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:03] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(99,1572), corner_timer=-0.02
[20:29:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(97,1572), corner_timer=0.30
[20:29:04] [INFO] [ReplayManager] Recording frame 2280 (36,9s): player_valid=True, enemies=10
[20:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1609), corner_timer=-0.02
[20:29:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1614), corner_timer=0.30
[20:29:04] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:29:04] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:29:04] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:29:04] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[20:29:04] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[20:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.36132, 1698.403), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:04] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[20:29:04] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[20:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(98,1697), corner_timer=-0.02
[20:29:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(102,1699), corner_timer=0.30
[20:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(120.7367, 1716.892), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(120.7367, 1716.892), shooter_id=1087029383891, bullet_pos=(171.3371, 1714.3)
[20:29:04] [INFO] [Bullet] Using shooter_position, distance=50.6666679382324
[20:29:04] [INFO] [Bullet] Distance to wall: 50.6666679382324 (3.44998658770126% of viewport)
[20:29:04] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:29:04] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(127.7459, 1721.052), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(127.7459, 1721.052), shooter_id=1087029383891, bullet_pos=(163.0278, 1719.147)
[20:29:05] [INFO] [Bullet] Using shooter_position, distance=35.3333358764648
[20:29:05] [INFO] [Bullet] Distance to wall: 35.3333358764648 (2.40591181210406% of viewport)
[20:29:05] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:29:05] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1715), corner_timer=-0.02
[20:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(93.36132, 1698.403), shooter_id=1087029383891, bullet_pos=(510.6944, 1697.886)
[20:29:05] [INFO] [Bullet] Using shooter_position, distance=417.333374023438
[20:29:05] [INFO] [Bullet] Distance to wall: 417.333374023438 (28.4169968456623% of viewport)
[20:29:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:05] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1715), corner_timer=0.30
[20:29:05] [INFO] [ReplayManager] Recording frame 2340 (37,9s): player_valid=True, enemies=10
[20:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1728), corner_timer=-0.02
[20:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1729), corner_timer=0.30
[20:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1733), corner_timer=-0.02
[20:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1733), corner_timer=0.30
[20:29:05] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[20:29:05] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[20:29:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=160.2°, current=88.8°, player=(127,1733), corner_timer=0.07
[20:29:05] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:05] [ENEMY] [Enemy5] Player reloading: false -> true
[20:29:05] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:05] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:05] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:05] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:05] [ENEMY] [Enemy10] Player reloading: false -> true
[20:29:05] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(127.7459, 1733.052), source=PLAYER (Player), range=900, listeners=6
[20:29:05] [ENEMY] [Enemy10] Heard player RELOAD at (127.7459, 1733.052), intensity=0.01, distance=463
[20:29:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:05] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2094), can_see=false
[20:29:05] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2229), can_see=false
[20:29:05] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1702), can_see=false
[20:29:05] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1795), can_see=false
[20:29:05] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1981), can_see=false
[20:29:05] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=463), can_see=false
[20:29:05] [ENEMY] [Enemy10] Pursuing vulnerability sound at (127.7459, 1733.052), distance=463
[20:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1733), corner_timer=-0.02
[20:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1733), corner_timer=0.30
[20:29:06] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:06] [ENEMY] [Enemy5] Player reloading: true -> false
[20:29:06] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:06] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:06] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:06] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:06] [ENEMY] [Enemy10] Player reloading: true -> false
[20:29:06] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:06] [INFO] [ReplayManager] Recording frame 2400 (38,9s): player_valid=True, enemies=10
[20:29:06] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:06] [INFO] [Player.Reload.Anim] LeftArm: pos=(15.526119, 5.905224), target=(16, 6), base=(16, 6)
[20:29:06] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999995, 6), target=(4, 6), base=(4, 6)
[20:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1733), corner_timer=-0.02
[20:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1733), corner_timer=0.30
[20:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(118,1730), corner_timer=-0.02
[20:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(117,1728), corner_timer=0.30
[20:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=165.3°, current=-145.3°, player=(110,1691), corner_timer=0.07
[20:29:06] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(105.6935, 1685.662), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(93,1664), corner_timer=-0.02
[20:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(91,1662), corner_timer=0.30
[20:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(82.53732, 1664.646), source=PLAYER (MakarovPM), range=1469, listeners=6
[20:29:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[20:29:07] [ENEMY] [Enemy10] Hit: dmg=1, hp=2/2->1/2
[20:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (310.2658, 1636.065), dir=(0.983754, -0.179521), lethal=false
[20:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:07] [INFO] [ImpactEffects] Blood effect spawned at (310.2658, 1636.065) (scale=0.5)
[20:29:07] [INFO] [ReplayManager] Recording frame 2460 (39,9s): player_valid=True, enemies=10
[20:29:07] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:29:07] [ENEMY] [Enemy10] Hit: dmg=1, hp=1/2->0/2
[20:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (314.6607, 1639.094), dir=(0.983934, -0.178535), lethal=true
[20:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:29:07] [INFO] [ImpactEffects] Blood effect spawned at (314.6607, 1639.094) (scale=0.75)
[20:29:07] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:29:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:29:07] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:29:07] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:29:07] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:29:07] [INFO] [PowerFantasy]   - Duration: 300ms
[20:29:07] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 5)
[20:29:07] [INFO] [DeathAnim] Started - Angle: -10.3 deg, Index: 11
[20:29:07] [ENEMY] [Enemy10] Death animation started with hit direction: (0.983934, -0.178535)
[20:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(84.46168, 1675.329), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[20:29:07] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:29:07] [INFO] [PowerFantasy] Ending power fantasy effect
[20:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.4°, player=(91,1678), corner_timer=-0.01
[20:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(94,1681), corner_timer=0.30
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (380.7505, 1617.076) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (370.8766, 1661.285) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (391.8622, 1638.489) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (416.4253, 1630.543) (added to group)
[20:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(84.46168, 1675.329), shooter_id=1087029383891, bullet_pos=(319.9095, 1611.296)
[20:29:07] [INFO] [Bullet] Using shooter_position, distance=244.000030517578
[20:29:07] [INFO] [Bullet] Distance to wall: 244.000030517578 (16.6144107544347% of viewport)
[20:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (391.3824, 1612.05) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (465.2982, 1639.243) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (421.5306, 1630.047) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (389.7001, 1645.878) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (455.4498, 1693.602) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (419.4447, 1686.726) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (490.448, 1652.425) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (408.9165, 1634.755) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (429.4201, 1643.465) (added to group)
[20:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(143,1736), corner_timer=-0.02
[20:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (468.0726, 1656.822) (added to group)
[20:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(143,1737), corner_timer=0.30
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (394.1227, 1650.223) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (440.7711, 1616.255) (added to group)
[20:29:07] [INFO] [BloodDecal] Blood puddle created at (426.4866, 1672.945) (added to group)
[20:29:08] [ENEMY] [Enemy10] Ragdoll activated
[20:29:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (395.3824, 1703.788) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (455.6952, 1724.645) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (454.3032, 1677.197) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (455.5922, 1711.727) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (437.5928, 1719.936) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (480.8859, 1653.423) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (439.095, 1740.877) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (421.7023, 1717.493) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (412.6085, 1668.519) (added to group)
[20:29:08] [INFO] [ReplayManager] Recording frame 2520 (40,6s): player_valid=True, enemies=10
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (462.73, 1781.323) (added to group)
[20:29:08] [INFO] [BloodDecal] Blood puddle created at (443.8821, 1764.538) (added to group)
[20:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(143,1688), corner_timer=-0.02
[20:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(143,1683), corner_timer=0.30
[20:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(166,1628), corner_timer=-0.02
[20:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(170,1628), corner_timer=0.30
[20:29:08] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:08] [ENEMY] [Enemy5] Player reloading: false -> true
[20:29:08] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:08] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:08] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:08] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:08] [ENEMY] [Enemy10] Player reloading: false -> true
[20:29:08] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(234.3512, 1628.065), source=PLAYER (Player), range=900, listeners=5
[20:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[20:29:08] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1945), can_see=false
[20:29:08] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2081), can_see=false
[20:29:08] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1558), can_see=false
[20:29:08] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1675), can_see=false
[20:29:08] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1867), can_see=false
[20:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(237,1628), corner_timer=-0.02
[20:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(237,1628), corner_timer=0.30
[20:29:09] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:09] [ENEMY] [Enemy5] Player reloading: true -> false
[20:29:09] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:09] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:09] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:09] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:09] [ENEMY] [Enemy10] Player reloading: true -> false
[20:29:09] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:09] [ENEMY] [Enemy10] Death animation completed
[20:29:09] [INFO] [ReplayManager] Recording frame 2580 (41,6s): player_valid=True, enemies=10
[20:29:09] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(84.46168, 1675.329), shooter_id=1087029383891, bullet_pos=(890.0893, 1769.306)
[20:29:09] [INFO] [Bullet] Using shooter_position, distance=811.090270996094
[20:29:09] [INFO] [Bullet] Distance to wall: 811.090270996094 (55.2286280156185% of viewport)
[20:29:09] [INFO] [Bullet] Distance-based penetration chance: 82.2332673151118%
[20:29:09] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(239,1628), corner_timer=-0.02
[20:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(240,1628), corner_timer=0.30
[20:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(320,1628), corner_timer=-0.02
[20:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(326,1628), corner_timer=0.30
[20:29:09] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(430,1628), corner_timer=-0.02
[20:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(436,1628), corner_timer=0.30
[20:29:10] [INFO] [ReplayManager] Recording frame 2640 (42,6s): player_valid=True, enemies=10
[20:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(540,1627), corner_timer=-0.02
[20:29:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(545,1627), corner_timer=0.30
[20:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(626,1569), corner_timer=-0.02
[20:29:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(630,1565), corner_timer=0.30
[20:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(704,1491), corner_timer=-0.02
[20:29:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(708,1487), corner_timer=0.30
[20:29:11] [INFO] [ReplayManager] Recording frame 2700 (43,6s): player_valid=True, enemies=10
[20:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(761,1405), corner_timer=-0.02
[20:29:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(761,1399), corner_timer=0.30
[20:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(726,1309), corner_timer=-0.02
[20:29:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(722,1306), corner_timer=0.30
[20:29:11] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(648,1232), corner_timer=-0.02
[20:29:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(644,1228), corner_timer=0.30
[20:29:12] [INFO] [ReplayManager] Recording frame 2760 (44,6s): player_valid=True, enemies=10
[20:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(570,1154), corner_timer=-0.02
[20:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(566,1150), corner_timer=0.30
[20:29:12] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[20:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(493,1076), corner_timer=-0.02
[20:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(489,1072), corner_timer=0.30
[20:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(474,974), corner_timer=-0.02
[20:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(474,968), corner_timer=0.30
[20:29:13] [INFO] [ReplayManager] Recording frame 2820 (45,6s): player_valid=True, enemies=10
[20:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(474,864), corner_timer=-0.02
[20:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(474,858), corner_timer=0.30
[20:29:13] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(490,774), corner_timer=-0.02
[20:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(493,770), corner_timer=0.30
[20:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(564,696), corner_timer=-0.02
[20:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(568,692), corner_timer=0.30
[20:29:14] [INFO] [ReplayManager] Recording frame 2880 (46,6s): player_valid=True, enemies=10
[20:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(641,618), corner_timer=-0.02
[20:29:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(645,614), corner_timer=0.30
[20:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(719,540), corner_timer=-0.02
[20:29:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(723,536), corner_timer=0.30
[20:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(812,498), corner_timer=-0.02
[20:29:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(817,498), corner_timer=0.30
[20:29:15] [INFO] [ReplayManager] Recording frame 2940 (47,6s): player_valid=True, enemies=10
[20:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(922,498), corner_timer=-0.02
[20:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(927,498), corner_timer=0.30
[20:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1032,498), corner_timer=-0.02
[20:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1037,498), corner_timer=0.30
[20:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1130,470), corner_timer=-0.02
[20:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1134,466), corner_timer=0.30
[20:29:16] [INFO] [ReplayManager] Recording frame 3000 (48,6s): player_valid=True, enemies=10
[20:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1208,392), corner_timer=-0.02
[20:29:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1212,388), corner_timer=0.30
[20:29:16] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1286,314), corner_timer=-0.02
[20:29:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1290,310), corner_timer=0.30
[20:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,239), corner_timer=-0.02
[20:29:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,237), corner_timer=0.30
[20:29:17] [INFO] [ReplayManager] Recording frame 3060 (49,6s): player_valid=True, enemies=10
[20:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,227), corner_timer=-0.02
[20:29:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,227), corner_timer=0.30
[20:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,182), corner_timer=-0.02
[20:29:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,176), corner_timer=0.30
[20:29:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1346.158, 122.9208), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:17] [ENEMY] [Enemy5] Heard gunshot at (1346.158, 122.9208), source_type=0, intensity=0.01, distance=420
[20:29:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:29:17] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-146.6°, current=11.3°, player=(1346,116), corner_timer=0.00
[20:29:17] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-150.1°, current=-168.8°, player=(1340,99), corner_timer=0.00
[20:29:17] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[20:29:17] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-149.7°, current=47.1°, player=(1336,92), corner_timer=0.00
[20:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1331,85), corner_timer=-0.02
[20:29:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1328,82), corner_timer=0.30
[20:29:17] [ENEMY] [Enemy7] Memory: high confidence (0.89) - transitioning to PURSUING
[20:29:17] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:29:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-109.5°, current=89.4°, player=(1321,80), corner_timer=0.28
[20:29:18] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-150.4°, current=-150.8°, player=(1314,80), corner_timer=0.00
[20:29:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1305.562, 86.3982), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[20:29:18] [INFO] [ReplayManager] Recording frame 3120 (50,6s): player_valid=True, enemies=10
[20:29:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1258.448, 115.1786), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[20:29:18] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:29:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1346.158, 122.9208), shooter_id=1087029383891, bullet_pos=(1847.851, 305.8465)
[20:29:18] [INFO] [Bullet] Using shooter_position, distance=534.001220703125
[20:29:18] [INFO] [Bullet] Distance to wall: 534.001220703125 (36.3611250593353% of viewport)
[20:29:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:18] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:18] [ENEMY] [Enemy7] PURSUING corner check: angle -2.7°
[20:29:18] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[20:29:18] [ENEMY] [Enemy5] Hit: dmg=1, hp=4/4->3/4
[20:29:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.688, 255.0583), dir=(0.932607, 0.360894), lethal=false
[20:29:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:18] [INFO] [ImpactEffects] Blood effect spawned at (1684.688, 255.0583) (scale=0.5)
[20:29:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1245.054, 177.5297), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:29:18] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[20:29:18] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:29:18] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:29:18] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-179.7°, current=-171.0°, player=(1249,186), corner_timer=0.00
[20:29:18] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:29:18] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:29:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1245.054, 177.5297), shooter_id=1087029383891, bullet_pos=(1374.121, 213.5539)
[20:29:18] [INFO] [Bullet] Using shooter_position, distance=134.000030517578
[20:29:18] [INFO] [Bullet] Distance to wall: 134.000030517578 (9.12430848227064% of viewport)
[20:29:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:18] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:18] [ENEMY] [Enemy5] Hit: dmg=1, hp=3/4->2/4
[20:29:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1659.665, 251.9674), dir=(0.938758, 0.344577), lethal=false
[20:29:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:18] [INFO] [ImpactEffects] Blood effect spawned at (1659.665, 251.9674) (scale=0.5)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1729.024, 312.3009) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1779.373, 319.4993) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1737.622, 277.7135) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1739.162, 276.5244) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1740.751, 290.395) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1744.117, 333.9021) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1727.57, 296.0572) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1721.821, 285.2639) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1783.788, 341.9265) (added to group)
[20:29:18] [INFO] [BloodDecal] Blood puddle created at (1719.885, 308.9396) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1837.406, 332.2149) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1781.909, 407.6922) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1756.814, 352.5533) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1744.611, 294.1823) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1786.765, 392.6662) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1816.147, 488.4182) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1761.044, 386.5282) (added to group)
[20:29:19] [INFO] [ReplayManager] Recording frame 3180 (51,6s): player_valid=True, enemies=10
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1746.314, 382.3588) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1763.915, 408.8944) (added to group)
[20:29:19] [INFO] [BloodDecal] Blood puddle created at (1773.032, 475.0124) (added to group)
[20:29:19] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=-170.3°, current=-159.8°, player=(1347,198), corner_timer=0.00
[20:29:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1659.665, 251.9674), source=ENEMY (Enemy5), range=1469, listeners=5
[20:29:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[20:29:19] [ENEMY] [Enemy7] FLANKING started: target=(1201.468, 306.6142), side=right, pos=(1514.725, 838.6094)
[20:29:19] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:29:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1343.316, 168.3243), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:29:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1659.665, 251.9674), source=ENEMY (Enemy5), range=1469, listeners=5
[20:29:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[20:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1591.6069, 243.71452), shooter_id=1084378583605, bullet_pos=(1383.7957, 228.97575)
[20:29:20] [INFO] [Bullet] Using shooter_position, distance=208,33328
[20:29:20] [INFO] [Bullet] Distance to wall: 208,33328 (14,185797% of viewport)
[20:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:20] [INFO] [Bullet] Starting wall penetration at (1383.7957, 228.97575)
[20:29:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,821232
[20:29:20] [INFO] [Bullet] Body exited signal received for penetrating body
[20:29:20] [INFO] [Bullet] Exiting penetration at (1337.246, 225.67427) after traveling 41,66667 pixels through wall
[20:29:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:29:20] [INFO] [LastChance] Threat detected: @Area2D@3065
[20:29:20] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1659.665, 251.9674), source=ENEMY (Enemy5), range=1469, listeners=5
[20:29:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[20:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1319.985, 136.1949), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1659.665, 251.9674), source=ENEMY (Enemy5), range=1469, listeners=5
[20:29:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[20:29:20] [INFO] [LastChance] Threat detected: Bullet
[20:29:20] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:20] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:29:20] [INFO] [ReplayManager] Recording frame 3240 (52,6s): player_valid=True, enemies=10
[20:29:20] [INFO] [Player] Spawning blood effect at (1304.3633, 122.70968), dir=(1, 0), lethal=False (C#)
[20:29:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1304.363, 122.7097), dir=(1, 0), lethal=false
[20:29:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:20] [INFO] [ImpactEffects] Blood effect spawned at (1304.363, 122.7097) (scale=1)
[20:29:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:29:20] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:29:20] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/4->1/4
[20:29:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1654.969, 249.4015), dir=(0.959954, 0.280157), lethal=false
[20:29:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:20] [INFO] [ImpactEffects] Blood effect spawned at (1654.969, 249.4015) (scale=0.5)
[20:29:20] [ENEMY] [Enemy7] FLANKING corner check: angle 81.6°
[20:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1593.254, 236.44414), shooter_id=1084378583605, bullet_pos=(1319.0929, 46.847088)
[20:29:20] [INFO] [Bullet] Using shooter_position, distance=333,3337
[20:29:20] [INFO] [Bullet] Distance to wall: 333,3337 (22,697306% of viewport)
[20:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1592.2366, 240.11316), shooter_id=1084378583605, bullet_pos=(949.9457, 61.485477)
[20:29:20] [INFO] [Bullet] Using shooter_position, distance=666,6674
[20:29:20] [INFO] [Bullet] Distance to wall: 666,6674 (45,39461% of viewport)
[20:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1260.441, 134.9955), source=PLAYER (MakarovPM), range=1469, listeners=5
[20:29:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[20:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1593.254, 236.44414), shooter_id=1084378583605, bullet_pos=(1107.638, 242.8649)
[20:29:20] [INFO] [Bullet] Using shooter_position, distance=485,65854
[20:29:20] [INFO] [Bullet] Distance to wall: 485,65854 (33,069386% of viewport)
[20:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:20] [INFO] [Bullet] Starting wall penetration at (1107.638, 242.8649)
[20:29:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:29:20] [INFO] [Bullet] Exiting penetration at (1077.9976, 270.3414) after traveling 35,41667 pixels through wall
[20:29:20] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:29:20] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/4->0/4
[20:29:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1654.969, 249.4015), dir=(0.941217, 0.337802), lethal=true
[20:29:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:29:20] [INFO] [ImpactEffects] Blood effect spawned at (1654.969, 249.4015) (scale=0.75)
[20:29:20] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[20:29:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:29:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:29:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:29:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:29:20] [INFO] [PowerFantasy]   - Duration: 300ms
[20:29:20] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[20:29:20] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[20:29:20] [INFO] [DeathAnim] Started - Angle: 19.7 deg, Index: 13
[20:29:20] [ENEMY] [Enemy5] Death animation started with hit direction: (0.941217, 0.337802)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1371.449, 102.9161) (added to group)
[20:29:20] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:29:20] [INFO] [PowerFantasy] Ending power fantasy effect
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1383.14, 162.5212) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1702.421, 287.3656) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1708.164, 288.9608) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1395.327, 154.458) (added to group)
[20:29:20] [ENEMY] [Enemy7] FLANKING corner check: angle 94.0°
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1401.456, 183.1174) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1402.213, 193.2839) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1447.591, 140.8523) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1759.922, 297.0801) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1762.551, 327.7938) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1711.136, 323.4731) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1734.527, 264.735) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1701.502, 273.3542) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1699.217, 288.9668) (added to group)
[20:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1592.2366, 240.11316), shooter_id=1084378583605, bullet_pos=(50.894165, 232.6934)
[20:29:20] [INFO] [Bullet] Using shooter_position, distance=1541,3602
[20:29:20] [INFO] [Bullet] Distance to wall: 1541,3602 (104,954056% of viewport)
[20:29:20] [INFO] [Bullet] Distance-based penetration chance: 29,00919%
[20:29:20] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1745.708, 284.3128) (added to group)
[20:29:20] [INFO] [BloodDecal] Blood puddle created at (1704.832, 311.8667) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1412.81, 185.6394) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1789.133, 318.9543) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1723.497, 300.7756) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1694.621, 314.3853) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1391.756, 163.2578) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1749.353, 394.4686) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1783.554, 293.432) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1746.781, 293.7042) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1755.596, 319.321) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1743.855, 369.9762) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1414.537, 178.6921) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1779.532, 350.9706) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1757.738, 366.534) (added to group)
[20:29:21] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1766.509, 381.8093) (added to group)
[20:29:21] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1426.783, 201.1376) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1772.534, 378.0938) (added to group)
[20:29:21] [ENEMY] [Enemy7] FLANKING corner check: angle 40.5°
[20:29:21] [ENEMY] [Enemy5] Ragdoll activated
[20:29:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1818.711, 307.8775) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1741.524, 334.9559) (added to group)
[20:29:21] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:21] [INFO] [ReplayManager] Recording frame 3300 (53,4s): player_valid=True, enemies=10
[20:29:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1260.441, 134.9955), shooter_id=1087029383891, bullet_pos=(1846.805, 311.4236)
[20:29:21] [INFO] [Bullet] Using shooter_position, distance=612.331237792969
[20:29:21] [INFO] [Bullet] Distance to wall: 612.331237792969 (41.6947599591833% of viewport)
[20:29:21] [INFO] [Bullet] Distance-based penetration chance: 98.0227800476194%
[20:29:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1740.477, 377.0647) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1823.391, 336.4527) (added to group)
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1782.836, 313.0496) (added to group)
[20:29:21] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:21] [ENEMY] [Enemy5] Player reloading: false -> true
[20:29:21] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:21] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:21] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:21] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:21] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1226.659, 324.6432), source=PLAYER (Player), range=900, listeners=4
[20:29:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1742.738, 354.6421) (added to group)
[20:29:21] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=579), can_see=false
[20:29:21] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=743), can_see=false
[20:29:21] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1311), can_see=false
[20:29:21] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1505), can_see=false
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1750.052, 337.4598) (added to group)
[20:29:21] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[20:29:21] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:29:21] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:29:21] [INFO] [BloodDecal] Blood puddle created at (1827.63, 495.549) (added to group)
[20:29:21] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.922406, 2.0182486), target=(-4, 2), base=(16, 6)
[20:29:21] [INFO] [Player.Reload.Anim] RightArm: pos=(4.013649, 6), target=(4, 6), base=(4, 6)
[20:29:21] [ENEMY] [Enemy7] FLANKING corner check: angle 103.1°
[20:29:21] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:21] [ENEMY] [Enemy5] Player reloading: true -> false
[20:29:21] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:21] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:21] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:21] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:21] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:21] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:22] [ENEMY] [Enemy5] Death animation completed
[20:29:22] [INFO] [ReplayManager] Recording frame 3360 (54,4s): player_valid=True, enemies=10
[20:29:22] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-124.1°, current=-123.0°, player=(1200,358), corner_timer=-0.02
[20:29:22] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:29:22] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-127.1°, current=-91.0°, player=(1179,356), corner_timer=-0.02
[20:29:22] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-130.0°, current=-108.5°, player=(1161,364), corner_timer=-0.02
[20:29:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1123.703, 406.4225), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1088.702, 441.4244), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1123.703, 406.4225), shooter_id=1087029383891, bullet_pos=(1362.969, 559.4199)
[20:29:23] [INFO] [Bullet] Using shooter_position, distance=284
[20:29:23] [INFO] [Bullet] Distance to wall: 284 (19.3380822299509% of viewport)
[20:29:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:23] [INFO] [ReplayManager] Recording frame 3420 (55,4s): player_valid=True, enemies=10
[20:29:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1030.367, 499.7609), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:23] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:29:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1088.702, 441.4244), shooter_id=1087029383891, bullet_pos=(1374.534, 614.2156)
[20:29:23] [INFO] [Bullet] Using shooter_position, distance=334.000762939453
[20:29:23] [INFO] [Bullet] Distance to wall: 334.000762939453 (22.742726121794% of viewport)
[20:29:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(970.1138, 526.9141), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1030.367, 499.7609), shooter_id=1087029383891, bullet_pos=(1365.794, 686.698)
[20:29:23] [INFO] [Bullet] Using shooter_position, distance=384.0009765625
[20:29:23] [INFO] [Bullet] Distance to wall: 384.0009765625 (26.1473326096728% of viewport)
[20:29:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1030.367, 499.7609), shooter_id=1087029383891, bullet_pos=(1365.794, 686.698)
[20:29:23] [INFO] [Bullet] Using shooter_position, distance=384.0009765625
[20:29:23] [INFO] [Bullet] Distance to wall: 384.0009765625 (26.1473326096728% of viewport)
[20:29:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(909.9261, 567.5032), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:23] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[20:29:23] [ENEMY] [Enemy7] Hit: dmg=1, hp=4/4->3/4
[20:29:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1234.242, 657.512), dir=(0.91074, 0.412981), lethal=false
[20:29:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:23] [INFO] [ImpactEffects] Wall found for blood splatter at (1301.477, 688) (dist=73 px)
[20:29:23] [INFO] [BloodDecal] Blood puddle created at (1301.477, 687) (added to group)
[20:29:23] [INFO] [ImpactEffects] Blood effect spawned at (1234.242, 657.512) (scale=0.5)
[20:29:23] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[20:29:23] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:23] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.9459, 624.6294), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.9459, 624.6294), shooter_id=1087029383891, bullet_pos=(923.6896, 651.4902)
[20:29:24] [INFO] [Bullet] Using shooter_position, distance=67.3333740234375
[20:29:24] [INFO] [Bullet] Distance to wall: 67.3333740234375 (4.58485325241295% of viewport)
[20:29:24] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:29:24] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(909.9261, 567.5032), shooter_id=1087029383891, bullet_pos=(1184.638, 689.7059)
[20:29:24] [INFO] [Bullet] Using shooter_position, distance=300.666137695313
[20:29:24] [INFO] [Bullet] Distance to wall: 300.666137695313 (20.4729101919497% of viewport)
[20:29:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:24] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:24] [INFO] [ReplayManager] Recording frame 3480 (56,4s): player_valid=True, enemies=10
[20:29:25] [INFO] [ReplayManager] Recording frame 3540 (57,4s): player_valid=True, enemies=10
[20:29:25] [ENEMY] [Enemy6] PURSUING corner check: angle 118.9°
[20:29:25] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:25] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:25] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:25] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:25] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:25] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(895.935, 689.731), source=PLAYER (Player), range=900, listeners=4
[20:29:25] [ENEMY] [Enemy7] Heard player RELOAD at (895.935, 689.731), intensity=0.02, distance=371
[20:29:25] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:29:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[20:29:25] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=951), can_see=false
[20:29:25] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=172.4°, current=-174.2°, player=(895,689), corner_timer=-0.02
[20:29:25] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=true (dist=371), can_see=false
[20:29:25] [ENEMY] [Enemy7] Pursuing vulnerability sound at (895.935, 689.731), distance=371
[20:29:25] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1259), can_see=false
[20:29:25] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1480), can_see=false
[20:29:25] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:25] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:25] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:25] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:25] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:25] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:25] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.6287594, 4.3256974), target=(16, 6), base=(16, 6)
[20:29:25] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9997282, 6), target=(4, 6), base=(4, 6)
[20:29:25] [ENEMY] [Enemy6] PURSUING corner check: angle 118.9°
[20:29:25] [INFO] [ScoreManager] Combo ended at 1. Max combo: 2
[20:29:25] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:26] [INFO] [ReplayManager] Recording frame 3600 (58,4s): player_valid=True, enemies=10
[20:29:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.8626, 589.5663), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:26] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-166.3°, current=-163.7°, player=(841,581), corner_timer=-0.02
[20:29:26] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[20:29:26] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:29:26] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=97.4°, current=172.7°, player=(826,576), corner_timer=-0.02
[20:29:26] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:26] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:26] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(760.1475, 588.0178), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(845.8626, 589.5663), shooter_id=1087029383891, bullet_pos=(1361.47, 547.3391)
[20:29:26] [INFO] [Bullet] Using shooter_position, distance=517.333740234375
[20:29:26] [INFO] [Bullet] Distance to wall: 517.333740234375 (35.226205665424% of viewport)
[20:29:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:26] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(704.0238, 638.4177), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(704.0238, 638.4177), shooter_id=1087029383891, bullet_pos=(919.6597, 611.3069)
[20:29:26] [INFO] [Bullet] Using shooter_position, distance=217.333480834961
[20:29:26] [INFO] [Bullet] Distance to wall: 217.333480834961 (14.7986363510843% of viewport)
[20:29:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:26] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(760.1475, 588.0178), shooter_id=1087029383891, bullet_pos=(1375.268, 535.7902)
[20:29:27] [INFO] [Bullet] Using shooter_position, distance=617.334045410156
[20:29:27] [INFO] [Bullet] Distance to wall: 617.334045410156 (42.0354103291897% of viewport)
[20:29:27] [INFO] [Bullet] Distance-based penetration chance: 97.6253546159454%
[20:29:27] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:27] [ENEMY] [Enemy6] Warning: No valid flank position (both sides behind walls)
[20:29:27] [ENEMY] [Enemy6] FLANKING started: target=(828.2484, 849.7514), side=right, pos=(1700.977, 316.6638)
[20:29:27] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[20:29:27] [INFO] [ReplayManager] Recording frame 3660 (59,4s): player_valid=True, enemies=10
[20:29:27] [ENEMY] [Enemy6] FLANKING corner check: angle 82.5°
[20:29:27] [ENEMY] [Enemy6] FLANKING corner check: angle -89.0°
[20:29:28] [ENEMY] [Enemy6] FLANKING corner check: angle 122.1°
[20:29:28] [INFO] [ReplayManager] Recording frame 3720 (60,4s): player_valid=True, enemies=10
[20:29:28] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=143.0°, current=125.7°, player=(657,728), corner_timer=0.03
[20:29:28] [ENEMY] [Enemy6] State: FLANKING -> COMBAT
[20:29:29] [INFO] [ReplayManager] Recording frame 3780 (61,4s): player_valid=True, enemies=10
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1193.101, 315.3775), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1162.607, 336.2636), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:29] [INFO] [LastChance] Threat detected: Bullet
[20:29:29] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:29] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[20:29:29] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1128.421, 349.6968), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:29] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[20:29:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=163.1°, current=160.2°, player=(657,728), corner_timer=-0.02
[20:29:29] [INFO] [Player] Spawning blood effect at (657.74365, 728.2511), dir=(1, 0), lethal=False (C#)
[20:29:29] [INFO] [ImpactEffects] spawn_blood_effect called at (657.7437, 728.2511), dir=(1, 0), lethal=false
[20:29:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:29] [INFO] [ImpactEffects] Blood effect spawned at (657.7437, 728.2511) (scale=1)
[20:29:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[20:29:29] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[20:29:29] [INFO] [LastChance] Threat detected: @Area2D@3232
[20:29:29] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.553, 355.7114), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:29] [INFO] [Player] Spawning blood effect at (657.74365, 728.2511), dir=(1, 0), lethal=False (C#)
[20:29:29] [INFO] [ImpactEffects] spawn_blood_effect called at (657.7437, 728.2511), dir=(1, 0), lethal=false
[20:29:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:29] [INFO] [ImpactEffects] Blood effect spawned at (657.7437, 728.2511) (scale=1)
[20:29:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[20:29:29] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[20:29:29] [INFO] [LastChance] Threat detected: @Area2D@3236
[20:29:29] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:29] [INFO] [Player] Spawning blood effect at (657.74365, 728.2511), dir=(1, 0), lethal=False (C#)
[20:29:29] [INFO] [ImpactEffects] spawn_blood_effect called at (657.7437, 728.2511), dir=(1, 0), lethal=false
[20:29:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:29] [INFO] [ImpactEffects] Blood effect spawned at (657.7437, 728.2511) (scale=1)
[20:29:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[20:29:29] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1175.078, 370.5309), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.7437, 734.2511), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (739.8035, 727.786) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (718.0306, 723.4762) (added to group)
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1196.604, 385.3503), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1104.1584, 402.5816), shooter_id=1084730905162, bullet_pos=(691.3157, 814.69635)
[20:29:29] [INFO] [Bullet] Using shooter_position, distance=583,3333
[20:29:29] [INFO] [Bullet] Distance to wall: 583,3333 (39,72024% of viewport)
[20:29:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:29] [INFO] [BloodyFeet:Enemy6] Blood ran out - no more footprints
[20:29:29] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.7437, 734.2511), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=2
[20:29:29] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:29] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (722.1728, 782.9641) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (726.0933, 767.3055) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (743.349, 719.5836) (added to group)
[20:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1218.13, 400.1697), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (715.5724, 713.3728) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (741.7714, 797.9198) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (710.4867, 742.4136) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (739.4321, 767.6896) (added to group)
[20:29:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1104.1584, 402.5816), shooter_id=1084730905162, bullet_pos=(516.4717, 585.42413)
[20:29:29] [INFO] [Bullet] Using shooter_position, distance=615,4731
[20:29:29] [INFO] [Bullet] Distance to wall: 615,4731 (41,908695% of viewport)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (765.3417, 745.3335) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (740.0425, 732.412) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (740.0837, 730.1166) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (732.2629, 785.6753) (added to group)
[20:29:29] [INFO] [BloodDecal] Blood puddle created at (742.3738, 784.0074) (added to group)
[20:29:30] [INFO] [LastChance] Threat detected: @Area2D@3248
[20:29:30] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (737.7424, 751.2037) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1123.8768, 415.41803), shooter_id=1084730905162, bullet_pos=(518.54175, 925.61975)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=791,6668
[20:29:30] [INFO] [Bullet] Distance to wall: 791,6668 (53,90605% of viewport)
[20:29:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1239.655, 414.9892), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (762.0504, 779.2958) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (718.7488, 756.3688) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1163.0077, 440.17432), shooter_id=1084730905162, bullet_pos=(918.8978, 599.79816)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=291,66656
[20:29:30] [INFO] [Bullet] Distance to wall: 291,66656 (19,860113% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [Player] Spawning blood effect at (590.41034, 728.2511), dir=(1, 0), lethal=False (C#)
[20:29:30] [INFO] [ImpactEffects] spawn_blood_effect called at (590.4103, 728.2511), dir=(1, 0), lethal=false
[20:29:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:30] [INFO] [ImpactEffects] Blood effect spawned at (590.4103, 728.2511) (scale=1)
[20:29:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[20:29:30] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[20:29:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.9103, 734.2511), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1123.8768, 415.41803), shooter_id=1084730905162, bullet_pos=(644.0674, 1001.4778)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=757,4187
[20:29:30] [INFO] [Bullet] Distance to wall: 757,4187 (51,57403% of viewport)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (811.5118, 791.4647) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (769.0515, 793.9323) (added to group)
[20:29:30] [INFO] [ReplayManager] Recording frame 3840 (62,4s): player_valid=True, enemies=10
[20:29:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1261.181, 429.8086), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (863.8374, 732.2748) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (786.1405, 780.6417) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (894.64, 908.1606) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (837.9048, 764.9344) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (756.1334, 805.7332) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (818.0576, 772.3346) (added to group)
[20:29:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1282.706, 444.6281), source=ENEMY (Enemy6), range=1469, listeners=4
[20:29:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (791.5397, 810.4408) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (778.4772, 818.7582) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1123.8768, 415.41803), shooter_id=1084730905162, bullet_pos=(920.55853, 761.28735)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=401,2031
[20:29:30] [INFO] [Bullet] Distance to wall: 401,2031 (27,318657% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(516.9821, 742.874), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1163.0077, 440.17432), shooter_id=1084730905162, bullet_pos=(517.1669, 244.58525)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=674,80774
[20:29:30] [INFO] [Bullet] Distance to wall: 674,80774 (45,948902% of viewport)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1104.1584, 402.5816), shooter_id=1084730905162, bullet_pos=(851.9666, 43.71309)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=438,6198
[20:29:30] [INFO] [Bullet] Distance to wall: 438,6198 (29,86643% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (636.275, 747.1879) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (861.2649, 885.4315) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (664.4342, 717.9771) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1182.3506, 451.80377), shooter_id=1084730905162, bullet_pos=(522.16675, 807.69476)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=750,00073
[20:29:30] [INFO] [Bullet] Distance to wall: 750,00073 (51,06893% of viewport)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (654.8086, 744.8558) (added to group)
[20:29:30] [INFO] [LastChance] Threat detected: @Area2D@3294
[20:29:30] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1182.3506, 451.80377), shooter_id=1084730905162, bullet_pos=(692.7343, 871.4213)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=644,8279
[20:29:30] [INFO] [Bullet] Distance to wall: 644,8279 (43,907516% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 95,44123%
[20:29:30] [INFO] [Bullet] Starting wall penetration at (692.7343, 871.4213)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1104.1584, 402.5816), shooter_id=1084730905162, bullet_pos=(990.82324, 200.86403)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=231,37599
[20:29:30] [INFO] [Bullet] Distance to wall: 231,37599 (15,754817% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [Bullet] Starting wall penetration at (990.82324, 200.86403)
[20:29:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:29:30] [INFO] [Bullet] Exiting penetration at (1011.0772, 223.78642) after traveling 25,588541 pixels through wall
[20:29:30] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[20:29:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:29:30] [INFO] [Bullet] Exiting penetration at (730.59485, 885.5666) after traveling 35,416668 pixels through wall
[20:29:30] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1163.0077, 440.17432), shooter_id=1084730905162, bullet_pos=(766.7219, 67.43071)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=544,0406
[20:29:30] [INFO] [Bullet] Distance to wall: 544,0406 (37,044724% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (719.3934, 719.6457) (added to group)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (698.1494, 754.2745) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.7437, 734.2511), shooter_id=1087029383891, bullet_pos=(1369.888, 268.973)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=850.666198730469
[20:29:30] [INFO] [Bullet] Distance to wall: 850.666198730469 (57.9234257087662% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 79.0893366731061%
[20:29:30] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:30] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=122.1°, current=163.1°, player=(445,749), corner_timer=0.03
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (673.9153, 787.6874) (added to group)
[20:29:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.4878, 758.5799), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[20:29:30] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (735.2175, 724.48) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1123.8768, 415.41803), shooter_id=1084730905162, bullet_pos=(526.6621, 513.0474)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=605,1421
[20:29:30] [INFO] [Bullet] Distance to wall: 605,1421 (41,20524% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 98,59389%
[20:29:30] [INFO] [Bullet] Starting wall penetration at (526.6621, 513.0474)
[20:29:30] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:29:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:29:30] [INFO] [Bullet] Exiting penetration at (500.78394, 496.7386) after traveling 25,588543 pixels through wall
[20:29:30] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1222.2843, 476.00067), shooter_id=1084730905162, bullet_pos=(416.2174, 687.42645)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=833,3335
[20:29:30] [INFO] [Bullet] Distance to wall: 833,3335 (56,74321% of viewport)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1163.0077, 440.17432), shooter_id=1084730905162, bullet_pos=(986.45135, 208.07324)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=291,6214
[20:29:30] [INFO] [Bullet] Distance to wall: 291,6214 (19,857038% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1202.0348, 463.56998), shooter_id=1084730905162, bullet_pos=(59.610477, 970.8838)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=1250,0002
[20:29:30] [INFO] [Bullet] Distance to wall: 1250,0002 (85,11482% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 47,366047%
[20:29:30] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:30] [INFO] [BloodDecal] Blood puddle created at (678.2305, 778.0125) (added to group)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.7437, 734.2511), shooter_id=1087029383891, bullet_pos=(1364.119, 252.7055)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=867.334106445313
[20:29:30] [INFO] [Bullet] Distance to wall: 867.334106445313 (59.0583741946495% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 77.7652301062422%
[20:29:30] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1222.2843, 476.00067), shooter_id=1084730905162, bullet_pos=(57.09498, 523.9421)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=1166,1752
[20:29:30] [INFO] [Bullet] Distance to wall: 1166,1752 (79,40701% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 54,025154%
[20:29:30] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1163.0077, 440.17432), shooter_id=1084730905162, bullet_pos=(1186.0505, 67.291885)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=373,59375
[20:29:30] [INFO] [Bullet] Distance to wall: 373,59375 (25,438686% of viewport)
[20:29:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.9103, 734.2511), shooter_id=1087029383891, bullet_pos=(1372.875, 298.0028)
[20:29:30] [INFO] [Bullet] Using shooter_position, distance=900.667236328125
[20:29:30] [INFO] [Bullet] Distance to wall: 900.667236328125 (61.3280883025913% of viewport)
[20:29:30] [INFO] [Bullet] Distance-based penetration chance: 75.1172303136435%
[20:29:30] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1163.0077, 440.17432), shooter_id=1084730905162, bullet_pos=(1372.778, 226.43016)
[20:29:31] [INFO] [Bullet] Using shooter_position, distance=299,4831
[20:29:31] [INFO] [Bullet] Distance to wall: 299,4831 (20,392355% of viewport)
[20:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:31] [INFO] [Bullet] Starting wall penetration at (1372.778, 226.43016)
[20:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,4874816
[20:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,97525
[20:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[20:29:31] [INFO] [Bullet] Exiting penetration at (1404.7252, 253.65723) after traveling 36,975445 pixels through wall
[20:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[20:29:31] [INFO] [ReplayManager] Recording frame 3900 (63,4s): player_valid=True, enemies=10
[20:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(516.9821, 742.874), shooter_id=1087029383891, bullet_pos=(1363.038, 273.9133)
[20:29:31] [INFO] [Bullet] Using shooter_position, distance=967.33349609375
[20:29:31] [INFO] [Bullet] Distance to wall: 967.33349609375 (65.8675165184749% of viewport)
[20:29:31] [INFO] [Bullet] Distance-based penetration chance: 69.821230728446%
[20:29:31] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.4878, 758.5799), shooter_id=1087029383891, bullet_pos=(1376.062, 329.071)
[20:29:31] [INFO] [Bullet] Using shooter_position, distance=1034.00061035156
[20:29:31] [INFO] [Bullet] Distance to wall: 1034.00061035156 (70.4070029183027% of viewport)
[20:29:31] [INFO] [Bullet] Distance-based penetration chance: 64.5251632619802%
[20:29:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:31] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:31] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:31] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:31] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:31] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:31] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(483.9945, 897.9338), source=PLAYER (Player), range=900, listeners=4
[20:29:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[20:29:31] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=942), can_see=false
[20:29:31] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=556), can_see=false
[20:29:31] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1520), can_see=false
[20:29:31] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1743), can_see=false
[20:29:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:31] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:31] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:31] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:31] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:31] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:32] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:32] [INFO] [Player.Reload.Anim] LeftArm: pos=(15.527018, 5.9054046), target=(16, 6), base=(16, 6)
[20:29:32] [INFO] [Player.Reload.Anim] RightArm: pos=(4.0000057, 6), target=(4, 6), base=(4, 6)
[20:29:32] [INFO] [ReplayManager] Recording frame 3960 (64,4s): player_valid=True, enemies=10
[20:29:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.6745, 804.5141), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[20:29:32] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[20:29:32] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[20:29:32] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=163.4°, current=122.1°, player=(390,772), corner_timer=0.03
[20:29:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.1636, 778.2031), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[20:29:33] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[20:29:33] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[20:29:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.1636, 785.2031), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[20:29:33] [INFO] [ReplayManager] Recording frame 4020 (65,4s): player_valid=True, enemies=10
[20:29:33] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[20:29:33] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.4754, 825.4915), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[20:29:33] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.6745, 804.5141), shooter_id=1087029383891, bullet_pos=(1374.56, 366.2282)
[20:29:33] [INFO] [Bullet] Using shooter_position, distance=1050.66723632813
[20:29:33] [INFO] [Bullet] Distance to wall: 1050.66723632813 (71.5418641282696% of viewport)
[20:29:33] [INFO] [Bullet] Distance-based penetration chance: 63.2011585170188%
[20:29:33] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:33] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[20:29:33] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=122.1°, current=155.6°, player=(481,880), corner_timer=0.03
[20:29:33] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:29:33] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:29:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(390.1636, 778.2031), shooter_id=1087029383891, bullet_pos=(1365.538, 344.7925)
[20:29:33] [INFO] [Bullet] Using shooter_position, distance=1067.33349609375
[20:29:33] [INFO] [Bullet] Distance to wall: 1067.33349609375 (72.6767004022604% of viewport)
[20:29:33] [INFO] [Bullet] Distance-based penetration chance: 61.8771828640295%
[20:29:33] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(390.1636, 785.2031), shooter_id=1087029383891, bullet_pos=(1364.389, 349.212)
[20:29:34] [INFO] [Bullet] Using shooter_position, distance=1067.33471679688
[20:29:34] [INFO] [Bullet] Distance to wall: 1067.33471679688 (72.6767835221809% of viewport)
[20:29:34] [INFO] [Bullet] Distance-based penetration chance: 61.877085890789%
[20:29:34] [INFO] [Bullet] Penetration failed (distance roll)
[20:29:34] [INFO] [ReplayManager] Recording frame 4080 (66,4s): player_valid=True, enemies=10
[20:29:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(393.4754, 825.4915), shooter_id=1087029383891, bullet_pos=(1367.458, 388.9577)
[20:29:34] [INFO] [Bullet] Using shooter_position, distance=1067.33532714844
[20:29:34] [INFO] [Bullet] Distance to wall: 1067.33532714844 (72.6768250821411% of viewport)
[20:29:34] [INFO] [Bullet] Distance-based penetration chance: 61.8770374041687%
[20:29:34] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:34] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:29:34] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=164.7°, current=122.1°, player=(525,711), corner_timer=0.03
[20:29:34] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=122.1°, current=44.1°, player=(527,706), corner_timer=0.03
[20:29:35] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:29:35] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:29:35] [INFO] [ReplayManager] Recording frame 4140 (67,4s): player_valid=True, enemies=10
[20:29:36] [INFO] [ReplayManager] Recording frame 4200 (68,4s): player_valid=True, enemies=10
[20:29:36] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[20:29:36] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[20:29:36] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[20:29:36] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[20:29:36] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=179.2°, current=122.1°, player=(504,616), corner_timer=0.03
[20:29:37] [INFO] [ReplayManager] Recording frame 4260 (69,4s): player_valid=True, enemies=10
[20:29:38] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[20:29:38] [ENEMY] [Enemy7] FLANKING started: target=(610.1771, 446.4366), side=left, pos=(972.3834, 632.523)
[20:29:38] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:29:38] [ENEMY] [Enemy7] FLANKING corner check: angle -38.4°
[20:29:38] [INFO] [ReplayManager] Recording frame 4320 (70,4s): player_valid=True, enemies=10
[20:29:38] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=175.0°, current=-154.7°, player=(504,616), corner_timer=0.10
[20:29:38] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:29:38] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.6°, current=118.6°, player=(504,616), corner_timer=0.10
[20:29:38] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=174.6°, current=127.5°, player=(504,616), corner_timer=0.10
[20:29:38] [ENEMY] [Enemy6] PURSUING corner check: angle 50.9°
[20:29:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.1347, 622.0096), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.1347, 622.0096), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:38] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/4->2/4
[20:29:38] [INFO] [ImpactEffects] spawn_blood_effect called at (818.1991, 605.8416), dir=(0.995276, -0.097085), lethal=false
[20:29:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:38] [INFO] [ImpactEffects] Blood effect spawned at (818.1991, 605.8416) (scale=0.5)
[20:29:38] [ENEMY] [Enemy6] PURSUING corner check: angle -125.3°
[20:29:38] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/4->1/4
[20:29:38] [INFO] [ImpactEffects] spawn_blood_effect called at (780.8843, 607.0201), dir=(0.998539, -0.054037), lethal=false
[20:29:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:38] [INFO] [ImpactEffects] Blood effect spawned at (780.8843, 607.0201) (scale=0.5)
[20:29:38] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:29:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.1328, 622.0096), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(762.933, 604.0494), source=ENEMY (Enemy7), range=1469, listeners=4
[20:29:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:39] [INFO] [BloodyFeet:Enemy7] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(753.2135, 599.6552), source=ENEMY (Enemy7), range=1469, listeners=4
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (908.8574, 612.1595) (added to group)
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.4286, 633.548), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:39] [INFO] [LastChance] Threat detected: @Area2D@3397
[20:29:39] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(743.494, 595.261), source=ENEMY (Enemy7), range=1469, listeners=4
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (918.8861, 579.9524) (added to group)
[20:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.69904, 614.5466), shooter_id=1085083226719, bullet_pos=(370.58038, 688.09247)
[20:29:39] [INFO] [Bullet] Using shooter_position, distance=333,33337
[20:29:39] [INFO] [Bullet] Distance to wall: 333,33337 (22,697283% of viewport)
[20:29:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (908.1331, 655.5947) (added to group)
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (829.2568, 631.7036) (added to group)
[20:29:39] [INFO] [LastChance] Threat detected: @Area2D@3404
[20:29:39] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(733.7745, 590.8669), source=ENEMY (Enemy7), range=1469, listeners=4
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=1
[20:29:39] [INFO] [ReplayManager] Recording frame 4380 (71,4s): player_valid=True, enemies=10
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (872.4594, 610.2928) (added to group)
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (884.2026, 668.8468) (added to group)
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (899.7808, 633.8495) (added to group)
[20:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(668.1754, 608.95984), shooter_id=1085083226719, bullet_pos=(502.01868, 595.93176)
[20:29:39] [INFO] [Bullet] Using shooter_position, distance=166,66672
[20:29:39] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[20:29:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.69904, 614.5466), shooter_id=1085083226719, bullet_pos=(48.76148, 652.78424)
[20:29:39] [INFO] [Bullet] Using shooter_position, distance=648,0666
[20:29:39] [INFO] [Bullet] Distance to wall: 648,0666 (44,128048% of viewport)
[20:29:39] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (861.0892, 627.9423) (added to group)
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (884.6193, 678.0432) (added to group)
[20:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.0367, 609.89026), shooter_id=1085083226719, bullet_pos=(52.134354, 620.94525)
[20:29:39] [INFO] [Bullet] Using shooter_position, distance=625,0001
[20:29:39] [INFO] [Bullet] Distance to wall: 625,0001 (42,55741% of viewport)
[20:29:39] [INFO] [Bullet] Distance-based penetration chance: 97,01636%
[20:29:39] [INFO] [Bullet] Starting wall penetration at (52.134354, 620.94525)
[20:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.1328, 622.0096), shooter_id=1087029383891, bullet_pos=(919.6827, 632.275)
[20:29:39] [INFO] [Bullet] Using shooter_position, distance=450.666931152344
[20:29:39] [INFO] [Bullet] Distance to wall: 450.666931152344 (30.6867400455763% of viewport)
[20:29:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:39] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,529163
[20:29:39] [INFO] [Bullet] Body exited signal received for penetrating body
[20:29:39] [INFO] [Bullet] Exiting penetration at (5.474987, 621.7707) after traveling 41,666668 pixels through wall
[20:29:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.3613, 668.2309), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:39] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-38.4°, current=161.7°, player=(322,661), corner_timer=0.10
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (898.7427, 661.4169) (added to group)
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (884.5692, 695.7172) (added to group)
[20:29:39] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:39] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.4286, 633.548), shooter_id=1087029383891, bullet_pos=(911.2025, 618.7692)
[20:29:39] [INFO] [Bullet] Using shooter_position, distance=483.999542236328
[20:29:39] [INFO] [Bullet] Distance to wall: 483.999542236328 (32.9564188275519% of viewport)
[20:29:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:39] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:39] [INFO] [BloodDecal] Blood puddle created at (908.0864, 650.5713) (added to group)
[20:29:39] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:29:39] [ENEMY] [Enemy7] Player ammo empty: false -> true
[20:29:39] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:29:39] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(270.261, 627.4666), source=PLAYER (Player), range=600, listeners=4
[20:29:39] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (270.261, 627.4666), intensity=0.02, distance=373
[20:29:39] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[20:29:39] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=928), can_see=false
[20:29:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=167.4°, current=-163.9°, player=(270,627), corner_timer=0.10
[20:29:39] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=373), can_see=false
[20:29:39] [ENEMY] [Enemy7] Pursuing vulnerability sound at (270.261, 627.4666), distance=373
[20:29:39] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1826), can_see=false
[20:29:39] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2049), can_see=false
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(223.592, 580.7974), source=PLAYER (Player), range=600, listeners=4
[20:29:39] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (223.592, 580.7974), intensity=0.02, distance=363
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[20:29:39] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.1°, current=-170.9°, player=(200,557), corner_timer=0.10
[20:29:39] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[20:29:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.2463, 607.2344), source=ENEMY (Enemy7), range=1469, listeners=4
[20:29:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=1
[20:29:39] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[20:29:39] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:29:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(327.3613, 668.2309), shooter_id=1087029383891, bullet_pos=(925.572, 613.9773)
[20:29:40] [INFO] [Bullet] Using shooter_position, distance=600.665954589844
[20:29:40] [INFO] [Bullet] Distance to wall: 600.665954589844 (40.9004493753182% of viewport)
[20:29:40] [INFO] [Bullet] Distance-based penetration chance: 98.9494757287954%
[20:29:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:40] [INFO] [LastChance] Threat detected: Bullet
[20:29:40] [INFO] [LastChance] Not in hard mode - effect disabled
[20:29:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:29:40] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-38.4°, current=-168.7°, player=(186,535), corner_timer=0.10
[20:29:40] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:40] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.2152, 605.6966), shooter_id=1085083226719, bullet_pos=(39.11752, 543.5289)
[20:29:40] [INFO] [Bullet] Using shooter_position, distance=458,33344
[20:29:40] [INFO] [Bullet] Distance to wall: 458,33344 (31,208769% of viewport)
[20:29:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:40] [INFO] [Bullet] Starting wall penetration at (39.11752, 543.5289)
[20:29:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,482765
[20:29:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:29:40] [INFO] [Bullet] Exiting penetration at (-7.117878, 537.1991) after traveling 41,666668 pixels through wall
[20:29:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:29:40] [INFO] [ReplayManager] Recording frame 4440 (72,4s): player_valid=True, enemies=10
[20:29:40] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1039), can_see=false
[20:29:40] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=388), can_see=false
[20:29:40] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1973), can_see=false
[20:29:40] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2197), can_see=false
[20:29:40] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:40] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:40] [ENEMY] [Enemy7] Player reloading: false -> true
[20:29:40] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:40] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:40] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(170.8694, 487.1355), source=PLAYER (Player), range=900, listeners=4
[20:29:40] [ENEMY] [Enemy7] Heard player RELOAD at (170.8694, 487.1355), intensity=0.02, distance=391
[20:29:40] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:29:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[20:29:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-165.1°, current=-140.0°, player=(170,487), corner_timer=0.10
[20:29:40] [INFO] [Player.Reload.Anim] LeftArm: pos=(2.7074785, 3.361111), target=(-4, 2), base=(16, 6)
[20:29:40] [INFO] [Player.Reload.Anim] RightArm: pos=(4.098077, 6), target=(4, 6), base=(4, 6)
[20:29:40] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:40] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:40] [ENEMY] [Enemy7] Player reloading: true -> false
[20:29:40] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:40] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:40] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:29:40] [ENEMY] [Enemy7] Player ammo empty: true -> false
[20:29:40] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:29:40] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:29:40] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:40] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:40] [ENEMY] [Enemy6] PURSUING corner check: angle -113.2°
[20:29:40] [ENEMY] [Enemy7] Pursuing vulnerability sound at (170.8694, 487.1355), distance=326
[20:29:40] [INFO] [BloodyFeet:Enemy7] Blood ran out - no more footprints
[20:29:40] [ENEMY] [Enemy6] PURSUING corner check: angle -113.3°
[20:29:41] [INFO] [ReplayManager] Recording frame 4500 (73,4s): player_valid=True, enemies=10
[20:29:41] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[20:29:41] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-38.4°, current=-84.5°, player=(243,186), corner_timer=0.10
[20:29:41] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:41] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:29:42] [INFO] [ReplayManager] Recording frame 4560 (74,4s): player_valid=True, enemies=10
[20:29:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-87.2°, current=-38.4°, player=(228,186), corner_timer=0.10
[20:29:42] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-38.4°, current=-17.4°, player=(225,186), corner_timer=0.10
[20:29:42] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:29:42] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:29:42] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[20:29:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-102.4°, current=100.9°, player=(176,186), corner_timer=0.10
[20:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(166.0589, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:42] [ENEMY] [Enemy6] FLANKING started: target=(149.3412, 386.8014), side=right, pos=(977.6991, 663.9334)
[20:29:42] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[20:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(133.4478, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:42] [ENEMY] [Enemy6] FLANKING corner check: angle -40.7°
[20:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.5589, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=4
[20:29:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=1
[20:29:43] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[20:29:43] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-38.4°, current=-178.9°, player=(150,186), corner_timer=0.10
[20:29:43] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:43] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(166.0589, 192.8015), shooter_id=1087029383891, bullet_pos=(229.0615, 689.4883)
[20:29:43] [INFO] [Bullet] Using shooter_position, distance=500.666656494141
[20:29:43] [INFO] [Bullet] Distance to wall: 500.666656494141 (34.0913132854869% of viewport)
[20:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:43] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:43] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/4->0/4
[20:29:43] [INFO] [ImpactEffects] spawn_blood_effect called at (248.3158, 513.8207), dir=(0.285707, 0.958317), lethal=true
[20:29:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:29:43] [INFO] [ImpactEffects] Blood effect spawned at (248.3158, 513.8207) (scale=0.75)
[20:29:43] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[20:29:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:29:43] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:29:43] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:29:43] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:29:43] [INFO] [PowerFantasy]   - Duration: 300ms
[20:29:43] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[20:29:43] [INFO] [DeathAnim] Started - Angle: 73.4 deg, Index: 16
[20:29:43] [ENEMY] [Enemy7] Death animation started with hit direction: (0.285707, 0.958317)
[20:29:43] [INFO] [ReplayManager] Recording frame 4620 (75,3s): player_valid=True, enemies=10
[20:29:43] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:29:43] [INFO] [PowerFantasy] Ending power fantasy effect
[20:29:43] [ENEMY] [Enemy6] FLANKING corner check: angle -112.2°
[20:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.5589, 192.8015), shooter_id=1087029383891, bullet_pos=(221.8906, 444.9131)
[20:29:43] [INFO] [Bullet] Using shooter_position, distance=264.000183105469
[20:29:43] [INFO] [Bullet] Distance to wall: 264.000183105469 (17.9762579211819% of viewport)
[20:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (283.098, 597.3856) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (270.8105, 600.7809) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (267.4741, 611.1494) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (297.874, 627.854) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (281.6881, 664.5634) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (267.9452, 659.8625) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (294.1642, 604.7911) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (332.6137, 643.3346) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (245.7539, 662.9078) (added to group)
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (321.7431, 678.9236) (added to group)
[20:29:43] [ENEMY] [Enemy6] FLANKING corner check: angle 85.5°
[20:29:43] [ENEMY] [Enemy7] Ragdoll activated
[20:29:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:29:43] [INFO] [BloodDecal] Blood puddle created at (252.2764, 679.6229) (added to group)
[20:29:44] [ENEMY] [Enemy6] FLANKING corner check: angle 85.5°
[20:29:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(143.5589, 192.8015), shooter_id=1087029383891, bullet_pos=(123.332, 690.903)
[20:29:44] [INFO] [Bullet] Using shooter_position, distance=498.511932373047
[20:29:44] [INFO] [Bullet] Distance to wall: 498.511932373047 (33.9445941578934% of viewport)
[20:29:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:44] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:44] [INFO] [ReplayManager] Recording frame 4680 (76,1s): player_valid=True, enemies=10
[20:29:44] [ENEMY] [Enemy6] FLANKING corner check: angle 85.5°
[20:29:44] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-96.0°, current=-101.3°, player=(455,186), corner_timer=0.03
[20:29:44] [ENEMY] [Enemy6] State: FLANKING -> COMBAT
[20:29:44] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-94.5°, current=-10.6°, player=(461,186), corner_timer=0.03
[20:29:44] [ENEMY] [Enemy7] Death animation completed
[20:29:44] [INFO] [BloodyFeet:Enemy6] Blood ran out - no more footprints
[20:29:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.5206, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=3
[20:29:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:44] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-90.3°, current=-40.5°, player=(471,186), corner_timer=0.03
[20:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.7429, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=3
[20:29:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:45] [INFO] [ReplayManager] Recording frame 4740 (77,1s): player_valid=True, enemies=10
[20:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.9651, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=3
[20:29:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:45] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[20:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(473.5206, 192.8015), shooter_id=1087029383891, bullet_pos=(386.0363, 685.7657)
[20:29:45] [INFO] [Bullet] Using shooter_position, distance=500.666748046875
[20:29:45] [INFO] [Bullet] Distance to wall: 500.666748046875 (34.091319519481% of viewport)
[20:29:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:45] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:45] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/3->2/3
[20:29:45] [INFO] [ImpactEffects] spawn_blood_effect called at (459.3389, 459.9221), dir=(0.129374, 0.991596), lethal=false
[20:29:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:45] [INFO] [ImpactEffects] Blood effect spawned at (459.3389, 459.9221) (scale=0.5)
[20:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.4651, 192.8015), source=PLAYER (MakarovPM), range=1469, listeners=3
[20:29:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:45] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:29:45] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.7429, 192.8015), shooter_id=1087029383891, bullet_pos=(412.9386, 691.8834)
[20:29:45] [INFO] [Bullet] Using shooter_position, distance=500.666656494141
[20:29:45] [INFO] [Bullet] Distance to wall: 500.666656494141 (34.0913132854869% of viewport)
[20:29:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:45] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:45] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=85.5°, current=-114.6°, player=(303,186), corner_timer=0.03
[20:29:45] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/3->1/3
[20:29:45] [INFO] [ImpactEffects] spawn_blood_effect called at (452.8886, 446.4539), dir=(0.490336, 0.871533), lethal=false
[20:29:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:29:45] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 530.1905) (dist=96 px)
[20:29:45] [INFO] [BloodDecal] Blood puddle created at (499, 530.1905) (added to group)
[20:29:45] [INFO] [ImpactEffects] Blood effect spawned at (452.8886, 446.4539) (scale=0.5)
[20:29:45] [INFO] [BloodDecal] Blood puddle created at (472.0413, 524.565) (added to group)
[20:29:45] [INFO] [BloodDecal] Blood puddle created at (434.0884, 557.2852) (added to group)
[20:29:46] [INFO] [BloodDecal] Blood puddle created at (436.5588, 630.486) (added to group)
[20:29:46] [INFO] [BloodDecal] Blood puddle created at (496.7772, 613.8533) (added to group)
[20:29:46] [INFO] [BloodDecal] Blood puddle created at (510.949, 664.7532) (added to group)
[20:29:46] [INFO] [ReplayManager] Recording frame 4800 (78,1s): player_valid=True, enemies=10
[20:29:46] [INFO] [BloodDecal] Blood puddle created at (483.7697, 575.2354) (added to group)
[20:29:46] [INFO] [BloodDecal] Blood puddle created at (491.6582, 620.1375) (added to group)
[20:29:46] [INFO] [BloodDecal] Blood puddle created at (459.0503, 637.1881) (added to group)
[20:29:46] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(180.51, 254.8825), source=PLAYER (MakarovPM), range=1469, listeners=3
[20:29:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(180.51, 304.3825), source=PLAYER (MakarovPM), range=1469, listeners=3
[20:29:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:47] [INFO] [ReplayManager] Recording frame 4860 (79,1s): player_valid=True, enemies=10
[20:29:47] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:29:47] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:29:47] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:29:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(180.51, 342.3825), source=PLAYER (Player), range=600, listeners=3
[20:29:47] [ENEMY] [Enemy6] Heard player EMPTY_CLICK at (180.51, 342.3825), intensity=0.03, distance=314
[20:29:47] [ENEMY] [Enemy6] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[20:29:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[20:29:47] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-150.8°, current=-40.4°, player=(180,342), corner_timer=0.03
[20:29:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=314), can_see=false
[20:29:47] [ENEMY] [Enemy6] Pursuing vulnerability sound at (180.51, 342.3825), distance=314
[20:29:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2045), can_see=false
[20:29:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2268), can_see=false
[20:29:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(180.51, 304.3825), shooter_id=1087029383891, bullet_pos=(317.2982, 427.4474)
[20:29:47] [INFO] [Bullet] Using shooter_position, distance=183.999984741211
[20:29:47] [INFO] [Bullet] Distance to wall: 183.999984741211 (12.5288973071664% of viewport)
[20:29:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:29:47] [INFO] [Bullet] Caliber cannot penetrate walls
[20:29:47] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/3->0/3
[20:29:47] [INFO] [ImpactEffects] spawn_blood_effect called at (449.6251, 493.3437), dir=(0.745051, 0.667007), lethal=true
[20:29:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:29:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:29:47] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 538.4419) (dist=67 px)
[20:29:47] [INFO] [BloodDecal] Blood puddle created at (499, 538.4419) (added to group)
[20:29:47] [INFO] [ImpactEffects] Blood effect spawned at (449.6251, 493.3437) (scale=0.75)
[20:29:47] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:29:47] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:29:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:29:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:29:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:29:47] [INFO] [PowerFantasy]   - Duration: 300ms
[20:29:47] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 2)
[20:29:47] [INFO] [DeathAnim] Started - Angle: 41.8 deg, Index: 14
[20:29:47] [ENEMY] [Enemy6] Death animation started with hit direction: (0.745051, 0.667007)
[20:29:47] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:29:47] [INFO] [PowerFantasy] Ending power fantasy effect
[20:29:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2012), can_see=false
[20:29:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2235), can_see=false
[20:29:47] [INFO] [BloodDecal] Blood puddle created at (487.7756, 579.3593) (added to group)
[20:29:47] [INFO] [BloodDecal] Blood puddle created at (491.2785, 533.3924) (added to group)
[20:29:47] [INFO] [BloodDecal] Blood puddle created at (486.6788, 572.2505) (added to group)
[20:29:47] [INFO] [BloodDecal] Blood puddle created at (522.8214, 670.2115) (added to group)
[20:29:48] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:29:48] [ENEMY] [Enemy6] Player reloading: false -> true
[20:29:48] [ENEMY] [Enemy8] Player reloading: false -> true
[20:29:48] [ENEMY] [Enemy9] Player reloading: false -> true
[20:29:48] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(180.51, 414.474), source=PLAYER (Player), range=900, listeners=2
[20:29:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=0
[20:29:48] [ENEMY] [Enemy6] Ragdoll activated
[20:29:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:29:48] [INFO] [BloodDecal] Blood puddle created at (530.2914, 713.433) (added to group)
[20:29:48] [INFO] [BloodDecal] Blood puddle created at (543.3161, 717.6014) (added to group)
[20:29:48] [INFO] [BloodDecal] Blood puddle created at (552.0433, 724.0928) (added to group)
[20:29:48] [INFO] [ReplayManager] Recording frame 4920 (79,8s): player_valid=True, enemies=10
[20:29:48] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:29:48] [ENEMY] [Enemy6] Player reloading: true -> false
[20:29:48] [ENEMY] [Enemy8] Player reloading: true -> false
[20:29:48] [ENEMY] [Enemy9] Player reloading: true -> false
[20:29:48] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:29:48] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:29:48] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:29:48] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:29:48] [INFO] [BloodDecal] Blood puddle created at (564.2096, 818.2912) (added to group)
[20:29:48] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:29:49] [ENEMY] [Enemy6] Death animation completed
[20:29:49] [INFO] [ReplayManager] Recording frame 4980 (80,8s): player_valid=True, enemies=10
[20:29:49] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:50] [INFO] [ReplayManager] Recording frame 5040 (81,8s): player_valid=True, enemies=10
[20:29:51] [INFO] [ReplayManager] Recording frame 5100 (82,8s): player_valid=True, enemies=10
[20:29:51] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:29:51] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:52] [INFO] [ReplayManager] Recording frame 5160 (83,8s): player_valid=True, enemies=10
[20:29:52] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[20:29:53] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:29:53] [INFO] [ReplayManager] Recording frame 5220 (84,8s): player_valid=True, enemies=10
[20:29:53] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:29:54] [INFO] [ReplayManager] Recording frame 5280 (85,8s): player_valid=True, enemies=10
[20:29:55] [INFO] [ReplayManager] Recording frame 5340 (86,8s): player_valid=True, enemies=10
[20:29:55] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:29:56] [INFO] [ReplayManager] Recording frame 5400 (87,8s): player_valid=True, enemies=10
[20:29:57] [INFO] [ReplayManager] Recording frame 5460 (88,8s): player_valid=True, enemies=10
[20:29:58] [INFO] [ReplayManager] Recording frame 5520 (89,8s): player_valid=True, enemies=10
[20:29:59] [INFO] [ReplayManager] Recording frame 5580 (90,8s): player_valid=True, enemies=10
[20:29:59] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-52.1°, current=-101.3°, player=(2116,1171), corner_timer=0.00
[20:29:59] [ENEMY] [Enemy8] State: IDLE -> COMBAT
[20:29:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2127.669, 1177.934), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:29:59] [ENEMY] [Enemy9] Heard gunshot at (2127.669, 1177.934), source_type=0, intensity=0.02, distance=373
[20:29:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:29:59] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-50.7°, current=-146.9°, player=(2127,1171), corner_timer=0.00
[20:29:59] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-85.8°, current=-22.5°, player=(2127,1171), corner_timer=0.00
[20:29:59] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-85.0°, current=-111.2°, player=(2133,1171), corner_timer=0.00
[20:29:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2174.891, 1177.934), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:29:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:29:59] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-42.9°, current=-92.8°, player=(2190,1171), corner_timer=0.00
[20:29:59] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[20:29:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2187.779, 1177.934), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:29:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:30:00] [INFO] [ReplayManager] Recording frame 5640 (91,8s): player_valid=True, enemies=10
[20:30:00] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-60.5°, current=-60.4°, player=(2106,1171), corner_timer=0.00
[20:30:00] [ENEMY] [Enemy8] State: COMBAT -> PURSUING
[20:30:00] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[20:30:00] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P4:velocity, state=IN_COVER, target=-70.8°, current=-87.4°, player=(2090,1171), corner_timer=0.00
[20:30:00] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[20:30:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2127.669, 1177.934), shooter_id=1087029383891, bullet_pos=(1975.457, 2065.643)
[20:30:00] [INFO] [Bullet] Using shooter_position, distance=900.664001464844
[20:30:00] [INFO] [Bullet] Distance to wall: 900.664001464844 (61.3278680348021% of viewport)
[20:30:00] [INFO] [Bullet] Distance-based penetration chance: 75.1174872927309%
[20:30:00] [INFO] [Bullet] Caliber cannot penetrate walls
[20:30:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2174.891, 1177.934), shooter_id=1087029383891, bullet_pos=(1860.758, 2075.2)
[20:30:00] [INFO] [Bullet] Using shooter_position, distance=950.666198730469
[20:30:00] [INFO] [Bullet] Distance to wall: 950.666198730469 (64.7326095925517% of viewport)
[20:30:00] [INFO] [Bullet] Distance-based penetration chance: 71.1452888086897%
[20:30:00] [INFO] [Bullet] Caliber cannot penetrate walls
[20:30:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2187.779, 1177.934), shooter_id=1087029383891, bullet_pos=(1971.64, 2069.438)
[20:30:00] [INFO] [Bullet] Using shooter_position, distance=917.331359863281
[20:30:00] [INFO] [Bullet] Distance to wall: 917.331359863281 (62.4627791167213% of viewport)
[20:30:00] [INFO] [Bullet] Distance-based penetration chance: 73.7934243638252%
[20:30:00] [INFO] [Bullet] Penetration failed (distance roll)
[20:30:01] [INFO] [ReplayManager] Recording frame 5700 (92,8s): player_valid=True, enemies=10
[20:30:01] [ENEMY] [Enemy9] State: SUPPRESSED -> SEEKING_COVER
[20:30:01] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-156.7°, current=-156.3°, player=(1634,1173), corner_timer=0.00
[20:30:01] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[20:30:01] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-159.1°, current=102.0°, player=(1610,1183), corner_timer=0.00
[20:30:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1602.073, 1194.872), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:30:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:30:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1575.736, 1234.782), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:30:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:30:02] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-170.9°, current=139.2°, player=(1573,1254), corner_timer=0.00
[20:30:02] [ENEMY] [Enemy8] Hit: dmg=1, hp=3/3->2/3
[20:30:02] [INFO] [ImpactEffects] spawn_blood_effect called at (1910.472, 1308.843), dir=(0.925131, 0.379647), lethal=false
[20:30:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:02] [INFO] [ImpactEffects] Blood effect spawned at (1910.472, 1308.843) (scale=0.5)
[20:30:02] [ENEMY] [Enemy9] State: SEEKING_COVER -> IN_COVER
[20:30:02] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[20:30:02] [INFO] [ReplayManager] Recording frame 5760 (93,8s): player_valid=True, enemies=10
[20:30:02] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=179.3°, current=179.3°, player=(1574,1309), corner_timer=0.00
[20:30:02] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[20:30:02] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-179.7°, current=179.3°, player=(1575,1314), corner_timer=0.00
[20:30:02] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[20:30:02] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:02] [INFO] [BloodDecal] Blood puddle created at (2022.492, 1364.57) (added to group)
[20:30:02] [INFO] [BloodDecal] Blood puddle created at (1998.203, 1400.005) (added to group)
[20:30:02] [INFO] [BloodDecal] Blood puddle created at (2072.628, 1434.881) (added to group)
[20:30:02] [INFO] [BloodDecal] Blood puddle created at (2063.48, 1428.233) (added to group)
[20:30:02] [INFO] [BloodDecal] Blood puddle created at (2071.984, 1478.831) (added to group)
[20:30:02] [INFO] [BloodDecal] Blood puddle created at (2041.268, 1414.958) (added to group)
[20:30:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1575.736, 1234.782), shooter_id=1087029383891, bullet_pos=(2470.76, 1555.242)
[20:30:02] [INFO] [Bullet] Using shooter_position, distance=950.664306640625
[20:30:02] [INFO] [Bullet] Distance to wall: 950.664306640625 (64.732480756675% of viewport)
[20:30:02] [INFO] [Bullet] Distance-based penetration chance: 71.1454391172125%
[20:30:02] [INFO] [Bullet] Penetration failed (distance roll)
[20:30:03] [INFO] [ReplayManager] Recording frame 5820 (94,8s): player_valid=True, enemies=10
[20:30:03] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:30:03] [ENEMY] [Enemy8] Player reloading: false -> true
[20:30:03] [ENEMY] [Enemy9] Player reloading: false -> true
[20:30:03] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1659.935, 1506.444), source=PLAYER (Player), range=900, listeners=2
[20:30:03] [ENEMY] [Enemy8] Heard player RELOAD at (1659.935, 1506.444), intensity=0.03, distance=281
[20:30:03] [ENEMY] [Enemy8] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[20:30:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:30:03] [ENEMY] [Enemy8] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=134.5°, current=-179.7°, player=(1659,1506), corner_timer=0.00
[20:30:03] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=true (dist=281), can_see=false
[20:30:03] [ENEMY] [Enemy8] Pursuing vulnerability sound at (1659.935, 1506.444), distance=281
[20:30:03] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=571), can_see=false
[20:30:03] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.9468322, 2.010645), target=(-4, 2), base=(16, 6)
[20:30:03] [INFO] [Player.Reload.Anim] RightArm: pos=(4.000057, 6), target=(4, 6), base=(4, 6)
[20:30:03] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:30:03] [ENEMY] [Enemy8] Player reloading: true -> false
[20:30:03] [ENEMY] [Enemy9] Player reloading: true -> false
[20:30:03] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:30:03] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:30:04] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=93.7°, current=74.1°, player=(1659,1506), corner_timer=0.00
[20:30:04] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[20:30:04] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[20:30:04] [INFO] [ReplayManager] Recording frame 5880 (95,8s): player_valid=True, enemies=10
[20:30:04] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-2.1°, current=37.8°, player=(1659,1506), corner_timer=0.00
[20:30:04] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[20:30:04] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:04] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:04] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[20:30:04] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:04] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:04] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[20:30:04] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:04] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:04] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[20:30:04] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:04] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:04] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[20:30:04] [ENEMY] [Enemy8] State: IN_COVER -> PURSUING
[20:30:04] [ENEMY] [Enemy8] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=145.9°, current=-73.9°, player=(1536,1411), corner_timer=0.00
[20:30:05] [INFO] [ReplayManager] Recording frame 5940 (96,8s): player_valid=True, enemies=10
[20:30:05] [ENEMY] [Enemy9] State: SUPPRESSED -> IN_COVER
[20:30:05] [ENEMY] [Enemy9] State: IN_COVER -> PURSUING
[20:30:05] [ENEMY] [Enemy9] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-170.7°, current=-22.4°, player=(1536,1290), corner_timer=0.00
[20:30:05] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.8°, current=-139.8°, player=(1536,1285), corner_timer=0.00
[20:30:05] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[20:30:05] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=176.8°, current=-124.5°, player=(1536,1268), corner_timer=0.00
[20:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.64, 1264.381), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.64, 1232.381), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:30:05] [ENEMY] [Enemy8] Hit: dmg=1, hp=2/3->1/3
[20:30:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1766.408, 1255.881), dir=(0.99967, -0.02569), lethal=false
[20:30:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:05] [INFO] [ImpactEffects] Blood effect spawned at (1766.408, 1255.881) (scale=0.5)
[20:30:05] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-171.7°, current=178.5°, player=(1536,1222), corner_timer=0.00
[20:30:05] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[20:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1760.439, 1261.203), source=ENEMY (Enemy8), range=1469, listeners=2
[20:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:05] [INFO] [LastChance] Threat detected: Bullet
[20:30:05] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.64, 1237.715), source=PLAYER (MakarovPM), range=1469, listeners=2
[20:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1838.277, 1303.956) (added to group)
[20:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1753.433, 1269.233), source=ENEMY (Enemy8), range=1469, listeners=2
[20:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1818.134, 1281.094) (added to group)
[20:30:05] [INFO] [LastChance] Threat detected: @Area2D@3635
[20:30:05] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:05] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-166.6°, current=-116.9°, player=(1536,1238), corner_timer=0.00
[20:30:05] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1814.182, 1287.304) (added to group)
[20:30:05] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-167.2°, current=92.9°, player=(1536,1246), corner_timer=0.00
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1846.724, 1289.995) (added to group)
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1829.111, 1255.757) (added to group)
[20:30:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1752.362, 1279.673), source=ENEMY (Enemy8), range=1469, listeners=2
[20:30:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1847.465, 1246.343) (added to group)
[20:30:05] [INFO] [Player] Spawning blood effect at (1536.6401, 1255.7146), dir=(1, 0), lethal=False (C#)
[20:30:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1536.64, 1255.715), dir=(1, 0), lethal=false
[20:30:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:05] [INFO] [ImpactEffects] Blood effect spawned at (1536.64, 1255.715) (scale=1)
[20:30:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 4.0
[20:30:05] [INFO] [LastChance] Player health updated (C# Damaged): 4.0
[20:30:05] [INFO] [LastChance] Threat detected: @Area2D@3640
[20:30:05] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:05] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=115.3°, current=163.7°, player=(1536,1288), corner_timer=0.00
[20:30:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1536.64, 1237.715), shooter_id=1087029383891, bullet_pos=(1786.243, 1214.641)
[20:30:05] [INFO] [Bullet] Using shooter_position, distance=250.667144775391
[20:30:05] [INFO] [Bullet] Distance to wall: 250.667144775391 (17.0683868239913% of viewport)
[20:30:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:05] [INFO] [Bullet] Caliber cannot penetrate walls
[20:30:05] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[20:30:05] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1900.873, 1262.942) (added to group)
[20:30:05] [INFO] [BloodDecal] Blood puddle created at (1866.886, 1307.473) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1578.224, 1255.622) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1601.045, 1287.46) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1634.488, 1260.755) (added to group)
[20:30:06] [INFO] [ReplayManager] Recording frame 6000 (97,8s): player_valid=True, enemies=10
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1903.862, 1364.448) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1863.545, 1326.766) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1673.325, 1356.995) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1603.38, 1305.617) (added to group)
[20:30:06] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1676.263, 1293.294) (added to group)
[20:30:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1536.64, 1232.381), shooter_id=1087029383891, bullet_pos=(2470.34, 1208.671)
[20:30:06] [INFO] [Bullet] Using shooter_position, distance=934.0009765625
[20:30:06] [INFO] [Bullet] Distance to wall: 934.0009765625 (63.5978439704933% of viewport)
[20:30:06] [INFO] [Bullet] Distance-based penetration chance: 72.4691820344245%
[20:30:06] [INFO] [Bullet] Penetration failed (distance roll)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1707.891, 1262.098) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1651.854, 1392.769) (added to group)
[20:30:06] [INFO] [BloodDecal] Blood puddle created at (1661.094, 1323.749) (added to group)
[20:30:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1686.1791, 1278.4861), shooter_id=1085435548276, bullet_pos=(34.275146, 1057.1384)
[20:30:06] [INFO] [Bullet] Using shooter_position, distance=1666,6677
[20:30:06] [INFO] [Bullet] Distance to wall: 1666,6677 (113,486465% of viewport)
[20:30:06] [INFO] [Bullet] Distance-based penetration chance: 27,302706%
[20:30:06] [INFO] [Bullet] Penetration failed (distance roll)
[20:30:06] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-168.0°, current=-168.5°, player=(1560,1276), corner_timer=0.00
[20:30:06] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:06] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:30:06] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[20:30:06] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[20:30:06] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:06] [INFO] [BloodyFeet:Enemy9] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:30:06] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:07] [INFO] [ReplayManager] Recording frame 6060 (98,8s): player_valid=True, enemies=10
[20:30:07] [ENEMY] [Enemy8] State: SEEKING_COVER -> IN_COVER
[20:30:07] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:30:07] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:30:07] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:30:07] [ENEMY] [Enemy8] Player reloading: false -> true
[20:30:07] [ENEMY] [Enemy9] Player reloading: false -> true
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1757.906, 1241.921), source=PLAYER (Player), range=900, listeners=2
[20:30:07] [ENEMY] [Enemy8] Heard player RELOAD at (1757.906, 1241.921), intensity=0.07, distance=186
[20:30:07] [ENEMY] [Enemy8] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[20:30:07] [ENEMY] [Enemy9] Heard player RELOAD at (1757.906, 1241.921), intensity=0.07, distance=195
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:30:07] [ENEMY] [Enemy8] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-82.5°, current=26.6°, player=(1757,1241), corner_timer=0.00
[20:30:07] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=true (dist=186), can_see=false
[20:30:07] [ENEMY] [Enemy8] Pursuing vulnerability sound at (1757.906, 1241.921), distance=186
[20:30:07] [ENEMY] [Enemy9] Player reloading - priority attack triggered
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1927.407, 1337.393), source=ENEMY (Enemy9), range=1469, listeners=2
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:07] [INFO] [LastChance] Threat detected: @Area2D@3685
[20:30:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:07] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-82.0°, current=-98.8°, player=(1759,1241), corner_timer=0.00
[20:30:07] [ENEMY] [Enemy8] Player reloading - priority attack triggered
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1734.19, 1421.009), source=ENEMY (Enemy8), range=1469, listeners=2
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:07] [INFO] [LastChance] Threat detected: @Area2D@3687
[20:30:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:07] [INFO] [Player] Spawning blood effect at (1762.6843, 1241.9211), dir=(1, 0), lethal=False (C#)
[20:30:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1762.684, 1241.921), dir=(1, 0), lethal=false
[20:30:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:07] [INFO] [ImpactEffects] Blood effect spawned at (1762.684, 1241.921) (scale=1)
[20:30:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:30:07] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:30:07] [INFO] [Player] Spawning blood effect at (1763.1843, 1241.9211), dir=(1, 0), lethal=False (C#)
[20:30:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1763.184, 1241.921), dir=(1, 0), lethal=false
[20:30:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:07] [INFO] [ImpactEffects] Blood effect spawned at (1763.184, 1241.921) (scale=1)
[20:30:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:30:07] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:30:07] [ENEMY] [Enemy9] Player reloading - priority attack triggered
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1927.407, 1337.393), source=ENEMY (Enemy9), range=1469, listeners=2
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:07] [INFO] [LastChance] Threat detected: @Area2D@3693
[20:30:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:07] [ENEMY] [Enemy8] Player reloading - priority attack triggered
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1752.561, 1389.326), source=ENEMY (Enemy8), range=1469, listeners=2
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:07] [INFO] [LastChance] Threat detected: @Area2D@3696
[20:30:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:07] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:30:07] [ENEMY] [Enemy8] Player reloading: true -> false
[20:30:07] [ENEMY] [Enemy9] Player reloading: true -> false
[20:30:07] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:30:07] [INFO] [Player] Spawning blood effect at (1763.4065, 1241.9211), dir=(1, 0), lethal=False (C#)
[20:30:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1763.406, 1241.921), dir=(1, 0), lethal=false
[20:30:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:07] [INFO] [ImpactEffects] Blood effect spawned at (1763.406, 1241.921) (scale=1)
[20:30:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:30:07] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:30:07] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:30:07] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:30:07] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:30:07] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:30:07] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:30:07] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:30:07] [INFO] [PenultimateHit] Applying saturation to 2 enemies
[20:30:07] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:30:07] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:30:07] [INFO] [Player] Spawning blood effect at (1763.4065, 1241.9211), dir=(1, 0), lethal=True (C#)
[20:30:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1763.406, 1241.921), dir=(1, 0), lethal=true
[20:30:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:07] [INFO] [ImpactEffects] Blood effect spawned at (1763.406, 1241.921) (scale=1.5)
[20:30:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:30:07] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:30:07] [INFO] [CinemaEffects] Player died - triggering death effects
[20:30:07] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[20:30:07] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:30:07] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:30:07] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[20:30:07] [INFO] [LastChance] Player died
[20:30:07] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.7970915, 3.7602649), target=(16, 6), base=(16, 6)
[20:30:07] [INFO] [Player.Reload.Anim] RightArm: pos=(4.004233, 6), target=(4, 6), base=(4, 6)
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1927.407, 1337.393), source=ENEMY (Enemy9), range=1469, listeners=2
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:07] [INFO] [LastChance] Threat detected: @Area2D@3702
[20:30:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:07] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[20:30:07] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[20:30:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1927.407, 1337.393), source=ENEMY (Enemy9), range=1469, listeners=2
[20:30:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1822.003, 1260.59) (added to group)
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1810.216, 1243.391) (added to group)
[20:30:07] [INFO] [LastChance] Threat detected: @Area2D@3705
[20:30:07] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:07] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1830.842, 1270.982) (added to group)
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1816.76, 1267.514) (added to group)
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1857.532, 1249.372) (added to group)
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1842.042, 1233.684) (added to group)
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1819.899, 1241.777) (added to group)
[20:30:07] [INFO] [BloodDecal] Blood puddle created at (1828.415, 1230.645) (added to group)
[20:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1927.407, 1337.393), source=ENEMY (Enemy9), range=1469, listeners=2
[20:30:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1891.091, 1232.788) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1861.796, 1246.644) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1806.213, 1253.847) (added to group)
[20:30:08] [INFO] [LastChance] Threat detected: @Area2D@3716
[20:30:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1853.783, 1251.724) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1875.579, 1261.299) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1844.947, 1281.74) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1900.01, 1348.288) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1844.174, 1308.583) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1841.133, 1229.141) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1856.723, 1281.671) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1831.448, 1298.229) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1821.692, 1270.385) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1820.952, 1301.032) (added to group)
[20:30:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1927.407, 1337.393), source=ENEMY (Enemy9), range=1469, listeners=2
[20:30:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=0
[20:30:08] [INFO] [LastChance] Threat detected: @Area2D@3731
[20:30:08] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:08] [INFO] [PenultimateHit] Visual effects fade-out complete
[20:30:08] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:30:08] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1925.03, 1382.133) (added to group)
[20:30:08] [INFO] [ReplayManager] Recording frame 6120 (99,8s): player_valid=True, enemies=10
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1915.113, 1321.551) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1850.917, 1321.721) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1875.185, 1284.944) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1925.288, 1352.466) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1892.75, 1242.562) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1830.85, 1309.549) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1971.172, 1285.262) (added to group)
[20:30:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:30:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:30:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:30:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:30:08] [INFO] [CinemaEffects] Death effects reset
[20:30:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:30:08] [ENEMY] [Enemy1] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:30:08] [ENEMY] [Enemy2] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:30:08] [ENEMY] [Enemy3] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:30:08] [ENEMY] [Enemy4] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:30:08] [ENEMY] [Enemy5] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:30:08] [ENEMY] [Enemy6] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:30:08] [ENEMY] [Enemy7] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:30:08] [ENEMY] [Enemy8] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:30:08] [ENEMY] [Enemy9] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:30:08] [ENEMY] [Enemy10] Death animation component initialized
[20:30:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:30:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:30:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:30:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:30:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:30:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:30:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:30:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:30:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:30:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:30:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:30:08] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:30:08] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:30:08] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:30:08] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:30:08] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[20:30:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:30:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:30:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:30:08] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[20:30:08] [INFO] [ScoreManager] Level started with 10 enemies
[20:30:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:30:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:30:08] [INFO] [ReplayManager] Replay data cleared
[20:30:08] [INFO] [BuildingLevel] Previous replay data cleared
[20:30:08] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:30:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:30:08] [INFO] [ReplayManager] Level: BuildingLevel
[20:30:08] [INFO] [ReplayManager] Player: Player (valid: True)
[20:30:08] [INFO] [ReplayManager] Enemies count: 10
[20:30:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:30:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:30:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:30:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:30:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:30:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:30:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:30:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:30:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:30:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:30:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:30:08] [INFO] [BuildingLevel] Replay recording started successfully
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1914.253, 1351.478) (added to group)
[20:30:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:30:08] [INFO] [CinemaEffects] Found player node: Player
[20:30:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 3)
[20:30:08] [ENEMY] [Enemy1] Registered as sound listener
[20:30:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 4)
[20:30:08] [ENEMY] [Enemy2] Registered as sound listener
[20:30:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 5)
[20:30:08] [ENEMY] [Enemy3] Registered as sound listener
[20:30:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 6)
[20:30:08] [ENEMY] [Enemy4] Registered as sound listener
[20:30:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 7)
[20:30:08] [ENEMY] [Enemy5] Registered as sound listener
[20:30:08] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 8)
[20:30:08] [ENEMY] [Enemy6] Registered as sound listener
[20:30:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 9)
[20:30:08] [ENEMY] [Enemy7] Registered as sound listener
[20:30:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:30:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 10)
[20:30:08] [ENEMY] [Enemy8] Registered as sound listener
[20:30:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 11)
[20:30:08] [ENEMY] [Enemy9] Registered as sound listener
[20:30:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[20:30:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:30:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 12)
[20:30:08] [ENEMY] [Enemy10] Registered as sound listener
[20:30:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:30:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:30:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:30:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(449,1250), corner_timer=0.00
[20:30:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:30:08] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[20:30:08] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:30:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:30:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:30:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:30:08] [INFO] [LastChance] Found player: Player
[20:30:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:30:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:30:08] [INFO] [LastChance] Connected to player Died signal (C#)
[20:30:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1868.741, 1358.176) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1971.599, 1449.661) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1888.447, 1302.762) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1948.01, 1345.068) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1947.171, 1303.275) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1877, 1338.589) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1859.066, 1294.395) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1878.013, 1368.045) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1956.832, 1296.252) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1845.661, 1363.476) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1971.977, 1340.995) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1862.953, 1317.678) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1872.508, 1378.846) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1854.847, 1312.233) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1973.88, 1272.404) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1934.833, 1234.679) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1938.707, 1253.507) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1899.068, 1396.979) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1909.694, 1337.684) (added to group)
[20:30:08] [INFO] [BloodDecal] Blood puddle created at (1897.233, 1402.731) (added to group)
[20:30:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:30:09] [INFO] [PauseMenu] Armory button pressed
[20:30:09] [INFO] [PauseMenu] Creating new armory menu instance
[20:30:09] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[20:30:09] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[20:30:09] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[20:30:09] [INFO] [PauseMenu] back_pressed signal exists on instance
[20:30:09] [INFO] [PauseMenu] back_pressed signal connected
[20:30:09] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[20:30:09] [INFO] [PauseMenu] _populate_weapon_grid method exists
[20:30:10] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:30:11] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:30:12] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:30:13] [INFO] [GameManager] Weapon selected: silenced_pistol
[20:30:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:30:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:30:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:30:13] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:30:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:30:13] [ENEMY] [Enemy1] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:30:13] [ENEMY] [Enemy2] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:30:13] [ENEMY] [Enemy3] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:30:13] [ENEMY] [Enemy4] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:30:13] [ENEMY] [Enemy5] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:30:13] [ENEMY] [Enemy6] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:30:13] [ENEMY] [Enemy7] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:30:13] [ENEMY] [Enemy8] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:30:13] [ENEMY] [Enemy9] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:30:13] [ENEMY] [Enemy10] Death animation component initialized
[20:30:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:30:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:30:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:30:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:30:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:30:13] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[20:30:13] [INFO] [Player.Weapon] Removed default MakarovPM
[20:30:13] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[20:30:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:30:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:30:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:30:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:30:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:30:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:30:13] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:30:13] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:30:13] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:30:13] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:30:13] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[20:30:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:30:13] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:30:13] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:30:13] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[20:30:13] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[20:30:13] [INFO] [ScoreManager] Level started with 10 enemies
[20:30:13] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:30:13] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:30:13] [INFO] [ReplayManager] Replay data cleared
[20:30:13] [INFO] [BuildingLevel] Previous replay data cleared
[20:30:13] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[20:30:13] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:30:13] [INFO] [ReplayManager] Level: BuildingLevel
[20:30:13] [INFO] [ReplayManager] Player: Player (valid: True)
[20:30:13] [INFO] [ReplayManager] Enemies count: 10
[20:30:13] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:30:13] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:30:13] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:30:13] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:30:13] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:30:13] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:30:13] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:30:13] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:30:13] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:30:13] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:30:13] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:30:13] [INFO] [BuildingLevel] Replay recording started successfully
[20:30:13] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:30:13] [INFO] [CinemaEffects] Found player node: Player
[20:30:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 13)
[20:30:13] [ENEMY] [Enemy1] Registered as sound listener
[20:30:13] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 14)
[20:30:13] [ENEMY] [Enemy2] Registered as sound listener
[20:30:13] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 15)
[20:30:13] [ENEMY] [Enemy3] Registered as sound listener
[20:30:13] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 16)
[20:30:13] [ENEMY] [Enemy4] Registered as sound listener
[20:30:13] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 17)
[20:30:13] [ENEMY] [Enemy5] Registered as sound listener
[20:30:13] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 18)
[20:30:13] [ENEMY] [Enemy6] Registered as sound listener
[20:30:13] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 19)
[20:30:13] [ENEMY] [Enemy7] Registered as sound listener
[20:30:13] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:30:13] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 20)
[20:30:13] [ENEMY] [Enemy8] Registered as sound listener
[20:30:13] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 21)
[20:30:13] [ENEMY] [Enemy9] Registered as sound listener
[20:30:13] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:30:13] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:30:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 22)
[20:30:13] [ENEMY] [Enemy10] Registered as sound listener
[20:30:13] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:30:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:30:13] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:30:13] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:30:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:30:13] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[20:30:13] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:30:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:30:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:30:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:30:13] [INFO] [LastChance] Found player: Player
[20:30:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:30:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:30:13] [INFO] [LastChance] Connected to player Died signal (C#)
[20:30:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:30:14] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:30:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:30:14] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:30:14] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,951), corner_timer=0.30
[20:30:14] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,951), corner_timer=0.30
[20:30:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,847), corner_timer=-0.02
[20:30:15] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:30:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,847), corner_timer=-0.02
[20:30:15] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:30:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,841), corner_timer=0.30
[20:30:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,841), corner_timer=0.30
[20:30:15] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:30:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(458,744), corner_timer=-0.02
[20:30:15] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:30:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(461,741), corner_timer=0.30
[20:30:15] [ENEMY] [Enemy3] Hit: dmg=10, hp=4/4->-6/4
[20:30:15] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.998639, 0.052152), lethal=true
[20:30:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:15] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.75)
[20:30:15] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:30:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:30:15] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:15] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:15] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:15] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:15] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:30:15] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 21)
[20:30:15] [INFO] [DeathAnim] Started - Angle: 3.0 deg, Index: 12
[20:30:15] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998639, 0.052152)
[20:30:15] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:30:15] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(521,756), corner_timer=-0.01
[20:30:15] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:30:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(525,759), corner_timer=0.30
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (775.2073, 802.1929) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (745.6153, 777.1318) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (782.6387, 805.6288) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (765.4805, 800.3866) (added to group)
[20:30:16] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (796.3322, 755.9668) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (777.1023, 795.8153) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (813.7586, 737.9916) (added to group)
[20:30:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(598,834), corner_timer=-0.02
[20:30:16] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (798.0621, 821.2993) (added to group)
[20:30:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(601,838), corner_timer=0.30
[20:30:16] [ENEMY] [Enemy3] Ragdoll activated
[20:30:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (823.7357, 841.4197) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (861.4025, 789.7652) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (776.3138, 784.6478) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (874.1962, 821.6562) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (846.0502, 804.6462) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (789.0232, 817.4977) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (900.5209, 873.3569) (added to group)
[20:30:16] [INFO] [BloodDecal] Blood puddle created at (851.059, 801.509) (added to group)
[20:30:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(669,914), corner_timer=-0.02
[20:30:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:30:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(673,918), corner_timer=0.30
[20:30:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:17] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[20:30:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(729,983), corner_timer=-0.02
[20:30:17] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:30:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(729,983), corner_timer=0.30
[20:30:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:17] [ENEMY] [Enemy3] Death animation completed
[20:30:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(728.8694, 983.9335), shooter_id=3058637474936, bullet_pos=(925.1188, 853.7556)
[20:30:17] [INFO] [Bullet] Using shooter_position, distance=235.499725341797
[20:30:17] [INFO] [Bullet] Distance to wall: 235.499725341797 (16.0356093443328% of viewport)
[20:30:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:17] [INFO] [Bullet] Caliber cannot penetrate walls
[20:30:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(694,983), corner_timer=-0.02
[20:30:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:30:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(689,983), corner_timer=0.30
[20:30:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:30:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:30:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:30:17] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:30:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:30:17] [ENEMY] [Enemy1] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:30:17] [ENEMY] [Enemy2] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:30:17] [ENEMY] [Enemy3] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:30:17] [ENEMY] [Enemy4] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:30:17] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:30:17] [ENEMY] [Enemy5] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:30:17] [ENEMY] [Enemy6] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:30:17] [ENEMY] [Enemy7] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:30:17] [ENEMY] [Enemy8] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:30:17] [ENEMY] [Enemy9] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:30:17] [ENEMY] [Enemy10] Death animation component initialized
[20:30:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:30:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:30:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:30:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:30:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:30:17] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[20:30:17] [INFO] [Player.Weapon] Removed default MakarovPM
[20:30:17] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[20:30:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:30:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:30:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:30:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:30:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:30:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:30:17] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:30:17] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:30:17] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:30:17] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:30:17] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[20:30:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:30:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:30:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:30:17] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[20:30:17] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[20:30:17] [INFO] [ScoreManager] Level started with 10 enemies
[20:30:17] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:30:17] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:30:17] [INFO] [ReplayManager] Replay data cleared
[20:30:17] [INFO] [BuildingLevel] Previous replay data cleared
[20:30:17] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[20:30:17] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:30:17] [INFO] [ReplayManager] Level: BuildingLevel
[20:30:17] [INFO] [ReplayManager] Player: Player (valid: True)
[20:30:17] [INFO] [ReplayManager] Enemies count: 10
[20:30:17] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:30:17] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:30:17] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:30:17] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:30:17] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:30:17] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:30:17] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:30:17] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:30:17] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:30:17] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:30:17] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:30:17] [INFO] [BuildingLevel] Replay recording started successfully
[20:30:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:30:17] [INFO] [CinemaEffects] Found player node: Player
[20:30:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 22)
[20:30:17] [ENEMY] [Enemy1] Registered as sound listener
[20:30:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 23)
[20:30:17] [ENEMY] [Enemy2] Registered as sound listener
[20:30:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 24)
[20:30:17] [ENEMY] [Enemy3] Registered as sound listener
[20:30:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 25)
[20:30:17] [ENEMY] [Enemy4] Registered as sound listener
[20:30:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 26)
[20:30:17] [ENEMY] [Enemy5] Registered as sound listener
[20:30:17] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 27)
[20:30:17] [ENEMY] [Enemy6] Registered as sound listener
[20:30:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 28)
[20:30:17] [ENEMY] [Enemy7] Registered as sound listener
[20:30:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[20:30:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 29)
[20:30:17] [ENEMY] [Enemy8] Registered as sound listener
[20:30:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 30)
[20:30:17] [ENEMY] [Enemy9] Registered as sound listener
[20:30:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:30:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:30:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 31)
[20:30:17] [ENEMY] [Enemy10] Registered as sound listener
[20:30:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:30:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:30:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:30:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:30:18] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[20:30:18] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:30:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:30:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:30:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:30:18] [INFO] [LastChance] Found player: Player
[20:30:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:30:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:30:18] [INFO] [LastChance] Connected to player Died signal (C#)
[20:30:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:30:18] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:30:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:30:19] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:30:19] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[20:30:19] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[20:30:19] [ENEMY] [Enemy3] Hit: dmg=10, hp=2/2->-8/2
[20:30:19] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999421, 0.03401), lethal=true
[20:30:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:19] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.75)
[20:30:19] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:30:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:30:19] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:19] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:19] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:19] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:19] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (700, 750), entering SEARCHING
[20:30:19] [ENEMY] [Enemy2] SEARCHING started: center=(700, 750), radius=100, waypoints=5
[20:30:19] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:30:19] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 30)
[20:30:19] [INFO] [DeathAnim] Started - Angle: 1.9 deg, Index: 12
[20:30:19] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999421, 0.03401)
[20:30:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=65.0°, current=45.0°, player=(483,728), corner_timer=0.00
[20:30:19] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[20:30:19] [INFO] [ReplayManager] Recording frame 120 (1,8s): player_valid=True, enemies=10
[20:30:20] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:30:20] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(496,729), corner_timer=-0.01
[20:30:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.1°, player=(496,729), corner_timer=-0.01
[20:30:20] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[20:30:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(499,730), corner_timer=0.30
[20:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=53.4°, player=(499,730), corner_timer=0.30
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (769.151, 771.3497) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (743.0508, 752.5128) (added to group)
[20:30:20] [ENEMY] [Enemy1] Memory: medium confidence (0.51) - transitioning to PURSUING
[20:30:20] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (756.6272, 786.452) (added to group)
[20:30:20] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=61.8°, current=-33.8°, player=(522,765), corner_timer=0.00
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (751.1435, 768.326) (added to group)
[20:30:20] [ENEMY] [Enemy1] PURSUING corner check: angle -37.5°
[20:30:20] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=69.6°, current=69.3°, player=(523,769), corner_timer=0.02
[20:30:20] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[20:30:20] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (774.0797, 743.9528) (added to group)
[20:30:20] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=70.4°, current=69.6°, player=(523,774), corner_timer=0.02
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (805.2556, 744.4156) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (820.6499, 765.8361) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (793.3091, 811.3427) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (767.2275, 805.5757) (added to group)
[20:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(524,783), corner_timer=-0.02
[20:30:20] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (832.9292, 775.4506) (added to group)
[20:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.8°, player=(524,783), corner_timer=0.30
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (833.5857, 802.3092) (added to group)
[20:30:20] [ENEMY] [Enemy3] Ragdoll activated
[20:30:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (804.7263, 775.3852) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (803.0013, 801.8502) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (785.778, 797.5137) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (869.5834, 853.4805) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (847.8532, 824.7009) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (861.9374, 777.5743) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (789.7406, 781.3802) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (796.0521, 812.4109) (added to group)
[20:30:20] [INFO] [BloodDecal] Blood puddle created at (886.3973, 764.039) (added to group)
[20:30:20] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=70.3°, current=70.4°, player=(528,784), corner_timer=0.02
[20:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(542,790), corner_timer=-0.02
[20:30:20] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:30:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(545,791), corner_timer=0.30
[20:30:20] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=60.6°, current=60.8°, player=(548,793), corner_timer=0.18
[20:30:20] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:30:20] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[20:30:20] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=56.3°, current=50.9°, player=(587,802), corner_timer=0.18
[20:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(627,801), corner_timer=-0.02
[20:30:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(632,800), corner_timer=0.30
[20:30:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.1444, 617.3247), source=ENEMY (Enemy2), range=1469, listeners=30
[20:30:21] [INFO] [SoundPropagation] Cleaned up 21 invalid listeners
[20:30:21] [ENEMY] [Enemy4] Heard gunshot at (469.1444, 617.3247), source_type=1, intensity=0.01, distance=435
[20:30:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:30:21] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-148.0°, current=-67.5°, player=(637,798), corner_timer=0.00
[20:30:21] [INFO] [LastChance] Threat detected: Bullet
[20:30:21] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.5896, 672.23), shooter_id=3143916064986, bullet_pos=(681.16125, 854.06287)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=250,00006
[20:30:21] [INFO] [Bullet] Distance to wall: 250,00006 (17,022964% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.1444, 617.3247), source=ENEMY (Enemy2), range=1469, listeners=9
[20:30:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:30:21] [INFO] [LastChance] Threat detected: @Area2D@4671
[20:30:21] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.5896, 672.23), shooter_id=3143916064986, bullet_pos=(508.96167, 986.9295)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=314,70013
[20:30:21] [INFO] [Bullet] Distance to wall: 314,70013 (21,428513% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] Starting wall penetration at (508.96167, 986.9295)
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.5896, 672.23), shooter_id=3143916064986, bullet_pos=(505.00305, 989.9839)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=317,78702
[20:30:21] [INFO] [Bullet] Distance to wall: 317,78702 (21,638702% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] Already penetrating, cannot start new penetration
[20:30:21] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:30:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,097458
[20:30:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:30:21] [INFO] [Bullet] Exiting penetration at (476.9629, 1011.61926) after traveling 35,41667 pixels through wall
[20:30:21] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(516.4395, 666.44556), shooter_id=3143916064986, bullet_pos=(708.9537, 825.9392)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=249,99986
[20:30:21] [INFO] [Bullet] Distance to wall: 249,99986 (17,022951% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.1444, 617.3247), source=ENEMY (Enemy2), range=1469, listeners=9
[20:30:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:30:21] [INFO] [LastChance] Threat detected: Bullet
[20:30:21] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:21] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(689,744), corner_timer=-0.02
[20:30:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:30:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(690,742), corner_timer=0.30
[20:30:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.937, 593.2746), source=ENEMY (Enemy2), range=1469, listeners=9
[20:30:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:30:21] [ENEMY] [Enemy3] Death animation completed
[20:30:21] [INFO] [LastChance] Threat detected: Bullet
[20:30:21] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(690.6934, 742.596), shooter_id=3147623830336, bullet_pos=(502.1292, 601.5151)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=235.5
[20:30:21] [INFO] [Bullet] Distance to wall: 235.5 (16.0356280463149% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:30:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.8279, 568.4412), source=ENEMY (Enemy2), range=1469, listeners=9
[20:30:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:30:21] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:30:21] [INFO] [LastChance] Threat detected: @Area2D@4687
[20:30:21] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:21] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=134.2°, current=37.6°, player=(685,737), corner_timer=0.02
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.1245, 635.6987), shooter_id=3143916064986, bullet_pos=(919.0237, 926.27246)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=500,00003
[20:30:21] [INFO] [Bullet] Distance to wall: 500,00003 (34,04592% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.90918, 613.2797), shooter_id=3143916064986, bullet_pos=(754.584, 830.6889)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=333,33365
[20:30:21] [INFO] [Bullet] Distance to wall: 333,33365 (22,697302% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] Starting wall penetration at (754.584, 830.6889)
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.1245, 635.6987), shooter_id=3143916064986, bullet_pos=(833.6567, 997.6098)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=484,11008
[20:30:21] [INFO] [Bullet] Distance to wall: 484,11008 (32,963947% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,521763
[20:30:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:30:21] [INFO] [Bullet] Exiting penetration at (789.95844, 861.12616) after traveling 41,666668 pixels through wall
[20:30:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:30:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:21] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:30:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(512.1245, 635.6987), shooter_id=3143916064986, bullet_pos=(687.4947, 883.1837)
[20:30:21] [INFO] [Bullet] Using shooter_position, distance=303,3208
[20:30:21] [INFO] [Bullet] Distance to wall: 303,3208 (20,653671% of viewport)
[20:30:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:21] [INFO] [Bullet] Starting wall penetration at (687.4947, 883.1837)
[20:30:21] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:30:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,585968
[20:30:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:30:21] [INFO] [Bullet] Exiting penetration at (659.8535, 861.5442) after traveling 30,104168 pixels through wall
[20:30:21] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[20:30:21] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:30:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:30:21] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:30:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:30:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:30:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:30:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:30:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:30:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:30:21] [ENEMY] [Enemy1] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:30:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:30:21] [ENEMY] [Enemy2] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:30:21] [ENEMY] [Enemy3] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:30:21] [ENEMY] [Enemy4] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:30:21] [ENEMY] [Enemy5] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:30:21] [ENEMY] [Enemy6] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:30:21] [ENEMY] [Enemy7] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:30:21] [ENEMY] [Enemy8] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:30:21] [ENEMY] [Enemy9] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:30:21] [ENEMY] [Enemy10] Death animation component initialized
[20:30:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:30:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:30:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:30:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:30:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:30:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:30:21] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[20:30:21] [INFO] [Player.Weapon] Removed default MakarovPM
[20:30:21] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[20:30:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:30:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:30:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:30:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:30:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:30:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:30:21] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:30:21] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:30:21] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:30:21] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:30:21] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[20:30:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:30:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:30:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:30:21] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[20:30:21] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[20:30:21] [INFO] [ScoreManager] Level started with 10 enemies
[20:30:21] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:30:21] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:30:21] [INFO] [ReplayManager] Replay data cleared
[20:30:21] [INFO] [BuildingLevel] Previous replay data cleared
[20:30:21] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[20:30:21] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:30:21] [INFO] [ReplayManager] Level: BuildingLevel
[20:30:21] [INFO] [ReplayManager] Player: Player (valid: True)
[20:30:21] [INFO] [ReplayManager] Enemies count: 10
[20:30:21] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:30:21] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:30:21] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:30:21] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:30:21] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:30:21] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:30:21] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:30:21] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:30:21] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:30:21] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:30:21] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:30:21] [INFO] [BuildingLevel] Replay recording started successfully
[20:30:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:30:21] [INFO] [CinemaEffects] Found player node: Player
[20:30:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:30:21] [ENEMY] [Enemy1] Registered as sound listener
[20:30:21] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:30:21] [ENEMY] [Enemy2] Registered as sound listener
[20:30:21] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:30:21] [ENEMY] [Enemy3] Registered as sound listener
[20:30:21] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:30:21] [ENEMY] [Enemy4] Registered as sound listener
[20:30:21] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:30:21] [ENEMY] [Enemy5] Registered as sound listener
[20:30:21] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:30:21] [ENEMY] [Enemy6] Registered as sound listener
[20:30:21] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:30:21] [ENEMY] [Enemy7] Registered as sound listener
[20:30:21] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[20:30:21] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:30:21] [ENEMY] [Enemy8] Registered as sound listener
[20:30:21] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:30:21] [ENEMY] [Enemy9] Registered as sound listener
[20:30:21] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:30:21] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:30:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:30:21] [ENEMY] [Enemy10] Registered as sound listener
[20:30:21] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[20:30:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:30:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:30:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:30:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:30:22] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[20:30:22] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:30:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:30:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:30:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:30:22] [INFO] [LastChance] Found player: Player
[20:30:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:30:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:30:22] [INFO] [LastChance] Connected to player Died signal (C#)
[20:30:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[20:30:22] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:30:23] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[20:30:23] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:30:23] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[20:30:23] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[20:30:23] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:30:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:30:23] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:30:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.3°, current=168.8°, player=(454,783), corner_timer=0.00
[20:30:23] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(454,783), corner_timer=0.30
[20:30:23] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(454,783), corner_timer=0.30
[20:30:23] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[20:30:23] [ENEMY] [Enemy3] Hit: dmg=10, hp=4/4->-6/4
[20:30:23] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.991352, -0.131228), lethal=true
[20:30:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:23] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=0.75)
[20:30:23] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:30:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:30:23] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:23] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:23] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:23] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:23] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (684.4485, 753.7583), entering SEARCHING
[20:30:23] [ENEMY] [Enemy2] SEARCHING started: center=(684.4485, 753.7583), radius=100, waypoints=5
[20:30:23] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:30:23] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 18)
[20:30:23] [INFO] [DeathAnim] Started - Angle: -7.5 deg, Index: 11
[20:30:23] [ENEMY] [Enemy3] Death animation started with hit direction: (0.991352, -0.131228)
[20:30:23] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=63.9°, current=45.0°, player=(494,742), corner_timer=0.00
[20:30:23] [ENEMY] [Enemy2] SEARCHING corner check: angle 134.2°
[20:30:23] [INFO] [ReplayManager] Recording frame 120 (1,8s): player_valid=True, enemies=10
[20:30:23] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:30:23] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(516,739), corner_timer=-0.01
[20:30:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.1°, player=(516,739), corner_timer=-0.01
[20:30:24] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[20:30:24] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=60.2°, current=63.7°, player=(519,739), corner_timer=0.20
[20:30:24] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[20:30:24] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[20:30:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(519,739), corner_timer=0.30
[20:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=53.4°, player=(519,739), corner_timer=0.30
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (753.8807, 762.7876) (added to group)
[20:30:24] [ENEMY] [Enemy4] PURSUING corner check: angle -90.4°
[20:30:24] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-127.8°, current=-85.5°, player=(542,760), corner_timer=0.30
[20:30:24] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:30:24] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[20:30:24] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (739.6868, 761.8335) (added to group)
[20:30:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=59.7°, current=-33.8°, player=(544,768), corner_timer=0.00
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (779.2473, 746.7184) (added to group)
[20:30:24] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-126.5°, current=-70.2°, player=(545,772), corner_timer=0.30
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (780.041, 765.6931) (added to group)
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (767.181, 814.8496) (added to group)
[20:30:24] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=60.4°, current=62.4°, player=(547,786), corner_timer=0.20
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (792.8418, 786.2648) (added to group)
[20:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(547,802), corner_timer=-0.02
[20:30:24] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (793.7735, 790.4105) (added to group)
[20:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.8°, player=(547,808), corner_timer=0.30
[20:30:24] [ENEMY] [Enemy1] PURSUING corner check: angle -90.0°
[20:30:24] [ENEMY] [Enemy3] Ragdoll activated
[20:30:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (755.9785, 770.9445) (added to group)
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (825.2676, 837.5856) (added to group)
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (808.3478, 828.025) (added to group)
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (845.67, 867.6082) (added to group)
[20:30:24] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-147.6°, current=-99.3°, player=(547,846), corner_timer=0.30
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (837.4519, 794.7469) (added to group)
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (820.7243, 733.0038) (added to group)
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (826.0323, 771.7367) (added to group)
[20:30:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:30:24] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=75.1°, current=26.4°, player=(547,879), corner_timer=0.12
[20:30:24] [INFO] [BloodDecal] Blood puddle created at (854.6891, 750.0352) (added to group)
[20:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(547,912), corner_timer=-0.02
[20:30:24] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:30:24] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:30:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(547,917), corner_timer=0.30
[20:30:24] [ENEMY] [Enemy4] Hit: dmg=10, hp=4/4->-6/4
[20:30:24] [INFO] [ImpactEffects] spawn_blood_effect called at (648.0016, 910.6109), dir=(1, -0.000436), lethal=true
[20:30:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:24] [INFO] [ImpactEffects] Blood effect spawned at (648.0016, 910.6109) (scale=0.75)
[20:30:24] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:30:24] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:30:24] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:24] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:24] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:24] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:24] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[20:30:24] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 17)
[20:30:24] [INFO] [DeathAnim] Started - Angle: -0.0 deg, Index: 11
[20:30:24] [ENEMY] [Enemy4] Death animation started with hit direction: (1, -0.000436)
[20:30:24] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=80.2°, current=132.5°, player=(547,927), corner_timer=0.00
[20:30:24] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=80.2°, current=129.5°, player=(547,931), corner_timer=0.00
[20:30:24] [INFO] [ReplayManager] Recording frame 180 (2,6s): player_valid=True, enemies=10
[20:30:25] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:30:25] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (715.4068, 905.5043) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (696.3164, 934.1696) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (687.9942, 937.5679) (added to group)
[20:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(547,957), corner_timer=-0.01
[20:30:25] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (691.3416, 941.0203) (added to group)
[20:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(547,956), corner_timer=0.30
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (752.2698, 930.3449) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (738.9008, 903.3773) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (741.4341, 900.4614) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (752.7247, 890.9446) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (757.1263, 914.7401) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (761.0183, 913.0837) (added to group)
[20:30:25] [ENEMY] [Enemy4] Ragdoll activated
[20:30:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (768.8377, 928.3029) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (770.7758, 939.894) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (747.4124, 965.8138) (added to group)
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (764.9232, 941.3918) (added to group)
[20:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(598,900), corner_timer=-0.02
[20:30:25] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[20:30:25] [INFO] [BloodDecal] Blood puddle created at (772.5038, 966.8508) (added to group)
[20:30:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(602,896), corner_timer=0.30
[20:30:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=59.0°, current=59.8°, player=(613,885), corner_timer=0.20
[20:30:25] [ENEMY] [Enemy3] Death animation completed
[20:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.9345, 596.5447), source=ENEMY (Enemy1), range=1469, listeners=17
[20:30:25] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:30:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:30:25] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:30:25] [INFO] [LastChance] Threat detected: Bullet
[20:30:25] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:25] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[20:30:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.6601, 626.1511), source=ENEMY (Enemy1), range=1469, listeners=8
[20:30:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[20:30:25] [INFO] [LastChance] Threat detected: @Area2D@5009
[20:30:25] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:26] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(527.10913, 683.1456), shooter_id=3255417442236, bullet_pos=(688.0255, 874.47253)
[20:30:26] [INFO] [Bullet] Using shooter_position, distance=250,00014
[20:30:26] [INFO] [Bullet] Distance to wall: 250,00014 (17,022968% of viewport)
[20:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:26] [INFO] [Bullet] Starting wall penetration at (688.0255, 874.47253)
[20:30:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.0897, 645.7295), source=ENEMY (Enemy1), range=1469, listeners=8
[20:30:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[20:30:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,377533
[20:30:26] [INFO] [Bullet] Body exited signal received for penetrating body
[20:30:26] [INFO] [Bullet] Exiting penetration at (718.06323, 910.1869) after traveling 41,66667 pixels through wall
[20:30:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:30:26] [INFO] [LastChance] Threat detected: Bullet
[20:30:26] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.9074, 698.1051), shooter_id=3255417442236, bullet_pos=(704.42944, 827.1917)
[20:30:26] [INFO] [Bullet] Using shooter_position, distance=208,3334
[20:30:26] [INFO] [Bullet] Distance to wall: 208,3334 (14,185805% of viewport)
[20:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:26] [ENEMY] [Enemy1] Hit: dmg=10, hp=2/2->-8/2
[20:30:26] [INFO] [ImpactEffects] spawn_blood_effect called at (472.7512, 650.8765), dir=(-0.738454, -0.674303), lethal=true
[20:30:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:26] [INFO] [ImpactEffects] Blood effect spawned at (472.7512, 650.8765) (scale=0.75)
[20:30:26] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:30:26] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:30:26] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:26] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:26] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:26] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:26] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[20:30:26] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[20:30:26] [INFO] [DeathAnim] Started - Angle: -137.6 deg, Index: 2
[20:30:26] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.738454, -0.674303)
[20:30:26] [ENEMY] [Enemy2] Hit: dmg=10, hp=2/2->-8/2
[20:30:26] [INFO] [ImpactEffects] spawn_blood_effect called at (479.3531, 639.0845), dir=(-0.738454, -0.674303), lethal=true
[20:30:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:26] [INFO] [ImpactEffects] Blood effect spawned at (479.3531, 639.0845) (scale=0.75)
[20:30:26] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:30:26] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:30:26] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:26] [INFO] [PowerFantasy] Effect timer reset to 300ms
[20:30:26] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[20:30:26] [INFO] [DeathAnim] Started - Angle: -137.6 deg, Index: 2
[20:30:26] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.738454, -0.674303)
[20:30:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-130.2°, player=(655,764), corner_timer=-0.02
[20:30:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[20:30:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-130.4°, player=(655,763), corner_timer=0.30
[20:30:26] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[20:30:26] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.9074, 698.1051), shooter_id=3255417442236, bullet_pos=(933.0564, 608.08636)
[20:30:26] [INFO] [Bullet] Using shooter_position, distance=402,34836
[20:30:26] [INFO] [Bullet] Distance to wall: 402,34836 (27,39664% of viewport)
[20:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (447.7107, 633.3063) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (437.2015, 585.4071) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (376.0551, 643.465) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (450.208, 622.9543) (added to group)
[20:30:26] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:30:26] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (422.2029, 650.9719) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (426.6454, 604.0908) (added to group)
[20:30:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=175.9°, player=(611,717), corner_timer=-0.01
[20:30:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (430.4623, 644.4009) (added to group)
[20:30:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.7°, player=(611,716), corner_timer=0.30
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (425.603, 564.5905) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (396.8362, 633.6338) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (443.3257, 606.4509) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (449.7145, 619.6375) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (423.4097, 624.5195) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (441.5284, 631.2816) (added to group)
[20:30:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.9074, 698.1051), shooter_id=3255417442236, bullet_pos=(519.7815, 297.83527)
[20:30:26] [INFO] [Bullet] Using shooter_position, distance=400,82693
[20:30:26] [INFO] [Bullet] Distance to wall: 400,82693 (27,293045% of viewport)
[20:30:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:30:26] [ENEMY] [Enemy4] Death animation completed
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (418.052, 550.4875) (added to group)
[20:30:26] [ENEMY] [Enemy1] Ragdoll activated
[20:30:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:26] [ENEMY] [Enemy2] Ragdoll activated
[20:30:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (402.2856, 588.8672) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (355.5072, 639.7753) (added to group)
[20:30:26] [INFO] [ReplayManager] Recording frame 300 (4,2s): player_valid=True, enemies=10
[20:30:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (393.427, 679.7826) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (432.1295, 639.1904) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (422.1998, 645.6823) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (432.7985, 621.7751) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (350.6901, 581.5742) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (410.3567, 627.528) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (405.919, 636.8847) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (387.9854, 651.22) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (329.1229, 613.9217) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (376.1073, 679.9457) (added to group)
[20:30:26] [INFO] [BloodDecal] Blood puddle created at (402.2636, 598.9776) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (375.7093, 627.2701) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (353.2174, 639.3007) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (423.1823, 609.6177) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (329.2705, 644.1797) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (338.6495, 623.3654) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (384.1747, 638.0266) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (389.9903, 626.8344) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (432.0031, 639.6975) (added to group)
[20:30:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.3°, current=124.1°, player=(623,648), corner_timer=-0.02
[20:30:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (307.4136, 685.9993) (added to group)
[20:30:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=127.0°, player=(623,643), corner_timer=0.30
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (334.5919, 608.475) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (368.2093, 542.6913) (added to group)
[20:30:27] [INFO] [BloodDecal] Blood puddle created at (429.7593, 647.0969) (added to group)
[20:30:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.9074, 698.1051), shooter_id=3255417442236, bullet_pos=(922.35693, 63.93316)
[20:30:27] [INFO] [Bullet] Using shooter_position, distance=740,05255
[20:30:27] [INFO] [Bullet] Distance to wall: 740,05255 (50,391544% of viewport)
[20:30:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(634,543), corner_timer=-0.02
[20:30:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:30:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(637,538), corner_timer=0.30
[20:30:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.9074, 698.1051), shooter_id=3255417442236, bullet_pos=(1365.416, 349.30002)
[20:30:27] [INFO] [Bullet] Using shooter_position, distance=895,25385
[20:30:27] [INFO] [Bullet] Distance to wall: 895,25385 (60,95948% of viewport)
[20:30:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(710,464), corner_timer=-0.02
[20:30:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:30:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(713,460), corner_timer=0.30
[20:30:27] [ENEMY] [Enemy2] Death animation completed
[20:30:27] [ENEMY] [Enemy1] Death animation completed
[20:30:27] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[20:30:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(804,426), corner_timer=-0.02
[20:30:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(809,426), corner_timer=0.30
[20:30:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(908,411), corner_timer=-0.02
[20:30:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(913,411), corner_timer=0.30
[20:30:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(1018,411), corner_timer=-0.02
[20:30:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1023,411), corner_timer=0.30
[20:30:28] [INFO] [ReplayManager] Recording frame 420 (6,2s): player_valid=True, enemies=10
[20:30:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1128,411), corner_timer=-0.02
[20:30:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1133,411), corner_timer=0.30
[20:30:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1238,411), corner_timer=-0.02
[20:30:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1243,411), corner_timer=0.30
[20:30:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1331,371), corner_timer=-0.02
[20:30:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1335,367), corner_timer=0.30
[20:30:29] [INFO] [ReplayManager] Recording frame 480 (7,2s): player_valid=True, enemies=10
[20:30:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1347,270), corner_timer=-0.02
[20:30:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,264), corner_timer=0.30
[20:30:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1351,161), corner_timer=-0.02
[20:30:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1352,156), corner_timer=0.30
[20:30:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1418,80), corner_timer=-0.02
[20:30:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1422,80), corner_timer=0.30
[20:30:30] [INFO] [ReplayManager] Recording frame 540 (8,2s): player_valid=True, enemies=10
[20:30:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1517,80), corner_timer=-0.02
[20:30:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1521,80), corner_timer=0.30
[20:30:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1537,85), corner_timer=-0.02
[20:30:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:31] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[20:30:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1536,86), corner_timer=0.30
[20:30:31] [ENEMY] [Enemy6] Hit: dmg=10, hp=2/2->-8/2
[20:30:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.76524, 0.643744), lethal=true
[20:30:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:31] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=0.75)
[20:30:31] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:30:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:30:31] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:31] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:31] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:31] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:31] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[20:30:31] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[20:30:31] [INFO] [DeathAnim] Started - Angle: 40.1 deg, Index: 14
[20:30:31] [ENEMY] [Enemy6] Death animation started with hit direction: (0.76524, 0.643744)
[20:30:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:31] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:30:31] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:31] [INFO] [ReplayManager] Recording frame 600 (8,9s): player_valid=True, enemies=10
[20:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(1500,155), corner_timer=-0.01
[20:30:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (1984.455, 511.9239) (added to group)
[20:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1496,158), corner_timer=0.30
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (1981.718, 497.5265) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2019.861, 509.9445) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (1992.541, 501.6969) (added to group)
[20:30:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2000.147, 554.7888) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (1997.484, 554.8337) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2006.961, 515.506) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2057.018, 525.4461) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (1998.606, 580.7952) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2075.609, 569.5449) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2047.311, 527.5596) (added to group)
[20:30:32] [ENEMY] [Enemy6] Ragdoll activated
[20:30:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2088.345, 599.3223) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (1993.166, 580.6475) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2059.933, 599.3957) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2034.583, 683.6403) (added to group)
[20:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1443,241), corner_timer=-0.02
[20:30:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1443,246), corner_timer=0.30
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2124.302, 603.9884) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2034.609, 590.1184) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2044.536, 686.4998) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2060.519, 582.0716) (added to group)
[20:30:32] [INFO] [BloodDecal] Blood puddle created at (2077.649, 639.6498) (added to group)
[20:30:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:32] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-169.4°, current=146.3°, player=(1443,301), corner_timer=0.00
[20:30:32] [ENEMY] [Enemy5] State: IDLE -> COMBAT
[20:30:32] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:30:32] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-73.9°, current=131.0°, player=(1443,318), corner_timer=0.00
[20:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1443,351), corner_timer=-0.02
[20:30:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:30:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(1443,356), corner_timer=0.30
[20:30:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:32] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:30:32] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:32] [INFO] [ReplayManager] Recording frame 660 (9,9s): player_valid=True, enemies=10
[20:30:32] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:32] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1457,455), corner_timer=-0.02
[20:30:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1460,459), corner_timer=0.30
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [ENEMY] [Enemy6] Death animation completed
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1539,520), corner_timer=-0.02
[20:30:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1544,520), corner_timer=0.30
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1443.18, 411.7253), shooter_id=3259477527818, bullet_pos=(2476.094, 62.04148)
[20:30:33] [INFO] [Bullet] Using shooter_position, distance=1090.49951171875
[20:30:33] [INFO] [Bullet] Distance to wall: 1090.49951171875 (74.2541170047131% of viewport)
[20:30:33] [INFO] [Bullet] Distance-based penetration chance: 60.0368634945013%
[20:30:33] [INFO] [Bullet] Penetration failed (distance roll)
[20:30:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1443.18, 411.7253), shooter_id=3259477527818, bullet_pos=(2476.094, 62.04148)
[20:30:33] [INFO] [Bullet] Using shooter_position, distance=1090.49951171875
[20:30:33] [INFO] [Bullet] Distance to wall: 1090.49951171875 (74.2541170047131% of viewport)
[20:30:33] [INFO] [Bullet] Distance-based penetration chance: 60.0368634945013%
[20:30:33] [INFO] [Bullet] Caliber cannot penetrate walls
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1638,497), corner_timer=-0.02
[20:30:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1642,493), corner_timer=0.30
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:33] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:33] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:33] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:33] [INFO] [ReplayManager] Recording frame 720 (10,9s): player_valid=True, enemies=10
[20:30:34] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:34] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:34] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1715,419), corner_timer=-0.02
[20:30:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1719,415), corner_timer=0.30
[20:30:34] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:34] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:34] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:34] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:34] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:30:34] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:30:34] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:30:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1735,317), corner_timer=-0.02
[20:30:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1735,312), corner_timer=0.30
[20:30:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1735,207), corner_timer=-0.02
[20:30:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1735,202), corner_timer=0.30
[20:30:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:34] [INFO] [ReplayManager] Recording frame 780 (11,9s): player_valid=True, enemies=10
[20:30:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1709,112), corner_timer=-0.02
[20:30:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1706,110), corner_timer=0.30
[20:30:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1610,98), corner_timer=-0.02
[20:30:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1605,98), corner_timer=0.30
[20:30:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:35] [ENEMY] [Enemy5] Hit: dmg=10, hp=3/3->-7/3
[20:30:35] [INFO] [ImpactEffects] spawn_blood_effect called at (1429.906, 291.1555), dir=(-0.60157, 0.79882), lethal=true
[20:30:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:35] [INFO] [ImpactEffects] Wall found for blood splatter at (1388, 346.8018) (dist=69 px)
[20:30:35] [INFO] [BloodDecal] Blood puddle created at (1389, 346.8018) (added to group)
[20:30:35] [INFO] [ImpactEffects] Blood effect spawned at (1429.906, 291.1555) (scale=0.75)
[20:30:35] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[20:30:35] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:30:35] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:35] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:35] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:35] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:35] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[20:30:35] [INFO] [DeathAnim] Started - Angle: 127.0 deg, Index: 20
[20:30:35] [ENEMY] [Enemy5] Death animation started with hit direction: (-0.60157, 0.79882)
[20:30:35] [INFO] [ReplayManager] Recording frame 840 (12,7s): player_valid=True, enemies=10
[20:30:35] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:30:35] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.4°, player=(1540,99), corner_timer=-0.01
[20:30:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1539,100), corner_timer=0.30
[20:30:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:36] [INFO] [BloodDecal] Blood puddle created at (1388.975, 353.4421) (added to group)
[20:30:36] [INFO] [BloodDecal] Blood puddle created at (1401.804, 366.2113) (added to group)
[20:30:36] [INFO] [BloodDecal] Blood puddle created at (1394.164, 403.788) (added to group)
[20:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(1533,175), corner_timer=-0.02
[20:30:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(1532,181), corner_timer=0.30
[20:30:36] [ENEMY] [Enemy5] Ragdoll activated
[20:30:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:36] [INFO] [BloodDecal] Blood puddle created at (1410.087, 453.3896) (added to group)
[20:30:36] [INFO] [BloodDecal] Blood puddle created at (1400.577, 463.7326) (added to group)
[20:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(1508,275), corner_timer=-0.02
[20:30:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1508,281), corner_timer=0.30
[20:30:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:36] [INFO] [ReplayManager] Recording frame 900 (13,7s): player_valid=True, enemies=10
[20:30:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1525,378), corner_timer=-0.02
[20:30:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:30:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(1528,382), corner_timer=0.30
[20:30:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(1602,456), corner_timer=-0.02
[20:30:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1606,460), corner_timer=0.30
[20:30:37] [ENEMY] [Enemy5] Death animation completed
[20:30:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1680,534), corner_timer=-0.02
[20:30:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1684,538), corner_timer=0.30
[20:30:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:37] [INFO] [ReplayManager] Recording frame 960 (14,7s): player_valid=True, enemies=10
[20:30:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1758,583), corner_timer=-0.02
[20:30:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1762,583), corner_timer=0.30
[20:30:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1835,618), corner_timer=-0.02
[20:30:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1839,622), corner_timer=0.30
[20:30:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1913,696), corner_timer=-0.02
[20:30:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1917,700), corner_timer=0.30
[20:30:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:38] [INFO] [ReplayManager] Recording frame 1020 (15,7s): player_valid=True, enemies=10
[20:30:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1976,769), corner_timer=-0.02
[20:30:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1978,772), corner_timer=0.30
[20:30:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1984,781), corner_timer=-0.02
[20:30:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:30:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1984,781), corner_timer=0.30
[20:30:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:39] [ENEMY] [Enemy7] Hit: dmg=10, hp=2/2->-8/2
[20:30:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1611.333, 898.8603), dir=(-0.935623, 0.353001), lethal=true
[20:30:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:39] [INFO] [ImpactEffects] Wall found for blood splatter at (1581.807, 910) (dist=31 px)
[20:30:39] [INFO] [BloodDecal] Blood puddle created at (1581.807, 909) (added to group)
[20:30:39] [INFO] [ImpactEffects] Blood effect spawned at (1611.333, 898.8603) (scale=0.75)
[20:30:39] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[20:30:39] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:30:39] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:39] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:39] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:39] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:39] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[20:30:39] [INFO] [DeathAnim] Started - Angle: 159.3 deg, Index: 22
[20:30:39] [ENEMY] [Enemy7] Death animation started with hit direction: (-0.935623, 0.353001)
[20:30:39] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:30:39] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:39] [INFO] [ReplayManager] Recording frame 1080 (16,4s): player_valid=True, enemies=10
[20:30:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:40] [ENEMY] [Enemy7] Ragdoll activated
[20:30:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:30:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1984,926), corner_timer=0.27
[20:30:40] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:30:40] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.6°, current=-134.8°, player=(1984,937), corner_timer=0.27
[20:30:40] [ENEMY] [Enemy7] Death animation completed
[20:30:40] [INFO] [ReplayManager] Recording frame 1140 (17,4s): player_valid=True, enemies=10
[20:30:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:30:41] [INFO] [ReplayManager] Recording frame 1200 (18,4s): player_valid=True, enemies=10
[20:30:42] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-91.4°, current=-101.3°, player=(2090,1171), corner_timer=0.00
[20:30:42] [ENEMY] [Enemy9] State: IDLE -> COMBAT
[20:30:42] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-89.7°, current=173.9°, player=(2101,1172), corner_timer=0.00
[20:30:42] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-79.6°, current=-129.6°, player=(2163,1172), corner_timer=0.00
[20:30:42] [ENEMY] [Enemy9] Hit: dmg=10, hp=4/4->-6/4
[20:30:42] [INFO] [ImpactEffects] spawn_blood_effect called at (2114.499, 1439.398), dir=(-0.189691, 0.981844), lethal=true
[20:30:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:42] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:42] [INFO] [ImpactEffects] Blood effect spawned at (2114.499, 1439.398) (scale=0.75)
[20:30:42] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[20:30:42] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:30:42] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:42] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:42] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:42] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:42] [ENEMY] [Enemy9] [AllyDeath] Notified 1 enemies
[20:30:42] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 2)
[20:30:42] [INFO] [DeathAnim] Started - Angle: 100.9 deg, Index: 18
[20:30:42] [ENEMY] [Enemy9] Death animation started with hit direction: (-0.189691, 0.981844)
[20:30:42] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:30:42] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:42] [INFO] [ReplayManager] Recording frame 1260 (19,1s): player_valid=True, enemies=10
[20:30:43] [ENEMY] [Enemy10] PURSUING corner check: angle 59.6°
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2126.053, 1532.752) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2098.143, 1555.147) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2082.493, 1522.641) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2110.867, 1594.62) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2057.636, 1591.865) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2090.603, 1578.095) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2069.251, 1540.92) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2089.244, 1615.038) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2035.117, 1619.171) (added to group)
[20:30:43] [ENEMY] [Enemy9] Ragdoll activated
[20:30:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2114.607, 1647.022) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2073.289, 1632.611) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2142.233, 1681.447) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2114.617, 1716.027) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2092.835, 1638.667) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2130.195, 1714.24) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2081.445, 1667.45) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2013.33, 1663.383) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (1987.44, 1718.855) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2004.702, 1699.061) (added to group)
[20:30:43] [INFO] [BloodDecal] Blood puddle created at (2091.731, 1638.955) (added to group)
[20:30:43] [INFO] [ReplayManager] Recording frame 1320 (20,1s): player_valid=True, enemies=10
[20:30:44] [ENEMY] [Enemy9] Death animation completed
[20:30:44] [ENEMY] [Enemy10] Warning: No valid flank position (both sides behind walls)
[20:30:44] [ENEMY] [Enemy10] FLANKING started: target=(2138.917, 1459.709), side=left, pos=(1369.774, 1444.898)
[20:30:44] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:30:44] [ENEMY] [Enemy10] FLANKING corner check: angle 157.6°
[20:30:44] [INFO] [ReplayManager] Recording frame 1380 (21,1s): player_valid=True, enemies=10
[20:30:45] [ENEMY] [Enemy10] FLANKING corner check: angle -118.2°
[20:30:45] [ENEMY] [Enemy8] Hit: dmg=10, hp=2/2->-8/2
[20:30:45] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.861826, 0.507203), lethal=true
[20:30:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:45] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:45] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=0.75)
[20:30:45] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[20:30:45] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[20:30:45] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:45] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:45] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:45] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:45] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[20:30:45] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 1)
[20:30:45] [INFO] [DeathAnim] Started - Angle: 149.5 deg, Index: 21
[20:30:45] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.861826, 0.507203)
[20:30:45] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:30:45] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:45] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-2.5°, current=-2.9°, player=(2168,1278), corner_timer=0.09
[20:30:45] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:30:45] [INFO] [BloodDecal] Blood puddle created at (1835.195, 1491.104) (added to group)
[20:30:45] [INFO] [ReplayManager] Recording frame 1440 (21,9s): player_valid=True, enemies=10
[20:30:45] [INFO] [BloodDecal] Blood puddle created at (1832.537, 1547.426) (added to group)
[20:30:45] [INFO] [BloodDecal] Blood puddle created at (1834.079, 1526.916) (added to group)
[20:30:45] [INFO] [BloodDecal] Blood puddle created at (1781.421, 1500.406) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1832.526, 1500.361) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1833.988, 1516.25) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1789.869, 1569.175) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1760.462, 1543.112) (added to group)
[20:30:46] [ENEMY] [Enemy8] Ragdoll activated
[20:30:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1822.345, 1559.636) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1802.157, 1601.433) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1828.701, 1606.864) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1805.808, 1621.351) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1807.398, 1617.956) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1813.271, 1595.707) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1774.224, 1603.115) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1771.103, 1652.654) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1710.399, 1660.25) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1790.997, 1634.081) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1738.022, 1710.607) (added to group)
[20:30:46] [INFO] [BloodDecal] Blood puddle created at (1774.472, 1626.069) (added to group)
[20:30:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1798.188, 1295.243), source=ENEMY (Enemy10), range=1469, listeners=1
[20:30:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[20:30:46] [INFO] [LastChance] Threat detected: Bullet
[20:30:46] [INFO] [LastChance] Not in hard mode - effect disabled
[20:30:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:30:46] [ENEMY] [Enemy10] Hit: dmg=10, hp=3/3->-7/3
[20:30:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1798.188, 1295.243), dir=(-0.944639, -0.328111), lethal=true
[20:30:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:30:46] [INFO] [ImpactEffects] Blood effect spawned at (1798.188, 1295.243) (scale=0.75)
[20:30:46] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:30:46] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[20:30:46] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:30:46] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:30:46] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:30:46] [INFO] [PowerFantasy]   - Duration: 300ms
[20:30:46] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[20:30:46] [INFO] [DeathAnim] Started - Angle: -160.8 deg, Index: 1
[20:30:46] [ENEMY] [Enemy10] Death animation started with hit direction: (-0.944639, -0.328111)
[20:30:46] [INFO] [Player] Spawning blood effect at (1994.9493, 1380.5167), dir=(1, 0), lethal=False (C#)
[20:30:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1994.949, 1380.517), dir=(1, 0), lethal=false
[20:30:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:30:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:30:46] [INFO] [ImpactEffects] Blood effect spawned at (1994.949, 1380.517) (scale=1)
[20:30:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:30:46] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:30:46] [INFO] [ReplayManager] Recording frame 1500 (22,6s): player_valid=True, enemies=10
[20:30:46] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[20:30:46] [INFO] [PowerFantasy] Ending power fantasy effect
[20:30:47] [ENEMY] [Enemy8] Death animation completed
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1723.265, 1320.958) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1748.044, 1302.252) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1718.668, 1249.957) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1747.339, 1296.175) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1757.42, 1289.568) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1742.56, 1291.536) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2069.419, 1384.426) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2064.607, 1416.888) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2066.601, 1424.161) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1668.197, 1266.45) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2102.924, 1376.602) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1701.025, 1294.832) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2114.238, 1360.716) (added to group)
[20:30:47] [ENEMY] [Enemy10] Ragdoll activated
[20:30:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2089.702, 1475.666) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1673.615, 1275.67) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2072.682, 1405.353) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2134.17, 1367.75) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1690.697, 1286.376) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2072.964, 1464.261) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1713.787, 1354.111) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1721.577, 1293.745) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (1717.87, 1330.363) (added to group)
[20:30:47] [INFO] [BloodDecal] Blood puddle created at (2159.686, 1437.477) (added to group)
[20:30:47] [INFO] [ReplayManager] Recording frame 1560 (23,6s): player_valid=True, enemies=10
[20:30:47] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:30:48] [ENEMY] [Enemy10] Death animation completed
[20:30:48] [INFO] [ReplayManager] Recording frame 1620 (24,6s): player_valid=True, enemies=10
[20:30:49] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:30:49] [INFO] [ReplayManager] Recording frame 1680 (25,6s): player_valid=True, enemies=10
[20:30:50] [INFO] [ReplayManager] Recording frame 1740 (26,6s): player_valid=True, enemies=10
[20:30:51] [INFO] [ScoreManager] Combo ended at 6. Max combo: 6
[20:30:51] [INFO] [ReplayManager] Recording frame 1800 (27,6s): player_valid=True, enemies=10
[20:30:52] [INFO] [ReplayManager] Recording frame 1860 (28,6s): player_valid=True, enemies=10
[20:30:53] [INFO] [BuildingLevel] Player controls disabled (level completed)
[20:30:53] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[20:30:53] [INFO] [ReplayManager] Total frames recorded: 1875
[20:30:53] [INFO] [ReplayManager] Total duration: 28,80s
[20:30:53] [INFO] [ReplayManager] Blood decals at end: 159 (baseline at frame 0: 0)
[20:30:53] [INFO] [ReplayManager] Casings at end: 13 (baseline at frame 0: 0)
[20:30:53] [INFO] [ReplayManager] Footprints recorded: 12
[20:30:53] [INFO] [ReplayManager] has_replay() will return: True
[20:30:53] [INFO] [BuildingLevel] Replay recording stopped
[20:30:53] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=28.80s
[20:30:53] [INFO] [ProgressManager] Progress saved for res://scenes/levels/BuildingLevel.tscn on Power Fantasy: rank=A+, score=44700
[20:30:53] [INFO] [ScoreManager] Level completed! Final score: 44700, Rank: A+
[20:30:57] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[20:31:00] [INFO] [BuildingLevel] Watch Replay triggered
[20:31:00] [INFO] [ReplayManager] Progressive floor state: blood=159 (baseline=0, to spawn=159), casings=13 (baseline=0, to spawn=13), footprints=12 (baseline=0)
[20:31:00] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:31:00] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[20:31:00] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[20:31:00] [INFO] [ReplayManager] Ghost filter overlay created (screen-texture shader)
[20:31:00] [INFO] [ReplayManager] DisableAllReplayEffects: CinemaEffects disabled
[20:31:00] [INFO] [ReplayManager] DisableAllReplayEffects: HitEffects reset
[20:31:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:31:00] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:31:00] [INFO] [ReplayManager] DisableAllReplayEffects: PenultimateHitEffects reset
[20:31:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:31:00] [INFO] [ReplayManager] DisableAllReplayEffects: PowerFantasyEffects reset
[20:31:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:31:00] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:31:00] [INFO] [ReplayManager] DisableAllReplayEffects: LastChanceEffects reset
[20:31:00] [INFO] [ReplayManager] Started replay playback. Frames: 1875, Duration: 28,80s, Mode: Ghost
[20:31:21] [INFO] [ReplayManager] Replay mode changed to: Memory
[20:31:21] [INFO] [ReplayManager] DisableAllReplayEffects: CinemaEffects disabled
[20:31:21] [INFO] [ReplayManager] DisableAllReplayEffects: HitEffects reset
[20:31:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:31:21] [INFO] [ReplayManager] DisableAllReplayEffects: PenultimateHitEffects reset
[20:31:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:31:21] [INFO] [ReplayManager] DisableAllReplayEffects: PowerFantasyEffects reset
[20:31:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:31:21] [INFO] [ReplayManager] DisableAllReplayEffects: LastChanceEffects reset
[20:31:21] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[20:31:21] [INFO] [ReplayManager] Memory mode activated: reset progressive floor state, will spawn up to time 21,12s
[20:31:21] [INFO] [ReplayManager] Replay restarted from beginning after mode switch to Memory
[20:31:23] [INFO] [ReplayManager] Spawned 1 replay casings (total: 1/1)
[20:31:23] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 1/1)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 2/2)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 3/3)
[20:31:24] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 5/5)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 6/6)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 7/7)
[20:31:24] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 9/9)
[20:31:24] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 11/11)
[20:31:24] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 13/13)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 14/14)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 15/15)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay casings (total: 2/2)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 16/16)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 17/17)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 18/18)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 19/19)
[20:31:24] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 21/21)
[20:31:24] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 22/22)
[20:31:24] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 24/24)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 25/25)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 26/26)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 27/27)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 28/28)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 29/29)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 30/30)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay casings (total: 3/3)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay casings (total: 4/4)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay casings (total: 5/5)
[20:31:25] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 31/31)
[20:31:25] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 34/34)
[20:31:26] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 36/36)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 37/37)
[20:31:26] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 39/39)
[20:31:26] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 41/41)
[20:31:26] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 43/43)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 44/44)
[20:31:26] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 46/46)
[20:31:26] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 51/51)
[20:31:26] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 54/54)
[20:31:26] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 57/57)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 58/58)
[20:31:26] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 63/63)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 64/64)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 65/65)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 66/66)
[20:31:26] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 68/68)
[20:31:26] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 69/69)
[20:31:30] [INFO] [ReplayManager] Spawned 1 replay casings (total: 6/6)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 70/70)
[20:31:31] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 72/72)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 73/73)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 74/74)
[20:31:31] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 76/76)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 77/77)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 78/78)
[20:31:31] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 80/80)
[20:31:31] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 82/82)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 83/83)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 84/84)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 85/85)
[20:31:31] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 87/87)
[20:31:31] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 89/89)
[20:31:31] [INFO] [ReplayManager] Spawned 1 replay casings (total: 7/7)
[20:31:34] [INFO] [ReplayManager] Spawned 1 replay casings (total: 8/8)
[20:31:34] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 90/90)
[20:31:34] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 91/91)
[20:31:34] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 92/92)
[20:31:34] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 93/93)
[20:31:35] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 94/94)
[20:31:35] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 95/95)
[20:31:37] [INFO] [ReplayManager] Spawned 1 replay casings (total: 9/9)
[20:31:38] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 96/96)
[20:31:40] [INFO] [ReplayManager] Spawned 1 replay casings (total: 10/10)
[20:31:40] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[20:31:40] [INFO] [ReplayManager] DisableAllReplayEffects: CinemaEffects disabled
[20:31:40] [INFO] [ReplayManager] DisableAllReplayEffects: HitEffects reset
[20:31:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:31:40] [INFO] [ReplayManager] DisableAllReplayEffects: PenultimateHitEffects reset
[20:31:40] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:31:40] [INFO] [ReplayManager] DisableAllReplayEffects: PowerFantasyEffects reset
[20:31:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:31:40] [INFO] [ReplayManager] DisableAllReplayEffects: LastChanceEffects reset
[20:31:40] [INFO] [ReplayManager] Stopped replay playback
[20:31:40] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[20:31:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:31:40] [INFO] [PenultimateHit] WARNING: Could not connect to any health signal!
[20:31:40] [INFO] [LastChance] Found player: Player
[20:31:42] [INFO] [BuildingLevel] Watch Replay triggered
[20:31:42] [INFO] [ReplayManager] Progressive floor state: blood=159 (baseline=0, to spawn=159), casings=13 (baseline=0, to spawn=13), footprints=12 (baseline=0)
[20:31:42] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:31:42] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[20:31:42] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[20:31:42] [INFO] [ReplayManager] Hidden 13 existing casings for progressive replay
[20:31:42] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[20:31:42] [INFO] [ReplayManager] Memory mode activated: reset progressive floor state, will spawn up to time 0,00s
[20:31:42] [INFO] [ReplayManager] Started replay playback. Frames: 1875, Duration: 28,80s, Mode: Memory
[20:31:44] [INFO] [ReplayManager] Spawned 1 replay casings (total: 1/1)
[20:31:44] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 1/1)
[20:31:44] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 2/2)
[20:31:44] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 3/3)
[20:31:44] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 5/5)
[20:31:44] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 6/6)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 7/7)
[20:31:45] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 9/9)
[20:31:45] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 11/11)
[20:31:45] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 13/13)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 14/14)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 15/15)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay casings (total: 2/2)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 16/16)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 17/17)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 18/18)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 19/19)
[20:31:45] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 21/21)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 22/22)
[20:31:45] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 24/24)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 25/25)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 26/26)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 27/27)
[20:31:45] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 28/28)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 29/29)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 30/30)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay casings (total: 3/3)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay casings (total: 4/4)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay casings (total: 5/5)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 31/31)
[20:31:46] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 34/34)
[20:31:46] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 36/36)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 37/37)
[20:31:46] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 39/39)
[20:31:46] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 41/41)
[20:31:46] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 43/43)
[20:31:46] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 44/44)
[20:31:47] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 46/46)
[20:31:47] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 51/51)
[20:31:47] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 54/54)
[20:31:47] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 57/57)
[20:31:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 58/58)
[20:31:47] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 63/63)
[20:31:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 64/64)
[20:31:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 65/65)
[20:31:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 66/66)
[20:31:47] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 68/68)
[20:31:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 69/69)
[20:31:51] [INFO] [ReplayManager] Spawned 1 replay casings (total: 6/6)
[20:31:51] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 70/70)
[20:31:51] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 72/72)
[20:31:51] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 73/73)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 74/74)
[20:31:52] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 76/76)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 77/77)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 78/78)
[20:31:52] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 80/80)
[20:31:52] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 82/82)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 83/83)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 84/84)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 85/85)
[20:31:52] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 87/87)
[20:31:52] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 89/89)
[20:31:52] [INFO] [ReplayManager] Spawned 1 replay casings (total: 7/7)
[20:31:55] [INFO] [ReplayManager] Spawned 1 replay casings (total: 8/8)
[20:31:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 90/90)
[20:31:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 91/91)
[20:31:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 92/92)
[20:31:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 93/93)
[20:31:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 94/94)
[20:31:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 95/95)
[20:31:58] [INFO] [ReplayManager] Spawned 1 replay casings (total: 9/9)
[20:31:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 96/96)
[20:32:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 10/10)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 97/97)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 98/98)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 99/99)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 100/100)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 101/101)
[20:32:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 103/103)
[20:32:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 105/105)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 106/106)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 107/107)
[20:32:02] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 110/110)
[20:32:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 112/112)
[20:32:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 114/114)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 115/115)
[20:32:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 116/116)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay casings (total: 11/11)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 117/117)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 118/118)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 119/119)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 120/120)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 121/121)
[20:32:04] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 123/123)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 124/124)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 125/125)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 126/126)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 127/127)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 128/128)
[20:32:04] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 131/131)
[20:32:04] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 132/132)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 134/134)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 135/135)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 136/136)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay casings (total: 12/12)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay casings (total: 13/13)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 137/137)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 138/138)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 140/140)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 141/141)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 142/142)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 143/143)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 145/145)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 146/146)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 147/147)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 149/149)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 150/150)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 152/152)
[20:32:05] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 153/153)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 155/155)
[20:32:05] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 157/157)
[20:32:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 158/158)
[20:32:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 159/159)
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 1/12) at time 24,22s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 2/12) at time 24,32s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 3/12) at time 24,42s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 4/12) at time 24,52s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 5/12) at time 24,62s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 6/12) at time 24,72s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 7/12) at time 24,82s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 8/12) at time 24,92s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 9/12) at time 25,02s
[20:32:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 10/12) at time 25,12s
[20:32:08] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 11/12) at time 25,22s
[20:32:08] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 12/12) at time 25,32s
[20:32:10] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[20:32:10] [INFO] [ReplayManager] DisableAllReplayEffects: CinemaEffects disabled
[20:32:10] [INFO] [ReplayManager] DisableAllReplayEffects: HitEffects reset
[20:32:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:32:10] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:32:10] [INFO] [ReplayManager] DisableAllReplayEffects: PenultimateHitEffects reset
[20:32:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:32:10] [INFO] [ReplayManager] DisableAllReplayEffects: PowerFantasyEffects reset
[20:32:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:32:10] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:32:10] [INFO] [ReplayManager] DisableAllReplayEffects: LastChanceEffects reset
[20:32:10] [INFO] [ReplayManager] Stopped replay playback
[20:32:10] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[20:32:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:32:10] [INFO] [PenultimateHit] WARNING: Could not connect to any health signal!
[20:32:10] [INFO] [LastChance] Found player: Player
[20:32:11] [INFO] [BuildingLevel] Restart button pressed
[20:32:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:32:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:32:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:32:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:32:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:32:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:32:11] [ENEMY] [Enemy1] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:32:11] [ENEMY] [Enemy2] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:32:11] [ENEMY] [Enemy3] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:32:11] [ENEMY] [Enemy4] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:32:11] [ENEMY] [Enemy5] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:32:11] [ENEMY] [Enemy6] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:32:11] [ENEMY] [Enemy7] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:32:11] [ENEMY] [Enemy8] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:32:11] [ENEMY] [Enemy9] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:32:11] [ENEMY] [Enemy10] Death animation component initialized
[20:32:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:32:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:32:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:32:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:32:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:32:11] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[20:32:11] [INFO] [Player.Weapon] Removed default MakarovPM
[20:32:11] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[20:32:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:32:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:32:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:32:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:32:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:32:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:32:11] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:32:11] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:32:11] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:32:11] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:32:11] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[20:32:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:32:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:32:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:32:11] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[20:32:11] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[20:32:11] [INFO] [ScoreManager] Level started with 10 enemies
[20:32:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:32:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:32:11] [INFO] [ReplayManager] Replay data cleared
[20:32:11] [INFO] [BuildingLevel] Previous replay data cleared
[20:32:11] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[20:32:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:32:11] [INFO] [ReplayManager] Level: BuildingLevel
[20:32:11] [INFO] [ReplayManager] Player: Player (valid: True)
[20:32:11] [INFO] [ReplayManager] Enemies count: 10
[20:32:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:32:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:32:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:32:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:32:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:32:11] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:32:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:32:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:32:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:32:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:32:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:32:11] [INFO] [BuildingLevel] Replay recording started successfully
[20:32:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:32:11] [INFO] [CinemaEffects] Found player node: Player
[20:32:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[20:32:11] [ENEMY] [Enemy1] Registered as sound listener
[20:32:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[20:32:11] [ENEMY] [Enemy2] Registered as sound listener
[20:32:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[20:32:11] [ENEMY] [Enemy3] Registered as sound listener
[20:32:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[20:32:11] [ENEMY] [Enemy4] Registered as sound listener
[20:32:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[20:32:11] [ENEMY] [Enemy5] Registered as sound listener
[20:32:11] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[20:32:11] [ENEMY] [Enemy6] Registered as sound listener
[20:32:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[20:32:11] [ENEMY] [Enemy7] Registered as sound listener
[20:32:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:32:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[20:32:11] [ENEMY] [Enemy8] Registered as sound listener
[20:32:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[20:32:11] [ENEMY] [Enemy9] Registered as sound listener
[20:32:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[20:32:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:32:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[20:32:11] [ENEMY] [Enemy10] Registered as sound listener
[20:32:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:32:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:32:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:32:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:32:12] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[20:32:12] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:32:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:32:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:32:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:32:12] [INFO] [LastChance] Found player: Player
[20:32:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:32:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:32:12] [INFO] [LastChance] Connected to player Died signal (C#)
[20:32:12] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:32:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:32:13] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:32:13] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:32:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:32:13] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (628.56757, 1009.915)
[20:32:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:32:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:32:13] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,911), corner_timer=0.30
[20:32:13] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,911), corner_timer=0.30
[20:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,910), corner_timer=-0.02
[20:32:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:32:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,910), corner_timer=-0.02
[20:32:13] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,910), corner_timer=0.30
[20:32:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,910), corner_timer=0.30
[20:32:13] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:32:13] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[20:32:13] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:32:13] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[20:32:13] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[20:32:13] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[20:32:13] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:32:13] [INFO] [Player.Grenade] Timer started, grenade created at (450, 910.9444)
[20:32:13] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[20:32:13] [INFO] [Player.Grenade] Step 1 complete! Drag: (651.4222, -226.90643)
[20:32:13] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:32:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[20:32:14] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[20:32:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,910), corner_timer=-0.02
[20:32:14] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:32:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,910), corner_timer=0.30
[20:32:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,910), corner_timer=-0.02
[20:32:14] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:32:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,910), corner_timer=0.30
[20:32:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(443,910), corner_timer=-0.02
[20:32:14] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:32:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(440,910), corner_timer=0.30
[20:32:14] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:32:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(351,910), corner_timer=-0.02
[20:32:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:32:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(346,910), corner_timer=0.30
[20:32:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(314,910), corner_timer=-0.02
[20:32:15] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(314,910), corner_timer=0.30
[20:32:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:15] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(314,910), corner_timer=-0.02
[20:32:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(314,910), corner_timer=0.30
[20:32:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(314,910), corner_timer=-0.02
[20:32:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(314,910), corner_timer=0.30
[20:32:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(314,874), corner_timer=-0.02
[20:32:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(314,871), corner_timer=0.30
[20:32:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:16] [INFO] [Player.Grenade.Simple] Throwing! Target: (753.5696, 604.9961), Distance: 518,3, Speed: 557,7, Friction: 300,0
[20:32:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5228912
[20:32:16] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:32:16] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.86637896, -0.49938712), speed=557,7, spawn=(366.42715, 828.1478)
[20:32:16] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.866379, -0.499387), Speed: 557.7 (clamped from 557.7, max: 1000.0)
[20:32:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[20:32:16] [INFO] [Player.Grenade.Simple] Grenade thrown!
[20:32:16] [INFO] [Player.Grenade] State reset to IDLE
[20:32:16] [INFO] [Player.Grenade] State reset to IDLE
[20:32:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[20:32:16] [INFO] [Player.Grenade] Player rotation restored to 0
[20:32:16] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(314,861), corner_timer=-0.02
[20:32:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(314,863), corner_timer=0.30
[20:32:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:17] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[20:32:17] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[20:32:17] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (28.74677, 162.2325)
[20:32:17] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-153.4°, current=8.2°, player=(314,930), corner_timer=0.00
[20:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(317,946), corner_timer=-0.02
[20:32:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(319,951), corner_timer=0.30
[20:32:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(385,1028), corner_timer=-0.02
[20:32:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(389,1032), corner_timer=0.30
[20:32:17] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[20:32:17] [ENEMY] [Enemy1] State: EVADING_GRENADE -> IDLE
[20:32:17] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=90.0°, current=-125.5°, player=(404,1047), corner_timer=0.00
[20:32:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:17] [INFO] [GrenadeBase] EXPLODED at (632.6116, 674.717)!
[20:32:17] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:32:17] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:32:17] [INFO] [LastChance] Starting last chance effect:
[20:32:17] [INFO] [LastChance]   - Time will be frozen (except player)
[20:32:17] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:32:17] [INFO] [LastChance]   - Trigger: grenade explosion
[20:32:17] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:32:17] [INFO] [LastChance]   - Brightness: 0.60
[20:32:17] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:32:17] [INFO] [LastChance] Skipping player node: Player
[20:32:17] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[20:32:17] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:32:17] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:32:17] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:32:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(632.6116, 674.717), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=10
[20:32:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[20:32:17] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.881316, -0.472526), lethal=false
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:32:17] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.881316, -0.472526), lethal=false
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:32:17] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.881316, -0.472526), lethal=true
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[20:32:17] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:32:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:32:17] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[20:32:17] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[20:32:17] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[20:32:17] [INFO] [DeathAnim] Started - Angle: -151.8 deg, Index: 1
[20:32:17] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.881316, -0.472526)
[20:32:17] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 263.9
[20:32:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.666959, 0.745094), lethal=false
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Wall found for blood splatter at (753.708, 810) (dist=80 px)
[20:32:17] [INFO] [BloodDecal] Blood puddle created at (753.708, 809) (added to group)
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:32:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.666959, 0.745094), lethal=false
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Wall found for blood splatter at (753.708, 810) (dist=80 px)
[20:32:17] [INFO] [BloodDecal] Blood puddle created at (753.708, 809) (added to group)
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:32:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.666959, 0.745094), lethal=false
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Wall found for blood splatter at (753.708, 810) (dist=80 px)
[20:32:17] [INFO] [BloodDecal] Blood puddle created at (753.708, 809) (added to group)
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:32:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[20:32:17] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.666959, 0.745094), lethal=true
[20:32:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:17] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:17] [INFO] [ImpactEffects] Wall found for blood splatter at (753.708, 810) (dist=80 px)
[20:32:17] [INFO] [BloodDecal] Blood puddle created at (753.708, 809) (added to group)
[20:32:17] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[20:32:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:32:17] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:32:17] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[20:32:17] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[20:32:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[20:32:17] [INFO] [DeathAnim] Started - Angle: 48.2 deg, Index: 15
[20:32:17] [ENEMY] [Enemy3] Death animation started with hit direction: (0.666959, 0.745094)
[20:32:17] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 101.0
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 10.6 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20814
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20814
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -4.7 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20815
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20815
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 8.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20816
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20816
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 30.2 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20817
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20817
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 39.5 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20818
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20818
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 55.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20819
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20819
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 48.4 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20820
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20820
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 54.0 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20821
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20821
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 67.8 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20822
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20822
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 72.0 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20823
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20823
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 92.9 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20824
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20824
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 103.2 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20825
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20825
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 110.1 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20826
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20826
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 105.6 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20827
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20827
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 139.7 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20828
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20828
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 132.6 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20829
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20829
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 138.2 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20830
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20830
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 146.4 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20831
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20831
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 160.5 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20832
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20832
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 183.5 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20833
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20833
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 177.4 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20834
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20834
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 191.1 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20835
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20835
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 203.9 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20836
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20836
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 198.7 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20837
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20837
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 208.1 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20838
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20838
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 223.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20839
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20839
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 222.1 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20840
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20840
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 253.5 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20841
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20841
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 246.1 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20842
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20842
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 260.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20843
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20843
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 258.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20844
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20844
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 286.2 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20845
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20845
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 299.6 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20846
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20846
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 293.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20847
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20847
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 297.2 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20848
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20848
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 302.3 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20849
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20849
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 328.4 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20850
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20850
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 324.9 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20851
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20851
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 339.1 degrees
[20:32:17] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@20852
[20:32:17] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@20852
[20:32:17] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 352.8 degrees
[20:32:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (632.6116, 674.717) (radius=700) - using shadow-based wall occlusion
[20:32:17] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@20853
[20:32:17] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@20853
[20:32:17] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (350.9445, 531.9367) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (760.9017, 798.3409) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (339.3505, 519.4283) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (749.4291, 786.2584) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (332.6541, 507.0372) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (338.9753, 537.8392) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (361.8376, 537.7747) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (357.867, 529.6195) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (287.2954, 544.8085) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (303.931, 567.0053) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (780.7394, 823.2031) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (780.8862, 824.8293) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (785.2453, 823.2969) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (357.4837, 527.6529) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (302.0806, 554.296) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (315.6332, 505.9722) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (793.4834, 813.3457) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (334.1094, 520.0181) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (296.5496, 506.4384) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (805.4626, 833.449) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (360.151, 537.9783) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (284.9311, 571.0128) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (335.1781, 555.6595) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (352.8607, 531.4597) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (357.2779, 542.0741) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (281.5098, 511.879) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (835.4452, 845.2177) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (349.2522, 545.2849) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (333.368, 543.4937) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (234.3148, 595.1861) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (311.6729, 564.2435) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (223.2523, 552.9987) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (292.2108, 499.0344) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (845.4161, 878.3038) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (227.7298, 524.5809) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (225.9123, 552.9565) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (222.0723, 622.4897) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (282.9103, 519.6715) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (210.2227, 640.304) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (248.1362, 497.4579) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (246.7177, 477.5807) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (309.7239, 602.7864) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (259.4727, 604.7726) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (257.936, 480.6723) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (163.1817, 610.185) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (229.6058, 529.8127) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (248.9734, 583.2457) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (266.8804, 625.2318) (added to group)
[20:32:18] [INFO] [BloodDecal] Blood puddle created at (211.7165, 627.6882) (added to group)
[20:32:18] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[20:32:19] [INFO] [LastChance] Effect duration expired after 2.02 real seconds
[20:32:19] [INFO] [LastChance] Ending last chance effect
[20:32:19] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[20:32:19] [INFO] [LastChance] Reset memory for 8 enemies (player teleport effect)
[20:32:19] [INFO] [LastChance] All process modes restored
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20814
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20815
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20816
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20817
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20818
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20819
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20820
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20821
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20822
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20823
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20824
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20825
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20826
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20827
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20828
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20829
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20830
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20831
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20832
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20833
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20834
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20835
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20836
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20837
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20838
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20839
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20840
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20841
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20842
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20843
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20844
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20845
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20846
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20847
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20848
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20849
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20850
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20851
[20:32:19] [INFO] [LastChance] Unfroze shrapnel: @Area2D@20852
[20:32:19] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@20853
[20:32:19] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:32:19] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[20:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(747,1371), corner_timer=-0.02
[20:32:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(753,1371), corner_timer=0.30
[20:32:20] [ENEMY] [Enemy5] Hit: dmg=1, hp=3/3->2/3
[20:32:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(0.898302, 0.43938), lethal=false
[20:32:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:20] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1)
[20:32:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:20] [INFO] [LastChance] Visual effects fade-out complete
[20:32:20] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:32:20] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:32:20] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/3->2/3
[20:32:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1611.352, 898.8959), dir=(0.543703, -0.839278), lethal=false
[20:32:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:20] [INFO] [ImpactEffects] Blood effect spawned at (1611.352, 898.8959) (scale=1)
[20:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=120.1°, player=(842,1335), corner_timer=-0.02
[20:32:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=122.9°, player=(846,1331), corner_timer=0.30
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1759.498, 431.2356) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1729.784, 399.0293) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1776.565, 391.681) (added to group)
[20:32:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1766.617, 443.0729) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1767.46, 422.6811) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1780.338, 411.0103) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1777.951, 479.3917) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1789.561, 410.0576) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1788.574, 519.3744) (added to group)
[20:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(887,1291), corner_timer=-0.02
[20:32:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(887,1291), corner_timer=0.30
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1651.186, 868.2683) (added to group)
[20:32:20] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[20:32:20] [INFO] [ImpactEffects] spawn_blood_effect called at (88.06422, 159.508), dir=(-0.996634, -0.081977), lethal=false
[20:32:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:20] [INFO] [ImpactEffects] Wall found for blood splatter at (64, 157.5286) (dist=24 px)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (65, 157.5286) (added to group)
[20:32:20] [INFO] [ImpactEffects] Blood effect spawned at (88.06422, 159.508) (scale=1)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1819.193, 487.1932) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1649.513, 831.326) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1690.223, 890.3178) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1657.133, 878.5981) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1751.542, 863.965) (added to group)
[20:32:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1730.371, 845.3339) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1763.758, 867.9265) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1663.03, 841.108) (added to group)
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1747.819, 880.9909) (added to group)
[20:32:20] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[20:32:20] [INFO] [BloodDecal] Blood puddle created at (1720.531, 913.0432) (added to group)
[20:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(887,1291), corner_timer=-0.02
[20:32:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(887,1291), corner_timer=0.30
[20:32:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(864,1291), corner_timer=-0.02
[20:32:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(863,1291), corner_timer=0.30
[20:32:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(863,1291), corner_timer=-0.02
[20:32:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(863,1291), corner_timer=0.30
[20:32:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:21] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[20:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(863,1291), corner_timer=-0.02
[20:32:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(863,1291), corner_timer=0.30
[20:32:22] [ENEMY] [Enemy10] Hit: dmg=10, hp=4/4->-6/4
[20:32:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1159.099, 1601.934), dir=(0.688537, 0.725201), lethal=true
[20:32:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:22] [INFO] [ImpactEffects] Wall found for blood splatter at (1181.948, 1626) (dist=33 px)
[20:32:22] [INFO] [BloodDecal] Blood puddle created at (1181.948, 1625) (added to group)
[20:32:22] [INFO] [ImpactEffects] Blood effect spawned at (1159.099, 1601.934) (scale=0.75)
[20:32:22] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:32:22] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:32:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:22] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:22] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 7)
[20:32:22] [INFO] [DeathAnim] Started - Angle: 46.5 deg, Index: 15
[20:32:22] [ENEMY] [Enemy10] Death animation started with hit direction: (0.688537, 0.725201)
[20:32:22] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:32:22] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(817,1269), corner_timer=-0.01
[20:32:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(813,1265), corner_timer=0.30
[20:32:22] [ENEMY] [Enemy10] Ragdoll activated
[20:32:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:22] [INFO] [ReplayManager] Recording frame 660 (10,7s): player_valid=True, enemies=10
[20:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(739,1191), corner_timer=-0.02
[20:32:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(735,1187), corner_timer=0.30
[20:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(661,1114), corner_timer=-0.02
[20:32:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(657,1111), corner_timer=0.30
[20:32:23] [ENEMY] [Enemy10] Death animation completed
[20:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(558,1098), corner_timer=-0.02
[20:32:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(553,1097), corner_timer=0.30
[20:32:23] [INFO] [ReplayManager] Recording frame 720 (11,7s): player_valid=True, enemies=10
[20:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(473,1036), corner_timer=-0.02
[20:32:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(470,1032), corner_timer=0.30
[20:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(404,954), corner_timer=-0.02
[20:32:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(403,949), corner_timer=0.30
[20:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(400,846), corner_timer=-0.02
[20:32:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(400,841), corner_timer=0.30
[20:32:24] [INFO] [ReplayManager] Recording frame 780 (12,7s): player_valid=True, enemies=10
[20:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(432,750), corner_timer=-0.02
[20:32:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(436,748), corner_timer=0.30
[20:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(533,736), corner_timer=-0.02
[20:32:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(538,737), corner_timer=0.30
[20:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(597,801), corner_timer=-0.02
[20:32:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(597,806), corner_timer=0.30
[20:32:25] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.7°, current=168.8°, player=(598,877), corner_timer=0.00
[20:32:25] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[20:32:25] [INFO] [ReplayManager] Recording frame 840 (13,7s): player_valid=True, enemies=10
[20:32:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.5°, current=111.5°, player=(598,905), corner_timer=0.00
[20:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(598,910), corner_timer=-0.02
[20:32:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(598,916), corner_timer=0.30
[20:32:26] [ENEMY] [Enemy4] Hit: dmg=10, hp=4/4->-6/4
[20:32:26] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.941349, -0.337433), lethal=true
[20:32:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:26] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=0.75)
[20:32:26] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:32:26] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:32:26] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:26] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:26] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:26] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:26] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[20:32:26] [INFO] [DeathAnim] Started - Angle: -19.7 deg, Index: 10
[20:32:26] [ENEMY] [Enemy4] Death animation started with hit direction: (0.941349, -0.337433)
[20:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(586,982), corner_timer=-0.00
[20:32:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(586,982), corner_timer=0.30
[20:32:26] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:32:26] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (879.2266, 901.4074) (added to group)
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (858.3157, 912.3844) (added to group)
[20:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.4°, player=(568,917), corner_timer=-0.01
[20:32:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(568,911), corner_timer=0.30
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (872.614, 860.8358) (added to group)
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (872.45, 903.5142) (added to group)
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (855.2859, 893.7178) (added to group)
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (864.4286, 882.16) (added to group)
[20:32:26] [INFO] [ReplayManager] Recording frame 900 (14,5s): player_valid=True, enemies=10
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (905.776, 949.2772) (added to group)
[20:32:26] [INFO] [BloodDecal] Blood puddle created at (874.3574, 865.4962) (added to group)
[20:32:26] [ENEMY] [Enemy4] Ragdoll activated
[20:32:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:27] [INFO] [BloodDecal] Blood puddle created at (896.9806, 868.9193) (added to group)
[20:32:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(568,807), corner_timer=-0.02
[20:32:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(568,801), corner_timer=0.30
[20:32:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(568,697), corner_timer=-0.02
[20:32:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(568,691), corner_timer=0.30
[20:32:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(570,588), corner_timer=-0.02
[20:32:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(571,583), corner_timer=0.30
[20:32:27] [INFO] [ReplayManager] Recording frame 960 (15,5s): player_valid=True, enemies=10
[20:32:28] [ENEMY] [Enemy4] Death animation completed
[20:32:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(635,505), corner_timer=-0.02
[20:32:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(639,501), corner_timer=0.30
[20:32:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(724,455), corner_timer=-0.02
[20:32:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(730,455), corner_timer=0.30
[20:32:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(834,455), corner_timer=-0.02
[20:32:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(840,455), corner_timer=0.30
[20:32:28] [INFO] [ReplayManager] Recording frame 1020 (16,5s): player_valid=True, enemies=10
[20:32:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(908,449), corner_timer=-0.02
[20:32:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(909,448), corner_timer=0.30
[20:32:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(868,392), corner_timer=-0.02
[20:32:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(865,388), corner_timer=0.30
[20:32:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(776,350), corner_timer=-0.02
[20:32:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(770,350), corner_timer=0.30
[20:32:29] [INFO] [ReplayManager] Recording frame 1080 (17,5s): player_valid=True, enemies=10
[20:32:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(666,349), corner_timer=-0.02
[20:32:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(661,348), corner_timer=0.30
[20:32:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(582,287), corner_timer=-0.02
[20:32:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(578,283), corner_timer=0.30
[20:32:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(540,209), corner_timer=-0.02
[20:32:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(540,205), corner_timer=0.30
[20:32:30] [INFO] [ReplayManager] Recording frame 1140 (18,5s): player_valid=True, enemies=10
[20:32:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(493,134), corner_timer=-0.02
[20:32:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(489,131), corner_timer=0.30
[20:32:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(459,111), corner_timer=-0.02
[20:32:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:31] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[20:32:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(459,111), corner_timer=0.30
[20:32:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(478,111), corner_timer=-0.02
[20:32:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(481,111), corner_timer=0.30
[20:32:31] [ENEMY] [Enemy1] Hit: dmg=10, hp=3/4->-7/4
[20:32:31] [INFO] [ImpactEffects] spawn_blood_effect called at (88.06422, 159.508), dir=(-0.989949, 0.141428), lethal=true
[20:32:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:31] [INFO] [ImpactEffects] Wall found for blood splatter at (64, 162.9459) (dist=24 px)
[20:32:31] [INFO] [BloodDecal] Blood puddle created at (65, 162.9459) (added to group)
[20:32:31] [INFO] [ImpactEffects] Blood effect spawned at (88.06422, 159.508) (scale=0.75)
[20:32:31] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:32:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:32:31] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:31] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:31] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:31] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:31] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 5)
[20:32:31] [INFO] [DeathAnim] Started - Angle: 171.9 deg, Index: 23
[20:32:31] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.989949, 0.141428)
[20:32:31] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:32:31] [INFO] [ReplayManager] Recording frame 1200 (19,4s): player_valid=True, enemies=10
[20:32:32] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:32:32] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(580,111), corner_timer=-0.01
[20:32:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:32:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(586,111), corner_timer=0.30
[20:32:32] [ENEMY] [Enemy1] Ragdoll activated
[20:32:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(690,111), corner_timer=-0.02
[20:32:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(696,111), corner_timer=0.30
[20:32:32] [INFO] [ReplayManager] Recording frame 1260 (20,2s): player_valid=True, enemies=10
[20:32:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(800,111), corner_timer=-0.02
[20:32:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(806,111), corner_timer=0.30
[20:32:33] [ENEMY] [Enemy1] Death animation completed
[20:32:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(910,111), corner_timer=-0.02
[20:32:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(916,111), corner_timer=0.30
[20:32:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1020,111), corner_timer=-0.02
[20:32:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1026,111), corner_timer=0.30
[20:32:33] [INFO] [ReplayManager] Recording frame 1320 (21,2s): player_valid=True, enemies=10
[20:32:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1112,155), corner_timer=-0.02
[20:32:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1117,157), corner_timer=0.30
[20:32:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1218,165), corner_timer=-0.02
[20:32:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1223,165), corner_timer=0.30
[20:32:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1316,137), corner_timer=-0.02
[20:32:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1321,136), corner_timer=0.30
[20:32:34] [INFO] [ReplayManager] Recording frame 1380 (22,2s): player_valid=True, enemies=10
[20:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1419,148), corner_timer=-0.02
[20:32:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1424,151), corner_timer=0.30
[20:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1498,224), corner_timer=-0.02
[20:32:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1502,228), corner_timer=0.30
[20:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1548,259), corner_timer=-0.02
[20:32:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1548,259), corner_timer=0.30
[20:32:35] [INFO] [ReplayManager] Recording frame 1440 (23,2s): player_valid=True, enemies=10
[20:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1542,259), corner_timer=-0.02
[20:32:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1542,259), corner_timer=0.30
[20:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1542,259), corner_timer=-0.02
[20:32:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1542,259), corner_timer=0.30
[20:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1588,254), corner_timer=-0.02
[20:32:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1592,252), corner_timer=0.30
[20:32:36] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-150.6°, current=-168.8°, player=(1596,250), corner_timer=0.00
[20:32:36] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[20:32:36] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-149.3°, current=47.0°, player=(1603,244), corner_timer=0.00
[20:32:36] [INFO] [ReplayManager] Recording frame 1500 (24,2s): player_valid=True, enemies=10
[20:32:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1649,185), corner_timer=-0.02
[20:32:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1649,182), corner_timer=0.30
[20:32:37] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[20:32:37] [ENEMY] [Enemy7] Memory: high confidence (0.87) - transitioning to PURSUING
[20:32:37] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:32:37] [ENEMY] [Enemy5] Memory: high confidence (0.87) - transitioning to PURSUING
[20:32:37] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[20:32:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-87.0°, current=89.4°, player=(1649,172), corner_timer=0.25
[20:32:37] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-105.8°, current=11.3°, player=(1649,171), corner_timer=0.00
[20:32:37] [ENEMY] [Enemy6] Hit: dmg=10, hp=3/3->-7/3
[20:32:37] [INFO] [ImpactEffects] spawn_blood_effect called at (1850.229, 370.5381), dir=(0.750176, 0.661238), lethal=true
[20:32:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:37] [INFO] [ImpactEffects] Blood effect spawned at (1850.229, 370.5381) (scale=0.75)
[20:32:37] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:32:37] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:32:37] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:37] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:37] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:37] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:37] [ENEMY] [Enemy5] [AllyDeath] Witnessed at (1850.229, 370.5381), entering SEARCHING
[20:32:37] [ENEMY] [Enemy5] SEARCHING started: center=(1850.229, 370.5381), radius=100, waypoints=5
[20:32:37] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[20:32:37] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[20:32:37] [INFO] [DeathAnim] Started - Angle: 41.4 deg, Index: 14
[20:32:37] [ENEMY] [Enemy6] Death animation started with hit direction: (0.750176, 0.661238)
[20:32:37] [ENEMY] [Enemy5] SEARCHING corner check: angle -82.2°
[20:32:37] [INFO] [BloodyFeet:Enemy7] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:32:37] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:32:37] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1881.134, 457.8577) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1891.444, 486.4454) (added to group)
[20:32:37] [ENEMY] [Enemy5] SEARCHING corner check: angle -82.2°
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1915.346, 471.5221) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1911.997, 419.2519) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1914.99, 422.1599) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1924.771, 459.0201) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1912.992, 476.4365) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1935.268, 456.3523) (added to group)
[20:32:37] [INFO] [ReplayManager] Recording frame 1560 (24,9s): player_valid=True, enemies=10
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1894.53, 522.8237) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1941.793, 482.3378) (added to group)
[20:32:37] [ENEMY] [Enemy6] Ragdoll activated
[20:32:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1952.643, 502.5256) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1920.956, 496.1173) (added to group)
[20:32:37] [INFO] [BloodDecal] Blood puddle created at (1936.128, 553.7466) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (1918.986, 580.9618) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (2004.634, 540.2582) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (1930.891, 538.882) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (2004.094, 526.4153) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (1996.087, 628.828) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (1939.932, 689.9744) (added to group)
[20:32:38] [INFO] [BloodDecal] Blood puddle created at (1944.272, 575.002) (added to group)
[20:32:38] [INFO] [ReplayManager] Recording frame 1620 (25,9s): player_valid=True, enemies=10
[20:32:38] [ENEMY] [Enemy6] Death animation completed
[20:32:39] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-161.7°, current=-117.5°, player=(1561,252), corner_timer=0.05
[20:32:39] [ENEMY] [Enemy5] SEARCHING: Player spotted! Transitioning to COMBAT
[20:32:39] [ENEMY] [Enemy5] State: SEARCHING -> COMBAT
[20:32:39] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:32:39] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:32:39] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:32:39] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[20:32:39] [ENEMY] [Enemy7] FLANKING started: target=(1766.03, 342.2728), side=left, pos=(1620.905, 842.6304)
[20:32:39] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:32:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1928.955, 375.2847), source=ENEMY (Enemy5), range=1469, listeners=4
[20:32:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[20:32:39] [ENEMY] [Enemy7] FLANKING corner check: angle 106.0°
[20:32:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1928.955, 375.2847), source=ENEMY (Enemy5), range=1469, listeners=4
[20:32:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[20:32:39] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-82.2°, current=-104.2°, player=(1624,252), corner_timer=0.05
[20:32:39] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:32:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1858.6271, 355.18695), shooter_id=4590363741047, bullet_pos=(1654.3662, 314.19666)
[20:32:39] [INFO] [Bullet] Using shooter_position, distance=208,33316
[20:32:39] [INFO] [Bullet] Distance to wall: 208,33316 (14,185788% of viewport)
[20:32:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:39] [INFO] [Bullet] Starting wall penetration at (1654.3662, 314.19666)
[20:32:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:32:39] [INFO] [Bullet] Exiting penetration at (1608.6118, 305.01483) after traveling 41,666668 pixels through wall
[20:32:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:32:39] [ENEMY] [Enemy5] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-157.6°, current=-174.3°, player=(1640,252), corner_timer=0.05
[20:32:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1858.5791, 352.2061), shooter_id=4590363741047, bullet_pos=(1656.7731, 300.46475)
[20:32:39] [INFO] [Bullet] Using shooter_position, distance=208,33348
[20:32:39] [INFO] [Bullet] Distance to wall: 208,33348 (14,18581% of viewport)
[20:32:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:39] [ENEMY] [Enemy7] FLANKING corner check: angle 82.4°
[20:32:39] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:32:39] [INFO] [ReplayManager] Recording frame 1680 (26,9s): player_valid=True, enemies=10
[20:32:39] [ENEMY] [Enemy7] FLANKING corner check: angle -157.9°
[20:32:39] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-107.8°, current=-107.8°, player=(1661,252), corner_timer=0.27
[20:32:40] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:32:40] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-82.2°, current=-55.2°, player=(1661,252), corner_timer=0.05
[20:32:40] [ENEMY] [Enemy5] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-107.4°, current=-58.1°, player=(1661,252), corner_timer=0.05
[20:32:40] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-82.2°, current=51.7°, player=(1713,252), corner_timer=0.05
[20:32:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1806.573, 540.2896), source=ENEMY (Enemy7), range=1469, listeners=4
[20:32:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:32:40] [ENEMY] [Enemy5] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-62.7°, current=-27.1°, player=(1713,252), corner_timer=0.05
[20:32:40] [INFO] [LastChance] Threat detected: Bullet
[20:32:40] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:40] [INFO] [ReplayManager] Recording frame 1740 (27,9s): player_valid=True, enemies=10
[20:32:40] [INFO] [Player] Spawning blood effect at (1713.9998, 252.23367), dir=(1, 0), lethal=False (C#)
[20:32:40] [INFO] [ImpactEffects] spawn_blood_effect called at (1714, 252.2337), dir=(1, 0), lethal=false
[20:32:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:40] [INFO] [ImpactEffects] Blood effect spawned at (1714, 252.2337) (scale=1)
[20:32:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:32:40] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:32:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1795.151, 504.7466), source=ENEMY (Enemy7), range=1469, listeners=4
[20:32:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:32:41] [INFO] [LastChance] Threat detected: @Area2D@21223
[20:32:41] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:41] [INFO] [Player] Spawning blood effect at (1713.9998, 252.23367), dir=(1, 0), lethal=False (C#)
[20:32:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1714, 252.2337), dir=(1, 0), lethal=false
[20:32:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:41] [INFO] [ImpactEffects] Blood effect spawned at (1714, 252.2337) (scale=1)
[20:32:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[20:32:41] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[20:32:41] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:32:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1783.878, 490.8772), source=ENEMY (Enemy7), range=1469, listeners=4
[20:32:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:32:41] [INFO] [BloodyFeet:Enemy5] Blood ran out - no more footprints
[20:32:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1777.552, 499.4651), source=ENEMY (Enemy7), range=1469, listeners=4
[20:32:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1774.479, 262.5886) (added to group)
[20:32:41] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-82.2°, current=69.2°, player=(1713,252), corner_timer=0.05
[20:32:41] [INFO] [LastChance] Threat detected: @Area2D@21231
[20:32:41] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1771.225, 508.053), source=ENEMY (Enemy7), range=1469, listeners=4
[20:32:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:32:41] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:32:41] [INFO] [Player] Spawning blood effect at (1710.6664, 252.23367), dir=(1, 0), lethal=False (C#)
[20:32:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1710.666, 252.2337), dir=(1, 0), lethal=false
[20:32:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:41] [INFO] [ImpactEffects] Blood effect spawned at (1710.666, 252.2337) (scale=1)
[20:32:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[20:32:41] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[20:32:41] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:32:41] [INFO] [LastChance] Threat detected: @Area2D@21236
[20:32:41] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1757.3961, 428.1931), shooter_id=4591068388282, bullet_pos=(1525.0708, 33.105297)
[20:32:41] [INFO] [Bullet] Using shooter_position, distance=458,3333
[20:32:41] [INFO] [Bullet] Distance to wall: 458,3333 (31,20876% of viewport)
[20:32:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:41] [INFO] [Bullet] Starting wall penetration at (1525.0708, 33.105297)
[20:32:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1764.898, 516.6409), source=ENEMY (Enemy7), range=1469, listeners=4
[20:32:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[20:32:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,384438
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1814.624, 258.1958) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1817.313, 301.4397) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1787.638, 254.3104) (added to group)
[20:32:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:32:41] [INFO] [Bullet] Exiting penetration at (1501.4159, -7.1218224) after traveling 41,66667 pixels through wall
[20:32:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:32:41] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-157.9°, current=-159.4°, player=(1704,252), corner_timer=0.18
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1787.529, 290.593) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1811.956, 287.8951) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1840.799, 252.0794) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1793.044, 262.4756) (added to group)
[20:32:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1749.8638, 446.6556), shooter_id=4591068388282, bullet_pos=(1709.6465, 31.934322)
[20:32:41] [INFO] [Bullet] Using shooter_position, distance=416,66675
[20:32:41] [INFO] [Bullet] Distance to wall: 416,66675 (28,371605% of viewport)
[20:32:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:41] [INFO] [Bullet] Starting wall penetration at (1709.6465, 31.934322)
[20:32:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,73266
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1808.208, 300.9123) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1821.243, 309.3298) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1824.995, 279.8194) (added to group)
[20:32:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:32:41] [INFO] [Bullet] Exiting penetration at (1705.1421, -14.514458) after traveling 41,66667 pixels through wall
[20:32:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:32:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1745.0597, 456.25427), shooter_id=4591068388282, bullet_pos=(1740.4015, 39.613644)
[20:32:41] [INFO] [Bullet] Using shooter_position, distance=416,66666
[20:32:41] [INFO] [Bullet] Distance to wall: 416,66666 (28,3716% of viewport)
[20:32:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:41] [INFO] [Bullet] Starting wall penetration at (1740.4015, 39.613644)
[20:32:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,05255
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1816.6, 301.5775) (added to group)
[20:32:41] [INFO] [Bullet] Body exited signal received for penetrating body
[20:32:41] [INFO] [Bullet] Exiting penetration at (1739.8798, -7.05011) after traveling 41,666668 pixels through wall
[20:32:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:32:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-102.8°, current=-82.4°, player=(1657,252), corner_timer=0.18
[20:32:41] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-157.9°, current=-25.1°, player=(1652,252), corner_timer=0.18
[20:32:41] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1826.837, 369.9454) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1869.813, 405.1111) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1755.421, 284.8725) (added to group)
[20:32:41] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1793.876, 302.2102) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1829.373, 374.9679) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1765.411, 306.8122) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1818.635, 236.2315) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1841, 398.9893) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1823.117, 312.5674) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1844.329, 341.2261) (added to group)
[20:32:41] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1836.066, 308.4047) (added to group)
[20:32:41] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[20:32:41] [ENEMY] [Enemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-70.2°, current=-39.6°, player=(1565,252), corner_timer=0.05
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1848.719, 366.2751) (added to group)
[20:32:41] [INFO] [BloodDecal] Blood puddle created at (1809.587, 308.2241) (added to group)
[20:32:41] [INFO] [ReplayManager] Recording frame 1800 (28,9s): player_valid=True, enemies=10
[20:32:41] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-71.4°, current=-48.2°, player=(1558,252), corner_timer=0.05
[20:32:42] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[20:32:42] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[20:32:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1713.666, 252.2337), shooter_id=4593014545181, bullet_pos=(2468.594, 2020.849)
[20:32:42] [INFO] [Bullet] Using shooter_position, distance=1922.99694824219
[20:32:42] [INFO] [Bullet] Distance to wall: 1922.99694824219 (130.940398285395% of viewport)
[20:32:42] [INFO] [Bullet] Distance-based penetration chance: 23.811920342921%
[20:32:42] [INFO] [Bullet] Penetration failed (distance roll)
[20:32:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-128.0°, current=-157.9°, player=(1496,252), corner_timer=0.18
[20:32:42] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-157.9°, current=-178.9°, player=(1493,252), corner_timer=0.18
[20:32:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-128.6°, current=-176.1°, player=(1491,252), corner_timer=0.18
[20:32:42] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-157.9°, current=169.2°, player=(1488,252), corner_timer=0.18
[20:32:42] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:42] [INFO] [ReplayManager] Recording frame 1860 (29,9s): player_valid=True, enemies=10
[20:32:43] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:32:43] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:43] [ENEMY] [Enemy5] Hit: dmg=10, hp=2/3->-8/3
[20:32:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1468.991, 493.2624), dir=(-0.044406, 0.999014), lethal=true
[20:32:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:43] [INFO] [ImpactEffects] Blood effect spawned at (1468.991, 493.2624) (scale=0.75)
[20:32:43] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[20:32:43] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:32:43] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:43] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:43] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:43] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:43] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[20:32:43] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 3)
[20:32:43] [INFO] [DeathAnim] Started - Angle: 92.5 deg, Index: 18
[20:32:43] [ENEMY] [Enemy5] Death animation started with hit direction: (-0.044406, 0.999014)
[20:32:43] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[20:32:43] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1446.767, 581.1566) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1455.707, 589.8826) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1466.277, 574.1446) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1494.692, 580.764) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1450.803, 569.556) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1448.059, 577.2765) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1466.807, 590.8777) (added to group)
[20:32:43] [INFO] [BloodDecal] Blood puddle created at (1443.242, 572.1483) (added to group)
[20:32:43] [ENEMY] [Enemy5] Ragdoll activated
[20:32:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:43] [INFO] [ReplayManager] Recording frame 1920 (30,6s): player_valid=True, enemies=10
[20:32:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-112.9°, current=-157.9°, player=(1639,252), corner_timer=0.18
[20:32:44] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=-157.9°, current=-178.9°, player=(1642,252), corner_timer=0.18
[20:32:44] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:44] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:32:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1738.811, 252.2337), shooter_id=4593014545181, bullet_pos=(1766.906, 599.0977)
[20:32:44] [INFO] [Bullet] Using shooter_position, distance=347.999969482422
[20:32:44] [INFO] [Bullet] Distance to wall: 347.999969482422 (23.6959578375757% of viewport)
[20:32:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:44] [INFO] [Bullet] Caliber cannot penetrate walls
[20:32:44] [ENEMY] [Enemy5] Death animation completed
[20:32:44] [INFO] [BloodyFeet:Enemy7] Blood ran out - no more footprints
[20:32:44] [INFO] [ReplayManager] Recording frame 1980 (31,6s): player_valid=True, enemies=10
[20:32:45] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:32:45] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:45] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:45] [INFO] [ReplayManager] Recording frame 2040 (32,6s): player_valid=True, enemies=10
[20:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=15.2°, current=-8.2°, player=(1753,429), corner_timer=0.18
[20:32:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1430.48, 342.0212), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1753.533, 391.067), shooter_id=4593014545181, bullet_pos=(1552.292, 321.2726)
[20:32:46] [INFO] [Bullet] Using shooter_position, distance=213.000091552734
[20:32:46] [INFO] [Bullet] Distance to wall: 213.000091552734 (14.5035679064572% of viewport)
[20:32:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:32:46] [INFO] [Bullet] Caliber cannot penetrate walls
[20:32:46] [INFO] [LastChance] Threat detected: Bullet
[20:32:46] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1449.589, 309.9569), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-25.4°, player=(1753,479), corner_timer=0.18
[20:32:46] [INFO] [LastChance] Threat detected: @Area2D@21322
[20:32:46] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1495.3885, 367.49527), shooter_id=4591068388282, bullet_pos=(2462.594, 621.4918)
[20:32:46] [INFO] [Bullet] Using shooter_position, distance=1000,0003
[20:32:46] [INFO] [Bullet] Distance to wall: 1000,0003 (68,091866% of viewport)
[20:32:46] [INFO] [Bullet] Distance-based penetration chance: 67,22616%
[20:32:46] [INFO] [Bullet] Penetration failed (distance roll)
[20:32:46] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:32:46] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1510.1573, 348.93054), shooter_id=4591068388282, bullet_pos=(2473.319, 844.8428)
[20:32:46] [INFO] [Bullet] Using shooter_position, distance=1083,3326
[20:32:46] [INFO] [Bullet] Distance to wall: 1083,3326 (73,76611% of viewport)
[20:32:46] [INFO] [Bullet] Distance-based penetration chance: 60,606205%
[20:32:46] [INFO] [Bullet] Starting wall penetration at (2473.319, 844.8428)
[20:32:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,155825
[20:32:46] [INFO] [Bullet] Body exited signal received for penetrating body
[20:32:46] [INFO] [Bullet] Exiting penetration at (2514.809, 866.20514) after traveling 41,66667 pixels through wall
[20:32:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:32:46] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:46] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:32:46] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:46] [INFO] [ReplayManager] Recording frame 2100 (33,6s): player_valid=True, enemies=10
[20:32:46] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:46] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:32:46] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:47] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:47] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[20:32:47] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[20:32:47] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[20:32:47] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:32:47] [INFO] [ReplayManager] Recording frame 2160 (34,6s): player_valid=True, enemies=10
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-179.8°, current=-131.6°, player=(1475,220), corner_timer=0.18
[20:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1640.664, 220.8915), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:48] [INFO] [LastChance] Threat detected: Bullet
[20:32:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-87.4°, player=(1475,216), corner_timer=0.18
[20:32:48] [INFO] [Player] Spawning blood effect at (1475.5957, 210.43097), dir=(1, 0), lethal=False (C#)
[20:32:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 210.431), dir=(1, 0), lethal=false
[20:32:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:48] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 210.431) (scale=1)
[20:32:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[20:32:48] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-171.2°, current=-126.9°, player=(1475,210), corner_timer=0.18
[20:32:48] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[20:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1644.108, 236.4743), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:48] [INFO] [LastChance] Threat detected: Bullet
[20:32:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-117.4°, player=(1475,199), corner_timer=0.18
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-167.2°, current=-120.2°, player=(1475,198), corner_timer=0.18
[20:32:48] [INFO] [Player] Spawning blood effect at (1475.5957, 197.20874), dir=(1, 0), lethal=False (C#)
[20:32:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 197.2087), dir=(1, 0), lethal=false
[20:32:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:48] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 197.2087) (scale=1)
[20:32:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[20:32:48] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[20:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1644.108, 236.4743), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:48] [INFO] [LastChance] Threat detected: Bullet
[20:32:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-113.5°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [Player] Spawning blood effect at (1475.5957, 195.70874), dir=(1, 0), lethal=False (C#)
[20:32:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 195.7087), dir=(1, 0), lethal=false
[20:32:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:48] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 195.7087) (scale=1)
[20:32:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 4.0
[20:32:48] [INFO] [LastChance] Player health updated (C# Damaged): 4.0
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-166.4°, current=-119.3°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1541.898, 243.5213) (added to group)
[20:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1644.108, 236.4743), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:48] [INFO] [LastChance] Threat detected: Bullet
[20:32:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-109.7°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1532.928, 242.0785) (added to group)
[20:32:48] [INFO] [Player] Spawning blood effect at (1475.5957, 195.70874), dir=(1, 0), lethal=False (C#)
[20:32:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 195.7087), dir=(1, 0), lethal=false
[20:32:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:48] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 195.7087) (scale=1)
[20:32:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:32:48] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1585.975, 213.4478) (added to group)
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-166.4°, current=-118.3°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1544.43, 242.4841) (added to group)
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1517.592, 205.9273) (added to group)
[20:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1644.108, 236.4743), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:48] [INFO] [LastChance] Threat detected: Bullet
[20:32:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-105.9°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1548.964, 250.0741) (added to group)
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1526.981, 216.6605) (added to group)
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1608.66, 269.8491) (added to group)
[20:32:48] [INFO] [Player] Spawning blood effect at (1475.5957, 195.70874), dir=(1, 0), lethal=False (C#)
[20:32:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 195.7087), dir=(1, 0), lethal=false
[20:32:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:48] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 195.7087) (scale=1)
[20:32:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:32:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1545.462, 207.3305) (added to group)
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1593.966, 267.7445) (added to group)
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-166.4°, current=-117.4°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1602.875, 218.8313) (added to group)
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1550.949, 208.851) (added to group)
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1570.818, 218.2191) (added to group)
[20:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1644.108, 236.4743), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1611.601, 275.6802) (added to group)
[20:32:48] [INFO] [LastChance] Threat detected: Bullet
[20:32:48] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:48] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-157.9°, current=-102.1°, player=(1475,195), corner_timer=0.18
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1570.781, 230.0305) (added to group)
[20:32:48] [INFO] [Player] Spawning blood effect at (1475.5957, 195.70874), dir=(1, 0), lethal=False (C#)
[20:32:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 195.7087), dir=(1, 0), lethal=false
[20:32:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:32:48] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 195.7087) (scale=1)
[20:32:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:32:48] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:32:48] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:32:48] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:32:48] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:32:48] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:32:48] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:32:48] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:32:48] [INFO] [PenultimateHit] Applying saturation to 3 enemies
[20:32:48] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:32:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:32:48] [INFO] [BloodDecal] Blood puddle created at (1596.055, 238.7956) (added to group)
[20:32:48] [INFO] [ReplayManager] Recording frame 2220 (35,6s): player_valid=True, enemies=10
[20:32:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-166.4°, current=-116.7°, player=(1475,195), corner_timer=0.18
[20:32:49] [INFO] [BloodDecal] Blood puddle created at (1599.118, 248.1379) (added to group)
[20:32:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1644.108, 236.4743), source=ENEMY (Enemy7), range=1469, listeners=3
[20:32:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:32:49] [INFO] [LastChance] Threat detected: Bullet
[20:32:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:32:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:32:49] [INFO] [BloodDecal] Blood puddle created at (1550.109, 248.3908) (added to group)
[20:32:49] [INFO] [BloodDecal] Blood puddle created at (1558.209, 244.8551) (added to group)
[20:32:49] [INFO] [Player] Spawning blood effect at (1475.5957, 197.57875), dir=(1, 0), lethal=True (C#)
[20:32:49] [INFO] [ImpactEffects] spawn_blood_effect called at (1475.596, 197.5788), dir=(1, 0), lethal=true
[20:32:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:49] [INFO] [ImpactEffects] Blood effect spawned at (1475.596, 197.5788) (scale=1.5)
[20:32:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:32:49] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:32:49] [INFO] [CinemaEffects] Player died - triggering death effects
[20:32:49] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[20:32:49] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:32:49] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:32:49] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[20:32:49] [INFO] [LastChance] Player died
[20:32:49] [INFO] [BloodDecal] Blood puddle created at (1541.302, 230.507) (added to group)
[20:32:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:32:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:32:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:32:49] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:32:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:32:49] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:32:49] [INFO] [CinemaEffects] Death effects reset
[20:32:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:32:49] [ENEMY] [Enemy1] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:32:49] [ENEMY] [Enemy2] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:32:49] [ENEMY] [Enemy3] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:32:49] [ENEMY] [Enemy4] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:32:49] [ENEMY] [Enemy5] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:32:49] [ENEMY] [Enemy6] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:32:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:32:49] [ENEMY] [Enemy7] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:32:49] [ENEMY] [Enemy8] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:32:49] [ENEMY] [Enemy9] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:32:49] [ENEMY] [Enemy10] Death animation component initialized
[20:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:32:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:32:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:32:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:32:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:32:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:32:49] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[20:32:49] [INFO] [Player.Weapon] Removed default MakarovPM
[20:32:49] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[20:32:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:32:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:32:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:32:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:32:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:32:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:32:49] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:32:49] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:32:49] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:32:49] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:32:49] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[20:32:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:32:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:32:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:32:49] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[20:32:49] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[20:32:49] [INFO] [ScoreManager] Level started with 10 enemies
[20:32:49] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:32:49] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:32:49] [INFO] [ReplayManager] Replay data cleared
[20:32:49] [INFO] [BuildingLevel] Previous replay data cleared
[20:32:49] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[20:32:49] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:32:49] [INFO] [ReplayManager] Level: BuildingLevel
[20:32:49] [INFO] [ReplayManager] Player: Player (valid: True)
[20:32:49] [INFO] [ReplayManager] Enemies count: 10
[20:32:49] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:32:49] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:32:49] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:32:49] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:32:49] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:32:49] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:32:49] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:32:49] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:32:49] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:32:49] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:32:49] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:32:49] [INFO] [BuildingLevel] Replay recording started successfully
[20:32:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:32:49] [INFO] [CinemaEffects] Found player node: Player
[20:32:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[20:32:49] [ENEMY] [Enemy1] Registered as sound listener
[20:32:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[20:32:49] [ENEMY] [Enemy2] Registered as sound listener
[20:32:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[20:32:49] [ENEMY] [Enemy3] Registered as sound listener
[20:32:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[20:32:49] [ENEMY] [Enemy4] Registered as sound listener
[20:32:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[20:32:49] [ENEMY] [Enemy5] Registered as sound listener
[20:32:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 9)
[20:32:49] [ENEMY] [Enemy6] Registered as sound listener
[20:32:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 10)
[20:32:49] [ENEMY] [Enemy7] Registered as sound listener
[20:32:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:32:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 11)
[20:32:49] [ENEMY] [Enemy8] Registered as sound listener
[20:32:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 12)
[20:32:49] [ENEMY] [Enemy9] Registered as sound listener
[20:32:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[20:32:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:32:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 13)
[20:32:49] [ENEMY] [Enemy10] Registered as sound listener
[20:32:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:32:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:32:50] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:32:50] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:32:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:32:50] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[20:32:50] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:32:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:32:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:32:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:32:50] [INFO] [LastChance] Found player: Player
[20:32:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:32:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:32:50] [INFO] [LastChance] Connected to player Died signal (C#)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1654.511, 212.6143) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1607.115, 191.0386) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1624.373, 196.8293) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1585.422, 273.0154) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1564.926, 209.7043) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1579.619, 223.6621) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1541.646, 248.1081) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1600.903, 198.381) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1542.395, 218.8685) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1556.829, 209.9448) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1551.166, 232.9534) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1547.872, 271.4397) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1545.74, 211.7654) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1608.74, 178.8011) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1656.982, 234.6504) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1532.709, 220.7297) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1607.621, 203.8702) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1564.246, 204.9152) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1562.427, 270.2243) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1526.464, 206.2419) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1594.435, 218.2399) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1570.204, 261.6201) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1561.622, 193.7584) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1632.965, 240.3463) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1573.699, 271.1844) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1644.182, 230.9634) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1591.628, 221.6211) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1614.294, 229.5535) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1601.057, 258.8005) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1655.534, 206.308) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1605.819, 269.5531) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1594.564, 233.0263) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1613.24, 272.0206) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1600.596, 243.2924) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1633.399, 252.6257) (added to group)
[20:32:50] [INFO] [BloodDecal] Blood puddle created at (1699.376, 266.8035) (added to group)
[20:32:50] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:32:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:32:51] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:32:51] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,847), corner_timer=0.30
[20:32:51] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,847), corner_timer=0.30
[20:32:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(413,766), corner_timer=-0.02
[20:32:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:32:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(413,766), corner_timer=-0.02
[20:32:51] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:32:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(409,764), corner_timer=0.30
[20:32:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(409,764), corner_timer=0.30
[20:32:51] [ENEMY] [Enemy3] Hit: dmg=10, hp=2/2->-8/2
[20:32:51] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.98976, -0.142741), lethal=true
[20:32:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:51] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.75)
[20:32:51] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:32:51] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:32:51] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:51] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:51] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:51] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:51] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:32:51] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 12)
[20:32:51] [INFO] [DeathAnim] Started - Angle: -8.2 deg, Index: 11
[20:32:51] [ENEMY] [Enemy3] Death animation started with hit direction: (0.98976, -0.142741)
[20:32:51] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:32:52] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:32:52] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(363,782), corner_timer=-0.01
[20:32:52] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(363,784), corner_timer=0.30
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (767.5551, 737.3643) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (786.093, 724.9175) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (763.3024, 734.9922) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (790.1606, 785.6087) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (760.1357, 747.1118) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (755.9174, 759.3975) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (766.3776, 757.7674) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (826.8551, 815.3801) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (771.3628, 777.4846) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (781.4617, 780.291) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (811.2201, 747.2667) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (820.6668, 821.3421) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (824.2772, 801.3865) (added to group)
[20:32:52] [ENEMY] [Enemy3] Ragdoll activated
[20:32:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (825.4596, 781.8602) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (849.3985, 776.9802) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (841.4374, 750.3832) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (870.7825, 793.4943) (added to group)
[20:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(393,810), corner_timer=-0.02
[20:32:52] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(394,808), corner_timer=0.30
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (906.2934, 858.0831) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (900.3011, 887.1367) (added to group)
[20:32:52] [INFO] [BloodDecal] Blood puddle created at (874.1553, 743.2357) (added to group)
[20:32:52] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[20:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(433,751), corner_timer=-0.02
[20:32:53] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(437,750), corner_timer=0.30
[20:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(538,744), corner_timer=-0.02
[20:32:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(543,744), corner_timer=0.30
[20:32:53] [ENEMY] [Enemy3] Death animation completed
[20:32:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:53] [ENEMY] [Enemy2] Hit: dmg=10, hp=3/3->-7/3
[20:32:53] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.734772, -0.678315), lethal=true
[20:32:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:53] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=0.75)
[20:32:53] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:32:53] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:32:53] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:53] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:53] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:53] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:53] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[20:32:53] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 11)
[20:32:53] [INFO] [DeathAnim] Started - Angle: -137.3 deg, Index: 2
[20:32:53] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.734772, -0.678315)
[20:32:53] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[20:32:54] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:32:54] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.6°, player=(613,759), corner_timer=-0.01
[20:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-132.4°, player=(613,762), corner_timer=0.30
[20:32:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (361.2104, 528.5024) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (331.6235, 546.9474) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (332.0526, 527.0566) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (324.2829, 499.9571) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (336.5302, 558.9845) (added to group)
[20:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=173.0°, player=(613,860), corner_timer=-0.02
[20:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (350.1827, 545.38) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (319.3568, 553.6726) (added to group)
[20:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.9°, player=(613,865), corner_timer=0.30
[20:32:54] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-172.9°, current=168.8°, player=(613,876), corner_timer=0.00
[20:32:54] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (319.132, 487.6331) (added to group)
[20:32:54] [ENEMY] [Enemy2] Ragdoll activated
[20:32:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (343.6761, 505.2365) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (252.3457, 530.5766) (added to group)
[20:32:54] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.9°, current=111.5°, player=(613,903), corner_timer=0.00
[20:32:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (312.739, 515.9943) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (286.1353, 524.6784) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (219.8423, 520.2422) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (279.5294, 479.6169) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (281.7723, 553.3323) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (329.6993, 566.6832) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (222.2351, 552.3167) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (286.4899, 567.1731) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (215.575, 595.0333) (added to group)
[20:32:54] [INFO] [BloodDecal] Blood puddle created at (237.6413, 583.6583) (added to group)
[20:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=121.3°, player=(613,941), corner_timer=-0.02
[20:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=124.1°, player=(613,942), corner_timer=0.30
[20:32:54] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=10
[20:32:54] [ENEMY] [Enemy4] Hit: dmg=10, hp=4/4->-6/4
[20:32:54] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.985416, -0.170165), lethal=true
[20:32:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:54] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=0.75)
[20:32:54] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:32:54] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:32:54] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:54] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:54] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:54] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:54] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 10)
[20:32:54] [INFO] [DeathAnim] Started - Angle: -9.8 deg, Index: 11
[20:32:54] [ENEMY] [Enemy4] Death animation started with hit direction: (0.985416, -0.170165)
[20:32:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:55] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:32:55] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.7°, player=(613,909), corner_timer=-0.01
[20:32:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.5°, player=(613,904), corner_timer=0.30
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (861.9534, 924.7842) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (850.091, 916.9907) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (878.991, 917.9409) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (884.7963, 891.6119) (added to group)
[20:32:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (869.179, 876.5995) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (910.8636, 889.8935) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (876.6996, 917.6548) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (910.7875, 957.8421) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (900.0566, 913.2786) (added to group)
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (889.9653, 914.2492) (added to group)
[20:32:55] [ENEMY] [Enemy4] Ragdoll activated
[20:32:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(613,800), corner_timer=-0.02
[20:32:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(613,794), corner_timer=0.30
[20:32:55] [ENEMY] [Enemy2] Death animation completed
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (898.5494, 977.7235) (added to group)
[20:32:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:55] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[20:32:55] [INFO] [BloodDecal] Blood puddle created at (907.1619, 986.7509) (added to group)
[20:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(589,700), corner_timer=-0.02
[20:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(585,696), corner_timer=0.30
[20:32:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(506,636), corner_timer=-0.02
[20:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(500,635), corner_timer=0.30
[20:32:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(404,622), corner_timer=-0.02
[20:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(401,620), corner_timer=0.30
[20:32:56] [ENEMY] [Enemy4] Death animation completed
[20:32:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:56] [INFO] [ReplayManager] Recording frame 420 (6,2s): player_valid=True, enemies=10
[20:32:57] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:32:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(380,534), corner_timer=-0.02
[20:32:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(380,529), corner_timer=0.30
[20:32:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(380,424), corner_timer=-0.02
[20:32:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(380,419), corner_timer=0.30
[20:32:57] [ENEMY] [Enemy1] Hit: dmg=10, hp=3/3->-7/3
[20:32:57] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.763847, -0.645397), lethal=true
[20:32:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:32:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:32:57] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=0.75)
[20:32:57] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:32:57] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:32:57] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:32:57] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:32:57] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:32:57] [INFO] [PowerFantasy]   - Duration: 300ms
[20:32:57] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 9)
[20:32:57] [INFO] [DeathAnim] Started - Angle: -139.8 deg, Index: 2
[20:32:57] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.763847, -0.645397)
[20:32:57] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:32:57] [INFO] [PowerFantasy] Ending power fantasy effect
[20:32:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:57] [INFO] [ReplayManager] Recording frame 480 (6,9s): player_valid=True, enemies=10
[20:32:57] [INFO] [BloodDecal] Blood puddle created at (236.0729, 341.1188) (added to group)
[20:32:57] [INFO] [BloodDecal] Blood puddle created at (259.2509, 346.7363) (added to group)
[20:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(380,315), corner_timer=-0.01
[20:32:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (271.6703, 317.5414) (added to group)
[20:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(380,310), corner_timer=0.30
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (234.318, 323.9833) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (253.3035, 315.6706) (added to group)
[20:32:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (238.6761, 308.4667) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (235.0996, 349.1862) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (186.2118, 306.3111) (added to group)
[20:32:58] [ENEMY] [Enemy1] Ragdoll activated
[20:32:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (209.3524, 383.0264) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (213.4883, 312.2542) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (154.1945, 322.3091) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (257.3864, 336.1222) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (196.2767, 339.8886) (added to group)
[20:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(397,212), corner_timer=-0.02
[20:32:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (166.6313, 370.1684) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (235.9124, 282.6887) (added to group)
[20:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(400,208), corner_timer=0.30
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (238.8781, 341.4744) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (204.9313, 399.6943) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (249.7654, 336.5855) (added to group)
[20:32:58] [INFO] [BloodDecal] Blood puddle created at (179.0377, 388.1759) (added to group)
[20:32:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:58] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(485,162), corner_timer=-0.02
[20:32:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(491,162), corner_timer=0.30
[20:32:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:58] [INFO] [ReplayManager] Recording frame 540 (7,9s): player_valid=True, enemies=10
[20:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(587,183), corner_timer=-0.02
[20:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(591,186), corner_timer=0.30
[20:32:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:59] [ENEMY] [Enemy1] Death animation completed
[20:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(665,260), corner_timer=-0.02
[20:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(669,264), corner_timer=0.30
[20:32:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(743,337), corner_timer=-0.02
[20:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(747,340), corner_timer=0.30
[20:32:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:32:59] [INFO] [ReplayManager] Recording frame 600 (8,9s): player_valid=True, enemies=10
[20:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(846,353), corner_timer=-0.02
[20:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(852,353), corner_timer=0.30
[20:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(956,353), corner_timer=-0.02
[20:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(962,353), corner_timer=0.30
[20:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1066,353), corner_timer=-0.02
[20:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1072,353), corner_timer=0.30
[20:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:00] [INFO] [ReplayManager] Recording frame 660 (9,9s): player_valid=True, enemies=10
[20:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1176,353), corner_timer=-0.02
[20:33:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1182,353), corner_timer=0.30
[20:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1263,405), corner_timer=-0.02
[20:33:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1266,409), corner_timer=0.30
[20:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1276,510), corner_timer=-0.02
[20:33:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1276,515), corner_timer=0.30
[20:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:01] [INFO] [ReplayManager] Recording frame 720 (10,9s): player_valid=True, enemies=10
[20:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1281,617), corner_timer=-0.02
[20:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1282,622), corner_timer=0.30
[20:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1354,658), corner_timer=-0.02
[20:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1359,659), corner_timer=0.30
[20:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1440,717), corner_timer=-0.02
[20:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1444,721), corner_timer=0.30
[20:33:02] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[20:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:02] [INFO] [ReplayManager] Recording frame 780 (11,9s): player_valid=True, enemies=10
[20:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1516,759), corner_timer=-0.02
[20:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1519,759), corner_timer=0.30
[20:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1553,749), corner_timer=-0.02
[20:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1556,746), corner_timer=0.30
[20:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1638,698), corner_timer=-0.02
[20:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1644,698), corner_timer=0.30
[20:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:03] [INFO] [ReplayManager] Recording frame 840 (12,9s): player_valid=True, enemies=10
[20:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1748,698), corner_timer=-0.02
[20:33:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1754,698), corner_timer=0.30
[20:33:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1806,698), corner_timer=-0.02
[20:33:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1806,698), corner_timer=0.30
[20:33:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:04] [ENEMY] [Enemy6] Hit: dmg=10, hp=3/3->-7/3
[20:33:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.507074, -0.861902), lethal=true
[20:33:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:04] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=0.75)
[20:33:04] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:33:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:33:04] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:04] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:04] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:04] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:04] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[20:33:04] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 8)
[20:33:04] [INFO] [DeathAnim] Started - Angle: -59.5 deg, Index: 8
[20:33:04] [ENEMY] [Enemy6] Death animation started with hit direction: (0.507074, -0.861902)
[20:33:04] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:33:04] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:04] [INFO] [ReplayManager] Recording frame 900 (13,7s): player_valid=True, enemies=10
[20:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(1814,689), corner_timer=-0.01
[20:33:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1816,687), corner_timer=0.30
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1960.323, 415.0076) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1992.904, 415.4409) (added to group)
[20:33:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1963.941, 417.3298) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2006.308, 398.7862) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1968.01, 395.7487) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1999.313, 398.131) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1991.909, 357.3598) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2009.716, 376.4894) (added to group)
[20:33:05] [ENEMY] [Enemy6] Ragdoll activated
[20:33:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1841,639), corner_timer=-0.02
[20:33:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:33:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1841,638), corner_timer=0.30
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2015.462, 424.3831) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2023.719, 460.5811) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1975.259, 383.1776) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2059.188, 415.7585) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2066.784, 434.562) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2107.292, 394.4404) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1983.119, 419.6019) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2029.023, 436.2411) (added to group)
[20:33:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2067.246, 416.0315) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2013.181, 339.3985) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (2054.923, 455.4701) (added to group)
[20:33:05] [INFO] [BloodDecal] Blood puddle created at (1965.716, 412.9254) (added to group)
[20:33:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1841,638), corner_timer=-0.02
[20:33:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:33:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1841,638), corner_timer=0.30
[20:33:05] [ENEMY] [Enemy5] Hit: dmg=10, hp=2/2->-8/2
[20:33:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(-0.463789, -0.885946), lethal=true
[20:33:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:05] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=0.75)
[20:33:05] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[20:33:05] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:33:05] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:05] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:05] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:05] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:05] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 7)
[20:33:05] [INFO] [DeathAnim] Started - Angle: -117.6 deg, Index: 4
[20:33:05] [ENEMY] [Enemy5] Death animation started with hit direction: (-0.463789, -0.885946)
[20:33:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:05] [INFO] [ReplayManager] Recording frame 960 (14,5s): player_valid=True, enemies=10
[20:33:06] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:33:06] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.3°, player=(1841,687), corner_timer=-0.01
[20:33:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[20:33:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.2°, player=(1841,693), corner_timer=0.30
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1684.054, 315.7565) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1693.068, 308.3653) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1653.657, 332.4623) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1662.577, 317.7377) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1697.954, 307.2878) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1651.196, 328.0722) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1677.722, 322.4561) (added to group)
[20:33:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:06] [ENEMY] [Enemy6] Death animation completed
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1634.435, 334.8167) (added to group)
[20:33:06] [ENEMY] [Enemy5] Ragdoll activated
[20:33:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.1°, player=(1841,797), corner_timer=-0.02
[20:33:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1696.519, 308.754) (added to group)
[20:33:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(1841,803), corner_timer=0.30
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1695.54, 327.6374) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1665.859, 316.3164) (added to group)
[20:33:06] [INFO] [BloodDecal] Blood puddle created at (1698.114, 304.3363) (added to group)
[20:33:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:06] [INFO] [ReplayManager] Recording frame 1020 (15,4s): player_valid=True, enemies=10
[20:33:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(1841,860), corner_timer=-0.02
[20:33:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:33:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1841,860), corner_timer=0.30
[20:33:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:07] [ENEMY] [Enemy7] Hit: dmg=10, hp=4/4->-6/4
[20:33:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1611.245, 898.6942), dir=(-0.97369, 0.227876), lethal=true
[20:33:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:07] [INFO] [ImpactEffects] Wall found for blood splatter at (1562.937, 910) (dist=49 px)
[20:33:07] [INFO] [BloodDecal] Blood puddle created at (1562.937, 909) (added to group)
[20:33:07] [INFO] [ImpactEffects] Blood effect spawned at (1611.245, 898.6942) (scale=0.75)
[20:33:07] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[20:33:07] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:33:07] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:07] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:07] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:07] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:07] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 6)
[20:33:07] [INFO] [DeathAnim] Started - Angle: 166.8 deg, Index: 23
[20:33:07] [ENEMY] [Enemy7] Death animation started with hit direction: (-0.97369, 0.227876)
[20:33:07] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[20:33:07] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:07] [ENEMY] [Enemy5] Death animation completed
[20:33:07] [ENEMY] [Enemy7] Ragdoll activated
[20:33:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:07] [INFO] [ReplayManager] Recording frame 1080 (16,1s): player_valid=True, enemies=10
[20:33:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1841,1042), corner_timer=0.25
[20:33:08] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:33:08] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.5°, current=-134.8°, player=(1841,1053), corner_timer=0.25
[20:33:08] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:33:08] [ENEMY] [Enemy7] Death animation completed
[20:33:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:33:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:33:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:08] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1753.8511, 1461.1235)
[20:33:08] [INFO] [ReplayManager] Recording frame 1140 (17,1s): player_valid=True, enemies=10
[20:33:09] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:33:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[20:33:09] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:33:09] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[20:33:09] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[20:33:09] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[20:33:09] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:33:09] [INFO] [Player.Grenade] Timer started, grenade created at (1841.3673, 1171.9923)
[20:33:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[20:33:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (257.2024, -49.39148)
[20:33:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[20:33:09] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[20:33:09] [INFO] [ReplayManager] Recording frame 1200 (18,1s): player_valid=True, enemies=10
[20:33:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:33:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:33:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:33:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:33:10] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:33:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:33:10] [ENEMY] [Enemy1] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:33:10] [ENEMY] [Enemy2] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:33:10] [ENEMY] [Enemy3] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:33:10] [ENEMY] [Enemy4] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:33:10] [ENEMY] [Enemy5] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:33:10] [ENEMY] [Enemy6] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:33:10] [ENEMY] [Enemy7] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:33:10] [ENEMY] [Enemy8] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:33:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:33:10] [ENEMY] [Enemy9] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:33:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:33:10] [ENEMY] [Enemy10] Death animation component initialized
[20:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:33:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:33:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:33:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:33:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:33:10] [INFO] [Player.Weapon] GameManager weapon selection: silenced_pistol (SilencedPistol)
[20:33:10] [INFO] [Player.Weapon] Removed default MakarovPM
[20:33:10] [INFO] [Player.Weapon] Equipped SilencedPistol (ammo: 13/13)
[20:33:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:33:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:33:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:33:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:33:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:33:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:33:10] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:33:10] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:33:10] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:33:10] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:33:10] [INFO] [Player] Ready! Ammo: 13/13, Grenades: 1/3, Health: 10/10
[20:33:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:33:10] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:33:10] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:33:10] [INFO] [BuildingLevel] Setting up weapon: silenced_pistol
[20:33:10] [INFO] [BuildingLevel] SilencedPistol already equipped by C# Player - skipping GDScript weapon swap
[20:33:10] [INFO] [ScoreManager] Level started with 10 enemies
[20:33:10] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:33:10] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:33:10] [INFO] [ReplayManager] Replay data cleared
[20:33:10] [INFO] [BuildingLevel] Previous replay data cleared
[20:33:10] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[20:33:10] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:33:10] [INFO] [ReplayManager] Level: BuildingLevel
[20:33:10] [INFO] [ReplayManager] Player: Player (valid: True)
[20:33:10] [INFO] [ReplayManager] Enemies count: 10
[20:33:10] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[20:33:10] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:33:10] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:33:10] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:33:10] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:33:10] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:33:10] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:33:10] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:33:10] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:33:10] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:33:10] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:33:10] [INFO] [BuildingLevel] Replay recording started successfully
[20:33:10] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:33:10] [INFO] [CinemaEffects] Found player node: Player
[20:33:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[20:33:10] [ENEMY] [Enemy1] Registered as sound listener
[20:33:10] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[20:33:10] [ENEMY] [Enemy2] Registered as sound listener
[20:33:10] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[20:33:10] [ENEMY] [Enemy3] Registered as sound listener
[20:33:10] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[20:33:10] [ENEMY] [Enemy4] Registered as sound listener
[20:33:10] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[20:33:10] [ENEMY] [Enemy5] Registered as sound listener
[20:33:10] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[20:33:10] [ENEMY] [Enemy6] Registered as sound listener
[20:33:10] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[20:33:10] [ENEMY] [Enemy7] Registered as sound listener
[20:33:10] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:33:10] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[20:33:10] [ENEMY] [Enemy8] Registered as sound listener
[20:33:10] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[20:33:10] [ENEMY] [Enemy9] Registered as sound listener
[20:33:10] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[20:33:10] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:33:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[20:33:10] [ENEMY] [Enemy10] Registered as sound listener
[20:33:10] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:33:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:33:10] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:33:10] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:33:10] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[20:33:10] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[20:33:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:33:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:33:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:33:10] [INFO] [LastChance] Found player: Player
[20:33:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:33:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:33:10] [INFO] [LastChance] Connected to player Died signal (C#)
[20:33:11] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:33:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:33:11] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:33:11] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[20:33:11] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[20:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[20:33:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:33:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[20:33:12] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[20:33:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[20:33:12] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:33:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[20:33:12] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:33:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[20:33:13] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:33:13] [INFO] [PauseMenu] Armory button pressed
[20:33:13] [INFO] [PauseMenu] Creating new armory menu instance
[20:33:13] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[20:33:13] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[20:33:13] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[20:33:13] [INFO] [PauseMenu] back_pressed signal exists on instance
[20:33:13] [INFO] [PauseMenu] back_pressed signal connected
[20:33:13] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[20:33:13] [INFO] [PauseMenu] _populate_weapon_grid method exists
[20:33:14] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:33:15] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:33:15] [INFO] [GameManager] Weapon selected: m16
[20:33:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:33:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:33:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:33:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:33:15] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:33:15] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:33:15] [ENEMY] [Enemy1] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:33:15] [ENEMY] [Enemy2] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:33:15] [ENEMY] [Enemy3] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:33:15] [ENEMY] [Enemy4] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:33:15] [ENEMY] [Enemy5] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:33:15] [ENEMY] [Enemy6] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:33:15] [ENEMY] [Enemy7] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:33:15] [ENEMY] [Enemy8] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:33:15] [ENEMY] [Enemy9] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:33:15] [ENEMY] [Enemy10] Death animation component initialized
[20:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:33:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:33:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:33:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:33:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:33:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:33:15] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[20:33:15] [INFO] [Player.Weapon] Removed default MakarovPM
[20:33:15] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[20:33:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:33:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:33:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:33:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:33:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:33:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:33:15] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:33:15] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:33:15] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:33:15] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:33:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[20:33:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:33:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:33:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:33:15] [INFO] [BuildingLevel] Setting up weapon: m16
[20:33:15] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[20:33:15] [INFO] [ScoreManager] Level started with 10 enemies
[20:33:15] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:33:15] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:33:15] [INFO] [ReplayManager] Replay data cleared
[20:33:15] [INFO] [BuildingLevel] Previous replay data cleared
[20:33:15] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:33:15] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:33:15] [INFO] [ReplayManager] Level: BuildingLevel
[20:33:15] [INFO] [ReplayManager] Player: Player (valid: True)
[20:33:15] [INFO] [ReplayManager] Enemies count: 10
[20:33:15] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:33:15] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:33:15] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:33:15] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:33:15] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:33:15] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:33:15] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:33:15] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:33:15] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:33:15] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:33:15] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:33:15] [INFO] [BuildingLevel] Replay recording started successfully
[20:33:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:33:15] [INFO] [CinemaEffects] Found player node: Player
[20:33:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 17)
[20:33:15] [ENEMY] [Enemy1] Registered as sound listener
[20:33:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 18)
[20:33:15] [ENEMY] [Enemy2] Registered as sound listener
[20:33:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 19)
[20:33:15] [ENEMY] [Enemy3] Registered as sound listener
[20:33:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 20)
[20:33:15] [ENEMY] [Enemy4] Registered as sound listener
[20:33:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 21)
[20:33:15] [ENEMY] [Enemy5] Registered as sound listener
[20:33:15] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 22)
[20:33:15] [ENEMY] [Enemy6] Registered as sound listener
[20:33:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 23)
[20:33:15] [ENEMY] [Enemy7] Registered as sound listener
[20:33:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:33:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 24)
[20:33:15] [ENEMY] [Enemy8] Registered as sound listener
[20:33:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 25)
[20:33:15] [ENEMY] [Enemy9] Registered as sound listener
[20:33:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[20:33:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:33:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 26)
[20:33:15] [ENEMY] [Enemy10] Registered as sound listener
[20:33:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:33:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:33:15] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:33:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:33:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:33:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:33:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:33:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:33:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:33:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:33:15] [INFO] [LastChance] Found player: Player
[20:33:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:33:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:33:15] [INFO] [LastChance] Connected to player Died signal (C#)
[20:33:16] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:33:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:33:17] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:33:17] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,973), corner_timer=0.30
[20:33:17] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,973), corner_timer=0.30
[20:33:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,869), corner_timer=-0.02
[20:33:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,869), corner_timer=-0.02
[20:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:33:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,863), corner_timer=0.30
[20:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,863), corner_timer=0.30
[20:33:17] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(454,761), corner_timer=-0.02
[20:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(455,757), corner_timer=0.30
[20:33:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.4109, 753.4841), source=PLAYER (AssaultRifle), range=1469, listeners=26
[20:33:18] [INFO] [SoundPropagation] Cleaned up 16 invalid listeners
[20:33:18] [ENEMY] [Enemy1] Heard gunshot at (457.4109, 753.4841), source_type=0, intensity=0.01, distance=433
[20:33:18] [ENEMY] [Enemy2] Heard gunshot at (457.4109, 753.4841), source_type=0, intensity=0.06, distance=211
[20:33:18] [ENEMY] [Enemy3] Heard gunshot at (457.4109, 753.4841), source_type=0, intensity=0.04, distance=243
[20:33:18] [ENEMY] [Enemy4] Heard gunshot at (457.4109, 753.4841), source_type=0, intensity=0.02, distance=373
[20:33:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:33:18] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=68.7°, current=168.8°, player=(457,753), corner_timer=0.00
[20:33:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.2°, current=45.0°, player=(457,753), corner_timer=0.00
[20:33:18] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=179.2°, current=-33.8°, player=(457,753), corner_timer=0.00
[20:33:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-156.8°, current=168.8°, player=(457,753), corner_timer=0.00
[20:33:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:33:18] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[20:33:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:18] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:33:18] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.5°, current=180.0°, player=(466,739), corner_timer=0.00
[20:33:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.6332, 732.9971), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:33:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:33:18] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-175.7°, current=125.0°, player=(474,732), corner_timer=0.00
[20:33:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[20:33:18] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=false
[20:33:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:18] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:33:18] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-174.0°, current=180.0°, player=(489,728), corner_timer=0.00
[20:33:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.6195, 728.7038), source=PLAYER (AssaultRifle), range=1469, listeners=10
[20:33:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:33:18] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:33:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[20:33:18] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(1, 0), lethal=true
[20:33:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:18] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[20:33:18] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:33:18] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:33:18] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:18] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:18] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:18] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:18] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:33:18] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:33:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:18] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[20:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(516,735), corner_timer=-0.00
[20:33:18] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[20:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=7.2°, player=(516,735), corner_timer=0.30
[20:33:18] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=57.6°, current=64.8°, player=(518,736), corner_timer=0.00
[20:33:18] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:33:18] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:18] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (813.076, 815.9687) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (809.8192, 829.5603) (added to group)
[20:33:18] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=57.2°, current=57.1°, player=(543,772), corner_timer=0.00
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (832.0884, 840.3667) (added to group)
[20:33:18] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:33:18] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:33:18] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (837.5619, 820.0231) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (751.7849, 757.7957) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (742.7786, 777.2831) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (778.9559, 794.2078) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (764.2639, 778.2737) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (800.7639, 789.1455) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (805.8786, 765.0361) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (834.7198, 751.9248) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (759.8617, 778.4903) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (769.2704, 807.4357) (added to group)
[20:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(545,814), corner_timer=-0.01
[20:33:18] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (870.8344, 773.5471) (added to group)
[20:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=6.4°, player=(545,820), corner_timer=0.30
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (787.1295, 804.5429) (added to group)
[20:33:18] [INFO] [BloodDecal] Blood puddle created at (828.5737, 801.201) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (771.7491, 765.1394) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (774.3754, 763.9329) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (897.0211, 817.5221) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (863.6559, 860.3494) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (800.2094, 796.4169) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (793.0637, 776.4572) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (816.5561, 776.7098) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (790.4738, 773.6913) (added to group)
[20:33:19] [ENEMY] [Enemy3] Ragdoll activated
[20:33:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (841.3986, 813.5123) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (804.5546, 801.1861) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (836.7407, 783.8872) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (812.7177, 810.5863) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (860.551, 758.7114) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (789.0449, 799.0138) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (863.8276, 791.58) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (819.4996, 848.8942) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (836.5341, 804.032) (added to group)
[20:33:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(545.8279, 913.8784), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:33:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (810.986, 834.368) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (887.4882, 871.9299) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (805.5366, 831.2448) (added to group)
[20:33:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(545,924), corner_timer=-0.02
[20:33:19] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[20:33:19] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[20:33:19] [INFO] [ImpactEffects] spawn_blood_effect called at (720.4177, 914.0654), dir=(1, 0), lethal=false
[20:33:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:19] [INFO] [ImpactEffects] Blood effect spawned at (720.4177, 914.0654) (scale=1)
[20:33:19] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=174.7°, current=180.0°, player=(545,930), corner_timer=0.00
[20:33:19] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[20:33:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(545,930), corner_timer=0.30
[20:33:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(545.8279, 952.3784), source=PLAYER (AssaultRifle), range=1469, listeners=9
[20:33:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[20:33:19] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[20:33:19] [INFO] [ImpactEffects] spawn_blood_effect called at (720.4177, 914.0654), dir=(1, 0), lethal=true
[20:33:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:19] [INFO] [ImpactEffects] Blood effect spawned at (720.4177, 914.0654) (scale=1.5)
[20:33:19] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:33:19] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:33:19] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:19] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:19] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:19] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:19] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[20:33:19] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[20:33:19] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:19] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[20:33:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(546.0569, 980.8624), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:33:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[20:33:19] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:33:19] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.0569, 980.8624), shooter_id=5583256162456, bullet_pos=(707.2039, 859.061)
[20:33:19] [INFO] [Bullet] Using shooter_position, distance=201,99991
[20:33:19] [INFO] [Bullet] Distance to wall: 201,99991 (13,754545% of viewport)
[20:33:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:19] [INFO] [ReplayManager] Recording frame 240 (3,4s): player_valid=True, enemies=10
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (766.4807, 933.7676) (added to group)
[20:33:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (781.4456, 927.4547) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (779.0777, 937.2109) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (807.0668, 962.5237) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (800.5877, 925.4872) (added to group)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (809.7521, 953.196) (added to group)
[20:33:19] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[20:33:19] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[20:33:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:19] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[20:33:19] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[20:33:19] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (779.21, 961.6887) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (833.3802, 930.7513) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (861.4481, 993.2603) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (798.0314, 926.195) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (830.2863, 979.6184) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (812.1019, 945.7599) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (847.284, 954.4786) (added to group)
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (801.8047, 987.2258) (added to group)
[20:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(540,952), corner_timer=-0.02
[20:33:20] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(540,948), corner_timer=0.30
[20:33:20] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (807.5562, 998.5319) (added to group)
[20:33:20] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[20:33:20] [ENEMY] [Enemy4] Ragdoll activated
[20:33:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (865.8434, 930.4878) (added to group)
[20:33:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (811.016, 994.0011) (added to group)
[20:33:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (867.6041, 986.0643) (added to group)
[20:33:20] [ENEMY] [Enemy3] Death animation completed
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (492.7512, 579.6888) (added to group)
[20:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(540,845), corner_timer=-0.02
[20:33:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (475.0161, 639.3248) (added to group)
[20:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(540,839), corner_timer=0.30
[20:33:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:20] [INFO] [BloodDecal] Blood puddle created at (567.0884, 711.9611) (added to group)
[20:33:20] [ENEMY] [Enemy1] PURSUING corner check: angle -134.4°
[20:33:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[20:33:20] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=76.8°, current=167.7°, player=(564,778), corner_timer=0.00
[20:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(587,755), corner_timer=-0.02
[20:33:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:33:20] [INFO] [ReplayManager] Recording frame 300 (4,4s): player_valid=True, enemies=10
[20:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(591,751), corner_timer=0.30
[20:33:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.0878, 743.3615), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:33:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[20:33:20] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=49.6°, current=26.4°, player=(606,735), corner_timer=0.10
[20:33:20] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:33:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[20:33:20] [INFO] [ImpactEffects] spawn_blood_effect called at (417.0409, 622.6959), dir=(1, 0), lethal=false
[20:33:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:20] [INFO] [ImpactEffects] Blood effect spawned at (417.0409, 622.6959) (scale=1)
[20:33:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.1122, 715.7993), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:33:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[20:33:20] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=45.8°, current=77.7°, player=(623,715), corner_timer=0.10
[20:33:20] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=16.3°, current=-4.6°, player=(629,705), corner_timer=0.00
[20:33:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.98, 692.7766), source=PLAYER (AssaultRifle), range=1469, listeners=8
[20:33:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[20:33:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.11224, 715.7993), shooter_id=5583256162456, bullet_pos=(219.65619, 477.3216)
[20:33:21] [INFO] [Bullet] Using shooter_position, distance=468,66663
[20:33:21] [INFO] [Bullet] Distance to wall: 468,66663 (31,912374% of viewport)
[20:33:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:21] [INFO] [Bullet] Starting wall penetration at (219.65619, 477.3216)
[20:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(632,685), corner_timer=-0.02
[20:33:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:33:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:33:21] [INFO] [Bullet] Exiting penetration at (179.48276, 453.57556) after traveling 41,666668 pixels through wall
[20:33:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:21] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[20:33:21] [INFO] [ImpactEffects] spawn_blood_effect called at (436.2165, 604.5245), dir=(1, 0), lethal=true
[20:33:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:21] [INFO] [ImpactEffects] Blood effect spawned at (436.2165, 604.5245) (scale=1.5)
[20:33:21] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:33:21] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:33:21] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:21] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:21] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:21] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:21] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[20:33:21] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[20:33:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:21] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[20:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(631,682), corner_timer=0.30
[20:33:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.7904, 680.2055), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:33:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[20:33:21] [ENEMY] [Enemy4] Death animation completed
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (485.8127, 671.9584) (added to group)
[20:33:21] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[20:33:21] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (495.1027, 652.7132) (added to group)
[20:33:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (476.97, 670.2191) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (507.0926, 687.2035) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (520.64, 630.5372) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (516.1667, 615.506) (added to group)
[20:33:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.7904, 680.2055), shooter_id=5583256162456, bullet_pos=(42.818214, 487.75427)
[20:33:21] [INFO] [Bullet] Using shooter_position, distance=618,66693
[20:33:21] [INFO] [Bullet] Distance to wall: 618,66693 (42,12617% of viewport)
[20:33:21] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (585.6877, 718.8124) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (515.5911, 642.959) (added to group)
[20:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.6°, player=(568,656), corner_timer=-0.01
[20:33:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:33:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.7904, 680.2055), shooter_id=5583256162456, bullet_pos=(216.29942, 432.4496)
[20:33:21] [INFO] [Bullet] Using shooter_position, distance=482,89313
[20:33:21] [INFO] [Bullet] Distance to wall: 482,89313 (32,88108% of viewport)
[20:33:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:21] [INFO] [Bullet] Starting wall penetration at (216.29942, 432.4496)
[20:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.4°, player=(562,656), corner_timer=0.30
[20:33:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,182302
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (540.6055, 674.9794) (added to group)
[20:33:21] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:21] [INFO] [Bullet] Exiting penetration at (254.80669, 420.1737) after traveling 35,41667 pixels through wall
[20:33:21] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (566.7625, 669.3567) (added to group)
[20:33:21] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=54.9°, current=54.0°, player=(551,656), corner_timer=0.10
[20:33:21] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (558.505, 632.7418) (added to group)
[20:33:21] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (558.4827, 649.6393) (added to group)
[20:33:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (570.7539, 712.2753) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (543.2812, 618.94) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (625.8865, 781.5623) (added to group)
[20:33:21] [ENEMY] [Enemy2] Ragdoll activated
[20:33:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (587.3275, 656.7861) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (580.3644, 707.8548) (added to group)
[20:33:21] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (579.3893, 608.3708) (added to group)
[20:33:21] [INFO] [BloodDecal] Blood puddle created at (594.3843, 711.6024) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (631.0847, 721.4954) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (621.3171, 601.5471) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (585.5971, 727.2257) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (615.0095, 702.6365) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (540.3191, 694.8434) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (629.7524, 755.8716) (added to group)
[20:33:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(458,656), corner_timer=-0.02
[20:33:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(452,656), corner_timer=0.30
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (555.1425, 682.9573) (added to group)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (548.8834, 737.8099) (added to group)
[20:33:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.322, 656.8583), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:33:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[20:33:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(365.5873, 655.0106), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:33:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[20:33:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(403.32196, 656.85834), shooter_id=5583256162456, bullet_pos=(312.67587, 239.5907)
[20:33:22] [INFO] [Bullet] Using shooter_position, distance=427
[20:33:22] [INFO] [Bullet] Distance to wall: 427 (29,075218% of viewport)
[20:33:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(351,650), corner_timer=-0.02
[20:33:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:22] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/3->2/3
[20:33:22] [INFO] [ImpactEffects] spawn_blood_effect called at (395.6409, 429.8873), dir=(1, 0), lethal=false
[20:33:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:22] [INFO] [ImpactEffects] Blood effect spawned at (395.6409, 429.8873) (scale=1)
[20:33:22] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=102.7°, current=180.0°, player=(346,648), corner_timer=0.10
[20:33:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(346,648), corner_timer=0.30
[20:33:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(333.3378, 639.9205), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:33:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[20:33:22] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:33:22] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-134.4°, current=172.3°, player=(329,636), corner_timer=0.10
[20:33:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:22] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/3->1/3
[20:33:22] [INFO] [ImpactEffects] spawn_blood_effect called at (390.8939, 423.4479), dir=(1, 0), lethal=false
[20:33:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:22] [INFO] [ImpactEffects] Blood effect spawned at (390.8939, 423.4479) (scale=1)
[20:33:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(312.1296, 614.6755), source=PLAYER (AssaultRifle), range=1469, listeners=7
[20:33:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[20:33:22] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/3->0/3
[20:33:22] [INFO] [ImpactEffects] spawn_blood_effect called at (379.8176, 408.4226), dir=(1, 0), lethal=true
[20:33:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:22] [INFO] [ImpactEffects] Blood effect spawned at (379.8176, 408.4226) (scale=1.5)
[20:33:22] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:33:22] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:33:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:22] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:22] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[20:33:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:22] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (451.2874, 432.7115) (added to group)
[20:33:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(306.7196, 594.9926), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:33:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[20:33:22] [INFO] [ReplayManager] Recording frame 420 (6,0s): player_valid=True, enemies=10
[20:33:22] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:33:22] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:22] [INFO] [BloodDecal] Blood puddle created at (482.3985, 487.0962) (added to group)
[20:33:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.4°, player=(308,581), corner_timer=-0.01
[20:33:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[20:33:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.3°, player=(309,577), corner_timer=0.30
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (432.3668, 435.3735) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (477.676, 491.181) (added to group)
[20:33:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (494.6104, 475.1895) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (473.6827, 416.5897) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (451.0936, 476.774) (added to group)
[20:33:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(306.71964, 594.99255), shooter_id=5583256162456, bullet_pos=(474.62195, 42.962166)
[20:33:23] [INFO] [Bullet] Using shooter_position, distance=576,99976
[20:33:23] [INFO] [Bullet] Distance to wall: 576,99976 (39,28898% of viewport)
[20:33:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:23] [INFO] [Bullet] Starting wall penetration at (474.62195, 42.962166)
[20:33:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,208668
[20:33:23] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:23] [INFO] [Bullet] Exiting penetration at (488.20157, -1.6850243) after traveling 41,666668 pixels through wall
[20:33:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:23] [ENEMY] [Enemy2] Death animation completed
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (487.0761, 530.5302) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (432.4652, 416.6236) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (469.7222, 404.5978) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (464.3685, 439.5982) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (430.9881, 415.7815) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (479.5133, 446.1204) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (497.162, 506.5879) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (438.0349, 398.8655) (added to group)
[20:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(373,503), corner_timer=-0.02
[20:33:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(377,499), corner_timer=0.30
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (498.7232, 526.9772) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (494.9492, 439.3164) (added to group)
[20:33:23] [ENEMY] [Enemy1] Ragdoll activated
[20:33:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (496.9173, 509.0469) (added to group)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (477.6606, 456.2224) (added to group)
[20:33:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (477.2894, 500.2448) (added to group)
[20:33:23] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (490.0773, 447.1293) (added to group)
[20:33:23] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:23] [INFO] [BloodDecal] Blood puddle created at (494.7529, 508.9519) (added to group)
[20:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(450,425), corner_timer=-0.02
[20:33:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(453,421), corner_timer=0.30
[20:33:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:23] [INFO] [ReplayManager] Recording frame 480 (6,9s): player_valid=True, enemies=10
[20:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(466,322), corner_timer=-0.02
[20:33:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(466,316), corner_timer=0.30
[20:33:23] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:33:24] [ENEMY] [Enemy1] Player reloading: false -> true
[20:33:24] [ENEMY] [Enemy5] Player reloading: false -> true
[20:33:24] [ENEMY] [Enemy6] Player reloading: false -> true
[20:33:24] [ENEMY] [Enemy7] Player reloading: false -> true
[20:33:24] [ENEMY] [Enemy8] Player reloading: false -> true
[20:33:24] [ENEMY] [Enemy9] Player reloading: false -> true
[20:33:24] [ENEMY] [Enemy10] Player reloading: false -> true
[20:33:24] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(466.2473, 311.1125), source=PLAYER (Player), range=900, listeners=6
[20:33:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:33:24] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1234), can_see=false
[20:33:24] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1490), can_see=false
[20:33:24] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1287), can_see=false
[20:33:24] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1831), can_see=false
[20:33:24] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2050), can_see=false
[20:33:24] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1465), can_see=false
[20:33:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:24] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:33:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(466,212), corner_timer=-0.02
[20:33:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(466,206), corner_timer=0.30
[20:33:24] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:33:24] [ENEMY] [Enemy1] Player reloading: true -> false
[20:33:24] [ENEMY] [Enemy5] Player reloading: true -> false
[20:33:24] [ENEMY] [Enemy6] Player reloading: true -> false
[20:33:24] [ENEMY] [Enemy7] Player reloading: true -> false
[20:33:24] [ENEMY] [Enemy8] Player reloading: true -> false
[20:33:24] [ENEMY] [Enemy9] Player reloading: true -> false
[20:33:24] [ENEMY] [Enemy10] Player reloading: true -> false
[20:33:24] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:33:24] [ENEMY] [Enemy1] Death animation completed
[20:33:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:33:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(466,102), corner_timer=-0.02
[20:33:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(466,96), corner_timer=0.30
[20:33:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:24] [INFO] [ReplayManager] Recording frame 540 (7,9s): player_valid=True, enemies=10
[20:33:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(524,80), corner_timer=-0.02
[20:33:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(530,80), corner_timer=0.30
[20:33:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:25] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:33:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(634,80), corner_timer=-0.02
[20:33:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(640,80), corner_timer=0.30
[20:33:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(744,80), corner_timer=-0.02
[20:33:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(750,80), corner_timer=0.30
[20:33:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:25] [INFO] [ReplayManager] Recording frame 600 (8,9s): player_valid=True, enemies=10
[20:33:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(854,80), corner_timer=-0.02
[20:33:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(860,80), corner_timer=0.30
[20:33:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:26] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(964,80), corner_timer=-0.02
[20:33:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(970,80), corner_timer=0.30
[20:33:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1073,83), corner_timer=-0.02
[20:33:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1078,84), corner_timer=0.30
[20:33:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:26] [INFO] [ReplayManager] Recording frame 660 (9,9s): player_valid=True, enemies=10
[20:33:26] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1138,157), corner_timer=-0.02
[20:33:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1139,163), corner_timer=0.30
[20:33:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1154,261), corner_timer=-0.02
[20:33:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1157,265), corner_timer=0.30
[20:33:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1245,304), corner_timer=-0.02
[20:33:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1250,304), corner_timer=0.30
[20:33:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:27] [INFO] [ReplayManager] Recording frame 720 (10,9s): player_valid=True, enemies=10
[20:33:27] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[20:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1337,304), corner_timer=-0.02
[20:33:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1339,304), corner_timer=0.30
[20:33:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,304), corner_timer=-0.02
[20:33:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1346,304), corner_timer=0.30
[20:33:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,304), corner_timer=-0.02
[20:33:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1346,304), corner_timer=0.30
[20:33:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:28] [INFO] [ReplayManager] Recording frame 780 (11,9s): player_valid=True, enemies=10
[20:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,304), corner_timer=-0.02
[20:33:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1346,304), corner_timer=0.30
[20:33:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:29] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:33:29] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:33:29] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,304), corner_timer=-0.02
[20:33:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1346,304), corner_timer=0.30
[20:33:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[20:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,304), corner_timer=-0.02
[20:33:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1346,304), corner_timer=0.30
[20:33:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:29] [INFO] [ReplayManager] Recording frame 840 (12,9s): player_valid=True, enemies=10
[20:33:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[20:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1346,292), corner_timer=-0.02
[20:33:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1346,289), corner_timer=0.30
[20:33:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,199), corner_timer=-0.02
[20:33:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1348,195), corner_timer=0.30
[20:33:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1407,135), corner_timer=-0.02
[20:33:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1412.152, 135.18), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:33:30] [ENEMY] [Enemy5] Heard gunshot at (1412.152, 135.18), source_type=0, intensity=0.02, distance=359
[20:33:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:33:30] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-143.3°, current=146.3°, player=(1412,135), corner_timer=0.00
[20:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1412,135), corner_timer=0.30
[20:33:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1449.093, 137.8093), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:33:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:33:30] [INFO] [ReplayManager] Recording frame 900 (13,9s): player_valid=True, enemies=10
[20:33:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1480.449, 155.0551), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:33:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:33:30] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:33:30] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/2->1/2
[20:33:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.066, 283.821), dir=(1, 0), lethal=false
[20:33:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:30] [INFO] [ImpactEffects] Blood effect spawned at (1684.066, 283.821) (scale=1)
[20:33:30] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=RETREATING, target=-148.9°, current=180.0°, player=(1496,170), corner_timer=0.00
[20:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1499,174), corner_timer=-0.02
[20:33:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1503,177), corner_timer=0.30
[20:33:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1506.198, 180.5295), source=PLAYER (AssaultRifle), range=1469, listeners=6
[20:33:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:33:31] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/2->0/2
[20:33:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1702.127, 297.3362), dir=(1, 0), lethal=true
[20:33:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:31] [INFO] [ImpactEffects] Blood effect spawned at (1702.127, 297.3362) (scale=1.5)
[20:33:31] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[20:33:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:33:31] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:31] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:31] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:31] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:31] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[20:33:31] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[20:33:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:31] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[20:33:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1524.168, 201.4958), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:31] [ENEMY] [Enemy6] Heard gunshot at (1524.168, 201.4958), source_type=0, intensity=0.01, distance=493
[20:33:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:31] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-149.7°, current=-22.5°, player=(1524,201), corner_timer=0.00
[20:33:31] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[20:33:31] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=128.6°, current=-25.2°, player=(1524,202), corner_timer=0.00
[20:33:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1412.1517, 135.18), shooter_id=5583256162456, bullet_pos=(2460.953, 621.7353)
[20:33:31] [INFO] [Bullet] Using shooter_position, distance=1156,1661
[20:33:31] [INFO] [Bullet] Distance to wall: 1156,1661 (78,72548% of viewport)
[20:33:31] [INFO] [Bullet] Distance-based penetration chance: 54,820274%
[20:33:31] [INFO] [Bullet] Starting wall penetration at (2460.953, 621.7353)
[20:33:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:33:31] [INFO] [Bullet] Exiting penetration at (2469.2683, 625.59296) after traveling 4,166667 pixels through wall
[20:33:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:31] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:33:31] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:33:31] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:33:31] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1449.093, 137.80934), shooter_id=5583256162456, bullet_pos=(2496.4895, 692.7713)
[20:33:31] [INFO] [Bullet] Using shooter_position, distance=1185,3363
[20:33:31] [INFO] [Bullet] Distance to wall: 1185,3363 (80,71173% of viewport)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1741.585, 314.879) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1754.915, 278.9908) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1750.551, 304.3232) (added to group)
[20:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(1530,250), corner_timer=-0.01
[20:33:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1528,253), corner_timer=0.30
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1804.062, 284.0169) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1772.578, 297.537) (added to group)
[20:33:31] [ENEMY] [Enemy7] Memory: medium confidence (0.60) - transitioning to PURSUING
[20:33:31] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1793.232, 319.4268) (added to group)
[20:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-98.1°, current=89.2°, player=(1520,265), corner_timer=0.27
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1754.427, 333.0216) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1779.449, 317.9479) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1775.144, 355.8332) (added to group)
[20:33:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1828.248, 346.5505) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1796.628, 337.0603) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1796.281, 304.4864) (added to group)
[20:33:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1524.1685, 201.49576), shooter_id=5583256162456, bullet_pos=(2475.806, 678.51074)
[20:33:31] [INFO] [Bullet] Using shooter_position, distance=1064,4985
[20:33:31] [INFO] [Bullet] Distance to wall: 1064,4985 (72,483665% of viewport)
[20:33:31] [INFO] [Bullet] Distance-based penetration chance: 62,102394%
[20:33:31] [INFO] [Bullet] Penetration failed (distance roll)
[20:33:31] [INFO] [ReplayManager] Recording frame 960 (14,6s): player_valid=True, enemies=10
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1777.624, 316.5691) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1816.461, 311.2258) (added to group)
[20:33:31] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:33:31] [ENEMY] [Enemy5] Ragdoll activated
[20:33:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1783.877, 359.3513) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1803.32, 301.9742) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1823.474, 302.4779) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1788.224, 338.5266) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1827.294, 438.3309) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1822.064, 396.7715) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1814.425, 327.7693) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1890.806, 401.9935) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1793.775, 403.6666) (added to group)
[20:33:31] [INFO] [BloodDecal] Blood puddle created at (1865.754, 434.8007) (added to group)
[20:33:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1831.393, 344.189) (added to group)
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1834.631, 449.4977) (added to group)
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1820.72, 350.197) (added to group)
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1823.091, 388.9017) (added to group)
[20:33:32] [ENEMY] [Enemy7] PURSUING corner check: angle 92.5°
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1864.264, 403.5515) (added to group)
[20:33:32] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=177.0°, current=-173.5°, player=(1447,388), corner_timer=0.00
[20:33:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1489.125, 438.1467), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:33:32] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1524.124, 444.1688), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:33:32] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/3->2/3
[20:33:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1839.005, 348.0657), dir=(1, 0), lethal=false
[20:33:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:32] [INFO] [ImpactEffects] Blood effect spawned at (1839.005, 348.0657) (scale=1)
[20:33:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1562.624, 444.1688), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:33:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1601.124, 444.1688), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:33:32] [INFO] [ReplayManager] Recording frame 1020 (15,6s): player_valid=True, enemies=10
[20:33:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1639.624, 444.1688), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1945.634, 419.7934) (added to group)
[20:33:32] [ENEMY] [Enemy5] Death animation completed
[20:33:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1524.1238, 444.1688), shooter_id=5583256162456, bullet_pos=(2466.2239, 218.858)
[20:33:32] [INFO] [Bullet] Using shooter_position, distance=968,6679
[20:33:32] [INFO] [Bullet] Distance to wall: 968,6679 (65,95838% of viewport)
[20:33:32] [INFO] [Bullet] Distance-based penetration chance: 69,715225%
[20:33:32] [INFO] [Bullet] Starting wall penetration at (2466.2239, 218.858)
[20:33:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,050833
[20:33:32] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:32] [INFO] [Bullet] Exiting penetration at (2511.6106, 208.00339) after traveling 41,66667 pixels through wall
[20:33:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1639.6238, 444.1688), shooter_id=5583256162456, bullet_pos=(1870.378, 323.64557)
[20:33:32] [INFO] [Bullet] Using shooter_position, distance=260,33322
[20:33:32] [INFO] [Bullet] Distance to wall: 260,33322 (17,726568% of viewport)
[20:33:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (1955.232, 391.997) (added to group)
[20:33:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1562.6238, 444.1688), shooter_id=5583256162456, bullet_pos=(2465.5757, 234.39474)
[20:33:32] [INFO] [Bullet] Using shooter_position, distance=926,9991
[20:33:32] [INFO] [Bullet] Distance to wall: 926,9991 (63,121075% of viewport)
[20:33:32] [INFO] [Bullet] Distance-based penetration chance: 73,02542%
[20:33:32] [INFO] [Bullet] Starting wall penetration at (2465.5757, 234.39474)
[20:33:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,4320545
[20:33:32] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:32] [INFO] [Bullet] Exiting penetration at (2511.0317, 223.83438) after traveling 41,666668 pixels through wall
[20:33:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:32] [INFO] [BloodDecal] Blood puddle created at (2003.982, 419.6328) (added to group)
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (1986.922, 485.8056) (added to group)
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (1991.532, 425.6518) (added to group)
[20:33:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (2030.824, 370.739) (added to group)
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1601.1238, 444.1688), shooter_id=5583256162456, bullet_pos=(2474.1528, 132.48358)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=926,99915
[20:33:33] [INFO] [Bullet] Distance to wall: 926,99915 (63,12108% of viewport)
[20:33:33] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-43.7°, current=-152.1°, player=(1716,444), corner_timer=0.00
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (1934.255, 407.9617) (added to group)
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (1929.655, 461.6714) (added to group)
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (2028.255, 484.4974) (added to group)
[20:33:33] [INFO] [BloodDecal] Blood puddle created at (1951.527, 441.4262) (added to group)
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1601.1238, 444.1688), shooter_id=5583256162456, bullet_pos=(2308.1, 57.778214)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=805,6756
[20:33:33] [INFO] [Bullet] Distance to wall: 805,6756 (54,859936% of viewport)
[20:33:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1754.996, 443.8608), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1639.6238, 444.1688), shooter_id=5583256162456, bullet_pos=(2466.9424, 645.64154)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=851,4971
[20:33:33] [INFO] [Bullet] Distance to wall: 851,4971 (57,98% of viewport)
[20:33:33] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1789.031, 433.0822), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1754.9962, 443.86084), shooter_id=5583256162456, bullet_pos=(1673.1099, 67.32883)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=385,33328
[20:33:33] [INFO] [Bullet] Distance to wall: 385,33328 (26,238054% of viewport)
[20:33:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:33] [INFO] [Bullet] Starting wall penetration at (1673.1099, 67.32883)
[20:33:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,512039
[20:33:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:33] [INFO] [Bullet] Exiting penetration at (1663.1929, 21.728062) after traveling 41,666668 pixels through wall
[20:33:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1601.1238, 444.1688), shooter_id=5583256162456, bullet_pos=(1940.6527, 274.22324)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=379,6859
[20:33:33] [INFO] [Bullet] Distance to wall: 379,6859 (25,853512% of viewport)
[20:33:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1817.341, 408.4806), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1817.341, 408.48062), shooter_id=5583256162456, bullet_pos=(1640.4312, 279.95795)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=218,66676
[20:33:33] [INFO] [Bullet] Distance to wall: 218,66676 (14,889422% of viewport)
[20:33:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:33] [INFO] [Bullet] Starting wall penetration at (1640.4312, 279.95795)
[20:33:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,93273
[20:33:33] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:33] [INFO] [Bullet] Exiting penetration at (1602.676, 252.52933) after traveling 41,666668 pixels through wall
[20:33:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1841.46, 380.1275), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1601.1238, 444.1688), shooter_id=5583256162456, bullet_pos=(1673.3927, 67.87274)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=383,17294
[20:33:33] [INFO] [Bullet] Distance to wall: 383,17294 (26,09095% of viewport)
[20:33:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1850.725, 351.3606), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:33] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/3->1/3
[20:33:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1593.223, 112.1581), dir=(1, 0), lethal=false
[20:33:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:33] [INFO] [ImpactEffects] Blood effect spawned at (1593.223, 112.1581) (scale=1)
[20:33:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1841.4601, 380.1275), shooter_id=5583256162456, bullet_pos=(1390.2275, 62.176926)
[20:33:33] [INFO] [Bullet] Using shooter_position, distance=551,99945
[20:33:33] [INFO] [Bullet] Distance to wall: 551,99945 (37,58666% of viewport)
[20:33:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1845.411, 340.0674), source=PLAYER (AssaultRifle), range=1469, listeners=5
[20:33:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:33:33] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/3->0/3
[20:33:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1555.997, 112.9393), dir=(1, 0), lethal=true
[20:33:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:33] [INFO] [ImpactEffects] Blood effect spawned at (1555.997, 112.9393) (scale=1.5)
[20:33:33] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:33:33] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:33:33] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:33] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:33] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:33] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:33] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[20:33:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:33] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[20:33:33] [INFO] [ReplayManager] Recording frame 1080 (16,6s): player_valid=True, enemies=10
[20:33:34] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:33:34] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1841.4601, 380.1275), shooter_id=5583256162456, bullet_pos=(1115.6854, 219.98889)
[20:33:34] [INFO] [Bullet] Using shooter_position, distance=743,2316
[20:33:34] [INFO] [Bullet] Distance to wall: 743,2316 (50,60801% of viewport)
[20:33:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1845.411, 340.06735), shooter_id=5583256162456, bullet_pos=(1487.6041, 50.445625)
[20:33:34] [INFO] [Bullet] Using shooter_position, distance=460,33304
[20:33:34] [INFO] [Bullet] Distance to wall: 460,33304 (31,344923% of viewport)
[20:33:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1647.862, 111.6223) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1648.734, 129.2357) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1689.685, 163.0726) (added to group)
[20:33:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1841.4601, 380.1275), shooter_id=5583256162456, bullet_pos=(1374.1072, 316.73404)
[20:33:34] [INFO] [Bullet] Using shooter_position, distance=471,63278
[20:33:34] [INFO] [Bullet] Distance to wall: 471,63278 (32,114346% of viewport)
[20:33:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1721.462, 142.5521) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1610.646, 133.9199) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1616.291, 119.99) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1664.085, 125.5864) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1649.669, 166.0566) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1631.079, 131.4424) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1633.518, 113.1493) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1710.373, 150.3698) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1632.634, 179.6086) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1626.914, 175.6261) (added to group)
[20:33:34] [ENEMY] [Enemy6] Ragdoll activated
[20:33:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1739.874, 188.141) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1734.311, 207.1563) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1753.16, 261.5798) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1662.709, 122.6265) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1643.45, 177.8712) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1718.865, 189.6433) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1764.077, 194.1837) (added to group)
[20:33:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1742.368, 156.3788) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1724.062, 272.6628) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1635.623, 149.3098) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1649.984, 198.0968) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1759.083, 165.9292) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1705.085, 122.6803) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1753.884, 291.6541) (added to group)
[20:33:34] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:33:34] [ENEMY] [Enemy6] Player reloading: false -> true
[20:33:34] [ENEMY] [Enemy7] Player reloading: false -> true
[20:33:34] [ENEMY] [Enemy8] Player reloading: false -> true
[20:33:34] [ENEMY] [Enemy9] Player reloading: false -> true
[20:33:34] [ENEMY] [Enemy10] Player reloading: false -> true
[20:33:34] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1721.008, 438.7563), source=PLAYER (Player), range=900, listeners=4
[20:33:34] [ENEMY] [Enemy7] Heard player RELOAD at (1721.008, 438.7563), intensity=0.01, distance=489
[20:33:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1674.794, 271.5206) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1731.906, 163.4425) (added to group)
[20:33:34] [INFO] [BloodDecal] Blood puddle created at (1677.221, 170.1247) (added to group)
[20:33:34] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=489), can_see=false
[20:33:34] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1721.008, 438.7563), distance=489
[20:33:34] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1027), can_see=false
[20:33:34] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1174), can_see=false
[20:33:34] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1292), can_see=false
[20:33:34] [INFO] [ReplayManager] Recording frame 1140 (17,3s): player_valid=True, enemies=10
[20:33:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:33:35] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:33:35] [ENEMY] [Enemy6] Player reloading: true -> false
[20:33:35] [ENEMY] [Enemy7] Player reloading: true -> false
[20:33:35] [ENEMY] [Enemy8] Player reloading: true -> false
[20:33:35] [ENEMY] [Enemy9] Player reloading: true -> false
[20:33:35] [ENEMY] [Enemy10] Player reloading: true -> false
[20:33:35] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:33:35] [INFO] [Player.Reload.Anim] LeftArm: pos=(18.795174, 5.928766), target=(24, 6), base=(24, 6)
[20:33:35] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.000028, 6.808114), target=(-2, 6), base=(-2, 6)
[20:33:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:35] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:33:35] [ENEMY] [Enemy6] Death animation completed
[20:33:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:35] [INFO] [ReplayManager] Recording frame 1200 (18,3s): player_valid=True, enemies=10
[20:33:35] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1721.008, 438.7563), distance=419
[20:33:35] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-75.7°, current=-78.1°, player=(1831,587), corner_timer=-0.02
[20:33:35] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[20:33:35] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-75.1°, current=-138.2°, player=(1840,590), corner_timer=-0.02
[20:33:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-67.4°, current=-116.9°, player=(1862,604), corner_timer=-0.02
[20:33:36] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:33:36] [ENEMY] [Enemy8] Memory: high confidence (0.90) - transitioning to PURSUING
[20:33:36] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[20:33:36] [ENEMY] [Enemy9] Memory: high confidence (0.81) - transitioning to PURSUING
[20:33:36] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[20:33:36] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-91.8°, current=-56.3°, player=(1874,615), corner_timer=0.00
[20:33:36] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-103.6°, current=11.3°, player=(1874,615), corner_timer=0.00
[20:33:36] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[20:33:36] [ENEMY] [Enemy9] PURSUING corner check: angle 38.7°
[20:33:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1889.726, 631.3353), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:33:36] [ENEMY] [Enemy7] Hit: dmg=1, hp=4/4->3/4
[20:33:36] [INFO] [ImpactEffects] spawn_blood_effect called at (1769.444, 827.3499), dir=(1, 0), lethal=false
[20:33:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:36] [INFO] [ImpactEffects] Blood effect spawned at (1769.444, 827.3499) (scale=1)
[20:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-53.0°, current=180.0°, player=(1905,646), corner_timer=-0.02
[20:33:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1916.949, 658.559), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:33:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:36] [ENEMY] [Enemy7] Hit: dmg=1, hp=3/4->2/4
[20:33:36] [INFO] [ImpactEffects] spawn_blood_effect called at (1769.444, 827.3499), dir=(1, 0), lethal=false
[20:33:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:36] [INFO] [ImpactEffects] Blood effect spawned at (1769.444, 827.3499) (scale=1)
[20:33:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1944.172, 685.7827), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:33:36] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=148.1°, current=144.9°, player=(1951,693), corner_timer=-0.02
[20:33:36] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[20:33:36] [ENEMY] [Enemy9] PURSUING corner check: angle -141.3°
[20:33:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1944.1721, 685.78265), shooter_id=5583256162456, bullet_pos=(1753.1454, 792.1962)
[20:33:36] [INFO] [Bullet] Using shooter_position, distance=218,66655
[20:33:36] [INFO] [Bullet] Distance to wall: 218,66655 (14,889409% of viewport)
[20:33:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1837.733, 864.3746) (added to group)
[20:33:36] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-105.9°, current=-105.7°, player=(1958,706), corner_timer=0.28
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1820.646, 816.0706) (added to group)
[20:33:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.724, 716.171), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1845.325, 873.6103) (added to group)
[20:33:36] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1834.869, 841.9751) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1853.751, 896.9343) (added to group)
[20:33:36] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-107.7°, current=-163.9°, player=(1966,736), corner_timer=0.22
[20:33:36] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/4->1/4
[20:33:36] [INFO] [ImpactEffects] spawn_blood_effect called at (1733.51, 831.5442), dir=(1, 0), lethal=false
[20:33:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:36] [INFO] [ImpactEffects] Blood effect spawned at (1733.51, 831.5442) (scale=1)
[20:33:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1966.849, 752.6721), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1885.658, 811.3911) (added to group)
[20:33:36] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-108.1°, current=-155.6°, player=(1966,752), corner_timer=0.22
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1861.621, 880.8768) (added to group)
[20:33:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1823.183, 834.3013) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1904.268, 882.0356) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1842.959, 877.2898) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1872.44, 837.5808) (added to group)
[20:33:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1966.849, 791.1721), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=2
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1882.329, 832.8854) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1889.854, 866.7563) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1877.426, 843.4606) (added to group)
[20:33:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1966.8491, 752.67206), shooter_id=5583256162456, bullet_pos=(1590.449, 954.29443)
[20:33:36] [INFO] [Bullet] Using shooter_position, distance=426,99957
[20:33:36] [INFO] [Bullet] Distance to wall: 426,99957 (29,075188% of viewport)
[20:33:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1861.214, 919.8905) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1887.408, 874.0029) (added to group)
[20:33:36] [INFO] [ReplayManager] Recording frame 1260 (19,3s): player_valid=True, enemies=10
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1787.065, 843.0163) (added to group)
[20:33:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1966.8491, 791.17206), shooter_id=5583256162456, bullet_pos=(1576.1917, 963.55414)
[20:33:36] [INFO] [Bullet] Using shooter_position, distance=426,99982
[20:33:36] [INFO] [Bullet] Distance to wall: 426,99982 (29,075203% of viewport)
[20:33:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1830.147, 811.8297) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1899.407, 920.2498) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1837.28, 901.0568) (added to group)
[20:33:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1966.8491, 752.67206), shooter_id=5583256162456, bullet_pos=(1942.4155, 1201.3168)
[20:33:36] [INFO] [Bullet] Using shooter_position, distance=449,30957
[20:33:36] [INFO] [Bullet] Distance to wall: 449,30957 (30,594316% of viewport)
[20:33:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:36] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-112.0°, current=-111.9°, player=(1966,868), corner_timer=0.22
[20:33:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1897.91, 900.7808) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1825.399, 854.9102) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1903.077, 945.1714) (added to group)
[20:33:36] [INFO] [BloodDecal] Blood puddle created at (1878.702, 906.8382) (added to group)
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (2010.465, 894.8376) (added to group)
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (1869.374, 948.272) (added to group)
[20:33:37] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (1855.269, 909.647) (added to group)
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (1806.035, 919.2741) (added to group)
[20:33:37] [ENEMY] [Enemy8] State: PURSUING -> RETREATING
[20:33:37] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=180.0°, current=-80.1°, player=(1952,918), corner_timer=0.05
[20:33:37] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[20:33:37] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (1895.451, 926.8631) (added to group)
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (1892.573, 873.014) (added to group)
[20:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=13.1°, current=61.3°, player=(1932,933), corner_timer=-0.02
[20:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=84.3°, current=81.4°, player=(1929,934), corner_timer=-0.02
[20:33:37] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1966.8491, 752.67206), shooter_id=5583256162456, bullet_pos=(2475.459, 852.2158)
[20:33:37] [INFO] [Bullet] Using shooter_position, distance=518,2596
[20:33:37] [INFO] [Bullet] Distance to wall: 518,2596 (35,28925% of viewport)
[20:33:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1919.538, 934.6189), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=1
[20:33:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1889.512, 932.7365), source=PLAYER (AssaultRifle), range=1469, listeners=4
[20:33:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=1
[20:33:37] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/4->0/4
[20:33:37] [INFO] [ImpactEffects] spawn_blood_effect called at (1487, 885.5546), dir=(1, 0), lethal=true
[20:33:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:37] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:37] [INFO] [ImpactEffects] Blood effect spawned at (1487, 885.5546) (scale=1.5)
[20:33:37] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[20:33:37] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:33:37] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:37] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:37] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:37] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:37] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[20:33:37] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:37] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[20:33:37] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:33:37] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:37] [INFO] [ReplayManager] Recording frame 1320 (20,1s): player_valid=True, enemies=10
[20:33:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1852.781, 934.3533), source=PLAYER (AssaultRifle), range=1469, listeners=3
[20:33:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[20:33:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1852.7812, 934.3533), shooter_id=5583256162456, bullet_pos=(1387.1274, 881.2967)
[20:33:37] [INFO] [Bullet] Using shooter_position, distance=468,6667
[20:33:37] [INFO] [Bullet] Distance to wall: 468,6667 (31,912378% of viewport)
[20:33:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:37] [INFO] [BloodDecal] Blood puddle created at (1529.294, 895.9925) (added to group)
[20:33:38] [INFO] [BloodDecal] Blood puddle created at (1565.715, 863.4721) (added to group)
[20:33:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1889.5121, 932.7365), shooter_id=5583256162456, bullet_pos=(939.7415, 790.6867)
[20:33:38] [INFO] [Bullet] Using shooter_position, distance=960,3345
[20:33:38] [INFO] [Bullet] Distance to wall: 960,3345 (65,390945% of viewport)
[20:33:38] [INFO] [BloodDecal] Blood puddle created at (1571.158, 900.245) (added to group)
[20:33:38] [INFO] [BloodDecal] Blood puddle created at (1600.097, 896.8571) (added to group)
[20:33:38] [ENEMY] [Enemy7] Ragdoll activated
[20:33:38] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:38] [INFO] [BloodDecal] Blood puddle created at (1580.748, 906.3674) (added to group)
[20:33:38] [INFO] [BloodDecal] Blood puddle created at (1635.862, 894.7886) (added to group)
[20:33:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:38] [INFO] [ReplayManager] Recording frame 1380 (21,1s): player_valid=True, enemies=10
[20:33:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:39] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:33:39] [ENEMY] [Enemy8] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-166.3°, current=180.0°, player=(1550,1169), corner_timer=0.05
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1538.993, 1181.065), source=PLAYER (AssaultRifle), range=1469, listeners=3
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1895.798, 1253.528), source=ENEMY (Enemy8), range=1469, listeners=3
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[20:33:39] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-173.1°, current=-172.6°, player=(1535,1184), corner_timer=0.00
[20:33:39] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[20:33:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1895.798, 1253.528), source=ENEMY (Enemy8), range=1469, listeners=3
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[20:33:39] [ENEMY] [Enemy7] Death animation completed
[20:33:39] [INFO] [LastChance] Threat detected: @Area2D@23055
[20:33:39] [INFO] [LastChance] Not in hard mode - effect disabled
[20:33:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1511.77, 1208.289), source=PLAYER (AssaultRifle), range=1469, listeners=3
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:33:39] [ENEMY] [Enemy8] Hit: dmg=1, hp=2/2->1/2
[20:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1895.798, 1253.528), dir=(1, 0), lethal=false
[20:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:39] [INFO] [ImpactEffects] Blood effect spawned at (1895.798, 1253.528) (scale=1)
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1895.798, 1253.528), source=ENEMY (Enemy8), range=1469, listeners=3
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[20:33:39] [INFO] [Player] Spawning blood effect at (1503.9917, 1216.0667), dir=(1, 0), lethal=False (C#)
[20:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1503.992, 1216.067), dir=(1, 0), lethal=false
[20:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:39] [INFO] [ImpactEffects] Blood effect spawned at (1503.992, 1216.067) (scale=1)
[20:33:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:33:39] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:33:39] [ENEMY] [Enemy8] State: SUPPRESSED -> SEEKING_COVER
[20:33:39] [INFO] [LastChance] Threat detected: @Area2D@23057
[20:33:39] [INFO] [LastChance] Not in hard mode - effect disabled
[20:33:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:33:39] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=180.0°, current=111.0°, player=(1496,1223), corner_timer=0.05
[20:33:39] [INFO] [Player] Spawning blood effect at (1488.4355, 1231.6228), dir=(1, 0), lethal=False (C#)
[20:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1488.436, 1231.623), dir=(1, 0), lethal=false
[20:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:39] [INFO] [ImpactEffects] Blood effect spawned at (1488.436, 1231.623) (scale=1)
[20:33:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[20:33:39] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1484.547, 1235.512), source=PLAYER (AssaultRifle), range=1469, listeners=3
[20:33:39] [ENEMY] [Enemy10] Heard gunshot at (1484.547, 1235.512), source_type=0, intensity=0.01, distance=490
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[20:33:39] [INFO] [LastChance] Threat detected: Bullet
[20:33:39] [INFO] [LastChance] Not in hard mode - effect disabled
[20:33:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:33:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-48.4°, current=0.6°, player=(1484,1235), corner_timer=0.13
[20:33:39] [ENEMY] [Enemy8] Hit: dmg=1, hp=1/2->0/2
[20:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1898.242, 1278.597), dir=(1, 0), lethal=true
[20:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:39] [INFO] [ImpactEffects] Blood effect spawned at (1898.242, 1278.597) (scale=1.5)
[20:33:39] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[20:33:39] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:33:39] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:39] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:39] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:39] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:39] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[20:33:39] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[20:33:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:39] [ENEMY] [Enemy8] Death animation started with hit direction: (1, 0)
[20:33:39] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[20:33:39] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:39] [INFO] [ReplayManager] Recording frame 1440 (21,8s): player_valid=True, enemies=10
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1461.499, 1261.424), source=PLAYER (AssaultRifle), range=1469, listeners=2
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1948.566, 1283.116) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1975.815, 1241.219) (added to group)
[20:33:39] [INFO] [BloodyFeet:Enemy9] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:39] [ENEMY] [Enemy9] Hit: dmg=1, hp=3/3->2/3
[20:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1968.211, 1236.066), dir=(1, 0), lethal=false
[20:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:39] [INFO] [ImpactEffects] Blood effect spawned at (1968.211, 1236.066) (scale=1)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1543.373, 1210.334) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1554.287, 1216.211) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1579.34, 1269.487) (added to group)
[20:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1453.61, 1278.765), source=PLAYER (AssaultRifle), range=1469, listeners=2
[20:33:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:33:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1461.4993, 1261.4242), shooter_id=5583256162456, bullet_pos=(1801.557, 1211.747)
[20:33:39] [INFO] [Bullet] Using shooter_position, distance=343,6671
[20:33:39] [INFO] [Bullet] Distance to wall: 343,6671 (23,400927% of viewport)
[20:33:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1975.123, 1317.509) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1952.578, 1271.962) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1976.154, 1252.328) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1568.664, 1257.885) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1969.09, 1272.831) (added to group)
[20:33:39] [INFO] [BloodDecal] Blood puddle created at (1986.408, 1277.552) (added to group)
[20:33:39] [ENEMY] [Enemy9] Hit: dmg=1, hp=2/3->1/3
[20:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1932.773, 1236.065), dir=(1, 0), lethal=false
[20:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:39] [INFO] [ImpactEffects] Blood effect spawned at (1932.773, 1236.065) (scale=1)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1996.536, 1330.208) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1572.426, 1279.192) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2001.043, 1277.715) (added to group)
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1456.768, 1291.421), source=PLAYER (AssaultRifle), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1563.315, 1225.572) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1603.457, 1247.817) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1590.111, 1283.373) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1990.955, 1285.135) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1948.43, 1288.202) (added to group)
[20:33:40] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2016.102, 1286.807) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1952.167, 1287.463) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1976.077, 1318.301) (added to group)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1456.7678, 1291.4211), shooter_id=5583256162456, bullet_pos=(1675.2484, 1300.4457)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=218,6669
[20:33:40] [INFO] [Bullet] Distance to wall: 218,6669 (14,889433% of viewport)
[20:33:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:40] [INFO] [Bullet] Starting wall penetration at (1675.2484, 1300.4457)
[20:33:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,89402
[20:33:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:40] [INFO] [Bullet] Exiting penetration at (1721.8754, 1302.3716) after traveling 41,666676 pixels through wall
[20:33:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1899.278, 1236.065), source=ENEMY (Enemy9), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1635.345, 1287.25) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2036.187, 1337.587) (added to group)
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1477.888, 1300.806), source=PLAYER (AssaultRifle), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2027.585, 1260.08) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2046.802, 1285.295) (added to group)
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1888.733, 1236.065), source=ENEMY (Enemy9), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[20:33:40] [ENEMY] [Enemy8] Ragdoll activated
[20:33:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2062.069, 1262.784) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1591.484, 1288.972) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1973.864, 1314.52) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2017.308, 1381.808) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1981.21, 1286.218) (added to group)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1833.5454, 1253.6683), shooter_id=5582014647307, bullet_pos=(1680.0557, 1318.6195)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=166,6666
[20:33:40] [INFO] [Bullet] Distance to wall: 166,6666 (11,348635% of viewport)
[20:33:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:33:40] [INFO] [Bullet] Starting wall penetration at (1680.0557, 1318.6195)
[20:33:40] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:33:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,26284
[20:33:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:40] [INFO] [Bullet] Exiting penetration at (1637.0785, 1336.8058) after traveling 41,66667 pixels through wall
[20:33:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2007.25, 1352.363) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1674.878, 1251.157) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1657.754, 1339.634) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1649.008, 1360.659) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1562.179, 1259.521) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1998.994, 1361.418) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2027.582, 1336.197) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2006.635, 1312.016) (added to group)
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1878.185, 1236.065), source=ENEMY (Enemy9), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2083.613, 1331.136) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1610.832, 1346.454) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1632.456, 1333.106) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2080.532, 1363.483) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2074.151, 1263.365) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2094.408, 1264.375) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2006.067, 1259.115) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2003.671, 1239.495) (added to group)
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1506.793, 1293.187), source=PLAYER (AssaultRifle), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:33:40] [INFO] [LastChance] Threat detected: @Area2D@23114
[20:33:40] [INFO] [LastChance] Not in hard mode - effect disabled
[20:33:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2074.095, 1432.511) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1658.388, 1286.454) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1646.596, 1284.512) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2042.818, 1270.599) (added to group)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1453.6096, 1278.7653), shooter_id=5583256162456, bullet_pos=(2463.6667, 1302.3887)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=1010,3333
[20:33:40] [INFO] [Bullet] Distance to wall: 1010,3333 (68,795456% of viewport)
[20:33:40] [INFO] [Bullet] Distance-based penetration chance: 66,40531%
[20:33:40] [INFO] [Bullet] Starting wall penetration at (2463.6667, 1302.3887)
[20:33:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,324473
[20:33:40] [INFO] [Bullet] Body exited signal received for penetrating body
[20:33:40] [INFO] [Bullet] Exiting penetration at (2510.3206, 1303.4799) after traveling 41,66667 pixels through wall
[20:33:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1996.058, 1398.282) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2029.399, 1238.072) (added to group)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1829.562, 1254.1002), shooter_id=5581662330236, bullet_pos=(57.03284, 992.9292)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=1791,6669
[20:33:40] [INFO] [Bullet] Distance to wall: 1791,6669 (121,997894% of viewport)
[20:33:40] [INFO] [LastChance] Threat detected: @Area2D@23142
[20:33:40] [INFO] [LastChance] Not in hard mode - effect disabled
[20:33:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1614.213, 1323.848) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2007.215, 1408.802) (added to group)
[20:33:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1529.761, 1273.75), source=PLAYER (AssaultRifle), range=1469, listeners=2
[20:33:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=0
[20:33:40] [INFO] [Player] Spawning blood effect at (1529.7614, 1273.75), dir=(1, 0), lethal=False (C#)
[20:33:40] [INFO] [ImpactEffects] spawn_blood_effect called at (1529.761, 1273.75), dir=(1, 0), lethal=false
[20:33:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:40] [INFO] [ImpactEffects] Blood effect spawned at (1529.761, 1273.75) (scale=1)
[20:33:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[20:33:40] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2058.117, 1423.282) (added to group)
[20:33:40] [ENEMY] [Enemy9] Hit: dmg=1, hp=1/3->0/3
[20:33:40] [INFO] [ImpactEffects] spawn_blood_effect called at (1833.038, 1238.537), dir=(1, 0), lethal=true
[20:33:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:40] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:40] [INFO] [ImpactEffects] Blood effect spawned at (1833.038, 1238.537) (scale=1.5)
[20:33:40] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[20:33:40] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[20:33:40] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:40] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:40] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:40] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:40] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 1)
[20:33:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:40] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2116.319, 1317.192) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2118.58, 1287.087) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2147.326, 1274.07) (added to group)
[20:33:40] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2004.697, 1307.175) (added to group)
[20:33:40] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[20:33:40] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2093.168, 1273.74) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2086.073, 1325.063) (added to group)
[20:33:40] [INFO] [ReplayManager] Recording frame 1500 (22,5s): player_valid=True, enemies=10
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2035.263, 1342.38) (added to group)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1823.224, 1254.4818), shooter_id=5582014647307, bullet_pos=(1045.3651, 1377.3281)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=787,4996
[20:33:40] [INFO] [Bullet] Distance to wall: 787,4996 (53,62229% of viewport)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1823.224, 1254.4818), shooter_id=5582014647307, bullet_pos=(1005.28235, 1372.1434)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=826,3612
[20:33:40] [INFO] [Bullet] Distance to wall: 826,3612 (56,268456% of viewport)
[20:33:40] [INFO] [Bullet] Distance-based penetration chance: 81,02014%
[20:33:40] [INFO] [Bullet] Starting wall penetration at (1005.28235, 1372.1434)
[20:33:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1477.8878, 1300.8057), shooter_id=5583256162456, bullet_pos=(2482.74, 1249.4291)
[20:33:40] [INFO] [Bullet] Using shooter_position, distance=1006,16473
[20:33:40] [INFO] [Bullet] Distance to wall: 1006,16473 (68,51161% of viewport)
[20:33:40] [INFO] [Bullet] Distance-based penetration chance: 66,73646%
[20:33:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:33:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:33:40] [INFO] [Bullet] Exiting penetration at (965.19965, 1366.9587) after traveling 35,416668 pixels through wall
[20:33:40] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2091.817, 1341.012) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2131.169, 1362.814) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2115.033, 1288.116) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2124.803, 1297.622) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2064.858, 1371.196) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (2158.228, 1333.111) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1597.631, 1288.542) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1601.962, 1315.481) (added to group)
[20:33:40] [INFO] [BloodDecal] Blood puddle created at (1883.311, 1245.347) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1602.834, 1291.723) (added to group)
[20:33:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1529.7614, 1273.75), shooter_id=5583256162456, bullet_pos=(2493.2244, 1229.0323)
[20:33:41] [INFO] [Bullet] Using shooter_position, distance=964,50024
[20:33:41] [INFO] [Bullet] Distance to wall: 964,50024 (65,6746% of viewport)
[20:33:41] [INFO] [Bullet] Distance-based penetration chance: 70,0463%
[20:33:41] [INFO] [Bullet] Penetration failed (distance roll)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1888.316, 1244.39) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1943.352, 1276.767) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1890.046, 1287.998) (added to group)
[20:33:41] [INFO] [BloodyFeet:Enemy8] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1893.076, 1289.593) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1661.468, 1309.957) (added to group)
[20:33:41] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-31.5°, current=-31.9°, player=(1672,1235), corner_timer=0.13
[20:33:41] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:33:41] [ENEMY] [Enemy9] Ragdoll activated
[20:33:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1910.158, 1300.898) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1644.009, 1322.635) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1672.91, 1266.991) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1924.121, 1257.164) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1924.602, 1307.28) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1950.732, 1349.255) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1945.244, 1294.828) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (2011.262, 1343.844) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1947.503, 1299.351) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1632.813, 1373.63) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1999.727, 1303.569) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1987.413, 1317.489) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1665.078, 1356.815) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (2003.128, 1241.55) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1962.813, 1403.648) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (2008.563, 1421.9) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1948.301, 1382.553) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1935.701, 1374.553) (added to group)
[20:33:41] [INFO] [BloodDecal] Blood puddle created at (1946.494, 1391.575) (added to group)
[20:33:41] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-24.0°, current=-24.0°, player=(1753,1278), corner_timer=0.13
[20:33:41] [ENEMY] [Enemy8] Death animation completed
[20:33:41] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:33:41] [INFO] [ReplayManager] Recording frame 1560 (23,5s): player_valid=True, enemies=10
[20:33:42] [ENEMY] [Enemy9] Death animation completed
[20:33:42] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:33:42] [INFO] [ReplayManager] Recording frame 1620 (24,5s): player_valid=True, enemies=10
[20:33:42] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:33:42] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-41.8°, current=-41.0°, player=(1668,1243), corner_timer=0.13
[20:33:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1637.087, 1239.063), source=PLAYER (AssaultRifle), range=1469, listeners=1
[20:33:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:33:43] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[20:33:43] [ENEMY] [Enemy10] Hit: dmg=1, hp=4/4->3/4
[20:33:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1430.802, 1451.816), dir=(1, 0), lethal=false
[20:33:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:43] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1451.816) (dist=57 px)
[20:33:43] [INFO] [BloodDecal] Blood puddle created at (1487, 1451.816) (added to group)
[20:33:43] [INFO] [ImpactEffects] Blood effect spawned at (1430.802, 1451.816) (scale=1)
[20:33:43] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-50.8°, current=180.0°, player=(1604,1239), corner_timer=0.13
[20:33:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1598.587, 1239.063), source=PLAYER (AssaultRifle), range=1469, listeners=1
[20:33:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:33:43] [ENEMY] [Enemy10] Hit: dmg=1, hp=3/4->2/4
[20:33:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1448.948, 1439.149), dir=(1, 0), lethal=false
[20:33:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:43] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1439.149) (dist=39 px)
[20:33:43] [INFO] [BloodDecal] Blood puddle created at (1487, 1439.149) (added to group)
[20:33:43] [INFO] [ImpactEffects] Blood effect spawned at (1448.948, 1439.149) (scale=1)
[20:33:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1563.386, 1239.063), source=PLAYER (AssaultRifle), range=1469, listeners=1
[20:33:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:33:43] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[20:33:43] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=0.6°, current=-171.0°, player=(1545,1239), corner_timer=0.13
[20:33:43] [ENEMY] [Enemy10] Hit: dmg=1, hp=2/4->1/4
[20:33:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1448.171, 1441.136), dir=(1, 0), lethal=false
[20:33:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:33:43] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1441.136) (dist=39 px)
[20:33:43] [INFO] [BloodDecal] Blood puddle created at (1487, 1441.136) (added to group)
[20:33:43] [INFO] [ImpactEffects] Blood effect spawned at (1448.171, 1441.136) (scale=1)
[20:33:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1528.186, 1239.063), source=PLAYER (AssaultRifle), range=1469, listeners=1
[20:33:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:33:43] [ENEMY] [Enemy10] Hit: dmg=1, hp=1/4->0/4
[20:33:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1442.459, 1457.216), dir=(1, 0), lethal=true
[20:33:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:33:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:33:43] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1457.216) (dist=45 px)
[20:33:43] [INFO] [BloodDecal] Blood puddle created at (1487, 1457.216) (added to group)
[20:33:43] [INFO] [ImpactEffects] Blood effect spawned at (1442.459, 1457.216) (scale=1.5)
[20:33:43] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:33:43] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[20:33:43] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:33:43] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:33:43] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:33:43] [INFO] [PowerFantasy]   - Duration: 300ms
[20:33:43] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[20:33:43] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[20:33:43] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[20:33:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1499.036, 1239.063), source=PLAYER (AssaultRifle), range=1469, listeners=0
[20:33:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[20:33:43] [INFO] [ReplayManager] Recording frame 1680 (25,2s): player_valid=True, enemies=10
[20:33:43] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[20:33:43] [INFO] [PowerFantasy] Ending power fantasy effect
[20:33:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1499.0358, 1239.0634), shooter_id=5583256162456, bullet_pos=(1204.2468, 2082.7095)
[20:33:44] [INFO] [Bullet] Using shooter_position, distance=893,6662
[20:33:44] [INFO] [Bullet] Distance to wall: 893,6662 (60,851376% of viewport)
[20:33:44] [ENEMY] [Enemy10] Ragdoll activated
[20:33:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:33:44] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:33:44] [ENEMY] [Enemy10] Player reloading: false -> true
[20:33:44] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1178.935, 1239.063), source=PLAYER (Player), range=900, listeners=0
[20:33:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[20:33:44] [INFO] [ReplayManager] Recording frame 1740 (26,1s): player_valid=True, enemies=10
[20:33:44] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:33:44] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.765193, 2.1576016), target=(4, 2), base=(24, 6)
[20:33:44] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9771848, 6), target=(-2, 6), base=(-2, 6)
[20:33:45] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:33:45] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:33:45] [ENEMY] [Enemy10] Player reloading: true -> false
[20:33:45] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:33:45] [ENEMY] [Enemy10] Death animation completed
[20:33:45] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:33:45] [INFO] [ReplayManager] Recording frame 1800 (27,1s): player_valid=True, enemies=10
[20:33:46] [INFO] [ReplayManager] Recording frame 1860 (28,1s): player_valid=True, enemies=10
[20:33:47] [INFO] [ReplayManager] Recording frame 1920 (29,1s): player_valid=True, enemies=10
[20:33:47] [INFO] [BuildingLevel] Player controls disabled (level completed)
[20:33:47] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[20:33:47] [INFO] [ReplayManager] Total frames recorded: 1927
[20:33:47] [INFO] [ReplayManager] Total duration: 29,24s
[20:33:47] [INFO] [ReplayManager] Blood decals at end: 313 (baseline at frame 0: 0)
[20:33:47] [INFO] [ReplayManager] Casings at end: 54 (baseline at frame 0: 0)
[20:33:47] [INFO] [ReplayManager] Footprints recorded: 86
[20:33:47] [INFO] [ReplayManager] has_replay() will return: True
[20:33:47] [INFO] [BuildingLevel] Replay recording stopped
[20:33:47] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=29.24s
[20:33:47] [INFO] [ScoreManager] Combo ended at 6. Max combo: 6
[20:33:47] [INFO] [ProgressManager] No improvement for res://scenes/levels/BuildingLevel.tscn on Power Fantasy (existing: rank=A+, score=44700)
[20:33:47] [INFO] [ScoreManager] Level completed! Final score: 43738, Rank: A+
[20:33:49] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[20:33:51] [INFO] [BuildingLevel] Watch Replay triggered
[20:33:51] [INFO] [ReplayManager] Progressive floor state: blood=313 (baseline=0, to spawn=313), casings=54 (baseline=0, to spawn=54), footprints=86 (baseline=0)
[20:33:51] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:33:51] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[20:33:51] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[20:33:51] [INFO] [ReplayManager] Hidden 54 existing casings for progressive replay
[20:33:51] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[20:33:51] [INFO] [ReplayManager] Memory mode activated: reset progressive floor state, will spawn up to time 0,00s
[20:33:51] [INFO] [ReplayManager] Started replay playback. Frames: 1927, Duration: 29,24s, Mode: Memory
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 1/1)
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 2/2)
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 3/3)
[20:33:53] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 2/2)
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 3/3)
[20:33:53] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 5/5)
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 6/6)
[20:33:53] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 8/8)
[20:33:53] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 13/13)
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 14/14)
[20:33:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 15/15)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 16/16)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 17/17)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 18/18)
[20:33:54] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 22/22)
[20:33:54] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 24/24)
[20:33:54] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 27/27)
[20:33:54] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 30/30)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 31/31)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 32/32)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 33/33)
[20:33:54] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 35/35)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay casings (total: 4/4)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 36/36)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay casings (total: 5/5)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay casings (total: 6/6)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 37/37)
[20:33:54] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 39/39)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 40/40)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 41/41)
[20:33:54] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 43/43)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 44/44)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 45/45)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 46/46)
[20:33:54] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 48/48)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 49/49)
[20:33:54] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 51/51)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 52/52)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 53/53)
[20:33:54] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 54/54)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 55/55)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 56/56)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 57/57)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 58/58)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay casings (total: 7/7)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay casings (total: 8/8)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay casings (total: 9/9)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay casings (total: 10/10)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 59/59)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 60/60)
[20:33:55] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 61/61)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 62/62)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 63/63)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 64/64)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 65/65)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 66/66)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 67/67)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 68/68)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 69/69)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 70/70)
[20:33:56] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 72/72)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 73/73)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 74/74)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 75/75)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 76/76)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 77/77)
[20:33:56] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 81/81)
[20:33:56] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 83/83)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 84/84)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 1/86) at time 5,47s
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 85/85)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 2/86) at time 5,57s
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay casings (total: 11/11)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 3/86) at time 5,67s
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay casings (total: 12/12)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 4/86) at time 5,77s
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay casings (total: 13/13)
[20:33:56] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 5/86) at time 5,87s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay casings (total: 14/14)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 6/86) at time 5,98s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 86/86)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay casings (total: 15/15)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 87/87)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 7/86) at time 6,12s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 88/88)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 89/89)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 90/90)
[20:33:57] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 92/92)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 8/86) at time 6,23s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 93/93)
[20:33:57] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 97/97)
[20:33:57] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 100/100)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 9/86) at time 6,33s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 10/86) at time 6,43s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 101/101)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 102/102)
[20:33:57] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 104/104)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 11/86) at time 6,53s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 105/105)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 12/86) at time 6,63s
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 106/106)
[20:33:57] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 107/107)
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 13/86) at time 7,03s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 14/86) at time 7,13s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 15/86) at time 7,23s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 16/86) at time 7,33s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 17/86) at time 7,43s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 18/86) at time 7,53s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 19/86) at time 7,63s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 20/86) at time 7,73s
[20:33:58] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 21/86) at time 7,87s
[20:33:59] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 22/86) at time 8,02s
[20:33:59] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 23/86) at time 8,12s
[20:33:59] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 24/86) at time 8,22s
[20:34:00] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[20:34:00] [INFO] [ReplayManager] DisableAllReplayEffects: CinemaEffects disabled
[20:34:00] [INFO] [ReplayManager] DisableAllReplayEffects: HitEffects reset
[20:34:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:00] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:34:00] [INFO] [ReplayManager] DisableAllReplayEffects: PenultimateHitEffects reset
[20:34:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:00] [INFO] [ReplayManager] DisableAllReplayEffects: PowerFantasyEffects reset
[20:34:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:00] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:34:00] [INFO] [ReplayManager] DisableAllReplayEffects: LastChanceEffects reset
[20:34:00] [INFO] [ReplayManager] Stopped replay playback
[20:34:00] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[20:34:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:00] [INFO] [PenultimateHit] WARNING: Could not connect to any health signal!
[20:34:00] [INFO] [LastChance] Found player: Player
[20:34:01] [INFO] [BuildingLevel] Restart button pressed
[20:34:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:01] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:01] [ENEMY] [Enemy1] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:01] [ENEMY] [Enemy2] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:01] [ENEMY] [Enemy3] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:01] [ENEMY] [Enemy4] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:01] [ENEMY] [Enemy5] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:01] [ENEMY] [Enemy6] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:01] [ENEMY] [Enemy7] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:01] [ENEMY] [Enemy8] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:01] [ENEMY] [Enemy9] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:01] [ENEMY] [Enemy10] Death animation component initialized
[20:34:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:01] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[20:34:01] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:01] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[20:34:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:01] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:01] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:01] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:01] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[20:34:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:01] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:01] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:01] [INFO] [BuildingLevel] Setting up weapon: m16
[20:34:01] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[20:34:01] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:01] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:01] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:01] [INFO] [ReplayManager] Replay data cleared
[20:34:01] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:01] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[20:34:01] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:01] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:01] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:01] [INFO] [ReplayManager] Enemies count: 10
[20:34:01] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[20:34:01] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:01] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:01] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:01] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:01] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:01] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:01] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:01] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:01] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:01] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:01] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:01] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:01] [INFO] [CinemaEffects] Found player node: Player
[20:34:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[20:34:01] [ENEMY] [Enemy1] Registered as sound listener
[20:34:01] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[20:34:01] [ENEMY] [Enemy2] Registered as sound listener
[20:34:01] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[20:34:01] [ENEMY] [Enemy3] Registered as sound listener
[20:34:01] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[20:34:01] [ENEMY] [Enemy4] Registered as sound listener
[20:34:01] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[20:34:01] [ENEMY] [Enemy5] Registered as sound listener
[20:34:01] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[20:34:01] [ENEMY] [Enemy6] Registered as sound listener
[20:34:01] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[20:34:01] [ENEMY] [Enemy7] Registered as sound listener
[20:34:01] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:34:01] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[20:34:01] [ENEMY] [Enemy8] Registered as sound listener
[20:34:01] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[20:34:01] [ENEMY] [Enemy9] Registered as sound listener
[20:34:01] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[20:34:01] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[20:34:01] [ENEMY] [Enemy10] Registered as sound listener
[20:34:01] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[20:34:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:01] [INFO] [Player] Detected weapon: Rifle (default pose)
[20:34:01] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[20:34:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:01] [INFO] [LastChance] Found player: Player
[20:34:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:01] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:02] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:03] [INFO] [PauseMenu] Armory button pressed
[20:34:03] [INFO] [PauseMenu] Creating new armory menu instance
[20:34:03] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[20:34:03] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[20:34:03] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[20:34:03] [INFO] [PauseMenu] back_pressed signal exists on instance
[20:34:03] [INFO] [PauseMenu] back_pressed signal connected
[20:34:03] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[20:34:03] [INFO] [PauseMenu] _populate_weapon_grid method exists
[20:34:03] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:04] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:05] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:05] [INFO] [GameManager] Weapon selected: mini_uzi
[20:34:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:05] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:05] [ENEMY] [Enemy1] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:05] [ENEMY] [Enemy2] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:05] [ENEMY] [Enemy3] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:05] [ENEMY] [Enemy4] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:05] [ENEMY] [Enemy5] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:05] [ENEMY] [Enemy6] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:05] [ENEMY] [Enemy7] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:05] [ENEMY] [Enemy8] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:05] [ENEMY] [Enemy9] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:05] [ENEMY] [Enemy10] Death animation component initialized
[20:34:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:05] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:05] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:05] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:05] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:05] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:05] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:05] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:05] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[20:34:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:05] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:05] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:05] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:05] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:05] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:05] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:05] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:05] [INFO] [ReplayManager] Replay data cleared
[20:34:05] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:05] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:05] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:05] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:05] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:05] [INFO] [ReplayManager] Enemies count: 10
[20:34:05] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:05] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:05] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:05] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:05] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:05] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:05] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:05] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:05] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:05] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:05] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:05] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:05] [INFO] [CinemaEffects] Found player node: Player
[20:34:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:34:05] [ENEMY] [Enemy1] Registered as sound listener
[20:34:05] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:34:05] [ENEMY] [Enemy2] Registered as sound listener
[20:34:05] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:34:05] [ENEMY] [Enemy3] Registered as sound listener
[20:34:05] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:34:05] [ENEMY] [Enemy4] Registered as sound listener
[20:34:05] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:34:05] [ENEMY] [Enemy5] Registered as sound listener
[20:34:05] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:34:05] [ENEMY] [Enemy6] Registered as sound listener
[20:34:05] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:34:05] [ENEMY] [Enemy7] Registered as sound listener
[20:34:05] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[20:34:05] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:34:05] [ENEMY] [Enemy8] Registered as sound listener
[20:34:05] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:34:05] [ENEMY] [Enemy9] Registered as sound listener
[20:34:05] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:34:05] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:34:05] [ENEMY] [Enemy10] Registered as sound listener
[20:34:05] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:34:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:06] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:06] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:06] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:06] [INFO] [LastChance] Found player: Player
[20:34:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:06] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:06] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:07] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:34:07] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1023), corner_timer=0.30
[20:34:07] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1023), corner_timer=0.30
[20:34:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,918), corner_timer=-0.02
[20:34:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,918), corner_timer=-0.02
[20:34:07] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:34:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,913), corner_timer=0.30
[20:34:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,913), corner_timer=0.30
[20:34:07] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,808), corner_timer=-0.02
[20:34:08] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:34:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,803), corner_timer=0.30
[20:34:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,731), corner_timer=-0.02
[20:34:08] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:34:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,730), corner_timer=0.30
[20:34:08] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:09] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:10] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:34:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,729), corner_timer=-0.02
[20:34:11] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:34:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,729), corner_timer=0.30
[20:34:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:11] [ENEMY] [Enemy1] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:11] [ENEMY] [Enemy2] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:11] [ENEMY] [Enemy3] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:11] [ENEMY] [Enemy4] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:11] [ENEMY] [Enemy5] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:11] [ENEMY] [Enemy6] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:11] [ENEMY] [Enemy7] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:11] [ENEMY] [Enemy8] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:11] [ENEMY] [Enemy9] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:11] [ENEMY] [Enemy10] Death animation component initialized
[20:34:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:11] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:11] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:11] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:11] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:11] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:11] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:11] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:11] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 2/4
[20:34:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:11] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:11] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:11] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:11] [INFO] [ReplayManager] Replay data cleared
[20:34:11] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:11] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:11] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:11] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:11] [INFO] [ReplayManager] Enemies count: 10
[20:34:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:11] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:11] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:11] [INFO] [CinemaEffects] Found player node: Player
[20:34:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[20:34:11] [ENEMY] [Enemy1] Registered as sound listener
[20:34:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[20:34:11] [ENEMY] [Enemy2] Registered as sound listener
[20:34:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[20:34:11] [ENEMY] [Enemy3] Registered as sound listener
[20:34:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[20:34:11] [ENEMY] [Enemy4] Registered as sound listener
[20:34:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[20:34:11] [ENEMY] [Enemy5] Registered as sound listener
[20:34:11] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[20:34:11] [ENEMY] [Enemy6] Registered as sound listener
[20:34:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[20:34:11] [ENEMY] [Enemy7] Registered as sound listener
[20:34:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:34:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[20:34:11] [ENEMY] [Enemy8] Registered as sound listener
[20:34:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[20:34:11] [ENEMY] [Enemy9] Registered as sound listener
[20:34:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[20:34:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[20:34:11] [ENEMY] [Enemy10] Registered as sound listener
[20:34:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:34:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:11] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:11] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:11] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:11] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:11] [INFO] [LastChance] Found player: Player
[20:34:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:11] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:12] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:34:13] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,984), corner_timer=0.30
[20:34:13] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,984), corner_timer=0.30
[20:34:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,880), corner_timer=-0.02
[20:34:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,880), corner_timer=-0.02
[20:34:13] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:34:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,874), corner_timer=0.30
[20:34:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,874), corner_timer=0.30
[20:34:13] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:13] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[20:34:13] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[20:34:13] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[20:34:13] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[20:34:13] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[20:34:13] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[20:34:13] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-166.2°, current=-101.3°, player=(450,814), corner_timer=0.00
[20:34:13] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=79.1°, current=168.8°, player=(450,808), corner_timer=0.00
[20:34:13] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(450,808), corner_timer=0.00
[20:34:13] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[20:34:13] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[20:34:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(447,771), corner_timer=-0.02
[20:34:13] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:34:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.8654, 767.2783), source=PLAYER (MiniUzi), range=1469, listeners=30
[20:34:13] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[20:34:13] [ENEMY] [Enemy1] Heard gunshot at (445.8654, 767.2783), source_type=0, intensity=0.01, distance=442
[20:34:13] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:13] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.7°, current=168.8°, player=(445,767), corner_timer=0.00
[20:34:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(445,767), corner_timer=0.30
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.6102, 755.2029), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.4715, 745.4056), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(425.5759, 738.4659), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.8654, 767.2783), shooter_id=6359940598403, bullet_pos=(696.8492, 812.3571)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=254.999893188477
[20:34:14] [INFO] [Bullet] Distance to wall: 254.999893188477 (17.3634116306601% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.0843, 734.4662), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.6277, 733.3285), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:34:14] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.995675, 0.092901), lethal=false
[20:34:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:14] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=0.5)
[20:34:14] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-175.8°, current=-174.7°, player=(406,733), corner_timer=0.00
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.4681, 734.8959), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:34:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[20:34:14] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(0.997052, 0.076725), lethal=false
[20:34:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:14] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=0.5)
[20:34:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(399,736), corner_timer=-0.02
[20:34:14] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.4156, 737.4437), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[20:34:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(397,737), corner_timer=0.30
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.4177, 743.5197), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[20:34:14] [INFO] [ImpactEffects] spawn_blood_effect called at (679.0975, 759.7054), dir=(0.994567, 0.104099), lethal=true
[20:34:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:14] [INFO] [ImpactEffects] Blood effect spawned at (679.0975, 759.7054) (scale=0.75)
[20:34:14] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:34:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:34:14] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:34:14] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:34:14] [INFO] [DeathAnim] Started - Angle: 6.0 deg, Index: 12
[20:34:14] [ENEMY] [Enemy3] Death animation started with hit direction: (0.994567, 0.104099)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:34:14] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-94.0°, current=-175.7°, player=(391,746), corner_timer=0.27
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.6102, 755.2029), shooter_id=6359940598403, bullet_pos=(911.6571, 816.3623)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=475.000671386719
[20:34:14] [INFO] [Bullet] Distance to wall: 475.000671386719 (32.3436691639376% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.2569, 751.6321), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.0135, 760.4441), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(408.6277, 733.3285), shooter_id=6359940598403, bullet_pos=(755.1729, 810.3455)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=355.000305175781
[20:34:14] [INFO] [Bullet] Distance to wall: 355.000305175781 (24.1726235674188% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (141 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.4681, 734.8959), shooter_id=6359940598403, bullet_pos=(695.4128, 848.127)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=314.999664306641
[20:34:14] [INFO] [Bullet] Distance to wall: 314.999664306641 (21.4489063759463% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(397.4156, 737.4437), shooter_id=6359940598403, bullet_pos=(678.4099, 827.2618)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=295.000152587891
[20:34:14] [INFO] [Bullet] Distance to wall: 295.000152587891 (20.0871028471574% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (736.9202, 792.1627) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (734.809, 771.5109) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (735.9764, 788.9495) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (780.7416, 787.5939) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.8654, 767.2783), shooter_id=6359940598403, bullet_pos=(911.2751, 758.8572)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=465.48583984375
[20:34:14] [INFO] [Bullet] Distance to wall: 465.48583984375 (31.6957867879444% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(408,794), corner_timer=-0.02
[20:34:14] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (724.963, 781.6269) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(411,798), corner_timer=0.30
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (736.9726, 771.244) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (123 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (720.8431, 808.0707) (added to group)
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (776.7001, 747.0031) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (121 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (817.858, 762.8351) (added to group)
[20:34:14] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:34:14] [INFO] [GrenadeBase] Grenade created at (639.1039, 758.9901) (frozen)
[20:34:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:34:14] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[20:34:14] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[20:34:14] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[20:34:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[20:34:14] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:34:14] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.99984, -0.017882), Speed: 561.5 (unfrozen)
[20:34:14] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[20:34:14] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[20:34:14] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:34:14] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (399.3698, 736.0195), Distance: 281
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (119 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (735.4688, 778.0352) (added to group)
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (746.1456, 799.0665) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (117 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (825.7295, 841.5958) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (825.6885, 780.717) (added to group)
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (784.6972, 773.3069) (added to group)
[20:34:14] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (800.2982, 812.5296) (added to group)
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.4177, 743.5197), shooter_id=6359940598403, bullet_pos=(926.5638, 773.7293)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=534.999694824219
[20:34:14] [INFO] [Bullet] Distance to wall: 534.999694824219 (36.4291129982725% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (113 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (847.913, 775.8599) (added to group)
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (853.4128, 760.8481) (added to group)
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (763.5551, 802.8835) (added to group)
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.2569, 751.6321), shooter_id=6359940598403, bullet_pos=(924.1509, 762.2495)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=534.999389648438
[20:34:14] [INFO] [Bullet] Distance to wall: 534.999389648438 (36.4290922182924% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:14] [ENEMY] [Enemy3] Ragdoll activated
[20:34:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (872.1102, 884.358) (added to group)
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (801.9658, 829.8935) (added to group)
[20:34:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.0135, 760.4441), shooter_id=6359940598403, bullet_pos=(923.8306, 774.4412)
[20:34:14] [INFO] [Bullet] Using shooter_position, distance=535.000244140625
[20:34:14] [INFO] [Bullet] Distance to wall: 535.000244140625 (36.4291504022367% of viewport)
[20:34:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:14] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (835.0039, 839.6592) (added to group)
[20:34:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(432,826), corner_timer=-0.02
[20:34:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:34:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(432,826), corner_timer=0.30
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (814.8146, 824.5685) (added to group)
[20:34:14] [INFO] [BloodDecal] Blood puddle created at (841.6489, 837.1472) (added to group)
[20:34:14] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[20:34:14] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (495.3674, 596.0557)
[20:34:15] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=180.0°, current=78.7°, player=(432,826), corner_timer=0.03
[20:34:15] [INFO] [BloodDecal] Blood puddle created at (908.512, 843.9671) (added to group)
[20:34:15] [INFO] [BloodDecal] Blood puddle created at (859.5852, 865.4205) (added to group)
[20:34:15] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[20:34:15] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[20:34:15] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=96.0°, current=-3.2°, player=(432,826), corner_timer=0.03
[20:34:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:15] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:15] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:15] [ENEMY] [Enemy1] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:15] [ENEMY] [Enemy2] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:15] [ENEMY] [Enemy3] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:15] [ENEMY] [Enemy4] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:15] [ENEMY] [Enemy5] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:15] [ENEMY] [Enemy6] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:15] [ENEMY] [Enemy7] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:15] [ENEMY] [Enemy8] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:15] [ENEMY] [Enemy9] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:15] [ENEMY] [Enemy10] Death animation component initialized
[20:34:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:15] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:15] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:15] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:15] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:15] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:15] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:15] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:15] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 2/4
[20:34:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:15] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:15] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:15] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:15] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:15] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:15] [INFO] [ReplayManager] Replay data cleared
[20:34:15] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:15] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:15] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:15] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:15] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:15] [INFO] [ReplayManager] Enemies count: 10
[20:34:15] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:15] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:15] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:15] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:15] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:15] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:15] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:15] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:15] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:15] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:15] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:15] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:15] [INFO] [CinemaEffects] Found player node: Player
[20:34:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:34:15] [ENEMY] [Enemy1] Registered as sound listener
[20:34:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:34:15] [ENEMY] [Enemy2] Registered as sound listener
[20:34:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:34:15] [ENEMY] [Enemy3] Registered as sound listener
[20:34:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:34:15] [ENEMY] [Enemy4] Registered as sound listener
[20:34:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:34:15] [ENEMY] [Enemy5] Registered as sound listener
[20:34:15] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:34:15] [ENEMY] [Enemy6] Registered as sound listener
[20:34:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:34:15] [ENEMY] [Enemy7] Registered as sound listener
[20:34:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:34:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:34:15] [ENEMY] [Enemy8] Registered as sound listener
[20:34:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:34:15] [ENEMY] [Enemy9] Registered as sound listener
[20:34:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:34:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:34:15] [ENEMY] [Enemy10] Registered as sound listener
[20:34:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:34:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:15] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:15] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:15] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:15] [INFO] [LastChance] Found player: Player
[20:34:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:15] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:16] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:34:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(442,855), corner_timer=0.30
[20:34:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(442,855), corner_timer=0.30
[20:34:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.5276, 794.8571), source=PLAYER (MiniUzi), range=1469, listeners=19
[20:34:16] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:34:16] [ENEMY] [Enemy1] Heard gunshot at (431.5276, 794.8571), source_type=0, intensity=0.01, distance=464
[20:34:16] [ENEMY] [Enemy2] Heard gunshot at (431.5276, 794.8571), source_type=0, intensity=0.04, distance=247
[20:34:16] [ENEMY] [Enemy3] Heard gunshot at (431.5276, 794.8571), source_type=0, intensity=0.03, distance=272
[20:34:16] [ENEMY] [Enemy4] Heard gunshot at (431.5276, 794.8571), source_type=0, intensity=0.02, distance=383
[20:34:16] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:16] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=73.5°, current=-157.5°, player=(431,794), corner_timer=0.00
[20:34:16] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=82.7°, current=168.8°, player=(431,794), corner_timer=0.00
[20:34:16] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=170.5°, current=11.3°, player=(431,794), corner_timer=0.00
[20:34:16] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-164.1°, current=-101.3°, player=(431,794), corner_timer=0.00
[20:34:16] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=171.4°, current=-175.4°, player=(429,790), corner_timer=0.00
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.5412, 783.8204), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.7224, 775.1591), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(410,772), corner_timer=-0.02
[20:34:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(410,772), corner_timer=-0.02
[20:34:17] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:34:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(406,770), corner_timer=0.30
[20:34:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(406,770), corner_timer=0.30
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.6487, 769.0807), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:34:17] [INFO] [ImpactEffects] spawn_blood_effect called at (652.3152, 755.2546), dir=(0.993056, -0.117639), lethal=false
[20:34:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:17] [INFO] [ImpactEffects] Blood effect spawned at (652.3152, 755.2546) (scale=0.5)
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.4746, 766.0008), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[20:34:17] [INFO] [ImpactEffects] spawn_blood_effect called at (641.6649, 755.8445), dir=(0.983054, -0.183319), lethal=false
[20:34:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:17] [INFO] [ImpactEffects] Blood effect spawned at (641.6649, 755.8445) (scale=0.5)
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.2003, 765.9191), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.0509, 768.7582), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.6023, 773.975), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.3331, 762.5703), source=ENEMY (Enemy3), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(352.0799, 781.4918), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:17] [INFO] [LastChance] Threat detected: Bullet
[20:34:17] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.5575, 771.538), source=ENEMY (Enemy3), range=1469, listeners=10
[20:34:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:34:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(346,791), corner_timer=-0.02
[20:34:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (718.6774, 746.9546) (added to group)
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (722.3566, 779.7559) (added to group)
[20:34:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(345,795), corner_timer=0.30
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (727.1126, 789.9992) (added to group)
[20:34:17] [INFO] [LastChance] Threat detected: @Area2D@27641
[20:34:17] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(413.7224, 775.1591), shooter_id=6440739675456, bullet_pos=(916.3629, 663.0073)
[20:34:17] [INFO] [Bullet] Using shooter_position, distance=515.000366210938
[20:34:17] [INFO] [Bullet] Distance to wall: 515.000366210938 (35.0673219374717% of viewport)
[20:34:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:17] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:34:17] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:34:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (766.4853, 791.2634) (added to group)
[20:34:17] [INFO] [Player] Spawning blood effect at (341.43625, 812.78143), dir=(1, 0), lethal=False (C#)
[20:34:17] [INFO] [ImpactEffects] spawn_blood_effect called at (341.4362, 812.7814), dir=(1, 0), lethal=false
[20:34:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:17] [INFO] [ImpactEffects] Blood effect spawned at (341.4362, 812.7814) (scale=1)
[20:34:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:34:17] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:34:17] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:34:17] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:34:17] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:34:17] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:34:17] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:34:17] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:34:17] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[20:34:17] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:34:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (720.9855, 785.006) (added to group)
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (756.5043, 800.4187) (added to group)
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (709.2648, 771.5036) (added to group)
[20:34:17] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=122.8°, current=159.5°, player=(341,817), corner_timer=0.00
[20:34:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(402.6487, 769.0807), shooter_id=6440739675456, bullet_pos=(909.2358, 656.2511)
[20:34:17] [INFO] [Bullet] Using shooter_position, distance=519.000061035156
[20:34:17] [INFO] [Bullet] Distance to wall: 519.000061035156 (35.339668512843% of viewport)
[20:34:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:17] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (716.9987, 751.5158) (added to group)
[20:34:17] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[20:34:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (773.5883, 781.0458) (added to group)
[20:34:17] [INFO] [BloodDecal] Blood puddle created at (710.8342, 758.5159) (added to group)
[20:34:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.667, 773.43414), shooter_id=6437384230627, bullet_pos=(66.365204, 881.2052)
[20:34:17] [INFO] [Bullet] Using shooter_position, distance=516,66675
[20:34:17] [INFO] [Bullet] Distance to wall: 516,66675 (35,18079% of viewport)
[20:34:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:17] [INFO] [Bullet] Starting wall penetration at (66.365204, 881.2052)
[20:34:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:34:17] [INFO] [Bullet] Exiting penetration at (57.40017, 883.1173) after traveling 4,1666665 pixels through wall
[20:34:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (720.8773, 768.9665) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (774.21, 726.4095) (added to group)
[20:34:18] [INFO] [ReplayManager] Recording frame 180 (2,4s): player_valid=True, enemies=10
[20:34:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.4746, 766.0008), shooter_id=6440739675456, bullet_pos=(909.3228, 602.6572)
[20:34:18] [INFO] [Bullet] Using shooter_position, distance=542.998901367188
[20:34:18] [INFO] [Bullet] Distance to wall: 542.998901367188 (36.9737936810271% of viewport)
[20:34:18] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:18] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (755.1772, 761.8476) (added to group)
[20:34:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:18] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:34:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:18] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:18] [ENEMY] [Enemy1] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:18] [ENEMY] [Enemy2] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:18] [ENEMY] [Enemy3] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:18] [ENEMY] [Enemy4] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:18] [ENEMY] [Enemy5] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:18] [ENEMY] [Enemy6] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:18] [ENEMY] [Enemy7] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:18] [ENEMY] [Enemy8] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:18] [ENEMY] [Enemy9] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:18] [ENEMY] [Enemy10] Death animation component initialized
[20:34:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:18] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:18] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:18] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:18] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:18] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:18] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:18] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:18] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 2/4
[20:34:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:18] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:18] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:18] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:18] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:18] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:18] [INFO] [ReplayManager] Replay data cleared
[20:34:18] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:18] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:18] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:18] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:18] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:18] [INFO] [ReplayManager] Enemies count: 10
[20:34:18] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:18] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:18] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:18] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:18] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:18] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:18] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:18] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:18] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:18] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:18] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:18] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:18] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:18] [INFO] [CinemaEffects] Found player node: Player
[20:34:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[20:34:18] [ENEMY] [Enemy1] Registered as sound listener
[20:34:18] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[20:34:18] [ENEMY] [Enemy2] Registered as sound listener
[20:34:18] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[20:34:18] [ENEMY] [Enemy3] Registered as sound listener
[20:34:18] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[20:34:18] [ENEMY] [Enemy4] Registered as sound listener
[20:34:18] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[20:34:18] [ENEMY] [Enemy5] Registered as sound listener
[20:34:18] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[20:34:18] [ENEMY] [Enemy6] Registered as sound listener
[20:34:18] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[20:34:18] [ENEMY] [Enemy7] Registered as sound listener
[20:34:18] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:34:18] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[20:34:18] [ENEMY] [Enemy8] Registered as sound listener
[20:34:18] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[20:34:18] [ENEMY] [Enemy9] Registered as sound listener
[20:34:18] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[20:34:18] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[20:34:18] [ENEMY] [Enemy10] Registered as sound listener
[20:34:18] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:34:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:18] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:18] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:18] [INFO] [LastChance] Found player: Player
[20:34:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:18] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (763.5285, 799.0911) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (416.062, 854.3935) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (828.4763, 758.4058) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (753.8172, 779.8622) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (803.1981, 769.6265) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (816.2646, 741.2112) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (422.8394, 853.4927) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (443.421, 824.1624) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (422.7562, 893.8787) (added to group)
[20:34:18] [INFO] [BloodDecal] Blood puddle created at (482.079, 909.9478) (added to group)
[20:34:19] [INFO] [BloodDecal] Blood puddle created at (444.9436, 883.8333) (added to group)
[20:34:19] [INFO] [BloodDecal] Blood puddle created at (457.3493, 950.3591) (added to group)
[20:34:19] [INFO] [BloodDecal] Blood puddle created at (454.9863, 905.1703) (added to group)
[20:34:19] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:34:19] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.8067, 811.7227), source=PLAYER (MiniUzi), range=1469, listeners=20
[20:34:20] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[20:34:20] [ENEMY] [Enemy1] Heard gunshot at (443.8067, 811.7227), source_type=0, intensity=0.01, distance=484
[20:34:20] [ENEMY] [Enemy2] Heard gunshot at (443.8067, 811.7227), source_type=0, intensity=0.04, distance=265
[20:34:20] [ENEMY] [Enemy3] Heard gunshot at (443.8067, 811.7227), source_type=0, intensity=0.04, distance=264
[20:34:20] [ENEMY] [Enemy4] Heard gunshot at (443.8067, 811.7227), source_type=0, intensity=0.02, distance=367
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=72.7°, current=168.8°, player=(443,811), corner_timer=0.00
[20:34:20] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=80.5°, current=-157.5°, player=(443,811), corner_timer=0.00
[20:34:20] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=166.5°, current=-78.7°, player=(443,811), corner_timer=0.00
[20:34:20] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-166.1°, current=-101.3°, player=(443,811), corner_timer=0.00
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(443.8067, 811.7227), shooter_id=6516891459397, bullet_pos=(498.5789, 806.7222)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=55.0000076293945
[20:34:20] [INFO] [Bullet] Distance to wall: 55.0000076293945 (3.74505165558155% of viewport)
[20:34:20] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.5111, 799.793), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:20] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:34:20] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(432,793), corner_timer=0.30
[20:34:20] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(432,793), corner_timer=0.30
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.2654, 790.1432), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.6131, 783.0075), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(409.6412, 778.8547), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=175.2°, current=127.7°, player=(406,778), corner_timer=0.00
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.3496, 777.6848), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:34:20] [INFO] [ImpactEffects] spawn_blood_effect called at (673.9, 755.4431), dir=(0.990348, -0.138602), lethal=false
[20:34:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:20] [INFO] [ImpactEffects] Blood effect spawned at (673.9, 755.4431) (scale=0.5)
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388.7384, 779.4979), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[20:34:20] [INFO] [ImpactEffects] spawn_blood_effect called at (673.9, 755.4431), dir=(0.992212, -0.12456), lethal=false
[20:34:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:20] [INFO] [ImpactEffects] Blood effect spawned at (673.9, 755.4431) (scale=0.5)
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(379.2533, 783.8801), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.6174, 790.6248), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(371,790), corner_timer=-0.02
[20:34:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(371,790), corner_timer=-0.02
[20:34:20] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(437.5111, 799.793), shooter_id=6516891459397, bullet_pos=(911.3602, 766.7512)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=474.999694824219
[20:34:20] [INFO] [Bullet] Distance to wall: 474.999694824219 (32.3436026680012% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(667.3027, 759.9681), source=ENEMY (Enemy3), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[20:34:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(369,793), corner_timer=0.30
[20:34:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(369,793), corner_timer=0.30
[20:34:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(365.7225, 798.2839), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.9947, 775.26013), shooter_id=6513536011006, bullet_pos=(521.2664, 799.5056)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=83,33331
[20:34:20] [INFO] [Bullet] Distance to wall: 83,33331 (5,674319% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[20:34:20] [INFO] [ImpactEffects] spawn_blood_effect called at (658.5063, 766.0014), dir=(0.99467, -0.103112), lethal=true
[20:34:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:20] [INFO] [ImpactEffects] Blood effect spawned at (658.5063, 766.0014) (scale=0.75)
[20:34:20] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:34:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:34:20] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:34:20] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:34:20] [INFO] [DeathAnim] Started - Angle: -5.9 deg, Index: 11
[20:34:20] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99467, -0.103112)
[20:34:20] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:34:20] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:34:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (759.5679, 766.7571) (added to group)
[20:34:20] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (741.7205, 728.0298) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (751.1006, 738.024) (added to group)
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.7225, 798.2839), shooter_id=6516891459397, bullet_pos=(493.7034, 710.8433)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=154.999954223633
[20:34:20] [INFO] [Bullet] Distance to wall: 154.999954223633 (10.5542319028706% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.9947, 775.26013), shooter_id=6513536011006, bullet_pos=(287.36108, 703.302)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=321,78256
[20:34:20] [INFO] [Bullet] Distance to wall: 321,78256 (21,910767% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(409.6412, 778.8547), shooter_id=6516891459397, bullet_pos=(923.692, 810.1054)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=514.999816894531
[20:34:20] [INFO] [Bullet] Distance to wall: 514.999816894531 (35.0672845335075% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (761.9365, 740.4377) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (726.2332, 765.1631) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (785.422, 716.9858) (added to group)
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(399.3496, 777.6848), shooter_id=6516891459397, bullet_pos=(912.8409, 817.0736)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=514.999755859375
[20:34:20] [INFO] [Bullet] Distance to wall: 514.999755859375 (35.0672803775114% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (805.7118, 738.053) (added to group)
[20:34:20] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (747.0035, 797.0189) (added to group)
[20:34:20] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (815.1919, 767.7909) (added to group)
[20:34:20] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (699.7117, 784.6258) (added to group)
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.9947, 775.26013), shooter_id=6513536011006, bullet_pos=(43.420383, 832.2768)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=560,48193
[20:34:20] [INFO] [Bullet] Distance to wall: 560,48193 (38,164246% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Starting wall penetration at (43.420383, 832.2768)
[20:34:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(365,807), corner_timer=-0.02
[20:34:20] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:34:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,185806
[20:34:20] [INFO] [Bullet] Body exited signal received for penetrating body
[20:34:20] [INFO] [Bullet] Exiting penetration at (12.386784, 848.6847) after traveling 30,10417 pixels through wall
[20:34:20] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[20:34:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(367,806), corner_timer=0.30
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (716.9903, 768.9568) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (778.2728, 796.3585) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (706.4007, 770.667) (added to group)
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(379.2533, 783.8801), shooter_id=6516891459397, bullet_pos=(928.7928, 706.2195)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=554.999816894531
[20:34:20] [INFO] [Bullet] Distance to wall: 554.999816894531 (37.7909580870217% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (719.2131, 787.5963) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (715.8539, 793.1959) (added to group)
[20:34:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(371.6174, 790.6248), shooter_id=6516891459397, bullet_pos=(913.9227, 672.5975)
[20:34:20] [INFO] [Bullet] Using shooter_position, distance=555.000427246094
[20:34:20] [INFO] [Bullet] Distance to wall: 555.000427246094 (37.7909996469819% of viewport)
[20:34:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (782.6921, 803.9053) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (715.2654, 799.6228) (added to group)
[20:34:20] [INFO] [BloodDecal] Blood puddle created at (794.2087, 803.4705) (added to group)
[20:34:21] [ENEMY] [Enemy3] Ragdoll activated
[20:34:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (818.6522, 830.2758) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (808.2308, 825.6082) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (848.9871, 837.2915) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (755.2704, 783.564) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (840.0811, 804.2577) (added to group)
[20:34:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(436,749), corner_timer=-0.02
[20:34:21] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:34:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(440,747), corner_timer=0.30
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (855.2495, 786.323) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (793.4146, 818.1588) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (815.6207, 806.6662) (added to group)
[20:34:21] [INFO] [BloodDecal] Blood puddle created at (827.8056, 792.1024) (added to group)
[20:34:21] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=55.0°, current=56.2°, player=(527,743), corner_timer=0.00
[20:34:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(543,743), corner_timer=-0.02
[20:34:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:34:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(549,743), corner_timer=0.30
[20:34:21] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.6306, 735.3088), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:34:21] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.9415, 727.6098), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.1454, 722.0665), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:34:21] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.0964, 719.0363), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.4182, 718.0051), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:21] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[20:34:21] [INFO] [ImpactEffects] spawn_blood_effect called at (402.5936, 565.7883), dir=(-0.814593, -0.580033), lethal=false
[20:34:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:21] [INFO] [ImpactEffects] Blood effect spawned at (402.5936, 565.7883) (scale=0.5)
[20:34:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(638,718), corner_timer=-0.02
[20:34:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:34:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(642,718), corner_timer=0.30
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(645.822, 719.2326), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:21] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[20:34:21] [INFO] [ImpactEffects] spawn_blood_effect called at (402.5936, 565.7883), dir=(-0.825152, -0.564911), lethal=false
[20:34:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:21] [INFO] [ImpactEffects] Blood effect spawned at (402.5936, 565.7883) (scale=0.5)
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.5878, 721.8094), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:21] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:34:21] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[20:34:21] [INFO] [ImpactEffects] spawn_blood_effect called at (405.0993, 564.8759), dir=(-0.791857, -0.610707), lethal=false
[20:34:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:21] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:21] [INFO] [ImpactEffects] Blood effect spawned at (405.0993, 564.8759) (scale=0.5)
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(660.6125, 725.6058), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.6165, 562.1384), source=ENEMY (Enemy2), range=1469, listeners=9
[20:34:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.8963, 730.6215), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(654.5878, 721.8094), shooter_id=6516891459397, bullet_pos=(501.2413, 601.3525)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=195.000045776367
[20:34:22] [INFO] [Bullet] Distance to wall: 195.000045776367 (13.2779116903788% of viewport)
[20:34:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.6393, 558.4886), source=ENEMY (Enemy2), range=1469, listeners=9
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(664.0109, 739.206), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:22] [ENEMY] [Enemy3] Death animation completed
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(578.6306, 735.3088), shooter_id=6516891459397, bullet_pos=(66.40607, 360.0077)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=635
[20:34:22] [INFO] [Bullet] Distance to wall: 635 (43.2383176620382% of viewport)
[20:34:22] [INFO] [Bullet] Distance-based penetration chance: 96.2219627276221%
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [INFO] [LastChance] Threat detected: @Area2D@28050
[20:34:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:22] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (339.9466, 535.8705) (added to group)
[20:34:22] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.6621, 554.8387), source=ENEMY (Enemy2), range=1469, listeners=9
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.2527, 749.9584), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:22] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (336.1262, 562.6322) (added to group)
[20:34:22] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[20:34:22] [INFO] [ImpactEffects] spawn_blood_effect called at (440.1792, 552.1013), dir=(-0.813202, -0.581982), lethal=true
[20:34:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:22] [INFO] [ImpactEffects] Blood effect spawned at (440.1792, 552.1013) (scale=0.75)
[20:34:22] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:34:22] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:34:22] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[20:34:22] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:34:22] [INFO] [DeathAnim] Started - Angle: -144.4 deg, Index: 2
[20:34:22] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.813202, -0.581982)
[20:34:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:22] [INFO] [LastChance] Threat detected: @Area2D@28062
[20:34:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (351.7647, 569.1499) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (340.515, 580.6385) (added to group)
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(649.6216, 762.8787), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.575, 606.08057), shooter_id=6513183693470, bullet_pos=(932.07104, 783.4153)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=500,00015
[20:34:22] [INFO] [Bullet] Distance to wall: 500,00015 (34,045933% of viewport)
[20:34:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:22] [INFO] [Bullet] Starting wall penetration at (932.07104, 783.4153)
[20:34:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,464596
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (338.4687, 583.3336) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (362.3357, 540.8823) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (337.2795, 527.4935) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (367.2222, 510.4497) (added to group)
[20:34:22] [INFO] [Bullet] Body exited signal received for penetrating body
[20:34:22] [INFO] [Bullet] Exiting penetration at (975.70404, 799.96655) after traveling 41,666668 pixels through wall
[20:34:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(664.0109, 739.206), shooter_id=6516891459397, bullet_pos=(523.1974, 551.0662)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=235.000061035156
[20:34:22] [INFO] [Bullet] Distance to wall: 235.000061035156 (16.001586282892% of viewport)
[20:34:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (341.8236, 555.3982) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (368.1129, 510.2808) (added to group)
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.2527, 749.9584), shooter_id=6516891459397, bullet_pos=(507.5827, 597.5734)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=214.999923706055
[20:34:22] [INFO] [Bullet] Distance to wall: 214.999923706055 (14.6397401551439% of viewport)
[20:34:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (335.0834, 551.6808) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (283.6123, 587.7897) (added to group)
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.4182, 718.0051), shooter_id=6516891459397, bullet_pos=(62.00043, 443.1185)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=634.999816894531
[20:34:22] [INFO] [Bullet] Distance to wall: 634.999816894531 (43.2383051940501% of viewport)
[20:34:22] [INFO] [Bullet] Distance-based penetration chance: 96.2219772736082%
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (358.8409, 549.5579) (added to group)
[20:34:22] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:34:22] [INFO] [GrenadeBase] Grenade created at (470.48, 578.2137) (frozen)
[20:34:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:34:22] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[20:34:22] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[20:34:22] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[20:34:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[20:34:22] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:34:22] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.757519, 0.652813), Speed: 556.6 (unfrozen)
[20:34:22] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[20:34:22] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[20:34:22] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:34:22] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (658.9088, 724.2048), Distance: 278
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(649.6216, 762.8787), shooter_id=6516891459397, bullet_pos=(519.642, 591.6176)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=215.00016784668
[20:34:22] [INFO] [Bullet] Distance to wall: 215.00016784668 (14.639756779128% of viewport)
[20:34:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(615,797), corner_timer=-0.02
[20:34:22] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (276.7025, 592.8527) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (280.7053, 558.4718) (added to group)
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.822, 719.2326), shooter_id=6516891459397, bullet_pos=(51.09803, 444.7731)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=654.999694824219
[20:34:22] [INFO] [Bullet] Distance to wall: 654.999694824219 (44.6001336588152% of viewport)
[20:34:22] [INFO] [Bullet] Distance-based penetration chance: 94.633177398049%
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(611,801), corner_timer=0.30
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(472.40927, 604.89496), shooter_id=6513183693470, bullet_pos=(1159.8711, 997.49243)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=791,66693
[20:34:22] [INFO] [Bullet] Distance to wall: 791,66693 (53,90606% of viewport)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (365.2536, 538.7443) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (395.7235, 507.0822) (added to group)
[20:34:22] [INFO] [GrenadeBase] Collision detected with Room1_WallRight (type: StaticBody2D)
[20:34:22] [INFO] [FragGrenade] Impact detected! Body: Room1_WallRight (type: StaticBody2D), triggering explosion
[20:34:22] [INFO] [FragGrenade] Impact detected - exploding immediately!
[20:34:22] [INFO] [GrenadeBase] EXPLODED at (497.5742, 610.3123)!
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(497.5742, 610.3123), source=NEUTRAL (FragGrenade), range=2937, listeners=8
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[20:34:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 81.7
[20:34:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 223.9
[20:34:22] [INFO] [GrenadeBase] Scattered 12 casings (lethal zone) + 0 casings (proximity) from explosion
[20:34:22] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.4 degrees
[20:34:22] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 86.0 degrees
[20:34:22] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 195.5 degrees
[20:34:22] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 289.1 degrees
[20:34:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (497.5742, 610.3123) (radius=225) - using shadow-based wall occlusion
[20:34:22] [INFO] [GrenadeTimer] Impact detected with Room1_WallRight - EXPLODING!
[20:34:22] [INFO] [GrenadeTimer] EXPLODED at (497.57422, 610.31226)!
[20:34:22] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[20:34:22] [INFO] [GrenadeTimer] Damaged enemy at distance 81,7
[20:34:22] [INFO] [GrenadeTimer] Damaged enemy at distance 223,9
[20:34:22] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(497.5742, 610.3123), source=NEUTRAL (FragGrenade), range=2938, listeners=8
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[20:34:22] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (497.57422, 610.31226) (shadow-based wall occlusion)
[20:34:22] [INFO] [GrenadeTimer] Scattered 12 casings
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (319.0201, 512.3286) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (259.519, 553.9192) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (303.3552, 560.4158) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (317.2448, 538.0378) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (366.4899, 548.7026) (added to group)
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(472.40927, 604.89496), shooter_id=6513183693470, bullet_pos=(1362.6986, 918.9612)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=944,06177
[20:34:22] [INFO] [Bullet] Distance to wall: 944,06177 (64,282906% of viewport)
[20:34:22] [INFO] [Bullet] Distance-based penetration chance: 71,669945%
[20:34:22] [INFO] [Bullet] Starting wall penetration at (1362.6986, 918.9612)
[20:34:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,284971
[20:34:22] [INFO] [Bullet] Body exited signal received for penetrating body
[20:34:22] [INFO] [Bullet] Exiting penetration at (1400.3888, 904.3682) after traveling 35,41667 pixels through wall
[20:34:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (346.1597, 547.1783) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (268.0583, 591.8042) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (233.5654, 526.3961) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (310.7459, 574.7004) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (330.4875, 542.6496) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (377.7248, 508.6712) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (374.2566, 562.4785) (added to group)
[20:34:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.8963, 730.6215), shooter_id=6516891459397, bullet_pos=(60.46281, 428.1425)
[20:34:22] [INFO] [Bullet] Using shooter_position, distance=675.000366210938
[20:34:22] [INFO] [Bullet] Distance to wall: 675.000366210938 (45.9620161515285% of viewport)
[20:34:22] [INFO] [Bullet] Distance-based penetration chance: 93.0443144898834%
[20:34:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:22] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (238.899, 601.7392) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (302.6331, 593.6854) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (304.33, 535.4124) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (290.1115, 475.8476) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (318.9661, 565.5726) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (346.6337, 547.7557) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (307.0627, 556.8527) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (354.4536, 560.8141) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (377.3679, 564.0969) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (409.5453, 535.6891) (added to group)
[20:34:22] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:22] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=-23.2°, current=-24.1°, player=(553,859), corner_timer=0.00
[20:34:22] [ENEMY] [Enemy2] Ragdoll activated
[20:34:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (238.841, 549.5325) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (383.906, 495.7296) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (396.64, 543.6773) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (361.7948, 546.2984) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (340.6939, 483.6152) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (278.3708, 566.3739) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (314.3869, 520.7167) (added to group)
[20:34:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(542,877), corner_timer=-0.02
[20:34:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:34:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(540,881), corner_timer=0.30
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (308.6127, 524.9351) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (289.3658, 605.1883) (added to group)
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (320.4753, 544.9719) (added to group)
[20:34:22] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:34:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:22] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:22] [INFO] [BloodDecal] Blood puddle created at (319.1741, 549.0333) (added to group)
[20:34:22] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:34:22] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:34:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(541.9146, 978.7573), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[20:34:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(543,983), corner_timer=-0.02
[20:34:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:34:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(544,983), corner_timer=0.30
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.4919, 983.9333), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[20:34:23] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2859, 983.9333), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(541.9146, 978.7573), shooter_id=6516891459397, bullet_pos=(715.6912, 890.2883)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=195.000106811523
[20:34:23] [INFO] [Bullet] Distance to wall: 195.000106811523 (13.2779158463748% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.4133, 983.9333), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.4919, 983.9333), shooter_id=6516891459397, bullet_pos=(719.8573, 890.8804)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=194.999816894531
[20:34:23] [INFO] [Bullet] Distance to wall: 194.999816894531 (13.2778961053937% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2859, 983.9333), shooter_id=6516891459397, bullet_pos=(707.3804, 889.1269)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=175.000061035156
[20:34:23] [INFO] [Bullet] Distance to wall: 175.000061035156 (11.9160759526207% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.477, 983.9333), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.4133, 983.9333), shooter_id=6516891459397, bullet_pos=(701.0898, 890.5034)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=155.000061035156
[20:34:23] [INFO] [Bullet] Distance to wall: 155.000061035156 (10.5542391758636% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.477, 983.9333), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[20:34:23] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:34:23] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(626,983), corner_timer=-0.02
[20:34:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:34:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(631,983), corner_timer=0.30
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.477, 983.9333), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(604.477, 983.9333), shooter_id=6516891459397, bullet_pos=(749.7225, 886.3182)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=174.999893188477
[20:34:23] [INFO] [Bullet] Distance to wall: 174.999893188477 (11.9160645236317% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(615.477, 983.9333), shooter_id=6516891459397, bullet_pos=(736.3395, 886.8909)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=154.999908447266
[20:34:23] [INFO] [Bullet] Distance to wall: 154.999908447266 (10.5542287858736% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:23] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:34:23] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:23] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:23] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:34:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.477, 983.9333), shooter_id=6516891459397, bullet_pos=(917.1991, 799.5953)
[20:34:23] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[20:34:23] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[20:34:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:23] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:23] [ENEMY] [Enemy2] Death animation completed
[20:34:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(736,983), corner_timer=-0.02
[20:34:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:34:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(741,983), corner_timer=0.30
[20:34:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(804.4057, 975.3104), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:34:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(821.5583, 963.6079), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:34:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(833,952), corner_timer=-0.02
[20:34:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(837.1948, 948.2451), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[20:34:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(837,948), corner_timer=0.30
[20:34:24] [ENEMY] [Enemy1] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy2] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy4] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy5] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy6] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy7] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy8] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy9] Player ammo empty: false -> true
[20:34:24] [ENEMY] [Enemy10] Player ammo empty: false -> true
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(841.0839, 944.356), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (841.0839, 944.356), intensity=0.03, distance=272
[20:34:24] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=805), can_see=false
[20:34:24] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=93.6°, current=-72.8°, player=(841,944), corner_timer=0.00
[20:34:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=272), can_see=false
[20:34:24] [ENEMY] [Enemy4] Pursuing vulnerability sound at (841.0839, 944.356), distance=272
[20:34:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1045), can_see=false
[20:34:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1214), can_see=false
[20:34:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=772), can_see=false
[20:34:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1173), can_see=false
[20:34:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1397), can_see=false
[20:34:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=730), can_see=false
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(844.665, 940.3394), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (844.665, 940.3394), intensity=0.04, distance=263
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=92.4°, current=121.4°, player=(844,940), corner_timer=0.00
[20:34:24] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.7531, 677.8455), source=ENEMY (Enemy4), range=1469, listeners=8
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=6
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(847.9382, 936.1951), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (847.9382, 936.1951), intensity=0.04, distance=254
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(850.91, 932.1933), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (850.91, 932.1933), intensity=0.04, distance=244
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [LastChance] Threat detected: Bullet
[20:34:24] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:24] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[20:34:24] [INFO] [ImpactEffects] spawn_blood_effect called at (853.0957, 687.8637), dir=(0.150391, -0.988627), lethal=false
[20:34:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:24] [INFO] [ImpactEffects] Blood effect spawned at (853.0957, 687.8637) (scale=0.5)
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(853.5803, 928.3339), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (853.5803, 928.3339), intensity=0.05, distance=235
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(855.9493, 924.6168), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (855.9493, 924.6168), intensity=0.05, distance=226
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(858.0168, 921.0421), source=PLAYER (Player), range=600, listeners=8
[20:34:24] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (858.0168, 921.0421), intensity=0.05, distance=217
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [Player] Spawning blood effect at (858.01685, 921.04205), dir=(1, 0), lethal=False (C#)
[20:34:24] [INFO] [ImpactEffects] spawn_blood_effect called at (858.0168, 921.0421), dir=(1, 0), lethal=false
[20:34:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:24] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 921.0421) (dist=53 px)
[20:34:24] [INFO] [BloodDecal] Blood puddle created at (911, 921.0421) (added to group)
[20:34:24] [INFO] [ImpactEffects] Blood effect spawned at (858.0168, 921.0421) (scale=1)
[20:34:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:34:24] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:34:24] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:34:24] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:34:24] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:34:24] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:34:24] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:34:24] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:34:24] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[20:34:24] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:34:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:34:24] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[20:34:24] [INFO] [ImpactEffects] spawn_blood_effect called at (853.1282, 703.863), dir=(0.169331, -0.985559), lethal=true
[20:34:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:24] [INFO] [ImpactEffects] Blood effect spawned at (853.1282, 703.863) (scale=0.75)
[20:34:24] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:34:24] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:34:24] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[20:34:24] [INFO] [DeathAnim] Started - Angle: -80.3 deg, Index: 6
[20:34:24] [ENEMY] [Enemy4] Death animation started with hit direction: (0.169331, -0.985559)
[20:34:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(859.783, 917.6097), source=PLAYER (Player), range=600, listeners=7
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(861.2478, 914.3197), source=PLAYER (Player), range=600, listeners=7
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(861.3913, 913.9921), source=PLAYER (Player), range=600, listeners=7
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(861.5317, 913.666), source=PLAYER (Player), range=600, listeners=7
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(861.6692, 913.3412), source=PLAYER (Player), range=600, listeners=7
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[20:34:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=799), can_see=false
[20:34:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1005), can_see=false
[20:34:24] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1178), can_see=false
[20:34:24] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=747), can_see=false
[20:34:24] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1170), can_see=false
[20:34:24] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1393), can_see=false
[20:34:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=755), can_see=false
[20:34:24] [INFO] [ReplayManager] Recording frame 360 (5,6s): player_valid=True, enemies=10
[20:34:24] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:34:24] [ENEMY] [Enemy1] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy4] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy5] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy6] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy7] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy8] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy9] Player reloading: false -> true
[20:34:24] [ENEMY] [Enemy10] Player reloading: false -> true
[20:34:24] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(864.3646, 905.9728), source=PLAYER (Player), range=900, listeners=7
[20:34:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[20:34:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(837.1948, 948.2451), shooter_id=6516891459397, bullet_pos=(909.1433, 672.4758)
[20:34:24] [INFO] [Bullet] Using shooter_position, distance=285.000549316406
[20:34:24] [INFO] [Bullet] Distance to wall: 285.000549316406 (19.406211472753% of viewport)
[20:34:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:24] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:24] [INFO] [Player.Reload.Anim] LeftArm: pos=(5.6680684, 4.4002647), target=(-6, 2), base=(14, 6)
[20:34:24] [INFO] [Player.Reload.Anim] RightArm: pos=(1.333255, 6), target=(1, 6), base=(1, 6)
[20:34:24] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:34:24] [INFO] [Player.Reload.Anim] LeftArm: pos=(5.576367, 4.440258), target=(2, 6), base=(14, 6)
[20:34:24] [INFO] [Player.Reload.Anim] RightArm: pos=(1.3249236, 6.05), target=(1, 8), base=(1, 6)
[20:34:25] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:34:25] [ENEMY] [Enemy1] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy4] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy5] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy6] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy7] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy8] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy9] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy10] Player reloading: true -> false
[20:34:25] [ENEMY] [Enemy1] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy4] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy5] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy6] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy7] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy8] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy9] Player ammo empty: true -> false
[20:34:25] [ENEMY] [Enemy10] Player ammo empty: true -> false
[20:34:25] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:34:25] [INFO] [ReplayManager] Recording frame 420 (5,7s): player_valid=True, enemies=10
[20:34:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=173.9°, current=89.5°, player=(864,890), corner_timer=-0.00
[20:34:25] [ENEMY] [Enemy7] PATROL corner check: angle 88.1°
[20:34:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.1°, current=89.7°, player=(864,890), corner_timer=0.30
[20:34:25] [INFO] [BloodDecal] Blood puddle created at (864.1031, 614.5638) (added to group)
[20:34:26] [INFO] [BloodDecal] Blood puddle created at (872.9288, 611.7128) (added to group)
[20:34:26] [INFO] [BloodDecal] Blood puddle created at (835.2129, 650.8395) (added to group)
[20:34:26] [INFO] [BloodDecal] Blood puddle created at (863.7207, 648.1893) (added to group)
[20:34:26] [INFO] [Player.Reload.Anim] LeftArm: pos=(12.904156, 5.8695316), target=(14, 6), base=(14, 6)
[20:34:26] [INFO] [Player.Reload.Anim] RightArm: pos=(1.027179, 6.0693874), target=(1, 6), base=(1, 6)
[20:34:26] [INFO] [ReplayManager] Recording frame 480 (5,8s): player_valid=True, enemies=10
[20:34:26] [INFO] [BloodDecal] Blood puddle created at (876.4505, 680.7123) (added to group)
[20:34:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (872.7673, 680.663) (added to group)
[20:34:27] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:34:27] [INFO] [PenultimateHit] Effect duration expired after 3.00 real seconds
[20:34:27] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:34:27] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (902.1511, 644.9493) (added to group)
[20:34:27] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (908.7325, 653.4094) (added to group)
[20:34:27] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (845.0334, 600.5427) (added to group)
[20:34:27] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (847.5977, 651.1293) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (829.3661, 606.4153) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (841.2232, 630.2251) (added to group)
[20:34:27] [ENEMY] [Enemy4] Ragdoll activated
[20:34:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (878.5021, 603.0125) (added to group)
[20:34:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=172.5°, current=88.1°, player=(841,811), corner_timer=-0.01
[20:34:27] [ENEMY] [Enemy7] PATROL corner check: angle 87.0°
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (829.7202, 628.2681) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (845.7115, 628.7271) (added to group)
[20:34:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=87.0°, current=91.1°, player=(841,806), corner_timer=0.30
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (822.4378, 657.2865) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (861.524, 659.6836) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (875.4006, 574.9521) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (903.8961, 617.2604) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (861.3942, 621.1333) (added to group)
[20:34:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (780.8685, 585.3812) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (854.6619, 691.8085) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (909.5193, 704.2657) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (910.7401, 626.5577) (added to group)
[20:34:27] [INFO] [PenultimateHit] Visual effects fade-out complete
[20:34:27] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:34:27] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (864.1038, 642.1045) (added to group)
[20:34:27] [INFO] [BloodDecal] Blood puddle created at (823.4794, 619.0338) (added to group)
[20:34:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(841.9289, 723.6902), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[20:34:27] [INFO] [ReplayManager] Recording frame 540 (6,3s): player_valid=True, enemies=10
[20:34:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(841.6209, 701.8178), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[20:34:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=173.2°, current=87.0°, player=(841,701), corner_timer=-0.02
[20:34:27] [ENEMY] [Enemy7] PATROL corner check: angle 87.7°
[20:34:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=87.7°, current=89.9°, player=(841,696), corner_timer=0.30
[20:34:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(837.7943, 682.3019), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[20:34:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(830.4796, 666.7687), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[20:34:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(821.4363, 656.1722), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=6
[20:34:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(841.9289, 723.6902), shooter_id=6516891459397, bullet_pos=(526.6844, 560.454)
[20:34:27] [INFO] [Bullet] Using shooter_position, distance=355.000244140625
[20:34:27] [INFO] [Bullet] Distance to wall: 355.000244140625 (24.1726194114228% of viewport)
[20:34:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:27] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(841.6209, 701.8178), shooter_id=6516891459397, bullet_pos=(514.2979, 564.3951)
[20:34:27] [INFO] [Bullet] Using shooter_position, distance=355.00048828125
[20:34:27] [INFO] [Bullet] Distance to wall: 355.00048828125 (24.1726360354069% of viewport)
[20:34:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:27] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(837.7943, 682.3019), shooter_id=6516891459397, bullet_pos=(519.8233, 576.8538)
[20:34:28] [INFO] [Bullet] Using shooter_position, distance=334.999755859375
[20:34:28] [INFO] [Bullet] Distance to wall: 334.999755859375 (22.8107493866975% of viewport)
[20:34:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=174.0°, current=87.7°, player=(799,650), corner_timer=-0.02
[20:34:28] [ENEMY] [Enemy7] PATROL corner check: angle 88.2°
[20:34:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.2°, current=90.6°, player=(796,651), corner_timer=0.30
[20:34:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(830.4796, 666.7687), shooter_id=6516891459397, bullet_pos=(511.103, 565.6574)
[20:34:28] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[20:34:28] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[20:34:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(821.4363, 656.1722), shooter_id=6516891459397, bullet_pos=(511.6492, 528.6691)
[20:34:28] [INFO] [Bullet] Using shooter_position, distance=335.000061035156
[20:34:28] [INFO] [Bullet] Distance to wall: 335.000061035156 (22.8107701666776% of viewport)
[20:34:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:28] [ENEMY] [Enemy4] Death animation completed
[20:34:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=174.8°, current=88.3°, player=(725,711), corner_timer=-0.02
[20:34:28] [ENEMY] [Enemy7] PATROL corner check: angle 88.6°
[20:34:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.6°, current=91.1°, player=(722,715), corner_timer=0.30
[20:34:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:28] [INFO] [ReplayManager] Recording frame 600 (7,3s): player_valid=True, enemies=10
[20:34:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=175.5°, current=88.6°, player=(626,737), corner_timer=-0.02
[20:34:28] [ENEMY] [Enemy7] PATROL corner check: angle 88.9°
[20:34:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.9°, current=91.5°, player=(621,737), corner_timer=0.30
[20:34:28] [ENEMY] [Enemy1] PURSUING corner check: angle -41.2°
[20:34:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.1°, current=88.9°, player=(530,706), corner_timer=-0.02
[20:34:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=91.8°, player=(526,702), corner_timer=0.30
[20:34:29] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=59.3°, current=11.9°, player=(517,696), corner_timer=0.03
[20:34:29] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:34:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:29] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:34:29] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=56.4°, current=56.8°, player=(493,664), corner_timer=0.03
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.1°, player=(493,664), corner_timer=-0.02
[20:34:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(490,663), corner_timer=0.30
[20:34:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:29] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:34:29] [INFO] [ReplayManager] Recording frame 660 (8,3s): player_valid=True, enemies=10
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(392,658), corner_timer=-0.02
[20:34:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(387,658), corner_timer=0.30
[20:34:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(282,658), corner_timer=-0.02
[20:34:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:34:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(277,658), corner_timer=0.30
[20:34:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(176,649), corner_timer=-0.02
[20:34:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(171,647), corner_timer=0.30
[20:34:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:30] [INFO] [ReplayManager] Recording frame 720 (9,3s): player_valid=True, enemies=10
[20:34:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(96,575), corner_timer=-0.02
[20:34:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(92,572), corner_timer=0.30
[20:34:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:30] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=152.0°, current=150.9°, player=(80,503), corner_timer=0.03
[20:34:30] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:34:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(80,493), corner_timer=-0.02
[20:34:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,487), corner_timer=0.30
[20:34:31] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=158.7°, current=-139.5°, player=(80,476), corner_timer=0.03
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 460.2632), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[20:34:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 443.7632), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 427.2632), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[20:34:31] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[20:34:31] [INFO] [ImpactEffects] spawn_blood_effect called at (272.3496, 401.933), dir=(0.93823, -0.346013), lethal=false
[20:34:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:31] [INFO] [ImpactEffects] Blood effect spawned at (272.3496, 401.933) (scale=0.5)
[20:34:31] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=175.7°, current=159.8°, player=(80,416), corner_timer=0.03
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 410.7632), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[20:34:31] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/2->0/2
[20:34:31] [INFO] [ImpactEffects] spawn_blood_effect called at (272.3496, 401.933), dir=(0.964793, -0.263012), lethal=true
[20:34:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:31] [INFO] [ImpactEffects] Blood effect spawned at (272.3496, 401.933) (scale=0.75)
[20:34:31] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:34:31] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:34:31] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[20:34:31] [INFO] [DeathAnim] Started - Angle: -15.2 deg, Index: 10
[20:34:31] [ENEMY] [Enemy1] Death animation started with hit direction: (0.964793, -0.263012)
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 394.2632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,383), corner_timer=-0.02
[20:34:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 377.7632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,377), corner_timer=0.30
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 361.2632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 339.2632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 322.7632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (333.3318, 391.7244) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (357.813, 376.5229) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (335.9988, 382.382) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 427.2632), shooter_id=6516891459397, bullet_pos=(508.913, 354.3083)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=434.999847412109
[20:34:31] [INFO] [Bullet] Distance to wall: 434.999847412109 (29.619939504477% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 306.2632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (313.9767, 397.7578) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (369.5804, 415.4664) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 410.7632), shooter_id=6516891459397, bullet_pos=(503.5277, 311.2016)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=435.000122070313
[20:34:31] [INFO] [Bullet] Distance to wall: 435.000122070313 (29.6199582064592% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [ReplayManager] Recording frame 780 (10,3s): player_valid=True, enemies=10
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 289.7632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (377.5812, 432.1425) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (364.4358, 411.892) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 394.2632), shooter_id=6516891459397, bullet_pos=(503.6866, 295.3806)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=434.999938964844
[20:34:31] [INFO] [Bullet] Distance to wall: 434.999938964844 (29.6199457384711% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (345.8564, 422.6354) (added to group)
[20:34:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07453, 273.2632), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (416.0729, 419.2354) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (357.7758, 391.3144) (added to group)
[20:34:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,273), corner_timer=-0.02
[20:34:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (335.2143, 411.7458) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 377.7632), shooter_id=6516891459397, bullet_pos=(512.9478, 334.8008)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=435.000061035156
[20:34:31] [INFO] [Bullet] Distance to wall: 435.000061035156 (29.6199540504631% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,267), corner_timer=0.30
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (327.2876, 402.281) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (345.9171, 378.2181) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (387.4702, 377.0703) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (414.2213, 439.7381) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (428.0084, 454.906) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 361.2632), shooter_id=6516891459397, bullet_pos=(512.4534, 408.9449)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=435.000030517578
[20:34:31] [INFO] [Bullet] Distance to wall: 435.000030517578 (29.6199519724651% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (365.92, 391.0331) (added to group)
[20:34:31] [ENEMY] [Enemy1] Ragdoll activated
[20:34:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (350.4684, 393.2701) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (430.272, 427.7691) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 339.2632), shooter_id=6516891459397, bullet_pos=(514.5827, 359.9432)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=435.000030517578
[20:34:31] [INFO] [Bullet] Distance to wall: 435.000030517578 (29.6199519724651% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (440.0667, 408.4005) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 322.7632), shooter_id=6516891459397, bullet_pos=(513.3396, 361.5738)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=434.999877929688
[20:34:31] [INFO] [Bullet] Distance to wall: 434.999877929688 (29.6199415824751% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (464.0976, 465.0847) (added to group)
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (467.7593, 460.6008) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 306.2632), shooter_id=6516891459397, bullet_pos=(500.4322, 418.1754)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=434.999847412109
[20:34:31] [INFO] [Bullet] Distance to wall: 434.999847412109 (29.619939504477% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (409.0318, 411.3974) (added to group)
[20:34:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 289.7632), shooter_id=6516891459397, bullet_pos=(509.2772, 440.7937)
[20:34:31] [INFO] [Bullet] Using shooter_position, distance=455.000183105469
[20:34:31] [INFO] [Bullet] Distance to wall: 455.000183105469 (30.9817991392123% of viewport)
[20:34:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:31] [INFO] [BloodDecal] Blood puddle created at (429.7085, 414.7806) (added to group)
[20:34:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(97,170), corner_timer=-0.02
[20:34:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(100,166), corner_timer=0.30
[20:34:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07453, 273.2632), shooter_id=6516891459397, bullet_pos=(499.1162, 496.9349)
[20:34:32] [INFO] [Bullet] Using shooter_position, distance=474.999938964844
[20:34:32] [INFO] [Bullet] Distance to wall: 474.999938964844 (32.3436192919853% of viewport)
[20:34:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:32] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(180,107), corner_timer=-0.02
[20:34:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(184,103), corner_timer=0.30
[20:34:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:32] [INFO] [ReplayManager] Recording frame 840 (11,3s): player_valid=True, enemies=10
[20:34:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(277,80), corner_timer=-0.02
[20:34:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(282,80), corner_timer=0.30
[20:34:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:32] [ENEMY] [Enemy1] Death animation completed
[20:34:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(387,80), corner_timer=-0.02
[20:34:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(392,80), corner_timer=0.30
[20:34:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(466,80), corner_timer=-0.02
[20:34:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(467,80), corner_timer=0.30
[20:34:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:33] [INFO] [ReplayManager] Recording frame 900 (12,3s): player_valid=True, enemies=10
[20:34:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(515,80), corner_timer=-0.02
[20:34:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(521,80), corner_timer=0.30
[20:34:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:34:33] [ENEMY] [Enemy5] Player reloading: false -> true
[20:34:33] [ENEMY] [Enemy6] Player reloading: false -> true
[20:34:33] [ENEMY] [Enemy7] Player reloading: false -> true
[20:34:33] [ENEMY] [Enemy8] Player reloading: false -> true
[20:34:33] [ENEMY] [Enemy9] Player reloading: false -> true
[20:34:33] [ENEMY] [Enemy10] Player reloading: false -> true
[20:34:33] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(585.6054, 80.07471), source=PLAYER (Player), range=900, listeners=6
[20:34:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[20:34:33] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1147), can_see=false
[20:34:33] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1414), can_see=false
[20:34:33] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1312), can_see=false
[20:34:33] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1899), can_see=false
[20:34:33] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2110), can_see=false
[20:34:33] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1626), can_see=false
[20:34:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(596,80), corner_timer=-0.02
[20:34:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(597,80), corner_timer=0.30
[20:34:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:34:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:34:34] [ENEMY] [Enemy5] Player reloading: true -> false
[20:34:34] [ENEMY] [Enemy6] Player reloading: true -> false
[20:34:34] [ENEMY] [Enemy7] Player reloading: true -> false
[20:34:34] [ENEMY] [Enemy8] Player reloading: true -> false
[20:34:34] [ENEMY] [Enemy9] Player reloading: true -> false
[20:34:34] [ENEMY] [Enemy10] Player reloading: true -> false
[20:34:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:34:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(600,80), corner_timer=-0.02
[20:34:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(600,80), corner_timer=0.30
[20:34:34] [INFO] [Player.Reload.Anim] LeftArm: pos=(10.123546, 5.9600163), target=(14, 6), base=(14, 6)
[20:34:34] [INFO] [Player.Reload.Anim] RightArm: pos=(0.9999323, 6.612767), target=(1, 6), base=(1, 6)
[20:34:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:34:34] [INFO] [ReplayManager] Recording frame 960 (13,3s): player_valid=True, enemies=10
[20:34:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(600,80), corner_timer=-0.02
[20:34:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(600,80), corner_timer=0.30
[20:34:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(640,80), corner_timer=-0.02
[20:34:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(645,80), corner_timer=0.30
[20:34:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(750,80), corner_timer=-0.02
[20:34:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(755,80), corner_timer=0.30
[20:34:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:35] [INFO] [ReplayManager] Recording frame 1020 (14,3s): player_valid=True, enemies=10
[20:34:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(860,80), corner_timer=-0.02
[20:34:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(865,80), corner_timer=0.30
[20:34:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(970,80), corner_timer=-0.02
[20:34:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(975,80), corner_timer=0.30
[20:34:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:36] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[20:34:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1080,80), corner_timer=-0.02
[20:34:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1085,80), corner_timer=0.30
[20:34:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:36] [INFO] [ReplayManager] Recording frame 1080 (15,3s): player_valid=True, enemies=10
[20:34:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1190,80), corner_timer=-0.02
[20:34:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1195,80), corner_timer=0.30
[20:34:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1300,80), corner_timer=-0.02
[20:34:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1305,80), corner_timer=0.30
[20:34:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1410,80), corner_timer=-0.02
[20:34:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1415,80), corner_timer=0.30
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1446.748, 84.69411), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [ENEMY] [Enemy5] Heard gunshot at (1446.748, 84.69411), source_type=0, intensity=0.02, distance=367
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-133.7°, current=-101.3°, player=(1446,84), corner_timer=0.00
[20:34:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1460.569, 91.16127), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1472.777, 100.0074), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1482.444, 110.447), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [INFO] [ReplayManager] Recording frame 1140 (16,3s): player_valid=True, enemies=10
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1489.265, 121.4857), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1490,125), corner_timer=-0.02
[20:34:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1492,128), corner_timer=0.30
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1493.087, 132.6264), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1493.911, 143.869), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-144.4°, current=166.8°, player=(1492,151), corner_timer=0.00
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1491.737, 155.2135), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1446.748, 84.69411), shooter_id=6516891459397, bullet_pos=(1842.757, 308.7512)
[20:34:37] [INFO] [Bullet] Using shooter_position, distance=454.999603271484
[20:34:37] [INFO] [Bullet] Distance to wall: 454.999603271484 (30.9817596572501% of viewport)
[20:34:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:37] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1460.569, 91.16127), shooter_id=6516891459397, bullet_pos=(1842.474, 299.4231)
[20:34:37] [INFO] [Bullet] Using shooter_position, distance=434.999145507813
[20:34:37] [INFO] [Bullet] Distance to wall: 434.999145507813 (29.6198917105228% of viewport)
[20:34:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:37] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:37] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1486.565, 166.66), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1472.777, 100.0074), shooter_id=6516891459397, bullet_pos=(1852.128, 312.889)
[20:34:37] [INFO] [Bullet] Using shooter_position, distance=435.00048828125
[20:34:37] [INFO] [Bullet] Distance to wall: 435.00048828125 (29.6199831424353% of viewport)
[20:34:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:37] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1478.394, 178.2084), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1482.444, 110.447), shooter_id=6516891459397, bullet_pos=(1851.653, 299.9459)
[20:34:37] [INFO] [Bullet] Using shooter_position, distance=415.000213623047
[20:34:37] [INFO] [Bullet] Distance to wall: 415.000213623047 (28.2581276636961% of viewport)
[20:34:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:37] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1473.162, 186.4026), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1489.265, 121.4857), shooter_id=6516891459397, bullet_pos=(1845.804, 291.4998)
[20:34:37] [INFO] [Bullet] Using shooter_position, distance=394.999847412109
[20:34:37] [INFO] [Bullet] Distance to wall: 394.999847412109 (26.8962659509628% of viewport)
[20:34:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:37] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:37] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=103.0°, current=-175.2°, player=(1470,190), corner_timer=0.00
[20:34:38] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1466,204), corner_timer=-0.02
[20:34:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:38] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1465,209), corner_timer=0.30
[20:34:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1491.737, 155.2135), shooter_id=6516891459397, bullet_pos=(1847.65, 326.5345)
[20:34:38] [INFO] [Bullet] Using shooter_position, distance=394.999328613281
[20:34:38] [INFO] [Bullet] Distance to wall: 394.999328613281 (26.8962306249966% of viewport)
[20:34:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:38] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:38] [ENEMY] [Enemy6] Memory: high confidence (0.86) - transitioning to PURSUING
[20:34:38] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[20:34:38] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-159.5°, current=11.3°, player=(1460,267), corner_timer=0.00
[20:34:38] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1460,267), corner_timer=-0.02
[20:34:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:38] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1460,267), corner_timer=0.30
[20:34:38] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1493.087, 132.6264), shooter_id=6516891459397, bullet_pos=(2468.935, 411.8068)
[20:34:38] [INFO] [Bullet] Using shooter_position, distance=1014.99749755859
[20:34:38] [INFO] [Bullet] Distance to wall: 1014.99749755859 (69.1130460245863% of viewport)
[20:34:38] [INFO] [Bullet] Distance-based penetration chance: 66.0347796379827%
[20:34:38] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:38] [INFO] [ReplayManager] Recording frame 1200 (17,3s): player_valid=True, enemies=10
[20:34:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1486.565, 166.66), shooter_id=6516891459397, bullet_pos=(2469.046, 323.9901)
[20:34:38] [INFO] [Bullet] Using shooter_position, distance=994.998291015625
[20:34:38] [INFO] [Bullet] Distance to wall: 994.998291015625 (67.7512632757775% of viewport)
[20:34:38] [INFO] [Bullet] Distance-based penetration chance: 67.6235261782596%
[20:34:38] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1493.911, 143.869), shooter_id=6516891459397, bullet_pos=(2473.375, 717.345)
[20:34:38] [INFO] [Bullet] Using shooter_position, distance=1134.99975585938
[20:34:38] [INFO] [Bullet] Distance to wall: 1134.99975585938 (77.2842204569818% of viewport)
[20:34:38] [INFO] [Bullet] Distance-based penetration chance: 56.5017428001879%
[20:34:38] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1502,230), corner_timer=-0.02
[20:34:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1506,226), corner_timer=0.30
[20:34:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1478.394, 178.2084), shooter_id=6516891459397, bullet_pos=(2480.282, 340.8382)
[20:34:38] [INFO] [Bullet] Using shooter_position, distance=1015.00128173828
[20:34:38] [INFO] [Bullet] Distance to wall: 1015.00128173828 (69.1133036963397% of viewport)
[20:34:38] [INFO] [Bullet] Distance-based penetration chance: 66.034479020937%
[20:34:38] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1473.162, 186.4026), shooter_id=6516891459397, bullet_pos=(2467.102, 232.3729)
[20:34:38] [INFO] [Bullet] Using shooter_position, distance=995.002197265625
[20:34:38] [INFO] [Bullet] Distance to wall: 995.002197265625 (67.751529259523% of viewport)
[20:34:38] [INFO] [Bullet] Distance-based penetration chance: 67.6232158638899%
[20:34:38] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:38] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:38] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:38] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:38] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:38] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=128.6°, current=137.0°, player=(1537,195), corner_timer=0.00
[20:34:38] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1553.525, 179.6786), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:34:38] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:38] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1563.268, 167.6458), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:34:38] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1570.206, 156.4896), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:34:38] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:38] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1571,153), corner_timer=-0.02
[20:34:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1573,149), corner_timer=0.30
[20:34:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1574.435, 146.6227), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:34:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1575.955, 138.0452), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:34:39] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1574.906, 130.9055), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:39] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:39] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1571.064, 125.2722), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:34:39] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1555,128), corner_timer=-0.02
[20:34:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:39] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1552,129), corner_timer=0.30
[20:34:39] [ENEMY] [Enemy7] Memory: medium confidence (0.69) - transitioning to PURSUING
[20:34:39] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[20:34:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-94.6°, current=89.4°, player=(1550,131), corner_timer=0.30
[20:34:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:39] [INFO] [ReplayManager] Recording frame 1260 (18,3s): player_valid=True, enemies=10
[20:34:39] [ENEMY] [Enemy7] PURSUING corner check: angle -2.7°
[20:34:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1553.525, 179.6786), shooter_id=6516891459397, bullet_pos=(2474.756, 842.6664)
[20:34:39] [INFO] [Bullet] Using shooter_position, distance=1134.998046875
[20:34:39] [INFO] [Bullet] Distance to wall: 1134.998046875 (77.2841040890932% of viewport)
[20:34:39] [INFO] [Bullet] Distance-based penetration chance: 56.5018785627246%
[20:34:39] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1563.268, 167.6458), shooter_id=6516891459397, bullet_pos=(2461.462, 955.8513)
[20:34:39] [INFO] [Bullet] Using shooter_position, distance=1194.998046875
[20:34:39] [INFO] [Bullet] Distance to wall: 1194.998046875 (81.3696144193645% of viewport)
[20:34:39] [INFO] [Bullet] Distance-based penetration chance: 51.7354498440748%
[20:34:39] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1570.206, 156.4896), shooter_id=6516891459397, bullet_pos=(2472.184, 1057.635)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=1275.00085449219
[20:34:40] [INFO] [Bullet] Distance to wall: 1275.00085449219 (86.81715270221% of viewport)
[20:34:40] [INFO] [Bullet] Distance-based penetration chance: 45.3799885140884%
[20:34:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1574.435, 146.6227), shooter_id=6516891459397, bullet_pos=(2461.45, 1117.409)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=1314.99914550781
[20:34:40] [INFO] [Bullet] Distance to wall: 1314.99914550781 (89.5407098878355% of viewport)
[20:34:40] [INFO] [Bullet] Distance-based penetration chance: 42.2025051308585%
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1575.955, 138.0452), shooter_id=6516891459397, bullet_pos=(2466.618, 1132.503)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=1335.00024414063
[20:34:40] [INFO] [Bullet] Distance to wall: 1335.00024414063 (90.9026214725211% of viewport)
[20:34:40] [INFO] [Bullet] Distance-based penetration chance: 40.6136082820588%
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1664.348, 160.9812), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=3
[20:34:40] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1676.398, 150.2378), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1574.906, 130.9055), shooter_id=6516891459397, bullet_pos=(2466.786, 1404.71)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=1555.00134277344
[20:34:40] [INFO] [Bullet] Distance to wall: 1555.00134277344 (105.882900824778% of viewport)
[20:34:40] [INFO] [Bullet] Distance-based penetration chance: 28.8234198350445%
[20:34:40] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1689.596, 142.2661), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1571.064, 125.2722), shooter_id=6516891459397, bullet_pos=(2462.417, 1399.447)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=1555.00207519531
[20:34:40] [INFO] [Bullet] Distance to wall: 1555.00207519531 (105.88295069673% of viewport)
[20:34:40] [INFO] [Bullet] Distance-based penetration chance: 28.823409860654%
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1703.942, 137.066), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1719.436, 134.6375), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1735.855, 134.4439), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:40] [INFO] [ReplayManager] Recording frame 1320 (19,3s): player_valid=True, enemies=10
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1752.355, 134.4439), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1768.855, 134.4439), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1664.348, 160.9812), shooter_id=6516891459397, bullet_pos=(1706.085, 614.0631)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=455.000213623047
[20:34:40] [INFO] [Bullet] Distance to wall: 455.000213623047 (30.9818012172103% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1735.855, 134.4439), shooter_id=6516891459397, bullet_pos=(1654.682, 289.479)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=175
[20:34:40] [INFO] [Bullet] Distance to wall: 175 (11.9160717966247% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1785.355, 134.4439), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1676.398, 150.2378), shooter_id=6516891459397, bullet_pos=(1707.793, 604.1533)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=454.999938964844
[20:34:40] [INFO] [Bullet] Distance to wall: 454.999938964844 (30.9817825152282% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1752.355, 134.4439), shooter_id=6516891459397, bullet_pos=(1659.378, 305.8505)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=194.999954223633
[20:34:40] [INFO] [Bullet] Distance to wall: 194.999954223633 (13.2779054563848% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1689.596, 142.2661), shooter_id=6516891459397, bullet_pos=(1689.976, 597.2661)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=455.000122070313
[20:34:40] [INFO] [Bullet] Distance to wall: 455.000122070313 (30.9817949832163% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:40] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1768.855, 134.4439), shooter_id=6516891459397, bullet_pos=(1652.44, 290.8804)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=194.999954223633
[20:34:40] [INFO] [Bullet] Distance to wall: 194.999954223633 (13.2779054563848% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1703.942, 137.066), shooter_id=6516891459397, bullet_pos=(1673.59, 611.0953)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=475.000030517578
[20:34:40] [INFO] [Bullet] Distance to wall: 475.000030517578 (32.3436255259793% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1785.355, 134.4439), shooter_id=6516891459397, bullet_pos=(1659.358, 308.6551)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=214.999786376953
[20:34:40] [INFO] [Bullet] Distance to wall: 214.999786376953 (14.6397308041528% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1719.436, 134.6375), shooter_id=6516891459397, bullet_pos=(1649.734, 604.4957)
[20:34:40] [INFO] [Bullet] Using shooter_position, distance=475.000122070313
[20:34:40] [INFO] [Bullet] Distance to wall: 475.000122070313 (32.3436317599734% of viewport)
[20:34:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:40] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:40] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:40] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:40] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:40] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:41] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:41] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:41] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:41] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:41] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:41] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:41] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:41] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:41] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:41] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:41] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[20:34:41] [ENEMY] [Enemy7] FLANKING started: target=(1709.776, 231.4646), side=right, pos=(1514.725, 838.6093)
[20:34:41] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:34:41] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:41] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:41] [INFO] [ReplayManager] Recording frame 1380 (20,3s): player_valid=True, enemies=10
[20:34:41] [ENEMY] [Enemy7] FLANKING corner check: angle 81.6°
[20:34:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:41] [ENEMY] [Enemy7] FLANKING corner check: angle 93.6°
[20:34:42] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-70.3°, current=-58.9°, player=(1971,259), corner_timer=0.13
[20:34:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:42] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:34:42] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-69.8°, current=-124.4°, player=(1993,259), corner_timer=0.10
[20:34:42] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:42] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-68.5°, current=-117.8°, player=(2004,259), corner_timer=0.10
[20:34:42] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:42] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:42] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:42] [ENEMY] [Enemy8] Memory: high confidence (0.90) - transitioning to PURSUING
[20:34:42] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[20:34:42] [ENEMY] [Enemy9] Memory: high confidence (0.81) - transitioning to PURSUING
[20:34:42] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[20:34:42] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-81.3°, current=78.7°, player=(2079,276), corner_timer=0.00
[20:34:42] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-90.9°, current=56.2°, player=(2079,276), corner_timer=0.00
[20:34:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:42] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:42] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[20:34:42] [ENEMY] [Enemy9] PURSUING corner check: angle 38.7°
[20:34:42] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2099.44, 295.6659), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:34:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2111.107, 307.3332), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:34:42] [INFO] [ReplayManager] Recording frame 1440 (21,3s): player_valid=True, enemies=10
[20:34:42] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[20:34:42] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2122.775, 319.0005), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:34:42] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:42] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2134.442, 330.6678), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:34:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=5
[20:34:42] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:42] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-90.4°, current=-40.9°, player=(2142,338), corner_timer=0.07
[20:34:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1794.65, 821.9687), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:42] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[20:34:42] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[20:34:42] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:42] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[20:34:42] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:42] [ENEMY] [Enemy8] PURSUING corner check: angle 180.0°
[20:34:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1827.036, 803.3985), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2099.44, 295.6659), shooter_id=6516891459397, bullet_pos=(1736.974, 602.6561)
[20:34:42] [INFO] [Bullet] Using shooter_position, distance=474.999450683594
[20:34:42] [INFO] [Bullet] Distance to wall: 474.999450683594 (32.3435860440171% of viewport)
[20:34:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:42] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:42] [INFO] [LastChance] Threat detected: Bullet
[20:34:42] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:42] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:34:42] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:34:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2111.107, 307.3332), shooter_id=6516891459397, bullet_pos=(1744.4, 609.244)
[20:34:42] [INFO] [Bullet] Using shooter_position, distance=474.999542236328
[20:34:42] [INFO] [Bullet] Distance to wall: 474.999542236328 (32.3435922780111% of viewport)
[20:34:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:42] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:42] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:34:42] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1852.903, 777.3071), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:43] [INFO] [LastChance] Threat detected: @Area2D@28622
[20:34:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2122.775, 319.0005), shooter_id=6516891459397, bullet_pos=(1690.387, 598.7599)
[20:34:43] [INFO] [Bullet] Using shooter_position, distance=514.999267578125
[20:34:43] [INFO] [Bullet] Distance to wall: 514.999267578125 (35.0672471295433% of viewport)
[20:34:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:43] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:43] [INFO] [Player] Spawning blood effect at (2156.322, 402.65985), dir=(1, 0), lethal=True (C#)
[20:34:43] [INFO] [ImpactEffects] spawn_blood_effect called at (2156.322, 402.6599), dir=(1, 0), lethal=true
[20:34:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:43] [INFO] [ImpactEffects] Blood effect spawned at (2156.322, 402.6599) (scale=1.5)
[20:34:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:34:43] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:34:43] [INFO] [CinemaEffects] Player died - triggering death effects
[20:34:43] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[20:34:43] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:34:43] [INFO] [LastChance] Player died
[20:34:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2134.442, 330.6678), shooter_id=6516891459397, bullet_pos=(1717.56, 597.5621)
[20:34:43] [INFO] [Bullet] Using shooter_position, distance=494.998870849609
[20:34:43] [INFO] [Bullet] Distance to wall: 494.998870849609 (33.705383338812% of viewport)
[20:34:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:43] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1830.392, 764.0325), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=3
[20:34:43] [INFO] [LastChance] Threat detected: @Area2D@28626
[20:34:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1840.8661, 772.06134), shooter_id=6514945299811, bullet_pos=(2388.5469, 36.994934)
[20:34:43] [INFO] [Bullet] Using shooter_position, distance=916,6662
[20:34:43] [INFO] [Bullet] Distance to wall: 916,6662 (62,41749% of viewport)
[20:34:43] [INFO] [Bullet] Distance-based penetration chance: 73,84627%
[20:34:43] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1813.852, 744.1909), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2210.229, 417.9522) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2208.898, 424.1658) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2225.392, 437.1884) (added to group)
[20:34:43] [INFO] [LastChance] Threat detected: Bullet
[20:34:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1795.173, 726.5692), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2217.388, 396.3889) (added to group)
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2155.079, 1292.604), source=ENEMY (Enemy9), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2247.257, 385.7458) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2251.822, 410.0047) (added to group)
[20:34:43] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[20:34:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1881.2911, 718.93396), shooter_id=6514945299811, bullet_pos=(2468.2878, 187.73756)
[20:34:43] [INFO] [Bullet] Using shooter_position, distance=791,66583
[20:34:43] [INFO] [Bullet] Distance to wall: 791,66583 (53,905983% of viewport)
[20:34:43] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2272.652, 393.9083) (added to group)
[20:34:43] [INFO] [LastChance] Threat detected: @Area2D@28636
[20:34:43] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:43] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=5.6°, current=-94.5°, player=(2084,356), corner_timer=0.00
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1773.992, 712.2647), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=3
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2152.721, 1255.346), source=ENEMY (Enemy9), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2251.663, 400.622) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2227.454, 430.8443) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2248.458, 392.4379) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2243.609, 435.9766) (added to group)
[20:34:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1881.2911, 718.93396), shooter_id=6514945299811, bullet_pos=(2342.5237, 56.064972)
[20:34:43] [INFO] [Bullet] Using shooter_position, distance=807,54614
[20:34:43] [INFO] [Bullet] Distance to wall: 807,54614 (54,987305% of viewport)
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1750.051, 701.7874), source=ENEMY (Enemy7), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=3
[20:34:43] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:34:43] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[20:34:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1865.7985, 700.2527), shooter_id=6514945299811, bullet_pos=(2447.517, 46.624294)
[20:34:43] [INFO] [Bullet] Using shooter_position, distance=875,0009
[20:34:43] [INFO] [Bullet] Distance to wall: 875,0009 (59,58042% of viewport)
[20:34:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2149.355, 1218.166), source=ENEMY (Enemy9), range=1469, listeners=6
[20:34:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2290.19, 450.3739) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2328.657, 471.8165) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2330.473, 438.6746) (added to group)
[20:34:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:43] [INFO] [ReplayManager] Recording frame 1500 (22,3s): player_valid=True, enemies=10
[20:34:43] [INFO] [ReplayManager] Recording frame 1500 (22,3s): player_valid=True, enemies=10
[20:34:43] [INFO] [ReplayManager] Recording frame 1500 (22,3s): player_valid=True, enemies=10
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:43] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:43] [INFO] [CinemaEffects] Death effects reset
[20:34:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:43] [ENEMY] [Enemy1] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:43] [ENEMY] [Enemy2] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:43] [ENEMY] [Enemy3] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:43] [ENEMY] [Enemy4] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:43] [ENEMY] [Enemy5] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:43] [ENEMY] [Enemy6] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:43] [ENEMY] [Enemy7] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:43] [ENEMY] [Enemy8] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:43] [ENEMY] [Enemy9] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:43] [ENEMY] [Enemy10] Death animation component initialized
[20:34:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:43] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:43] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:43] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:43] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:43] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:43] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:43] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:43] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 3/4
[20:34:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:43] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:43] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:43] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:43] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:43] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:43] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:43] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:43] [INFO] [ReplayManager] Replay data cleared
[20:34:43] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:43] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:43] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:43] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:43] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:43] [INFO] [ReplayManager] Enemies count: 10
[20:34:43] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:43] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:43] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:43] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:43] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:43] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:43] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:43] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:43] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:43] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:43] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:43] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:43] [INFO] [CinemaEffects] Found player node: Player
[20:34:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[20:34:43] [ENEMY] [Enemy1] Registered as sound listener
[20:34:43] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[20:34:43] [ENEMY] [Enemy2] Registered as sound listener
[20:34:43] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[20:34:43] [ENEMY] [Enemy3] Registered as sound listener
[20:34:43] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[20:34:43] [ENEMY] [Enemy4] Registered as sound listener
[20:34:43] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[20:34:43] [ENEMY] [Enemy5] Registered as sound listener
[20:34:43] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[20:34:43] [ENEMY] [Enemy6] Registered as sound listener
[20:34:43] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[20:34:43] [ENEMY] [Enemy7] Registered as sound listener
[20:34:43] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[20:34:43] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[20:34:43] [ENEMY] [Enemy8] Registered as sound listener
[20:34:43] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[20:34:43] [ENEMY] [Enemy9] Registered as sound listener
[20:34:43] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[20:34:43] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[20:34:43] [ENEMY] [Enemy10] Registered as sound listener
[20:34:43] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[20:34:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:34:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:43] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:43] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:43] [INFO] [LastChance] Found player: Player
[20:34:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:43] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2318.629, 441.9142) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2281.683, 459.4027) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2297.249, 465.9235) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2266.508, 536.8497) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2362.975, 436.2974) (added to group)
[20:34:43] [INFO] [BloodDecal] Blood puddle created at (2290.161, 490.0086) (added to group)
[20:34:44] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:45] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:34:45] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,782), corner_timer=0.30
[20:34:45] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,782), corner_timer=0.30
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.7583, 744.5073), source=PLAYER (MiniUzi), range=1469, listeners=16
[20:34:45] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[20:34:45] [ENEMY] [Enemy1] Heard gunshot at (449.7583, 744.5073), source_type=0, intensity=0.01, distance=422
[20:34:45] [ENEMY] [Enemy2] Heard gunshot at (449.7583, 744.5073), source_type=0, intensity=0.06, distance=201
[20:34:45] [ENEMY] [Enemy3] Heard gunshot at (449.7583, 744.5073), source_type=0, intensity=0.04, distance=250
[20:34:45] [ENEMY] [Enemy4] Heard gunshot at (449.7583, 744.5073), source_type=0, intensity=0.02, distance=383
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:45] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=69.2°, current=-157.5°, player=(449,744), corner_timer=0.00
[20:34:45] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.7°, current=-157.5°, player=(449,744), corner_timer=0.00
[20:34:45] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-178.7°, current=-78.7°, player=(449,744), corner_timer=0.00
[20:34:45] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-156.1°, current=168.8°, player=(449,744), corner_timer=0.00
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.5827, 730.9063), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(442.9568, 728.0674), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.4102, 729.8435), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:45] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:34:45] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3359, 749.7659), dir=(0.996418, 0.084564), lethal=false
[20:34:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:45] [INFO] [ImpactEffects] Blood effect spawned at (689.3359, 749.7659) (scale=0.5)
[20:34:45] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-175.8°, current=-175.1°, player=(433,731), corner_timer=0.00
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.4852, 734.2836), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(428,734), corner_timer=-0.02
[20:34:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(428,734), corner_timer=-0.02
[20:34:45] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:34:45] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[20:34:45] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3359, 749.7659), dir=(0.995774, 0.091836), lethal=false
[20:34:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:45] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:45] [INFO] [ImpactEffects] Blood effect spawned at (689.3359, 749.7659) (scale=0.5)
[20:34:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(425,736), corner_timer=0.30
[20:34:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(425,736), corner_timer=0.30
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.1807, 741.3877), source=PLAYER (MiniUzi), range=1469, listeners=10
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[20:34:45] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[20:34:45] [INFO] [ImpactEffects] spawn_blood_effect called at (689.3359, 749.7659), dir=(0.997544, 0.070039), lethal=true
[20:34:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:45] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:45] [INFO] [ImpactEffects] Blood effect spawned at (689.3359, 749.7659) (scale=0.75)
[20:34:45] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:34:45] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:34:45] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:34:45] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:34:45] [INFO] [DeathAnim] Started - Angle: 4.0 deg, Index: 12
[20:34:45] [ENEMY] [Enemy3] Death animation started with hit direction: (0.997544, 0.070039)
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.4968, 751.1558), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:34:45] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.8508, 762.7821), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (725.6052, 782.6213) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (788.46, 792.9508) (added to group)
[20:34:45] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:34:45] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:34:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (769.8542, 785.554) (added to group)
[20:34:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.4102, 729.8435), shooter_id=7002793188227, bullet_pos=(910.326, 761.9127)
[20:34:45] [INFO] [Bullet] Using shooter_position, distance=474.999603271484
[20:34:45] [INFO] [Bullet] Distance to wall: 474.999603271484 (32.3435964340072% of viewport)
[20:34:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:45] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (780.6039, 751.2303) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (770.565, 771.7061) (added to group)
[20:34:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(366,809), corner_timer=-0.02
[20:34:45] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:34:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(365,812), corner_timer=0.30
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (819.0647, 779.939) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (786.3952, 745.4169) (added to group)
[20:34:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.8508, 762.7821), shooter_id=7002793188227, bullet_pos=(686.4661, 818.8896)
[20:34:45] [INFO] [Bullet] Using shooter_position, distance=295.000091552734
[20:34:45] [INFO] [Bullet] Distance to wall: 295.000091552734 (20.0870986911614% of viewport)
[20:34:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:45] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (740.0555, 749.0323) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (760.7264, 802.7832) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (782.4323, 786.2735) (added to group)
[20:34:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.4852, 734.2836), shooter_id=7002793188227, bullet_pos=(923.0214, 755.7057)
[20:34:45] [INFO] [Bullet] Using shooter_position, distance=495.000030517578
[20:34:45] [INFO] [Bullet] Distance to wall: 495.000030517578 (33.7054623027364% of viewport)
[20:34:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:45] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (792.0797, 755.7479) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (772.181, 798.8568) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (810.6414, 740.3726) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (746.7247, 757.7944) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (759.1459, 809.153) (added to group)
[20:34:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.1807, 741.3877), shooter_id=7002793188227, bullet_pos=(909.5084, 673.5352)
[20:34:45] [INFO] [Bullet] Using shooter_position, distance=495.000152587891
[20:34:45] [INFO] [Bullet] Distance to wall: 495.000152587891 (33.7054706147285% of viewport)
[20:34:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:45] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (812.937, 786.7535) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (779.2591, 800.4188) (added to group)
[20:34:45] [INFO] [BloodDecal] Blood puddle created at (751.8831, 763.7728) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (830.2097, 778.1772) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (754.8275, 788.3159) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (823.8328, 863.8998) (added to group)
[20:34:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(408.4968, 751.1558), shooter_id=7002793188227, bullet_pos=(919.3932, 816.0416)
[20:34:46] [INFO] [Bullet] Using shooter_position, distance=515.000244140625
[20:34:46] [INFO] [Bullet] Distance to wall: 515.000244140625 (35.0673136254796% of viewport)
[20:34:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:46] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (780.8332, 774.3818) (added to group)
[20:34:46] [ENEMY] [Enemy3] Ragdoll activated
[20:34:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (844.126, 758.0732) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (805.5182, 774.9012) (added to group)
[20:34:46] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[20:34:46] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (882.6072, 846.2638) (added to group)
[20:34:46] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (859.3807, 892.5178) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (870.5691, 778.3829) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (804.2717, 776.0964) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (884.8462, 770.2234) (added to group)
[20:34:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(385,851), corner_timer=-0.02
[20:34:46] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (796.1111, 817.131) (added to group)
[20:34:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(389,851), corner_timer=0.30
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (907.7264, 857.0369) (added to group)
[20:34:46] [INFO] [BloodDecal] Blood puddle created at (883.4406, 849.4651) (added to group)
[20:34:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(453,816), corner_timer=-0.02
[20:34:46] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:34:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(457,812), corner_timer=0.30
[20:34:46] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:46] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SUPPRESSED, target=-149.3°, current=-120.7°, player=(487,789), corner_timer=0.00
[20:34:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(697.4934, 914.0666), source=ENEMY (Enemy4), range=1469, listeners=9
[20:34:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:34:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(637.1062, 877.4486), shooter_id=6999790066420, bullet_pos=(521.3253, 830.33374)
[20:34:46] [INFO] [Bullet] Using shooter_position, distance=125,00009
[20:34:46] [INFO] [Bullet] Distance to wall: 125,00009 (8,511487% of viewport)
[20:34:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:46] [INFO] [Bullet] Starting wall penetration at (521.3253, 830.33374)
[20:34:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(697.4934, 914.0666), source=ENEMY (Enemy4), range=1469, listeners=9
[20:34:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[20:34:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,643295
[20:34:46] [INFO] [Bullet] Body exited signal received for penetrating body
[20:34:46] [INFO] [Bullet] Exiting penetration at (478.1005, 812.7442) after traveling 41,66667 pixels through wall
[20:34:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:34:46] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(525,757), corner_timer=-0.02
[20:34:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:34:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(530,755), corner_timer=0.30
[20:34:46] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.7°, current=57.7°, player=(534,754), corner_timer=0.00
[20:34:46] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=0.0°, current=-20.7°, player=(534,754), corner_timer=0.00
[20:34:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.879, 874.3419), shooter_id=6999790066420, bullet_pos=(402.08447, 706.8704)
[20:34:46] [INFO] [Bullet] Using shooter_position, distance=291,66684
[20:34:46] [INFO] [Bullet] Distance to wall: 291,66684 (19,860132% of viewport)
[20:34:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:47] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:34:47] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:34:47] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:47] [ENEMY] [Enemy3] Death animation completed
[20:34:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.879, 874.3419), shooter_id=6999790066420, bullet_pos=(64.66902, 911.4352)
[20:34:47] [INFO] [Bullet] Using shooter_position, distance=577,4027
[20:34:47] [INFO] [Bullet] Distance to wall: 577,4027 (39,316414% of viewport)
[20:34:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:47] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:47] [ENEMY] [Enemy1] PURSUING corner check: angle -41.3°
[20:34:47] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=57.5°, current=57.5°, player=(587,836), corner_timer=0.00
[20:34:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(587,847), corner_timer=-0.02
[20:34:47] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:34:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(587,853), corner_timer=0.30
[20:34:47] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:34:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:47] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.6685, 941.4464), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:47] [ENEMY] [Enemy1] PURSUING corner check: angle -93.1°
[20:34:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(587,957), corner_timer=-0.02
[20:34:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:34:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.6685, 963.4464), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(587,963), corner_timer=0.30
[20:34:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.6685, 979.9464), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:47] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:34:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.6685, 983.9855), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:47] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[20:34:47] [INFO] [ImpactEffects] spawn_blood_effect called at (857.7556, 889.3389), dir=(0.988413, -0.151791), lethal=false
[20:34:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:47] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 881.0085) (dist=54 px)
[20:34:47] [INFO] [BloodDecal] Blood puddle created at (911, 881.0085) (added to group)
[20:34:47] [INFO] [ImpactEffects] Blood effect spawned at (857.7556, 889.3389) (scale=0.5)
[20:34:47] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=72.3°, current=71.9°, player=(587,983), corner_timer=0.15
[20:34:47] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=160.7°, current=171.3°, player=(587,983), corner_timer=0.00
[20:34:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.0523, 983.9338), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.3419, 983.9343), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:47] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:34:47] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=74.0°, current=126.0°, player=(595,983), corner_timer=0.07
[20:34:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.2956, 983.9337), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.6685, 963.4464), shooter_id=7002793188227, bullet_pos=(916.5815, 899.8774)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=334.999694824219
[20:34:48] [INFO] [Bullet] Distance to wall: 334.999694824219 (22.8107452307015% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=73.8°, current=122.9°, player=(597,983), corner_timer=0.07
[20:34:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.2037, 983.9337), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.6685, 979.9464), shooter_id=7002793188227, bullet_pos=(923.559, 865.0449)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=354.999664306641
[20:34:48] [INFO] [Bullet] Distance to wall: 354.999664306641 (24.1725799294605% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(607,983), corner_timer=-0.02
[20:34:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:34:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(610,983), corner_timer=0.30
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.6685, 983.9855), shooter_id=7002793188227, bullet_pos=(913.54, 906.3143)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=335.000091552734
[20:34:48] [INFO] [Bullet] Distance to wall: 335.000091552734 (22.8107722446756% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.0523, 983.9338), shooter_id=7002793188227, bullet_pos=(917.9725, 920.4016)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=334.999725341797
[20:34:48] [INFO] [Bullet] Distance to wall: 334.999725341797 (22.8107473086995% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.3419, 983.9343), shooter_id=7002793188227, bullet_pos=(922.1627, 925.2571)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=334.999725341797
[20:34:48] [INFO] [Bullet] Distance to wall: 334.999725341797 (22.8107473086995% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(597.2956, 983.9337), shooter_id=7002793188227, bullet_pos=(914.6848, 876.7476)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=334.999664306641
[20:34:48] [INFO] [Bullet] Distance to wall: 334.999664306641 (22.8107431527034% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=66.8°, current=67.6°, player=(667,983), corner_timer=0.07
[20:34:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(607.2037, 983.9337), shooter_id=7002793188227, bullet_pos=(920.8719, 817.69)
[20:34:48] [INFO] [Bullet] Using shooter_position, distance=354.999603271484
[20:34:48] [INFO] [Bullet] Distance to wall: 354.999603271484 (24.1725757734645% of viewport)
[20:34:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:48] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=56.1°, current=56.7°, player=(694,983), corner_timer=0.00
[20:34:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(705,983), corner_timer=-0.02
[20:34:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:34:48] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=61.3°, current=61.3°, player=(711,983), corner_timer=0.07
[20:34:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(711,983), corner_timer=0.30
[20:34:48] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:34:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:48] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=53.0°, current=53.0°, player=(766,983), corner_timer=0.07
[20:34:48] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[20:34:48] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=167.4°, current=6.3°, player=(771,983), corner_timer=0.00
[20:34:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=48.7°, current=48.8°, player=(777,983), corner_timer=0.00
[20:34:48] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:34:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(811,972), corner_timer=-0.02
[20:34:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:34:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(815,970), corner_timer=0.30
[20:34:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:48] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=79.4°, current=34.0°, player=(847,940), corner_timer=0.00
[20:34:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.1143, 928.8), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:34:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.2014, 918.8447), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:34:49] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=37.7°, current=38.1°, player=(878,912), corner_timer=0.07
[20:34:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(881.0802, 910.1667), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:34:49] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[20:34:49] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=34.1°, current=34.6°, player=(886,904), corner_timer=0.00
[20:34:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(886,904), corner_timer=-0.02
[20:34:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:34:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(888.1093, 902.4263), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:34:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(888,902), corner_timer=0.30
[20:34:49] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[20:34:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(892.8269, 896.4633), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(888.1093, 902.4263), shooter_id=7002793188227, bullet_pos=(913.3967, 810.8536)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=95.0000152587891
[20:34:49] [INFO] [Bullet] Distance to wall: 95.0000152587891 (6.46872572859527% of viewport)
[20:34:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(881.0802, 910.1667), shooter_id=7002793188227, bullet_pos=(910.6498, 737.6832)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=174.999847412109
[20:34:49] [INFO] [Bullet] Distance to wall: 174.999847412109 (11.9160614066346% of viewport)
[20:34:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.2014, 918.8447), shooter_id=7002793188227, bullet_pos=(911.7081, 626.6392)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=294.999816894531
[20:34:49] [INFO] [Bullet] Distance to wall: 294.999816894531 (20.0870799891793% of viewport)
[20:34:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:49] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=149.8°, current=30.5°, player=(894,890), corner_timer=0.00
[20:34:49] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[20:34:49] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[20:34:49] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:34:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(875,889), corner_timer=-0.02
[20:34:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:34:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(871,888), corner_timer=0.30
[20:34:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.1143, 928.8), shooter_id=7002793188227, bullet_pos=(979.7525, 62.15594)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=875.000305175781
[20:34:49] [INFO] [Bullet] Distance to wall: 875.000305175781 (59.5803797631036% of viewport)
[20:34:49] [INFO] [Bullet] Distance-based penetration chance: 77.1562236097125%
[20:34:49] [INFO] [Bullet] Penetration failed (distance roll)
[20:34:49] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:34:49] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[20:34:49] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[20:34:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.0717, 697.8341), source=ENEMY (Enemy1), range=1469, listeners=9
[20:34:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[20:34:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(829,829), corner_timer=-0.02
[20:34:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:49] [INFO] [LastChance] Threat detected: Bullet
[20:34:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:49] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=9.8°, current=34.1°, player=(829,823), corner_timer=0.00
[20:34:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(829,823), corner_timer=0.30
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(892.8269, 896.4633), shooter_id=7002793188227, bullet_pos=(926.4302, 62.13934)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=835.000427246094
[20:34:49] [INFO] [Bullet] Distance to wall: 835.000427246094 (56.8567145215814% of viewport)
[20:34:49] [INFO] [Bullet] Distance-based penetration chance: 80.333833058155%
[20:34:49] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.098, 703.5178), source=ENEMY (Enemy1), range=1469, listeners=9
[20:34:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.22363, 740.51965), shooter_id=6998733100895, bullet_pos=(914.33997, 893.84204)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=291,66672
[20:34:49] [INFO] [Bullet] Distance to wall: 291,66672 (19,860123% of viewport)
[20:34:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:49] [INFO] [Bullet] Starting wall penetration at (914.33997, 893.84204)
[20:34:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,204775
[20:34:49] [INFO] [LastChance] Threat detected: @Area2D@29162
[20:34:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:49] [INFO] [Bullet] Body exited signal received for penetrating body
[20:34:49] [INFO] [Bullet] Exiting penetration at (954.0386, 918.3736) after traveling 41,66667 pixels through wall
[20:34:49] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:34:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:49] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[20:34:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.82587, 738.22675), shooter_id=6998733100895, bullet_pos=(909.707, 838.79193)
[20:34:49] [INFO] [Bullet] Using shooter_position, distance=249,99983
[20:34:49] [INFO] [Bullet] Distance to wall: 249,99983 (17,02295% of viewport)
[20:34:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.098, 703.5178), source=ENEMY (Enemy1), range=1469, listeners=9
[20:34:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[20:34:49] [INFO] [LastChance] Threat detected: Bullet
[20:34:49] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 735.5154), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:34:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:34:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.92834, 728.17346), shooter_id=6998733100895, bullet_pos=(920.50073, 814.6366)
[20:34:50] [INFO] [Bullet] Using shooter_position, distance=250,00015
[20:34:50] [INFO] [Bullet] Distance to wall: 250,00015 (17,02297% of viewport)
[20:34:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(624.7354, 729.5179), source=ENEMY (Enemy1), range=1469, listeners=9
[20:34:50] [ENEMY] [Enemy2] Heard gunshot at (624.7354, 729.5179), source_type=1, intensity=1.00, distance=38
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[20:34:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:34:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(829,719), corner_timer=-0.02
[20:34:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 713.5154), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:34:50] [INFO] [LastChance] Threat detected: @Area2D@29174
[20:34:50] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=58.7°, current=-89.2°, player=(829,713), corner_timer=0.00
[20:34:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(829,713), corner_timer=0.30
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 697.0154), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:34:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.92834, 728.17346), shooter_id=6998733100895, bullet_pos=(756.60724, 893.9665)
[20:34:50] [INFO] [Bullet] Using shooter_position, distance=180,22995
[20:34:50] [INFO] [Bullet] Distance to wall: 180,22995 (12,272189% of viewport)
[20:34:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:34:50] [INFO] [Bullet] Starting wall penetration at (756.60724, 893.9665)
[20:34:50] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:34:50] [INFO] [Bullet] Exiting penetration at (720.22815, 911.5752) after traveling 35,41667 pixels through wall
[20:34:50] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.3727, 755.5179), source=ENEMY (Enemy1), range=1469, listeners=9
[20:34:50] [ENEMY] [Enemy2] Heard gunshot at (627.3727, 755.5179), source_type=1, intensity=0.35, distance=85
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[20:34:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 675.0154), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:34:50] [INFO] [LastChance] Threat detected: Bullet
[20:34:50] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 664.0154), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:34:50] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[20:34:50] [INFO] [ImpactEffects] spawn_blood_effect called at (582.7728, 669.0779), dir=(-0.992702, -0.120593), lethal=false
[20:34:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:50] [INFO] [ImpactEffects] Blood effect spawned at (582.7728, 669.0779) (scale=0.5)
[20:34:50] [INFO] [Player] Spawning blood effect at (829.659, 653.01544), dir=(1, 0), lethal=False (C#)
[20:34:50] [INFO] [ImpactEffects] spawn_blood_effect called at (829.659, 653.0154), dir=(1, 0), lethal=false
[20:34:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:50] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 653.0154) (dist=82 px)
[20:34:50] [INFO] [BloodDecal] Blood puddle created at (911, 653.0154) (added to group)
[20:34:50] [INFO] [ImpactEffects] Blood effect spawned at (829.659, 653.0154) (scale=1)
[20:34:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:34:50] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-46.8°, current=-92.9°, player=(829,653), corner_timer=0.00
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=46.7°, current=-66.8°, player=(829,647), corner_timer=0.00
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 642.0154), source=PLAYER (MiniUzi), range=1469, listeners=9
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[20:34:50] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[20:34:50] [INFO] [ImpactEffects] spawn_blood_effect called at (572.9071, 663.7762), dir=(-0.98789, -0.155155), lethal=true
[20:34:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:34:50] [INFO] [ImpactEffects] Blood effect spawned at (572.9071, 663.7762) (scale=0.75)
[20:34:50] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:34:50] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:34:50] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (572.9071, 663.7762), entering SEARCHING
[20:34:50] [ENEMY] [Enemy4] SEARCHING started: center=(572.9071, 663.7762), radius=100, waypoints=5
[20:34:50] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[20:34:50] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:34:50] [INFO] [DeathAnim] Started - Angle: -171.1 deg, Index: 0
[20:34:50] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.98789, -0.155155)
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.01, 781.518), source=ENEMY (Enemy1), range=1469, listeners=8
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=SEARCHING, target=-50.1°, current=-70.9°, player=(829,642), corner_timer=0.00
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-50.0°, current=-80.1°, player=(829,636), corner_timer=0.00
[20:34:50] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[20:34:50] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[20:34:50] [INFO] [LastChance] Threat detected: Bullet
[20:34:50] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:50] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 620.0154), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[20:34:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(871.2014, 918.8447), shooter_id=7002793188227, bullet_pos=(915.9324, 61.65495)
[20:34:50] [INFO] [Bullet] Using shooter_position, distance=858.356079101563
[20:34:50] [INFO] [Bullet] Distance to wall: 858.356079101563 (58.4470438036771% of viewport)
[20:34:50] [INFO] [Bullet] Distance-based penetration chance: 78.4784488957101%
[20:34:50] [INFO] [Bullet] Caliber cannot penetrate walls
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=119.7°, current=-124.0°, player=(829,620), corner_timer=0.00
[20:34:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(829,609), corner_timer=-0.02
[20:34:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.8239, 806.64), source=ENEMY (Enemy1), range=1469, listeners=8
[20:34:50] [ENEMY] [Enemy4] Heard gunshot at (622.8239, 806.64), source_type=1, intensity=0.49, distance=71
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=COMBAT, target=-53.4°, current=-108.9°, player=(829,603), corner_timer=0.00
[20:34:50] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:34:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(829,603), corner_timer=0.30
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.659, 598.0154), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=94.5°, current=-106.0°, player=(829,598), corner_timer=0.00
[20:34:50] [INFO] [LastChance] Threat detected: @Area2D@29206
[20:34:50] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.351, 576.143), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-57.1°, current=-96.8°, player=(829,576), corner_timer=0.00
[20:34:50] [INFO] [Player] Spawning blood effect at (827.8112, 565.7808), dir=(1, 0), lethal=False (C#)
[20:34:50] [INFO] [ImpactEffects] spawn_blood_effect called at (827.8112, 565.7808), dir=(1, 0), lethal=false
[20:34:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:34:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:34:50] [INFO] [ImpactEffects] Blood effect spawned at (827.8112, 565.7808) (scale=1)
[20:34:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:34:50] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:34:50] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:34:50] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:34:50] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:34:50] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:34:50] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:34:50] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:34:50] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[20:34:50] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:34:50] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.0538, 832.1768), source=ENEMY (Enemy1), range=1469, listeners=8
[20:34:50] [ENEMY] [Enemy4] Heard gunshot at (620.0538, 832.1768), source_type=1, intensity=0.60, distance=65
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=5
[20:34:50] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[20:34:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(826.4531, 560.2934), source=PLAYER (MiniUzi), range=1469, listeners=8
[20:34:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[20:34:50] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=84.4°, current=-116.6°, player=(826,560), corner_timer=0.00
[20:34:50] [INFO] [ReplayManager] Recording frame 420 (6,9s): player_valid=True, enemies=10
[20:34:50] [INFO] [BloodDecal] Blood puddle created at (878.0224, 683.0076) (added to group)
[20:34:50] [INFO] [BloodDecal] Blood puddle created at (498.476, 637.1396) (added to group)
[20:34:50] [INFO] [BloodDecal] Blood puddle created at (512.4921, 676.1127) (added to group)
[20:34:50] [INFO] [BloodDecal] Blood puddle created at (895.5209, 700.4995) (added to group)
[20:34:50] [INFO] [BloodDecal] Blood puddle created at (484.5223, 655.9307) (added to group)
[20:34:51] [INFO] [LastChance] Threat detected: @Area2D@29221
[20:34:51] [INFO] [LastChance] Not in hard mode - effect disabled
[20:34:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:34:51] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-62.2°, current=-103.0°, player=(819,543), corner_timer=0.00
[20:34:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:51] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:34:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:51] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:51] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:51] [ENEMY] [Enemy1] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:51] [ENEMY] [Enemy2] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:51] [ENEMY] [Enemy3] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:51] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:51] [ENEMY] [Enemy4] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:51] [ENEMY] [Enemy5] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:51] [ENEMY] [Enemy6] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:51] [ENEMY] [Enemy7] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:51] [ENEMY] [Enemy8] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:51] [ENEMY] [Enemy9] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:51] [ENEMY] [Enemy10] Death animation component initialized
[20:34:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:51] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:51] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:51] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:51] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:51] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:51] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:51] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:51] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:51] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:51] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:51] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:51] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 2/4
[20:34:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:51] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:51] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:51] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:51] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:51] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:51] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:51] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:51] [INFO] [ReplayManager] Replay data cleared
[20:34:51] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:51] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:51] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:51] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:51] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:51] [INFO] [ReplayManager] Enemies count: 10
[20:34:51] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:51] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:51] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:51] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:51] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:51] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:51] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:51] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:51] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:51] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:51] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:51] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:51] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:51] [INFO] [CinemaEffects] Found player node: Player
[20:34:51] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[20:34:51] [ENEMY] [Enemy1] Registered as sound listener
[20:34:51] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[20:34:51] [ENEMY] [Enemy2] Registered as sound listener
[20:34:51] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[20:34:51] [ENEMY] [Enemy3] Registered as sound listener
[20:34:51] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[20:34:51] [ENEMY] [Enemy4] Registered as sound listener
[20:34:51] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[20:34:51] [ENEMY] [Enemy5] Registered as sound listener
[20:34:51] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[20:34:51] [ENEMY] [Enemy6] Registered as sound listener
[20:34:51] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[20:34:51] [ENEMY] [Enemy7] Registered as sound listener
[20:34:51] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[20:34:51] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[20:34:51] [ENEMY] [Enemy8] Registered as sound listener
[20:34:51] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[20:34:51] [ENEMY] [Enemy9] Registered as sound listener
[20:34:51] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:34:51] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[20:34:51] [ENEMY] [Enemy10] Registered as sound listener
[20:34:51] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:34:51] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:51] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:51] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:51] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:51] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:51] [INFO] [LastChance] Found player: Player
[20:34:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:51] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (479.7512, 760.6133) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (475.7216, 746.8257) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (903.6584, 697.4286) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (892.6733, 734.334) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (494.5677, 684.3799) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (472.5498, 742.5974) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (514.6834, 678.9674) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (471.4951, 647.0053) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (500.9861, 726.4974) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (899.4067, 563.7179) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (421.5697, 664.2269) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (492.5327, 684.5698) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (467.6483, 761.5955) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (407.1512, 679.3507) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (487.0432, 775.2344) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (483.6577, 678.0051) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (474.2158, 672.7855) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (394.4635, 671.9975) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (371.2287, 659.3702) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (929.8085, 595.033) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (951.6254, 599.8452) (added to group)
[20:34:51] [INFO] [BloodDecal] Blood puddle created at (985.3184, 599.2542) (added to group)
[20:34:52] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:53] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:54] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:55] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:55] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:34:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:34:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:34:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:34:55] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:34:55] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:34:55] [ENEMY] [Enemy1] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:34:55] [ENEMY] [Enemy2] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:34:55] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:55] [ENEMY] [Enemy3] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:34:55] [ENEMY] [Enemy4] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:34:55] [ENEMY] [Enemy5] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:34:55] [ENEMY] [Enemy6] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:34:55] [ENEMY] [Enemy7] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:34:55] [ENEMY] [Enemy8] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:34:55] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:34:55] [ENEMY] [Enemy9] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:34:55] [ENEMY] [Enemy10] Death animation component initialized
[20:34:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:34:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:34:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:34:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:34:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:34:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:34:55] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:34:55] [INFO] [Player.Weapon] Removed default MakarovPM
[20:34:55] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:34:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:34:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:34:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:34:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:34:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:34:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:34:55] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:34:55] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:34:55] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:34:55] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:34:55] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[20:34:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:34:55] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:34:55] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:34:55] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:34:55] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:34:55] [INFO] [ScoreManager] Level started with 10 enemies
[20:34:55] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:34:55] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:34:55] [INFO] [ReplayManager] Replay data cleared
[20:34:55] [INFO] [BuildingLevel] Previous replay data cleared
[20:34:55] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:34:55] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:34:55] [INFO] [ReplayManager] Level: BuildingLevel
[20:34:55] [INFO] [ReplayManager] Player: Player (valid: True)
[20:34:55] [INFO] [ReplayManager] Enemies count: 10
[20:34:55] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:34:55] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:34:55] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:34:55] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:34:55] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:34:55] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:34:55] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:34:55] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:34:55] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:34:55] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:34:55] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:34:55] [INFO] [BuildingLevel] Replay recording started successfully
[20:34:55] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:34:55] [INFO] [CinemaEffects] Found player node: Player
[20:34:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 19)
[20:34:55] [ENEMY] [Enemy1] Registered as sound listener
[20:34:55] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 20)
[20:34:55] [ENEMY] [Enemy2] Registered as sound listener
[20:34:55] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 21)
[20:34:55] [ENEMY] [Enemy3] Registered as sound listener
[20:34:55] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 22)
[20:34:55] [ENEMY] [Enemy4] Registered as sound listener
[20:34:55] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 23)
[20:34:55] [ENEMY] [Enemy5] Registered as sound listener
[20:34:55] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 24)
[20:34:55] [ENEMY] [Enemy6] Registered as sound listener
[20:34:55] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 25)
[20:34:55] [ENEMY] [Enemy7] Registered as sound listener
[20:34:55] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[20:34:55] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 26)
[20:34:55] [ENEMY] [Enemy8] Registered as sound listener
[20:34:55] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 27)
[20:34:55] [ENEMY] [Enemy9] Registered as sound listener
[20:34:55] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[20:34:55] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:34:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 28)
[20:34:55] [ENEMY] [Enemy10] Registered as sound listener
[20:34:55] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:34:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:34:55] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:34:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[20:34:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:34:55] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:34:55] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:34:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:34:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:34:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:34:55] [INFO] [LastChance] Found player: Player
[20:34:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:34:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:34:55] [INFO] [LastChance] Connected to player Died signal (C#)
[20:34:56] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:34:56] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:34:56] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:34:56] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:34:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:34:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,888), corner_timer=0.30
[20:34:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,888), corner_timer=0.30
[20:34:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:34:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (753.5252, 813.21265)
[20:34:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,888), corner_timer=-0.02
[20:34:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:34:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,888), corner_timer=-0.02
[20:34:57] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:34:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,888), corner_timer=0.30
[20:34:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,888), corner_timer=0.30
[20:34:57] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:34:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[20:34:57] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:34:57] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[20:34:57] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[20:34:57] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[20:34:57] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:34:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 888.9444)
[20:34:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[20:34:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (493.0617, -57.502563)
[20:34:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[20:34:57] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[20:34:57] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:34:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,888), corner_timer=-0.02
[20:34:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:34:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(449,888), corner_timer=0.30
[20:34:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(382,888), corner_timer=-0.02
[20:34:57] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:34:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(377,888), corner_timer=0.30
[20:34:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(272,888), corner_timer=-0.02
[20:34:58] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:34:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(267,888), corner_timer=0.30
[20:34:58] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:34:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(166,888), corner_timer=-0.02
[20:34:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:34:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(161,888), corner_timer=0.30
[20:34:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(93,888), corner_timer=-0.02
[20:34:59] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:34:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(93,888), corner_timer=0.30
[20:34:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:59] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:34:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(93,888), corner_timer=-0.02
[20:34:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:34:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(93,888), corner_timer=0.30
[20:34:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:34:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(93,888), corner_timer=-0.02
[20:34:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:34:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(93,888), corner_timer=0.30
[20:34:59] [INFO] [Player.Grenade.Simple] Throwing! Target: (587.89105, 706.60706), Distance: 542,1, Speed: 570,3, Friction: 300,0
[20:34:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,3530429
[20:34:59] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:34:59] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9383249, -0.34575462), speed=570,3, spawn=(149.35501, 868.1991)
[20:34:59] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.938325, -0.345755), Speed: 570.3 (clamped from 570.3, max: 1000.0)
[20:34:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[20:34:59] [INFO] [Player.Grenade.Simple] Grenade thrown!
[20:34:59] [INFO] [Player.Grenade] State reset to IDLE
[20:34:59] [INFO] [Player.Grenade] State reset to IDLE
[20:34:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[20:34:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:00] [INFO] [Player.Grenade] Player rotation restored to 0
[20:35:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(93,907), corner_timer=-0.02
[20:35:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:35:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(93,910), corner_timer=0.30
[20:35:00] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[20:35:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:00] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:35:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(142,985), corner_timer=-0.02
[20:35:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:35:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(146,989), corner_timer=0.30
[20:35:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(220,1063), corner_timer=-0.02
[20:35:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:35:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(223,1067), corner_timer=0.30
[20:35:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:00] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(451.1607, 756.9893), source=NEUTRAL (DefensiveGrenade), range=112, listeners=28
[20:35:00] [INFO] [SoundPropagation] Cleaned up 18 invalid listeners
[20:35:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[20:35:00] [INFO] [GrenadeBase] Grenade landed at (451.1607, 756.9893)
[20:35:00] [INFO] [GrenadeTimer] Flashbang grenade landed at (451.16068, 756.9893)
[20:35:00] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(451.1607, 756.9893), source=NEUTRAL (DefensiveGrenade), range=112, listeners=10
[20:35:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[20:35:00] [INFO] [GrenadeTimer] Emitted grenade landing sound at (451.16068, 756.9893)
[20:35:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(297,1141), corner_timer=-0.02
[20:35:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:35:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(301,1144), corner_timer=0.30
[20:35:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:01] [INFO] [GrenadeBase] EXPLODED at (452.9052, 756.3465)!
[20:35:01] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:35:01] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:35:01] [INFO] [LastChance] Starting last chance effect:
[20:35:01] [INFO] [LastChance]   - Time will be frozen (except player)
[20:35:01] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:35:01] [INFO] [LastChance]   - Trigger: grenade explosion
[20:35:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:35:01] [INFO] [LastChance]   - Brightness: 0.60
[20:35:01] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:35:01] [INFO] [LastChance] Skipping player node: Player
[20:35:01] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[20:35:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:35:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:35:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:35:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(452.9052, 756.3465), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=10
[20:35:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[20:35:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.99967, -0.025676), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:35:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.99967, -0.025676), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:35:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.99967, -0.025676), lethal=true
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[20:35:01] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:35:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:35:01] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[20:35:01] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[20:35:01] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[20:35:01] [INFO] [DeathAnim] Started - Angle: -1.5 deg, Index: 11
[20:35:01] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99967, -0.025676)
[20:35:01] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 247.2
[20:35:01] [INFO] [DefensiveGrenade] Player found in blast radius at distance 437.1
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 4.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 4.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=False (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[20:35:01] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[20:35:01] [INFO] [PenultimateHit] Starting penultimate hit effect:
[20:35:01] [INFO] [PenultimateHit]   - Time scale: 0.10
[20:35:01] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[20:35:01] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[20:35:01] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[20:35:01] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[20:35:01] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[20:35:01] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[20:35:01] [INFO] [Player] Spawning blood effect at (342.52713, 1179.2633), dir=(-0.2525332, 0.9675882), lethal=True (C#)
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (342.5271, 1179.263), dir=(-0.252533, 0.967588), lethal=true
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (342.5271, 1179.263) (scale=1.5)
[20:35:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[20:35:01] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[20:35:01] [INFO] [CinemaEffects] Player died - triggering death effects
[20:35:01] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[20:35:01] [INFO] [PenultimateHit] Player died - ending penultimate effect
[20:35:01] [INFO] [PenultimateHit] Ending penultimate hit effect
[20:35:01] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[20:35:01] [INFO] [LastChance] Player died
[20:35:01] [INFO] [LastChance] Ending last chance effect
[20:35:01] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[20:35:01] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[20:35:01] [INFO] [LastChance] All process modes restored
[20:35:01] [INFO] [LastChance] Unfroze grenade: DefensiveGrenade
[20:35:01] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:35:01] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 437.1
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle -1.1 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -2.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 21.6 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 24.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 26.1 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 35.9 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 64.7 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 62.0 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 59.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 69.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 75.4 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 89.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 116.3 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 122.5 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 135.5 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 148.5 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 131.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 150.8 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 171.4 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 162.1 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 195.0 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 192.5 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 190.9 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 202.8 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 211.9 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 236.6 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 236.6 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 232.4 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 266.0 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 261.7 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 263.6 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 290.9 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 300.0 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 285.8 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 292.6 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 316.9 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 333.2 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 338.7 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 337.0 degrees
[20:35:01] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 355.5 degrees
[20:35:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (452.9052, 756.3465) (radius=700) - using shadow-based wall occlusion
[20:35:01] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[20:35:01] [INFO] [GrenadeTimer] EXPLODED at (452.9052, 756.3465)!
[20:35:01] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 700, blindness: 12s, stun: 6s)
[20:35:01] [ENEMY] [Enemy3] Flashbang: blind=7.8s, stun=3.9s
[20:35:01] [ENEMY] [Enemy3] Status: BLINDED applied
[20:35:01] [ENEMY] [Enemy3] Status: STUNNED applied
[20:35:01] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 247,2 (intensity: 0,65)
[20:35:01] [INFO] [GrenadeTimer] Applied flashbang to player at distance 437,1
[20:35:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(452.9052, 756.3465), source=NEUTRAL (DefensiveGrenade), range=2938, listeners=9
[20:35:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[20:35:01] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (452.9052, 756.3465) (radius: 700)
[20:35:01] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:35:01] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[20:35:01] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(-0.91149, -0.411323), lethal=false
[20:35:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:01] [INFO] [ImpactEffects] Wall found for blood splatter at (760, 881.9494) (dist=43 px)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (761, 881.9494) (added to group)
[20:35:01] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[20:35:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(388,1186), corner_timer=-0.02
[20:35:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(393,1186), corner_timer=0.30
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (759.2285, 743.379) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (329.9832, 1233.161) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (334.5299, 1235.987) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (345.9701, 1233.226) (added to group)
[20:35:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[20:35:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[20:35:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[20:35:01] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[20:35:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[20:35:01] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:35:01] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[20:35:01] [INFO] [CinemaEffects] Death effects reset
[20:35:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[20:35:01] [ENEMY] [Enemy1] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[20:35:01] [ENEMY] [Enemy2] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[20:35:01] [ENEMY] [Enemy3] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[20:35:01] [ENEMY] [Enemy4] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[20:35:01] [ENEMY] [Enemy5] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[20:35:01] [ENEMY] [Enemy6] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[20:35:01] [ENEMY] [Enemy7] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[20:35:01] [ENEMY] [Enemy8] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[20:35:01] [ENEMY] [Enemy9] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[20:35:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[20:35:01] [ENEMY] [Enemy10] Death animation component initialized
[20:35:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[20:35:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[20:35:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[20:35:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[20:35:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[20:35:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[20:35:01] [INFO] [Player.Weapon] GameManager weapon selection: mini_uzi (MiniUzi)
[20:35:01] [INFO] [Player.Weapon] Removed default MakarovPM
[20:35:01] [INFO] [Player.Weapon] Equipped MiniUzi (ammo: 32/32)
[20:35:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[20:35:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[20:35:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[20:35:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[20:35:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[20:35:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[20:35:01] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[20:35:01] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[20:35:01] [INFO] [FlashlightEffect] Flashlight sound loaded
[20:35:01] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[20:35:01] [INFO] [Player] Ready! Ammo: 32/32, Grenades: 1/3, Health: 10/10
[20:35:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[20:35:01] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[20:35:01] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[20:35:01] [INFO] [BuildingLevel] Setting up weapon: mini_uzi
[20:35:01] [INFO] [BuildingLevel] MiniUzi already equipped by C# Player - skipping GDScript weapon swap
[20:35:01] [INFO] [ScoreManager] Level started with 10 enemies
[20:35:01] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[20:35:01] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[20:35:01] [INFO] [ReplayManager] Replay data cleared
[20:35:01] [INFO] [BuildingLevel] Previous replay data cleared
[20:35:01] [INFO] [ReplayManager] Detected player weapon: Mini UZI
[20:35:01] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[20:35:01] [INFO] [ReplayManager] Level: BuildingLevel
[20:35:01] [INFO] [ReplayManager] Player: Player (valid: True)
[20:35:01] [INFO] [ReplayManager] Enemies count: 10
[20:35:01] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:35:01] [INFO] [ReplayManager]   Enemy 0: Enemy1
[20:35:01] [INFO] [ReplayManager]   Enemy 1: Enemy2
[20:35:01] [INFO] [ReplayManager]   Enemy 2: Enemy3
[20:35:01] [INFO] [ReplayManager]   Enemy 3: Enemy4
[20:35:01] [INFO] [ReplayManager]   Enemy 4: Enemy5
[20:35:01] [INFO] [ReplayManager]   Enemy 5: Enemy6
[20:35:01] [INFO] [ReplayManager]   Enemy 6: Enemy7
[20:35:01] [INFO] [ReplayManager]   Enemy 7: Enemy8
[20:35:01] [INFO] [ReplayManager]   Enemy 8: Enemy9
[20:35:01] [INFO] [ReplayManager]   Enemy 9: Enemy10
[20:35:01] [INFO] [BuildingLevel] Replay recording started successfully
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (776.8889, 802.7311) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (755.1265, 778.6844) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (742.2729, 778.5508) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (762.0781, 773.9525) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (769.9196, 764.6486) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (743.4137, 755.4261) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (755.5025, 794.3037) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (779.7358, 736.6284) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (823.4191, 822.603) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (780.4482, 765.6172) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (765.189, 753.1514) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (756.4954, 748.3683) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (782.4565, 763.3254) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (784.204, 753.1428) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (792.2842, 739.9191) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (298.8029, 1265.441) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (319.3979, 1271.286) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (299.8865, 1266.028) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (342.8557, 1257.386) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (359.6524, 1320.144) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (277.0579, 1287.892) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (341.6502, 1263.806) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (303.7043, 1269.385) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (274.9648, 1301.507) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (317.6646, 1236.463) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (339.2723, 1299.738) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (332.6196, 1274.684) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (320.1046, 1244.057) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (287.9813, 1301.114) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (318.7271, 1293.263) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (290.4756, 1279.041) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (356.5406, 1291.366) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (323.0541, 1248.587) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (317.7675, 1274.702) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (304.5999, 1299.802) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (323.4668, 1294.147) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (295.0411, 1316.401) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (328.1075, 1279.714) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (273.6683, 1286.456) (added to group)
[20:35:01] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[20:35:01] [INFO] [CinemaEffects] Found player node: Player
[20:35:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[20:35:01] [ENEMY] [Enemy1] Registered as sound listener
[20:35:01] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[20:35:01] [ENEMY] [Enemy2] Registered as sound listener
[20:35:01] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[20:35:01] [ENEMY] [Enemy3] Registered as sound listener
[20:35:01] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[20:35:01] [ENEMY] [Enemy4] Registered as sound listener
[20:35:01] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[20:35:01] [ENEMY] [Enemy5] Registered as sound listener
[20:35:01] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[20:35:01] [ENEMY] [Enemy6] Registered as sound listener
[20:35:01] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[20:35:01] [ENEMY] [Enemy7] Registered as sound listener
[20:35:01] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[20:35:01] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[20:35:01] [ENEMY] [Enemy8] Registered as sound listener
[20:35:01] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[20:35:01] [ENEMY] [Enemy9] Registered as sound listener
[20:35:01] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[20:35:01] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[20:35:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[20:35:01] [ENEMY] [Enemy10] Registered as sound listener
[20:35:01] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[20:35:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[20:35:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[20:35:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[20:35:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[20:35:01] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[20:35:01] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[20:35:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[20:35:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[20:35:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[20:35:01] [INFO] [LastChance] Found player: Player
[20:35:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[20:35:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[20:35:01] [INFO] [LastChance] Connected to player Died signal (C#)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (822.6622, 829.9709) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (834.2338, 842.663) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (862.423, 801.7168) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (828.3254, 769.8917) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (798.4266, 775.5619) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (792.899, 753.4415) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (855.1519, 748.4597) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (847.3969, 776.7075) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (771.2991, 767.8361) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (799.6848, 797.6145) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (811.5956, 837.2031) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (827.4899, 842.8548) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (808.9993, 832.2885) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (335.2926, 1293.369) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (252.0658, 1383.005) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (277.5047, 1308.282) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (287.591, 1310.982) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (341.945, 1298.764) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (346.2968, 1352.42) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (313.0431, 1316.37) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (311.4043, 1295.707) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (317.9958, 1290.594) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (313.2438, 1280.085) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (330.4487, 1296.651) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (324.7905, 1369.076) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (254.7507, 1362.406) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (348.5075, 1317.988) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (285.9675, 1305.32) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (299.1324, 1288.487) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (303.9661, 1342.16) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (268.3734, 1330.249) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (356.8053, 1306.963) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (273.7801, 1332.241) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (321.2183, 1372.4) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (292.5327, 1350.046) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (325.4077, 1297.188) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (827.3511, 861.76) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (863.3412, 789.2622) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (861.6718, 845.3463) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (283.5098, 1311.373) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (342.5344, 1337.345) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (345.4013, 1355.039) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (363.4384, 1349.217) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (260.4901, 1362.652) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (261.231, 1362.719) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (695.585, 925.199) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (884.2747, 832.5477) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (361.1293, 1348.229) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (337.0095, 1379.43) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (707.7231, 915.5132) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (304.3254, 1376.774) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (295.9411, 1356.058) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (355.8654, 1385.968) (added to group)
[20:35:01] [INFO] [BloodDecal] Blood puddle created at (333.929, 1384.269) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (338.7129, 1367.815) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (255.1606, 1382.674) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (815.0435, 817.6627) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (295.1201, 1357.721) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (908.0652, 771.9154) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (898.1307, 818.8172) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (246.9479, 1382.18) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (281.1044, 1378.083) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (629.9557, 950.2953) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (631.3235, 901.4376) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (685.1373, 943.2996) (added to group)
[20:35:02] [INFO] [BloodDecal] Blood puddle created at (689.6886, 913.2118) (added to group)
[20:35:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:35:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[20:35:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[20:35:02] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[20:35:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[20:35:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (537.2287, 891.85596)
[20:35:02] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:35:02] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[20:35:02] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:35:02] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[20:35:02] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[20:35:02] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[20:35:02] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:35:02] [INFO] [Player.Grenade] Timer started, grenade created at (428.19, 1075.3693)
[20:35:02] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[20:35:02] [INFO] [Player.Grenade] Step 1 complete! Drag: (56.949097, 6.6725464)
[20:35:03] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[20:35:03] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[20:35:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:35:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[20:35:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(428,1075), corner_timer=0.30
[20:35:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(428,1075), corner_timer=0.30
[20:35:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(426,1054), corner_timer=-0.02
[20:35:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[20:35:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(426,1054), corner_timer=-0.02
[20:35:03] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[20:35:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(425,1051), corner_timer=0.30
[20:35:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(425,1051), corner_timer=0.30
[20:35:03] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[20:35:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(360,980), corner_timer=-0.02
[20:35:03] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[20:35:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(356,976), corner_timer=0.30
[20:35:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(299,895), corner_timer=-0.02
[20:35:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[20:35:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(299,890), corner_timer=0.30
[20:35:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(297,835), corner_timer=-0.02
[20:35:04] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[20:35:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(297,835), corner_timer=0.30
[20:35:04] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[20:35:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(297,835), corner_timer=-0.02
[20:35:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[20:35:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(297,835), corner_timer=0.30
[20:35:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(297,835), corner_timer=-0.02
[20:35:05] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[20:35:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(297,835), corner_timer=0.30
[20:35:05] [INFO] [Player.Grenade.Simple] Throwing! Target: (621.96204, 673.622), Distance: 351,0, Speed: 458,9, Friction: 300,0
[20:35:05] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,46138835
[20:35:05] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:35:05] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.8954353, -0.4451917), speed=458,9, spawn=(350.99927, 808.33905)
[20:35:05] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.895435, -0.445192), Speed: 458.9 (clamped from 458.9, max: 1000.0)
[20:35:05] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[20:35:05] [INFO] [Player.Grenade.Simple] Grenade thrown!
[20:35:05] [INFO] [Player.Grenade] State reset to IDLE
[20:35:05] [INFO] [Player.Grenade] State reset to IDLE
[20:35:05] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[20:35:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:05] [INFO] [Player.Grenade] Player rotation restored to 0
[20:35:05] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[20:35:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(297,850), corner_timer=-0.02
[20:35:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[20:35:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(297,853), corner_timer=0.30
[20:35:05] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[20:35:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(297,951), corner_timer=-0.02
[20:35:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[20:35:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(297,957), corner_timer=0.30
[20:35:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:06] [INFO] [GrenadeTimer] Flashbang grenade landed at (536.9351, 715.8957)
[20:35:06] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(536.9351, 715.8957), source=NEUTRAL (DefensiveGrenade), range=112, listeners=19
[20:35:06] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[20:35:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[20:35:06] [INFO] [GrenadeTimer] Emitted grenade landing sound at (536.9351, 715.8957)
[20:35:06] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(537.6634, 715.5336), source=NEUTRAL (DefensiveGrenade), range=112, listeners=10
[20:35:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[20:35:06] [INFO] [GrenadeBase] Grenade landed at (537.6634, 715.5336)
[20:35:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(329,1048), corner_timer=-0.02
[20:35:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[20:35:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(332,1052), corner_timer=0.30
[20:35:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:06] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[20:35:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(421,1090), corner_timer=-0.02
[20:35:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:35:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(427,1090), corner_timer=0.30
[20:35:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:06] [INFO] [GrenadeBase] EXPLODED at (539.0918, 714.8234)!
[20:35:06] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:35:06] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:35:06] [INFO] [LastChance] Starting last chance effect:
[20:35:06] [INFO] [LastChance]   - Time will be frozen (except player)
[20:35:06] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:35:06] [INFO] [LastChance]   - Trigger: grenade explosion
[20:35:06] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:35:06] [INFO] [LastChance]   - Brightness: 0.60
[20:35:06] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:35:06] [INFO] [LastChance] Skipping player node: Player
[20:35:06] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[20:35:06] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:35:06] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:35:06] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:35:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(539.0918, 714.8234), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=10
[20:35:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[20:35:06] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.548138, -0.836388), lethal=false
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (250.1924, 274) (dist=90 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (250.1924, 275) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1)
[20:35:06] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/4->2/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.548138, -0.836388), lethal=false
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (250.1924, 274) (dist=90 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (250.1924, 275) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1)
[20:35:06] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/4->1/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.548138, -0.836388), lethal=false
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (250.1924, 274) (dist=90 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (250.1924, 275) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1)
[20:35:06] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/4->0/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.548138, -0.836388), lethal=true
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (250.1924, 274) (dist=90 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (250.1924, 275) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=1.5)
[20:35:06] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[20:35:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:35:06] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[20:35:06] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[20:35:06] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 9)
[20:35:06] [INFO] [DeathAnim] Started - Angle: -123.2 deg, Index: 3
[20:35:06] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.548138, -0.836388)
[20:35:06] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 436.2
[20:35:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.644931, -0.764241), lethal=false
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (335.8648, 474) (dist=99 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (335.8648, 475) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:35:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.644931, -0.764241), lethal=false
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (335.8648, 474) (dist=99 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (335.8648, 475) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:35:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.644931, -0.764241), lethal=false
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:06] [INFO] [ImpactEffects] Wall found for blood splatter at (335.8648, 474) (dist=99 px)
[20:35:06] [INFO] [BloodDecal] Blood puddle created at (335.8648, 475) (added to group)
[20:35:06] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[20:35:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[20:35:06] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.644931, -0.764241), lethal=true
[20:35:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:07] [INFO] [ImpactEffects] Wall found for blood splatter at (335.8648, 474) (dist=99 px)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (335.8648, 475) (added to group)
[20:35:07] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[20:35:07] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[20:35:07] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:35:07] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[20:35:07] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[20:35:07] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[20:35:07] [INFO] [DeathAnim] Started - Angle: -130.2 deg, Index: 3
[20:35:07] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.644931, -0.764241)
[20:35:07] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 215.7
[20:35:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[20:35:07] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.976928, 0.213569), lethal=false
[20:35:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:07] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:35:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[20:35:07] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.976928, 0.213569), lethal=false
[20:35:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:07] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:35:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[20:35:07] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.976928, 0.213569), lethal=false
[20:35:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:07] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[20:35:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[20:35:07] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.976928, 0.213569), lethal=true
[20:35:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:07] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[20:35:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[20:35:07] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:35:07] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[20:35:07] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[20:35:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[20:35:07] [INFO] [DeathAnim] Started - Angle: 12.3 deg, Index: 12
[20:35:07] [ENEMY] [Enemy3] Death animation started with hit direction: (0.976928, 0.213569)
[20:35:07] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 164.7
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle -7.4 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30289
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30289
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle 18.5 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30290
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30290
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 7.4 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30291
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30291
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 26.6 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30292
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30292
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 30.1 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30293
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30293
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 39.3 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30294
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30294
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 53.6 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30295
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30295
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 73.5 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30296
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30296
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 61.2 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30297
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30297
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 73.2 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30298
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30298
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 101.6 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30299
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30299
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 107.5 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30300
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30300
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 121.7 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30301
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30301
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 127.7 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30302
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30302
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 129.9 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30303
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30303
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 146.6 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30304
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30304
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 158.1 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30305
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30305
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 150.1 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30306
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30306
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 164.1 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30307
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30307
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 169.9 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30308
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30308
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 184.6 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30309
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30309
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 193.2 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30310
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30310
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 206.8 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30311
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30311
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 195.3 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30312
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30312
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 213.6 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30313
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30313
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 214.5 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30314
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30314
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 233.1 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30315
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30315
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 241.8 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30316
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30316
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 252.8 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30317
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30317
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 261.5 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30318
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30318
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 268.8 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30319
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30319
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 287.9 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30320
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30320
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 287.0 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30321
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30321
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 309.7 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30322
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30322
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 315.4 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30323
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30323
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 307.0 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30324
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30324
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 331.3 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30325
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30325
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 324.3 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30326
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30326
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 330.9 degrees
[20:35:07] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@30327
[20:35:07] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@30327
[20:35:07] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 337.2 degrees
[20:35:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (539.0918, 714.8234) (radius=700) - using shadow-based wall occlusion
[20:35:07] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@30328
[20:35:07] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@30328
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (757.4522, 748.6942) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (248.5928, 297.1687) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (240.2609, 319.9429) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (350.3928, 504.7496) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (363.2563, 532.644) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (733.2356, 785.1616) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (289.2309, 322.9864) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (272.2211, 332.3325) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (374.9713, 489.7275) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (769.4872, 764.6207) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (288.6694, 315.4861) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (259.6149, 327.2104) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (266.6371, 323.2672) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (357.1882, 548.2203) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (781.842, 795.0851) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (767.9916, 757.7115) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (239.8582, 309.2585) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (292.1505, 319.4871) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (386.2299, 519.6848) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (342.8944, 501.0457) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (309.0103, 525.118) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (356.6964, 515.9269) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (785.3734, 767.8157) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (744.8174, 775.8799) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (260.9527, 309.6626) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (319.0113, 498.4618) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (363.8135, 489.6728) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (784.692, 762.312) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (249.882, 325.2034) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (272.6593, 321.6704) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (368.7432, 506.3929) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (770.1915, 759.7184) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (200.5596, 320.6676) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (377.3701, 489.4675) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (293.0419, 533.1084) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (249.4357, 309.5896) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (277.3617, 286.4259) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (354.8744, 514.2835) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (764.468, 764.3354) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (240.2957, 345.6726) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (291.993, 511.3795) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (353.5406, 477.0022) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (317.1577, 497.3047) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (351.7559, 528.7035) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (820.1909, 841.6801) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (794.2247, 829.6091) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (798.9208, 760.4825) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (269.094, 306.4434) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (296.4666, 537.2567) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (366.8152, 485.5446) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (834.8401, 813.7932) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (828.8777, 781.6483) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (343.1358, 514.1215) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (324.7484, 529.7642) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (370.819, 495.4231) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (782.0755, 774.6347) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (254.1309, 339.3586) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (245.3958, 287.7914) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (325.5624, 511.4374) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (810.8368, 770.9482) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (771.5153, 786.4164) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (823.1608, 853.418) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (238.3357, 350.6533) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (360.2053, 508.0526) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (302.8365, 542.917) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (317.1968, 474.2433) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (337.8829, 520.9086) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (302.8399, 525.2283) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (264.9872, 301.5068) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (189.5609, 282.5638) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (338.8239, 527.4288) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (312.3798, 504.826) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (848.9357, 853.858) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (787.2017, 777.6779) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (344.3708, 472.8336) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (300.2676, 497.8515) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (781.8101, 809.5324) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (225.1981, 301.3608) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (351.9492, 519.3086) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (275.997, 300.1265) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (281.2012, 278.5701) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (346.9842, 465.6705) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (343.9529, 505.6637) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (823.8047, 855.2642) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (835.2493, 858.4931) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (250.1861, 307.4227) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (294.8377, 523.3528) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (845.1321, 855.7786) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (808.4936, 799.9813) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (788.8362, 827.3457) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (837.3434, 799.3154) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (175.3409, 322.5797) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (188.1781, 325.1918) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (211.1116, 359.5046) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (353.6674, 513.6888) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (284.9402, 307.6249) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (255.7641, 345.7523) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (317.1609, 555.7238) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (293.6708, 530.6318) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (272.1801, 554.1173) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (213.8031, 288.0818) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (337.5981, 499.6832) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (848.3772, 824.8594) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (843.1454, 821.4078) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (860.0841, 833.7674) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (800.1378, 807.6959) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (200.425, 288.0008) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (246.3615, 569.4224) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (267.9797, 571.2276) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (825.0595, 804.3348) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (138.4798, 311.7184) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (336.7028, 526.7053) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (802.7214, 848.6191) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (868.8631, 822.704) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (282.3267, 497.6663) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (213.5895, 551.6078) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (166.2648, 354.1204) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (218.4137, 310.7115) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (140.3498, 295.0826) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (138.794, 360.5556) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (153.4554, 304.6696) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (284.4074, 341.1041) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (331.4149, 508.4009) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (843.4036, 860.4985) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (222.0746, 315.7989) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (190.6877, 312.0146) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (167.8037, 297.0219) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (339.9921, 557.0259) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (229.5592, 543.8324) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (873.9196, 903.4717) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (156.6915, 290.2286) (added to group)
[20:35:07] [INFO] [BloodDecal] Blood puddle created at (839.5954, 825.8957) (added to group)
[20:35:07] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[20:35:08] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[20:35:08] [INFO] [LastChance] Effect duration expired after 2.01 real seconds
[20:35:08] [INFO] [LastChance] Ending last chance effect
[20:35:08] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[20:35:08] [INFO] [LastChance] Reset memory for 7 enemies (player teleport effect)
[20:35:08] [INFO] [LastChance] All process modes restored
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30289
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30290
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30291
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30292
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30293
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30294
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30295
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30296
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30297
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30298
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30299
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30300
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30301
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30302
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30303
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30304
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30305
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30306
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30307
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30308
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30309
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30310
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30311
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30312
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30313
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30314
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30315
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30316
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30317
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30318
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30319
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30320
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30321
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30322
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30323
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30324
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30325
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30326
[20:35:08] [INFO] [LastChance] Unfroze shrapnel: @Area2D@30327
[20:35:08] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@30328
[20:35:08] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:35:09] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[20:35:09] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.602652, -0.798004), lethal=false
[20:35:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:09] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[20:35:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(586,1040), corner_timer=-0.02
[20:35:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:35:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(586,1040), corner_timer=0.30
[20:35:09] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/4->2/4
[20:35:09] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(-0.990427, 0.13804), lethal=false
[20:35:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:09] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[20:35:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:09] [INFO] [LastChance] Visual effects fade-out complete
[20:35:09] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:35:09] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:35:09] [INFO] [Player] Spawning blood effect at (586.763, 1040.0653), dir=(0.56274897, 0.82662785), lethal=False (C#)
[20:35:09] [INFO] [ImpactEffects] spawn_blood_effect called at (586.763, 1040.065), dir=(0.562749, 0.826628), lethal=false
[20:35:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:09] [INFO] [ImpactEffects] Blood effect spawned at (586.763, 1040.065) (scale=1)
[20:35:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[20:35:09] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (857.8735, 827.9973) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (868.6411, 845.5052) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (848.0625, 856.3022) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (869.0313, 883.0018) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (839.5496, 877.4069) (added to group)
[20:35:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(586,1040), corner_timer=-0.02
[20:35:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[20:35:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(586,1040), corner_timer=0.30
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (871.4329, 902.3206) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (886.2109, 908.5599) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (890.3885, 847.8466) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (726.3876, 962.4544) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (702.0765, 891.7789) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (710.1259, 931.1242) (added to group)
[20:35:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (821.1172, 889.9108) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (904.1343, 937.4813) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (724.396, 951.9839) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (710.5181, 960.2339) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (603.7647, 1122.254) (added to group)
[20:35:09] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[20:35:09] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/4->1/4
[20:35:09] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(-0.90342, 0.428756), lethal=false
[20:35:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:09] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[20:35:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(586,1040), corner_timer=-0.02
[20:35:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(586,1040), corner_timer=0.30
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (647.0009, 934.0271) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (664.5833, 1221.998) (added to group)
[20:35:09] [INFO] [BloodDecal] Blood puddle created at (659.775, 1130.042) (added to group)
[20:35:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (618.558, 984.6618) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (710.0289, 1218.042) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (725.5101, 1252.324) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (654.7456, 1286.076) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (606.2125, 1249.584) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (617.8243, 1362.869) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (674.758, 1298.535) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (605.9943, 1253.737) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (741.1742, 934.4918) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (728.1201, 954.3738) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (748.2809, 975.9265) (added to group)
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (683.0901, 942.4684) (added to group)
[20:35:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(530,1040), corner_timer=-0.02
[20:35:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(524,1040), corner_timer=0.30
[20:35:10] [INFO] [BloodDecal] Blood puddle created at (678.844, 982.6451) (added to group)
[20:35:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(420,1040), corner_timer=-0.02
[20:35:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(414,1040), corner_timer=0.30
[20:35:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:10] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[20:35:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(344,989), corner_timer=-0.02
[20:35:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(343,984), corner_timer=0.30
[20:35:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(341,881), corner_timer=-0.02
[20:35:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(341,876), corner_timer=0.30
[20:35:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(358,778), corner_timer=-0.02
[20:35:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(361,774), corner_timer=0.30
[20:35:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(444,728), corner_timer=-0.02
[20:35:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(449,728), corner_timer=0.30
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:11] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[20:35:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:12] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[20:35:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(545,748), corner_timer=-0.02
[20:35:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(549,752), corner_timer=0.30
[20:35:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(584,842), corner_timer=-0.02
[20:35:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(584,847), corner_timer=0.30
[20:35:12] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.5°, current=168.8°, player=(584,875), corner_timer=0.00
[20:35:12] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[20:35:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:12] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=179.2°, current=111.5°, player=(584,902), corner_timer=0.00
[20:35:12] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[20:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.0116, 952.3747), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:35:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(584,952), corner_timer=-0.02
[20:35:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(584,957), corner_timer=0.30
[20:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.164, 968.3799), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[20:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.1553, 982.34), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[20:35:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.7568, 983.933), source=PLAYER (MiniUzi), range=1469, listeners=7
[20:35:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[20:35:12] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/4->0/4
[20:35:12] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.967583, -0.252553), lethal=true
[20:35:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:12] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=0.75)
[20:35:12] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[20:35:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:35:12] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:12] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:12] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:12] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:12] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[20:35:12] [INFO] [DeathAnim] Started - Angle: -14.6 deg, Index: 11
[20:35:12] [ENEMY] [Enemy4] Death animation started with hit direction: (0.967583, -0.252553)
[20:35:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.7867, 983.8672), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[20:35:13] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:35:13] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(583.164, 968.3799), shooter_id=7348991039869, bullet_pos=(924.1876, 885.2903)
[20:35:13] [INFO] [Bullet] Using shooter_position, distance=350.999969482422
[20:35:13] [INFO] [Bullet] Distance to wall: 350.999969482422 (23.9002333540892% of viewport)
[20:35:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:13] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(553,968), corner_timer=-0.01
[20:35:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:35:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(552,964), corner_timer=0.30
[20:35:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.1553, 982.34), shooter_id=7348991039869, bullet_pos=(916.384, 881.587)
[20:35:13] [INFO] [Bullet] Using shooter_position, distance=350.999816894531
[20:35:13] [INFO] [Bullet] Distance to wall: 350.999816894531 (23.9002229640992% of viewport)
[20:35:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:13] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (872.6227, 923.9855) (added to group)
[20:35:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(574.7568, 983.933), shooter_id=7348991039869, bullet_pos=(912.1861, 887.2748)
[20:35:13] [INFO] [Bullet] Using shooter_position, distance=351.000457763672
[20:35:13] [INFO] [Bullet] Distance to wall: 351.000457763672 (23.9002666020574% of viewport)
[20:35:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:13] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (842.5598, 911.9809) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (877.8344, 900.6191) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (876.6958, 934.6776) (added to group)
[20:35:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.7867, 983.8672), shooter_id=7348991039869, bullet_pos=(914.8558, 824.9409)
[20:35:13] [INFO] [Bullet] Using shooter_position, distance=379.000152587891
[20:35:13] [INFO] [Bullet] Distance to wall: 379.000152587891 (25.8068173095373% of viewport)
[20:35:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:13] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (858.7592, 931.8366) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (876.7863, 898.9745) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (850.5001, 889.9752) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (863.0874, 908.7034) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (906.0613, 936.0944) (added to group)
[20:35:13] [ENEMY] [Enemy4] Ragdoll activated
[20:35:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:13] [INFO] [ReplayManager] Recording frame 720 (11,7s): player_valid=True, enemies=10
[20:35:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(548,867), corner_timer=-0.02
[20:35:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:35:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(548,862), corner_timer=0.30
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (900.4444, 916.4749) (added to group)
[20:35:13] [INFO] [BloodDecal] Blood puddle created at (892.4183, 972.6516) (added to group)
[20:35:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(548,757), corner_timer=-0.02
[20:35:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:35:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(548,752), corner_timer=0.30
[20:35:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(509,664), corner_timer=-0.02
[20:35:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(505,660), corner_timer=0.30
[20:35:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:14] [INFO] [ReplayManager] Recording frame 780 (12,7s): player_valid=True, enemies=10
[20:35:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(436,584), corner_timer=-0.02
[20:35:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(434,579), corner_timer=0.30
[20:35:14] [ENEMY] [Enemy4] Death animation completed
[20:35:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(428,477), corner_timer=-0.02
[20:35:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(428,472), corner_timer=0.30
[20:35:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(428,367), corner_timer=-0.02
[20:35:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(428,362), corner_timer=0.30
[20:35:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:15] [INFO] [ReplayManager] Recording frame 840 (13,7s): player_valid=True, enemies=10
[20:35:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(431,259), corner_timer=-0.02
[20:35:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(432,254), corner_timer=0.30
[20:35:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(499,178), corner_timer=-0.02
[20:35:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(503,175), corner_timer=0.30
[20:35:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(602,162), corner_timer=-0.02
[20:35:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(608,162), corner_timer=0.30
[20:35:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:16] [INFO] [ReplayManager] Recording frame 900 (14,7s): player_valid=True, enemies=10
[20:35:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(712,162), corner_timer=-0.02
[20:35:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(718,162), corner_timer=0.30
[20:35:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(817,148), corner_timer=-0.02
[20:35:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(821,145), corner_timer=0.30
[20:35:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(911,111), corner_timer=-0.02
[20:35:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(917,111), corner_timer=0.30
[20:35:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:17] [INFO] [ReplayManager] Recording frame 960 (15,7s): player_valid=True, enemies=10
[20:35:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1021,111), corner_timer=-0.02
[20:35:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1027,111), corner_timer=0.30
[20:35:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1131,111), corner_timer=-0.02
[20:35:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1137,111), corner_timer=0.30
[20:35:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:18] [INFO] [ScoreManager] Combo ended at 1. Max combo: 3
[20:35:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1241,111), corner_timer=-0.02
[20:35:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1247,111), corner_timer=0.30
[20:35:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:18] [INFO] [ReplayManager] Recording frame 1020 (16,7s): player_valid=True, enemies=10
[20:35:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1351,111), corner_timer=-0.02
[20:35:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1357,111), corner_timer=0.30
[20:35:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1445.209, 112.0175), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:19] [ENEMY] [Enemy5] Heard gunshot at (1445.209, 112.0175), source_type=0, intensity=0.02, distance=349
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:35:19] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-137.0°, current=-180.0°, player=(1445,112), corner_timer=0.00
[20:35:19] [ENEMY] [Enemy6] Memory: medium confidence (0.63) - transitioning to PURSUING
[20:35:19] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[20:35:19] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-146.0°, current=56.2°, player=(1450,112), corner_timer=0.00
[20:35:19] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1460.561, 114.7892), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:35:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1460,114), corner_timer=-0.02
[20:35:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[20:35:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1465,116), corner_timer=0.30
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1474.765, 120.3325), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1487.821, 128.6474), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[20:35:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1499.553, 139.5639), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:35:19] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/2->1/2
[20:35:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.066, 297.6637), dir=(0.809314, 0.587376), lethal=false
[20:35:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:19] [INFO] [ImpactEffects] Blood effect spawned at (1684.066, 297.6637) (scale=0.5)
[20:35:19] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-139.6°, current=-144.0°, player=(1502,143), corner_timer=0.00
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1508.73, 151.892), source=PLAYER (MiniUzi), range=1469, listeners=6
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=2
[20:35:19] [ENEMY] [Enemy5] Hit: dmg=1, hp=1/2->0/2
[20:35:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.065, 288.1619), dir=(0.7976, 0.603186), lethal=true
[20:35:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:19] [INFO] [ImpactEffects] Blood effect spawned at (1684.065, 288.1619) (scale=0.75)
[20:35:19] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[20:35:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[20:35:19] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:19] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:19] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:19] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:19] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[20:35:19] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[20:35:19] [INFO] [DeathAnim] Started - Angle: 37.1 deg, Index: 14
[20:35:19] [ENEMY] [Enemy5] Death animation started with hit direction: (0.7976, 0.603186)
[20:35:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1512.589, 158.9358), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[20:35:19] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:35:19] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:19] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-152.4°, current=-103.1°, player=(1516,168), corner_timer=0.04
[20:35:19] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[20:35:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(1520,189), corner_timer=-0.01
[20:35:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[20:35:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1520,194), corner_timer=0.30
[20:35:19] [INFO] [ReplayManager] Recording frame 1080 (17,5s): player_valid=True, enemies=10
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1718.613, 341.8163) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1749.4, 322.0752) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1728.07, 310.2975) (added to group)
[20:35:19] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/3->2/3
[20:35:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1852.37, 348.0665), dir=(0.825965, 0.563721), lethal=false
[20:35:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:19] [INFO] [ImpactEffects] Blood effect spawned at (1852.37, 348.0665) (scale=0.5)
[20:35:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1772.406, 351.3049) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1728.854, 323.2512) (added to group)
[20:35:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1508.73, 151.892), shooter_id=7348991039869, bullet_pos=(1839.53, 319.8571)
[20:35:19] [INFO] [Bullet] Using shooter_position, distance=371.000427246094
[20:35:19] [INFO] [Bullet] Distance to wall: 371.000427246094 (25.2621013008165% of viewport)
[20:35:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:19] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:19] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-161.6°, current=-149.2°, player=(1520,238), corner_timer=0.04
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1780.988, 373.481) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1742.185, 316.9009) (added to group)
[20:35:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1512.589, 158.9358), shooter_id=7348991039869, bullet_pos=(1845.6, 293.0441)
[20:35:19] [INFO] [Bullet] Using shooter_position, distance=359.000274658203
[20:35:19] [INFO] [Bullet] Distance to wall: 359.000274658203 (24.4449888447722% of viewport)
[20:35:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:19] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1762.62, 367.8085) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1748.247, 348.3795) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1769.384, 364.9521) (added to group)
[20:35:19] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1751.87, 387.7941) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1718.268, 357.1703) (added to group)
[20:35:19] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=150.2°, current=-164.5°, player=(1520,266), corner_timer=0.04
[20:35:19] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1755.595, 444.7495) (added to group)
[20:35:19] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1740.864, 362.2656) (added to group)
[20:35:19] [INFO] [BloodDecal] Blood puddle created at (1762.452, 416.8725) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1767.242, 354.3327) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1806.923, 363.6038) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1793.87, 432.677) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1769.017, 448.7877) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1747.409, 396.557) (added to group)
[20:35:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1520,299), corner_timer=-0.02
[20:35:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1782.935, 407.7419) (added to group)
[20:35:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1520,304), corner_timer=0.30
[20:35:20] [ENEMY] [Enemy5] Ragdoll activated
[20:35:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1769.023, 436.0836) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1756.216, 439.1019) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1918.477, 397.2601) (added to group)
[20:35:20] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-174.4°, current=169.7°, player=(1520,315), corner_timer=0.04
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1913.375, 426.5311) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1769.79, 377.3112) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1833.571, 407.9396) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1881.061, 414.9788) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1774.443, 454.2197) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1920.256, 432.9358) (added to group)
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1822.671, 345.3549), source=ENEMY (Enemy6), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[20:35:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1765.43, 451.9151) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1836.943, 520.207) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1882.278, 458.5004) (added to group)
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1822.671, 345.3549), source=ENEMY (Enemy6), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1973.952, 445.7378) (added to group)
[20:35:20] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1814.899, 586.4436) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1927.538, 406.9576) (added to group)
[20:35:20] [INFO] [LastChance] Threat detected: @Area2D@30805
[20:35:20] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:20] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=-137.9°, player=(1520,387), corner_timer=0.04
[20:35:20] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=169.4°, current=-164.8°, player=(1520,392), corner_timer=0.04
[20:35:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1756.3037, 352.57895), shooter_id=7346692560119, bullet_pos=(1389.7108, 431.5396)
[20:35:20] [INFO] [Bullet] Using shooter_position, distance=375,00015
[20:35:20] [INFO] [Bullet] Distance to wall: 375,00015 (25,53445% of viewport)
[20:35:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:20] [INFO] [Bullet] Starting wall penetration at (1389.7108, 431.5396)
[20:35:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,366268
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (2003.677, 434.5052) (added to group)
[20:35:20] [INFO] [Player] Spawning blood effect at (1520.173, 403.71536), dir=(1, 0), lethal=False (C#)
[20:35:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1520.173, 403.7154), dir=(1, 0), lethal=false
[20:35:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:20] [INFO] [ImpactEffects] Blood effect spawned at (1520.173, 403.7154) (scale=1)
[20:35:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[20:35:20] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[20:35:20] [INFO] [Bullet] Body exited signal received for penetrating body
[20:35:20] [INFO] [Bullet] Exiting penetration at (1344.0903, 441.3658) after traveling 41,666668 pixels through wall
[20:35:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:35:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1520,409), corner_timer=-0.02
[20:35:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1961.598, 546.0386) (added to group)
[20:35:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1520,414), corner_timer=0.30
[20:35:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1474.765, 120.3325), shooter_id=7348991039869, bullet_pos=(2466.123, 815.8363)
[20:35:20] [INFO] [Bullet] Using shooter_position, distance=1210.99792480469
[20:35:20] [INFO] [Bullet] Distance to wall: 1210.99792480469 (82.4590755287781% of viewport)
[20:35:20] [INFO] [Bullet] Distance-based penetration chance: 50.4644118830922%
[20:35:20] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1487.821, 128.6474), shooter_id=7348991039869, bullet_pos=(2470.498, 836.3697)
[20:35:20] [INFO] [Bullet] Using shooter_position, distance=1211.00158691406
[20:35:20] [INFO] [Bullet] Distance to wall: 1211.00158691406 (82.4593248885395% of viewport)
[20:35:20] [INFO] [Bullet] Distance-based penetration chance: 50.4641209633706%
[20:35:20] [INFO] [Bullet] Penetration failed (distance roll)
[20:35:20] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (2009.311, 491.2887) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1960.942, 579.2574) (added to group)
[20:35:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1531.26, 454.1231), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [ENEMY] [Enemy7] Heard gunshot at (1531.26, 454.1231), source_type=0, intensity=0.01, distance=452
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-100.2°, current=89.3°, player=(1531,454), corner_timer=0.17
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1540.498, 466.7963), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1551.972, 478.5438), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1597.99, 414.0836) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1577.131, 441.5884) (added to group)
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1563.639, 490.2111), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/3->1/3
[20:35:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1708.372, 294.2559), dir=(0.778716, -0.627377), lethal=false
[20:35:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:20] [INFO] [ImpactEffects] Blood effect spawned at (1708.372, 294.2559) (scale=0.5)
[20:35:20] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=178.7°, player=(1571,497), corner_timer=0.04
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1575.306, 501.8784), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1586.952, 418.2398) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1591.481, 425.5604) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1588.74, 409.4654) (added to group)
[20:35:20] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=114.7°, current=161.6°, player=(1583,509), corner_timer=0.04
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1587.101, 513.2377), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1617.83, 396.5597) (added to group)
[20:35:20] [INFO] [ReplayManager] Recording frame 1140 (18,5s): player_valid=True, enemies=10
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1615.602, 423.7835) (added to group)
[20:35:20] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=-126.7°, player=(1595,519), corner_timer=0.04
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1599.916, 522.1334), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1613.879, 528.2573), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1628.991, 531.6097), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1619.696, 482.799) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1672.246, 459.5814) (added to group)
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1752.323, 296.859) (added to group)
[20:35:20] [ENEMY] [Enemy5] Death animation completed
[20:35:20] [INFO] [BloodDecal] Blood puddle created at (1690.917, 418.544) (added to group)
[20:35:21] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1540.498, 466.7963), shooter_id=7348991039869, bullet_pos=(2006.868, 65.89049)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=615.001098632813
[20:35:21] [INFO] [Bullet] Distance to wall: 615.001098632813 (41.8765556932095% of viewport)
[20:35:21] [INFO] [Bullet] Distance-based penetration chance: 97.8106850245889%
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1563.639, 490.2111), shooter_id=7348991039869, bullet_pos=(1920.802, 65.40524)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=555.000183105469
[20:35:21] [INFO] [Bullet] Distance to wall: 555.000183105469 (37.7909830229978% of viewport)
[20:35:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1551.972, 478.5438), shooter_id=7348991039869, bullet_pos=(1997.13, 54.20989)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=615
[20:35:21] [INFO] [Bullet] Distance to wall: 615 (41.8764808852811% of viewport)
[20:35:21] [INFO] [Bullet] Distance-based penetration chance: 97.8107723005054%
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1575.306, 501.8784), shooter_id=7348991039869, bullet_pos=(1934.018, 52.48795)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=575.000732421875
[20:35:21] [INFO] [Bullet] Distance to wall: 575.000732421875 (39.1528572037191% of viewport)
[20:35:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1818.509, 209.0434) (added to group)
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1587.101, 513.2377), shooter_id=7348991039869, bullet_pos=(1945.012, 63.20933)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=575.0009765625
[20:35:21] [INFO] [Bullet] Distance to wall: 575.0009765625 (39.1528738277032% of viewport)
[20:35:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1762.262, 295.2284) (added to group)
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1753.568, 272.5374) (added to group)
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1599.916, 522.1334), shooter_id=7348991039869, bullet_pos=(1905.837, 59.06033)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=554.999267578125
[20:35:21] [INFO] [Bullet] Distance to wall: 554.999267578125 (37.7909206830575% of viewport)
[20:35:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1820.243, 225.7803) (added to group)
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1798.012, 342.043) (added to group)
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1764.227, 285.7285) (added to group)
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1613.879, 528.2573), shooter_id=7348991039869, bullet_pos=(1907.46, 57.26373)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=554.999450683594
[20:35:21] [INFO] [Bullet] Distance to wall: 554.999450683594 (37.7909331510456% of viewport)
[20:35:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=81.0°, current=127.0°, player=(1744,513), corner_timer=0.04
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1776.624, 318.5063) (added to group)
[20:35:21] [INFO] [BloodDecal] Blood puddle created at (1822.496, 272.899) (added to group)
[20:35:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1628.991, 531.6097), shooter_id=7348991039869, bullet_pos=(1889.774, 64.47327)
[20:35:21] [INFO] [Bullet] Using shooter_position, distance=534.999328613281
[20:35:21] [INFO] [Bullet] Distance to wall: 534.999328613281 (36.4290880622964% of viewport)
[20:35:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:21] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:21] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:35:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:21] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=57.9°, player=(1727,414), corner_timer=0.04
[20:35:21] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[20:35:21] [INFO] [ReplayManager] Recording frame 1200 (19,5s): player_valid=True, enemies=10
[20:35:21] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[20:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1713.939, 392.4129), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1709.663, 377.6842), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:21] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=58.8°, current=85.8°, player=(1708,372), corner_timer=0.04
[20:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1708.158, 361.8074), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[20:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1709.45, 346.2501), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:35:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.536, 88.07327), source=ENEMY (Enemy6), range=1469, listeners=5
[20:35:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=2
[20:35:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1713.552, 331.746), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:35:22] [INFO] [LastChance] Threat detected: Bullet
[20:35:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1536.536, 88.07327), source=ENEMY (Enemy6), range=1469, listeners=5
[20:35:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=2
[20:35:22] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[20:35:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1720.462, 318.2951), source=PLAYER (MiniUzi), range=1469, listeners=5
[20:35:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1713.939, 392.4129), shooter_id=7348991039869, bullet_pos=(1638.66, 65.9805)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=335.000061035156
[20:35:22] [INFO] [Bullet] Distance to wall: 335.000061035156 (22.8107701666776% of viewport)
[20:35:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:22] [INFO] [BloodyFeet:Enemy6] Blood ran out - no more footprints
[20:35:22] [INFO] [LastChance] Threat detected: @Area2D@30911
[20:35:22] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:22] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=150.2°, current=-8.6°, player=(1723,314), corner_timer=0.04
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1709.663, 377.6842), shooter_id=7348991039869, bullet_pos=(1631.16, 52.01205)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=335.000183105469
[20:35:22] [INFO] [Bullet] Distance to wall: 335.000183105469 (22.8107784786696% of viewport)
[20:35:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:22] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=47.6°, current=-1.3°, player=(1729,305), corner_timer=0.04
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1708.158, 361.8074), shooter_id=7348991039869, bullet_pos=(1630.579, 56.51015)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=314.999908447266
[20:35:22] [INFO] [Bullet] Distance to wall: 314.999908447266 (21.4489229999304% of viewport)
[20:35:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1709.45, 346.2501), shooter_id=7348991039869, bullet_pos=(1589.341, 55.04735)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=315.000335693359
[20:35:22] [INFO] [Bullet] Distance to wall: 315.000335693359 (21.4489520919026% of viewport)
[20:35:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:22] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/3->0/3
[20:35:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1548.494, 138.6749), dir=(-0.654733, -0.75586), lethal=true
[20:35:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:22] [INFO] [ImpactEffects] Wall found for blood splatter at (1483.81, 64) (dist=98 px)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1483.81, 65) (added to group)
[20:35:22] [INFO] [ImpactEffects] Blood effect spawned at (1548.494, 138.6749) (scale=0.75)
[20:35:22] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[20:35:22] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[20:35:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:22] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:22] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[20:35:22] [INFO] [DeathAnim] Started - Angle: -130.9 deg, Index: 3
[20:35:22] [ENEMY] [Enemy6] Death animation started with hit direction: (-0.654733, -0.75586)
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1713.552, 331.746), shooter_id=7348991039869, bullet_pos=(1545.931, 65.04761)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=314.999572753906
[20:35:22] [INFO] [Bullet] Distance to wall: 314.999572753906 (21.4489001419523% of viewport)
[20:35:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1742.091, 265.2894), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[20:35:22] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:35:22] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1571.2192, 151.46664), shooter_id=7346692560119, bullet_pos=(2466.4834, 1011.8361)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=1241,6656
[20:35:22] [INFO] [Bullet] Distance to wall: 1241,6656 (84,5473% of viewport)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1498.17, 131.4713) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1531.694, 115.7076) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1482.409, 103.0715) (added to group)
[20:35:22] [INFO] [ReplayManager] Recording frame 1260 (20,2s): player_valid=True, enemies=10
[20:35:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1491.021, 135.4055) (added to group)
[20:35:22] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[20:35:22] [ENEMY] [Enemy7] FLANKING started: target=(1535.669, 221.1495), side=right, pos=(1522.951, 824.0665)
[20:35:22] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1516.135, 95.28465) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1497.086, 113.2731) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1526.626, 68.49222) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1505.856, 129.7096) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1514.453, 121.4765) (added to group)
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1742.091, 265.2894), shooter_id=7348991039869, bullet_pos=(1347.341, 59.86765)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=445.000946044922
[20:35:22] [INFO] [Bullet] Distance to wall: 445.000946044922 (30.300932700784% of viewport)
[20:35:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:22] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1575.7407, 149.87436), shooter_id=7346692560119, bullet_pos=(2463.886, 1296.0415)
[20:35:22] [INFO] [Bullet] Using shooter_position, distance=1450,0004
[20:35:22] [INFO] [Bullet] Distance to wall: 1450,0004 (98,73319% of viewport)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1519.128, 90.17645) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1463.157, 111.4012) (added to group)
[20:35:22] [INFO] [BloodDecal] Blood puddle created at (1470.328, 79.61116) (added to group)
[20:35:23] [ENEMY] [Enemy6] Ragdoll activated
[20:35:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:23] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:35:23] [ENEMY] [Enemy6] Player reloading: false -> true
[20:35:23] [ENEMY] [Enemy7] Player reloading: false -> true
[20:35:23] [ENEMY] [Enemy8] Player reloading: false -> true
[20:35:23] [ENEMY] [Enemy9] Player reloading: false -> true
[20:35:23] [ENEMY] [Enemy10] Player reloading: false -> true
[20:35:23] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1683.29, 127.5806), source=PLAYER (Player), range=900, listeners=4
[20:35:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=1
[20:35:23] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=726), can_see=false
[20:35:23] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1340), can_see=false
[20:35:23] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1482), can_see=false
[20:35:23] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1565), can_see=false
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1412.706, 94.40089) (added to group)
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1495.699, 100.2036) (added to group)
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1465.775, 155.7073) (added to group)
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1433.484, 108.6382) (added to group)
[20:35:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1571.2192, 151.46664), shooter_id=7346692560119, bullet_pos=(2028.3578, 1529.1526)
[20:35:23] [INFO] [Bullet] Using shooter_position, distance=1451,549
[20:35:23] [INFO] [Bullet] Distance to wall: 1451,549 (98,83864% of viewport)
[20:35:23] [ENEMY] [Enemy7] FLANKING corner check: angle 81.2°
[20:35:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1462.586, 170.1602) (added to group)
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1361.259, 167.8051) (added to group)
[20:35:23] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1397.914, 78.40143) (added to group)
[20:35:23] [INFO] [BloodDecal] Blood puddle created at (1463.154, 144.4916) (added to group)
[20:35:23] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:35:23] [ENEMY] [Enemy6] Player reloading: true -> false
[20:35:23] [ENEMY] [Enemy7] Player reloading: true -> false
[20:35:23] [ENEMY] [Enemy8] Player reloading: true -> false
[20:35:23] [ENEMY] [Enemy9] Player reloading: true -> false
[20:35:23] [ENEMY] [Enemy10] Player reloading: true -> false
[20:35:23] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:35:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1571.2192, 151.46664), shooter_id=7346692560119, bullet_pos=(2363.1448, 2071.301)
[20:35:23] [INFO] [Bullet] Using shooter_position, distance=2076,7546
[20:35:23] [INFO] [Bullet] Distance to wall: 2076,7546 (141,41003% of viewport)
[20:35:23] [ENEMY] [Enemy7] FLANKING corner check: angle 91.5°
[20:35:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1571.2192, 151.46664), shooter_id=7346692560119, bullet_pos=(2463.7705, 1887.3118)
[20:35:23] [INFO] [Bullet] Using shooter_position, distance=1951,8724
[20:35:23] [INFO] [Bullet] Distance to wall: 1951,8724 (132,90659% of viewport)
[20:35:23] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:35:23] [ENEMY] [Enemy8] Memory: medium confidence (0.57) - transitioning to PURSUING
[20:35:23] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[20:35:23] [ENEMY] [Enemy9] Memory: medium confidence (0.51) - transitioning to PURSUING
[20:35:23] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[20:35:23] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-106.3°, current=157.5°, player=(1500,85), corner_timer=0.00
[20:35:23] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-112.3°, current=146.3°, player=(1500,85), corner_timer=0.00
[20:35:23] [ENEMY] [Enemy9] State: PURSUING -> RETREATING
[20:35:23] [ENEMY] [Enemy8] PURSUING corner check: angle 154.1°
[20:35:23] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[20:35:23] [INFO] [ReplayManager] Recording frame 1320 (21,2s): player_valid=True, enemies=10
[20:35:23] [ENEMY] [Enemy7] FLANKING corner check: angle 155.4°
[20:35:23] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[20:35:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:23] [ENEMY] [Enemy6] Death animation completed
[20:35:24] [ENEMY] [Enemy8] PURSUING corner check: angle 154.1°
[20:35:24] [ENEMY] [Enemy7] FLANKING corner check: angle 80.2°
[20:35:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1571.2192, 151.46664), shooter_id=7346692560119, bullet_pos=(2101.5632, 1212.0652)
[20:35:24] [INFO] [Bullet] Using shooter_position, distance=1185,8052
[20:35:24] [INFO] [Bullet] Distance to wall: 1185,8052 (80,74366% of viewport)
[20:35:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:24] [INFO] [ReplayManager] Recording frame 1380 (22,2s): player_valid=True, enemies=10
[20:35:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:25] [ENEMY] [Enemy7] FLANKING corner check: angle 174.7°
[20:35:25] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:35:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:25] [ENEMY] [Enemy7] FLANKING corner check: angle -114.4°
[20:35:25] [ENEMY] [Enemy9] State: SUPPRESSED -> IN_COVER
[20:35:25] [ENEMY] [Enemy9] State: IN_COVER -> PURSUING
[20:35:25] [INFO] [ReplayManager] Recording frame 1440 (23,2s): player_valid=True, enemies=10
[20:35:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:25] [ENEMY] [Enemy8] Warning: No valid flank position (both sides behind walls)
[20:35:25] [ENEMY] [Enemy8] FLANKING started: target=(1584.702, 690.7148), side=right, pos=(1804.477, 1253.301)
[20:35:25] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[20:35:25] [ENEMY] [Enemy8] FLANKING corner check: angle 97.7°
[20:35:26] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:35:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:26] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-22.4°, current=-26.9°, player=(1863,580), corner_timer=-0.02
[20:35:26] [ENEMY] [Enemy8] FLANKING corner check: angle 113.3°
[20:35:26] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[20:35:26] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-73.1°, current=-78.2°, player=(1882,588), corner_timer=0.27
[20:35:26] [ENEMY] [Enemy8] State: FLANKING -> COMBAT
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1890.667, 593.8724), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-71.7°, current=16.1°, player=(1890,593), corner_timer=0.27
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1902.622, 604.8445), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1890.667, 593.8724), shooter_id=7348991039869, bullet_pos=(1776.6, 608.4921)
[20:35:26] [INFO] [Bullet] Using shooter_position, distance=115.000205993652
[20:35:26] [INFO] [Bullet] Distance to wall: 115.000205993652 (7.83057549283995% of viewport)
[20:35:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:26] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1913.981, 616.6394), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1902.622, 604.8445), shooter_id=7348991039869, bullet_pos=(1768.683, 621.7347)
[20:35:26] [INFO] [Bullet] Using shooter_position, distance=135.000213623047
[20:35:26] [INFO] [Bullet] Distance to wall: 135.000213623047 (9.19241278909656% of viewport)
[20:35:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:26] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1925.226, 633.9817), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1930.358, 647.8171), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-64.0°, current=-16.1°, player=(1931,652), corner_timer=0.27
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1932.515, 661.2684), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1931.697, 674.3358), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[20:35:26] [ENEMY] [Enemy7] Hit: dmg=1, hp=2/2->1/2
[20:35:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1679.342, 683.003), dir=(-0.994629, 0.103503), lethal=false
[20:35:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:26] [INFO] [ImpactEffects] Blood effect spawned at (1679.342, 683.003) (scale=0.5)
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1925.977, 691.1616), source=PLAYER (MiniUzi), range=1469, listeners=4
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=2
[20:35:26] [ENEMY] [Enemy7] Hit: dmg=1, hp=1/2->0/2
[20:35:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1679.342, 683.003), dir=(-0.995728, 0.092334), lethal=true
[20:35:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:26] [INFO] [ImpactEffects] Blood effect spawned at (1679.342, 683.003) (scale=0.75)
[20:35:26] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[20:35:26] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[20:35:26] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:26] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:26] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:26] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:26] [ENEMY] [Enemy7] [AllyDeath] Notified 1 enemies
[20:35:26] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[20:35:26] [INFO] [DeathAnim] Started - Angle: 174.7 deg, Index: 23
[20:35:26] [ENEMY] [Enemy7] Death animation started with hit direction: (-0.995728, 0.092334)
[20:35:26] [INFO] [ReplayManager] Recording frame 1500 (24,2s): player_valid=True, enemies=10
[20:35:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1923.492, 695.6709), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:27] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:35:27] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1913.981, 616.6394), shooter_id=7348991039869, bullet_pos=(1345.077, 685.0327)
[20:35:27] [INFO] [Bullet] Using shooter_position, distance=573.001098632813
[20:35:27] [INFO] [Bullet] Distance to wall: 573.001098632813 (39.0166984620196% of viewport)
[20:35:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:27] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1589.076, 675.799) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1639.661, 719.4252) (added to group)
[20:35:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1931.697, 674.3358), shooter_id=7348991039869, bullet_pos=(1501.503, 625.1048)
[20:35:27] [INFO] [Bullet] Using shooter_position, distance=433.001525878906
[20:35:27] [INFO] [Bullet] Distance to wall: 433.001525878906 (29.483870116692% of viewport)
[20:35:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1607.208, 748.2284) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1625.096, 702.2437) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1632.296, 687.3831) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1604.016, 695.54) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1618.544, 716.074) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1598.325, 695.1669) (added to group)
[20:35:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1568.205, 672.6169) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1574.624, 693.0442) (added to group)
[20:35:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1923.492, 695.6709), shooter_id=7348991039869, bullet_pos=(1498.102, 626.3542)
[20:35:27] [INFO] [Bullet] Using shooter_position, distance=431.000213623047
[20:35:27] [INFO] [Bullet] Distance to wall: 431.000213623047 (29.3475970851018% of viewport)
[20:35:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:27] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1575.707, 730.1971) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1572.959, 750.2845) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1546.418, 735.6163) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1619.395, 723.8152) (added to group)
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1760.421, 1004.051), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1577.111, 769.2767) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1617.206, 762.1578) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1533.749, 729.3386) (added to group)
[20:35:27] [INFO] [LastChance] Threat detected: Bullet
[20:35:27] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1535.088, 737.4845) (added to group)
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1554.121, 722.457) (added to group)
[20:35:27] [ENEMY] [Enemy9] PURSUING corner check: angle 38.7°
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1562.821, 738.1672) (added to group)
[20:35:27] [ENEMY] [Enemy7] Ragdoll activated
[20:35:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1556.526, 755.2802) (added to group)
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1760.421, 1004.051), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1549.979, 693.3977) (added to group)
[20:35:27] [INFO] [LastChance] Threat detected: Bullet
[20:35:27] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:27] [INFO] [Player] Spawning blood effect at (1867.583, 854.3997), dir=(1, 0), lethal=False (C#)
[20:35:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1867.583, 854.3997), dir=(1, 0), lethal=false
[20:35:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:27] [INFO] [ImpactEffects] Blood effect spawned at (1867.583, 854.3997) (scale=1)
[20:35:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[20:35:27] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[20:35:27] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:35:27] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1483.783, 732.3688) (added to group)
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1760.421, 1004.051), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:27] [INFO] [LastChance] Threat detected: Bullet
[20:35:27] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:27] [INFO] [Player] Spawning blood effect at (1867.583, 887.3997), dir=(1, 0), lethal=False (C#)
[20:35:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1867.583, 887.3997), dir=(1, 0), lethal=false
[20:35:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:27] [INFO] [ImpactEffects] Blood effect spawned at (1867.583, 887.3997) (scale=1)
[20:35:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[20:35:27] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1506.451, 760.3748) (added to group)
[20:35:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1932.515, 661.2684), shooter_id=7348991039869, bullet_pos=(919.7128, 641.3257)
[20:35:27] [INFO] [Bullet] Using shooter_position, distance=1012.99890136719
[20:35:27] [INFO] [Bullet] Distance to wall: 1012.99890136719 (68.9769579348191% of viewport)
[20:35:27] [INFO] [Bullet] Distance-based penetration chance: 66.1935490760444%
[20:35:27] [INFO] [Bullet] Penetration failed (distance roll)
[20:35:27] [INFO] [ReplayManager] Recording frame 1560 (24,9s): player_valid=True, enemies=10
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1735.508, 996.1599), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:27] [INFO] [LastChance] Threat detected: Bullet
[20:35:27] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1867.583, 920.3997), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:27] [ENEMY] [Enemy9] PURSUING corner check: angle -141.3°
[20:35:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1925.977, 691.1616), shooter_id=7348991039869, bullet_pos=(933.1533, 672.4092)
[20:35:27] [INFO] [Bullet] Using shooter_position, distance=993.001037597656
[20:35:27] [INFO] [Bullet] Distance to wall: 993.001037597656 (67.6152666179228% of viewport)
[20:35:27] [INFO] [Bullet] Distance-based penetration chance: 67.7821889457567%
[20:35:27] [INFO] [Bullet] Penetration failed (distance roll)
[20:35:27] [INFO] [Player] Spawning blood effect at (1867.583, 925.8997), dir=(1, 0), lethal=False (C#)
[20:35:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1867.583, 925.8997), dir=(1, 0), lethal=false
[20:35:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:27] [INFO] [ImpactEffects] Blood effect spawned at (1867.583, 925.8997) (scale=1)
[20:35:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[20:35:27] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1867.891, 931.2722), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1921.874, 894.8384) (added to group)
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1870.663, 946.6241), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1710.594, 988.269), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1912.231, 860.535) (added to group)
[20:35:27] [INFO] [LastChance] Threat detected: Bullet
[20:35:27] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:27] [INFO] [BloodDecal] Blood puddle created at (1955.139, 867.5865) (added to group)
[20:35:28] [INFO] [Player] Spawning blood effect at (1876.2059, 960.82794), dir=(1, 0), lethal=False (C#)
[20:35:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1876.206, 960.8279), dir=(1, 0), lethal=false
[20:35:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:28] [INFO] [ImpactEffects] Blood effect spawned at (1876.206, 960.8279) (scale=1)
[20:35:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 4.0
[20:35:28] [INFO] [LastChance] Player health updated (C# Damaged): 4.0
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1878.67, 965.3074), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1966.057, 902.2963) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1934.191, 872.3777) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1924.444, 901.0867) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1923.888, 903.043) (added to group)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1685.681, 980.3782), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1891.604, 981.9498), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:28] [INFO] [LastChance] Threat detected: Bullet
[20:35:28] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1942.414, 877.2676) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1950.409, 898.389) (added to group)
[20:35:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1903,993), corner_timer=0.27
[20:35:28] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1907.16, 997.5062), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[20:35:28] [INFO] [Player] Spawning blood effect at (1907.16, 997.50616), dir=(1, 0), lethal=False (C#)
[20:35:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1907.16, 997.5062), dir=(1, 0), lethal=false
[20:35:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:28] [INFO] [ImpactEffects] Blood effect spawned at (1907.16, 997.5062) (scale=1)
[20:35:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[20:35:28] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1941.423, 890.1674) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1946.678, 956.7938) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1950.934, 955.3706) (added to group)
[20:35:28] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.4°, current=-134.7°, player=(1911,1001), corner_timer=0.27
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1660.767, 972.4872), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1960.18, 990.7698) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1919.467, 948.0751) (added to group)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1922.716, 1013.063), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1951.637, 963.1142) (added to group)
[20:35:28] [INFO] [LastChance] Threat detected: Bullet
[20:35:28] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1959.941, 995.9846) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1919.471, 982.552) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1936.094, 972.3836) (added to group)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1938.272, 1028.619), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2013.792, 1018.832) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2028.297, 920.5509) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1946.73, 985.2984) (added to group)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1637.662, 961.1542), source=ENEMY (Enemy8), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2060.846, 915.2028) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1974.377, 1012.914) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2017.995, 919.0519) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1973.779, 1013.358) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1969.282, 998.4478) (added to group)
[20:35:28] [ENEMY] [Enemy8] Hit: dmg=1, hp=2/2->1/2
[20:35:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1631.248, 957.3308), dir=(-0.993079, -0.117448), lethal=false
[20:35:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:28] [INFO] [ImpactEffects] Wall found for blood splatter at (1590, 952.4525) (dist=41 px)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1591, 952.4525) (added to group)
[20:35:28] [INFO] [ImpactEffects] Blood effect spawned at (1631.248, 957.3308) (scale=0.5)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1953.828, 1044.175), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1982.88, 957.0076) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2052.348, 976.2048) (added to group)
[20:35:28] [INFO] [LastChance] Threat detected: @Area2D@31153
[20:35:28] [INFO] [LastChance] Not in hard mode - effect disabled
[20:35:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2105.718, 948.4071) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2047.625, 950.7081) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1957.724, 973.0541) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1941.196, 982.1532) (added to group)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1969.385, 1059.731), source=PLAYER (MiniUzi), range=1469, listeners=3
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2027.505, 988.3406) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1956.252, 1009.332) (added to group)
[20:35:28] [ENEMY] [Enemy8] Hit: dmg=1, hp=1/2->0/2
[20:35:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1626.981, 979.3207), dir=(-0.979737, -0.20029), lethal=true
[20:35:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:28] [INFO] [ImpactEffects] Wall found for blood splatter at (1590, 971.7605) (dist=37 px)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1591, 971.7605) (added to group)
[20:35:28] [INFO] [ImpactEffects] Blood effect spawned at (1626.981, 979.3207) (scale=0.75)
[20:35:28] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[20:35:28] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[20:35:28] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:28] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:28] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:28] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:28] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[20:35:28] [INFO] [DeathAnim] Started - Angle: -168.4 deg, Index: 0
[20:35:28] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.979737, -0.20029)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1962.318, 990.9279) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1975.902, 1006.392) (added to group)
[20:35:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1981.441, 1071.787), source=PLAYER (MiniUzi), range=1469, listeners=2
[20:35:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1977.13, 1059.192) (added to group)
[20:35:28] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:35:28] [ENEMY] [Enemy7] Death animation completed
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1726.6877, 988.857), shooter_id=7347397203085, bullet_pos=(2463.7976, 1012.92065)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=737,50256
[20:35:28] [INFO] [Bullet] Distance to wall: 737,50256 (50,217907% of viewport)
[20:35:28] [INFO] [Bullet] Distance-based penetration chance: 88,07911%
[20:35:28] [INFO] [Bullet] Starting wall penetration at (2463.7976, 1012.92065)
[20:35:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[20:35:28] [INFO] [Bullet] Exiting penetration at (2472.9595, 1013.2197) after traveling 4,166667 pixels through wall
[20:35:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[20:35:28] [INFO] [PowerFantasy] Effect duration expired after 309.00 ms
[20:35:28] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2037.728, 974.7126) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2037.998, 1014.508) (added to group)
[20:35:28] [INFO] [ReplayManager] Recording frame 1620 (25,7s): player_valid=True, enemies=10
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1867.891, 931.2722), shooter_id=7348991039869, bullet_pos=(1189.015, 1374.95)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=811.001342773438
[20:35:28] [INFO] [Bullet] Distance to wall: 811.001342773438 (55.2225727294132% of viewport)
[20:35:28] [INFO] [Bullet] Distance-based penetration chance: 82.2403318156846%
[20:35:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1938.272, 1028.619), shooter_id=7348991039869, bullet_pos=(1581.674, 926.2515)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=371.000549316406
[20:35:28] [INFO] [Bullet] Distance to wall: 371.000549316406 (25.2621096128086% of viewport)
[20:35:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1867.583, 920.3997), shooter_id=7348991039869, bullet_pos=(1128.993, 1382.051)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=870.997375488281
[20:35:28] [INFO] [Bullet] Distance to wall: 870.997375488281 (59.3078129199431% of viewport)
[20:35:28] [INFO] [Bullet] Distance-based penetration chance: 77.4742182600664%
[20:35:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1870.663, 946.6241), shooter_id=7348991039869, bullet_pos=(1207.365, 1377.574)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=791.000793457031
[20:35:28] [INFO] [Bullet] Distance to wall: 791.000793457031 (53.8606985486919% of viewport)
[20:35:28] [INFO] [Bullet] Distance-based penetration chance: 83.8291850265261%
[20:35:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2009.889, 1012.896) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2068.45, 1009.502) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2094.612, 1123.444) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1973.572, 1019.364) (added to group)
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1701.5928, 984.1457), shooter_id=7347397203085, bullet_pos=(2474.5317, 1111.3237)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=783,3319
[20:35:28] [INFO] [Bullet] Distance to wall: 783,3319 (53,33851% of viewport)
[20:35:28] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2076.334, 1001.918) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2069.952, 1113.272) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2029.084, 1048.359) (added to group)
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (2028.897, 1077.331) (added to group)
[20:35:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1878.67, 965.3074), shooter_id=7348991039869, bullet_pos=(1111.049, 1376.89)
[20:35:28] [INFO] [Bullet] Using shooter_position, distance=871.000549316406
[20:35:28] [INFO] [Bullet] Distance to wall: 871.000549316406 (59.3080290317363% of viewport)
[20:35:28] [INFO] [Bullet] Distance-based penetration chance: 77.473966129641%
[20:35:28] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:28] [INFO] [BloodDecal] Blood puddle created at (1996.878, 1089.39) (added to group)
[20:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1953.828, 1044.175), shooter_id=7348991039869, bullet_pos=(1528.01, 799.7159)
[20:35:29] [INFO] [Bullet] Using shooter_position, distance=491.001098632813
[20:35:29] [INFO] [Bullet] Distance to wall: 491.001098632813 (33.4331676773154% of viewport)
[20:35:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1995.25, 1109.176) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (2128.298, 1091.295) (added to group)
[20:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1969.385, 1059.731), shooter_id=7348991039869, bullet_pos=(1555.844, 795.0322)
[20:35:29] [INFO] [Bullet] Using shooter_position, distance=491.000122070313
[20:35:29] [INFO] [Bullet] Distance to wall: 491.000122070313 (33.4331011813791% of viewport)
[20:35:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1565.161, 1009.87) (added to group)
[20:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1981.441, 1071.787), shooter_id=7348991039869, bullet_pos=(1530.266, 795.5931)
[20:35:29] [INFO] [Bullet] Using shooter_position, distance=529.000854492188
[20:35:29] [INFO] [Bullet] Distance to wall: 529.000854492188 (36.0206409291698% of viewport)
[20:35:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:29] [ENEMY] [Enemy8] Ragdoll activated
[20:35:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1525.061, 1049.093) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1449.373, 1082.779) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1534.359, 1047.171) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1456.404, 1096.351) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1493.868, 1038.705) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1500.955, 1110.599) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1422.809, 1065.789) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1500.602, 1123.012) (added to group)
[20:35:29] [INFO] [BloodDecal] Blood puddle created at (1504.388, 1065.464) (added to group)
[20:35:29] [ENEMY] [Enemy8] Death animation completed
[20:35:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1931.697, 674.3358), shooter_id=7348991039869, bullet_pos=(524.3893, 558.2136)
[20:35:29] [INFO] [Bullet] Using shooter_position, distance=1412.09033203125
[20:35:29] [INFO] [Bullet] Distance to wall: 1412.09033203125 (96.1518273131656% of viewport)
[20:35:29] [INFO] [Bullet] Distance-based penetration chance: 34.4895348013068%
[20:35:29] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:29] [INFO] [ReplayManager] Recording frame 1680 (26,7s): player_valid=True, enemies=10
[20:35:29] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-127.7°, current=-128.7°, player=(2075,1171), corner_timer=-0.02
[20:35:29] [ENEMY] [Enemy9] PURSUING corner check: angle 128.7°
[20:35:30] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-126.5°, current=135.6°, player=(2080,1171), corner_timer=0.30
[20:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2121.328, 1163.361), source=PLAYER (MiniUzi), range=1469, listeners=2
[20:35:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2134.384, 1155.046), source=PLAYER (MiniUzi), range=1469, listeners=2
[20:35:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2146.339, 1144.074), source=PLAYER (MiniUzi), range=1469, listeners=2
[20:35:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:35:30] [ENEMY] [Enemy9] Hit: dmg=1, hp=2/2->1/2
[20:35:30] [INFO] [ImpactEffects] spawn_blood_effect called at (2179.484, 1324.671), dir=(0.28841, 0.957507), lethal=false
[20:35:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:30] [INFO] [ImpactEffects] Blood effect spawned at (2179.484, 1324.671) (scale=0.5)
[20:35:30] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-100.4°, current=-106.8°, player=(2146,1144), corner_timer=0.07
[20:35:30] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[20:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2158.772, 1134.254), source=PLAYER (MiniUzi), range=1469, listeners=2
[20:35:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[20:35:30] [ENEMY] [Enemy9] Hit: dmg=1, hp=1/2->0/2
[20:35:30] [INFO] [ImpactEffects] spawn_blood_effect called at (2170.803, 1318.472), dir=(0.269666, 0.962954), lethal=true
[20:35:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:30] [INFO] [ImpactEffects] Blood effect spawned at (2170.803, 1318.472) (scale=0.75)
[20:35:30] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[20:35:30] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[20:35:30] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:30] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:30] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:30] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:30] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 1)
[20:35:30] [INFO] [DeathAnim] Started - Angle: 74.4 deg, Index: 16
[20:35:30] [ENEMY] [Enemy9] Death animation started with hit direction: (0.269666, 0.962954)
[20:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2165.837, 1130.067), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[20:35:30] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:35:30] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2184.6, 1123.077), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[20:35:30] [INFO] [ReplayManager] Recording frame 1740 (27,4s): player_valid=True, enemies=10
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2221.319, 1386.423) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2238.184, 1418.307) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2172.446, 1388.958) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2189.108, 1370.036) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2175.667, 1432.499) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2173.085, 1381.273) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2183.38, 1401.965) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2207.776, 1463.31) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2181.421, 1402.523) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2234.213, 1424.169) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2204.883, 1411.854) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2195.684, 1442.758) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2172.119, 1429.237) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2210.962, 1411.163) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2225.178, 1420.784) (added to group)
[20:35:30] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2156.678, 1492.477) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2240.039, 1446.021) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2213.051, 1462.362) (added to group)
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2157.226, 1491.191) (added to group)
[20:35:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2184.6, 1123.077), shooter_id=7348991039869, bullet_pos=(1959.582, 1471.777)
[20:35:30] [INFO] [Bullet] Using shooter_position, distance=414.99951171875
[20:35:30] [INFO] [Bullet] Distance to wall: 414.99951171875 (28.2580798697418% of viewport)
[20:35:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:30] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2157.822, 1433.356) (added to group)
[20:35:30] [ENEMY] [Enemy10] PURSUING corner check: angle 59.4°
[20:35:30] [INFO] [BloodDecal] Blood puddle created at (2206.018, 1439.727) (added to group)
[20:35:31] [ENEMY] [Enemy9] Ragdoll activated
[20:35:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2268.878, 1477.192) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2171.152, 1507.074) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2186.428, 1523.591) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2254.266, 1502.805) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2239.492, 1508.446) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2183.381, 1555.711) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2237.195, 1581.79) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2199.518, 1519.518) (added to group)
[20:35:31] [INFO] [BloodDecal] Blood puddle created at (2211.742, 1586.203) (added to group)
[20:35:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2146.339, 1144.074), shooter_id=7348991039869, bullet_pos=(2361.021, 2070.526)
[20:35:31] [INFO] [Bullet] Using shooter_position, distance=951.000732421875
[20:35:31] [INFO] [Bullet] Distance to wall: 951.000732421875 (64.7553886067528% of viewport)
[20:35:31] [INFO] [Bullet] Distance-based penetration chance: 71.1187132921218%
[20:35:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2158.772, 1134.254), shooter_id=7348991039869, bullet_pos=(2306.714, 2073.676)
[20:35:31] [INFO] [Bullet] Using shooter_position, distance=950.999267578125
[20:35:31] [INFO] [Bullet] Distance to wall: 950.999267578125 (64.7552888628482% of viewport)
[20:35:31] [INFO] [Bullet] Distance-based penetration chance: 71.1188296600104%
[20:35:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2165.837, 1130.067), shooter_id=7348991039869, bullet_pos=(2124.31, 2068.15)
[20:35:31] [INFO] [Bullet] Using shooter_position, distance=939.001708984375
[20:35:31] [INFO] [Bullet] Distance to wall: 939.001708984375 (63.9383530366349% of viewport)
[20:35:31] [INFO] [Bullet] Distance-based penetration chance: 72.0719214572593%
[20:35:31] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:31] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[20:35:31] [ENEMY] [Enemy9] Player reloading: false -> true
[20:35:31] [ENEMY] [Enemy10] Player reloading: false -> true
[20:35:31] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2159.782, 1323.802), source=PLAYER (Player), range=900, listeners=1
[20:35:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[20:35:31] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=707), can_see=false
[20:35:31] [INFO] [ReplayManager] Recording frame 1800 (28,4s): player_valid=True, enemies=10
[20:35:31] [INFO] [Player.Reload.Anim] LeftArm: pos=(-5.5475926, 2.0919342), target=(-6, 2), base=(14, 6)
[20:35:31] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0072641, 6), target=(1, 6), base=(1, 6)
[20:35:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[20:35:32] [ENEMY] [Enemy9] Death animation completed
[20:35:32] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[20:35:32] [INFO] [GrenadeBase] Grenade created at (1482.997, 1378.046) (frozen)
[20:35:32] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[20:35:32] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[20:35:32] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[20:35:32] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[20:35:32] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[20:35:32] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[20:35:32] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.635317, -0.772251), Speed: 1186.5 (unfrozen)
[20:35:32] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[20:35:32] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[20:35:32] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[20:35:32] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (1900.211, 1003.866), Distance: 600
[20:35:32] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[20:35:32] [ENEMY] [Enemy9] Player reloading: true -> false
[20:35:32] [ENEMY] [Enemy10] Player reloading: true -> false
[20:35:32] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[20:35:32] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[20:35:32] [INFO] [ReplayManager] Recording frame 1860 (29,4s): player_valid=True, enemies=10
[20:35:32] [ENEMY] [Enemy10] FLANKING started: target=(1775.555, 1491.04), side=left, pos=(1457.584, 1408.936)
[20:35:32] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[20:35:32] [ENEMY] [Enemy10] FLANKING corner check: angle 158.2°
[20:35:32] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-19.1°, current=-22.9°, player=(1792,1268), corner_timer=0.25
[20:35:32] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=-20.2°, current=43.7°, player=(1784,1260), corner_timer=0.22
[20:35:33] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-20.5°, current=-6.1°, player=(1780,1257), corner_timer=0.20
[20:35:33] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[20:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1699.271, 1228.066), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1682.771, 1228.066), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1666.271, 1228.066), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1649.771, 1228.066), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:35:33] [ENEMY] [Enemy10] Hit: dmg=1, hp=2/2->1/2
[20:35:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1526.84, 1344.774), dir=(-0.755132, 0.655572), lethal=false
[20:35:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[20:35:33] [INFO] [ImpactEffects] Blood effect spawned at (1526.84, 1344.774) (scale=0.5)
[20:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1699.271, 1228.066), shooter_id=7348991039869, bullet_pos=(1510.369, 1399.36)
[20:35:33] [INFO] [Bullet] Using shooter_position, distance=255.000595092773
[20:35:33] [INFO] [Bullet] Distance to wall: 255.000595092773 (17.3634594246144% of viewport)
[20:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:33] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1633.271, 1228.066), source=PLAYER (MiniUzi), range=1469, listeners=1
[20:35:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[20:35:33] [ENEMY] [Enemy10] Hit: dmg=1, hp=1/2->0/2
[20:35:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1526.84, 1344.774), dir=(-0.758958, 0.651139), lethal=true
[20:35:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[20:35:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[20:35:33] [INFO] [ImpactEffects] Blood effect spawned at (1526.84, 1344.774) (scale=0.75)
[20:35:33] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[20:35:33] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[20:35:33] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[20:35:33] [INFO] [PowerFantasy] Starting power fantasy effect:
[20:35:33] [INFO] [PowerFantasy]   - Time scale: 0.10
[20:35:33] [INFO] [PowerFantasy]   - Duration: 300ms
[20:35:33] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[20:35:33] [INFO] [DeathAnim] Started - Angle: 139.4 deg, Index: 21
[20:35:33] [ENEMY] [Enemy10] Death animation started with hit direction: (-0.758958, 0.651139)
[20:35:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1624.47, 1228.066), source=PLAYER (MiniUzi), range=1469, listeners=0
[20:35:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[20:35:33] [INFO] [ReplayManager] Recording frame 1920 (30,1s): player_valid=True, enemies=10
[20:35:33] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[20:35:33] [INFO] [PowerFantasy] Ending power fantasy effect
[20:35:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1624.47, 1228.066), shooter_id=7348991039869, bullet_pos=(1491.949, 1402.419)
[20:35:33] [INFO] [Bullet] Using shooter_position, distance=218.999496459961
[20:35:33] [INFO] [Bullet] Distance to wall: 218.999496459961 (14.9120784185231% of viewport)
[20:35:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:33] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1470.236, 1382.269) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1472.15, 1374.655) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1478.893, 1380.231) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1472.868, 1391.794) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1450.582, 1394.098) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1419.444, 1403.281) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1422.523, 1408.338) (added to group)
[20:35:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1633.271, 1228.066), shooter_id=7348991039869, bullet_pos=(1256.085, 1629.729)
[20:35:34] [INFO] [Bullet] Using shooter_position, distance=551.001159667969
[20:35:34] [INFO] [Bullet] Distance to wall: 551.001159667969 (37.5186821635828% of viewport)
[20:35:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[20:35:34] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1649.771, 1228.066), shooter_id=7348991039869, bullet_pos=(1191.297, 1631.951)
[20:35:34] [INFO] [Bullet] Using shooter_position, distance=611
[20:35:34] [INFO] [Bullet] Distance to wall: 611 (41.6041135299297% of viewport)
[20:35:34] [INFO] [Bullet] Distance-based penetration chance: 98.1285342150821%
[20:35:34] [INFO] [Bullet] Caliber cannot penetrate walls
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1457.93, 1435.583) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1414.74, 1472.256) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1385.385, 1435.909) (added to group)
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1397.076, 1445.011) (added to group)
[20:35:34] [ENEMY] [Enemy10] Ragdoll activated
[20:35:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[20:35:34] [INFO] [BloodDecal] Blood puddle created at (1333.331, 1510.679) (added to group)
[20:35:34] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(2371.066, 298.5646), source=NEUTRAL (FragGrenade), range=112, listeners=0
[20:35:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[20:35:34] [INFO] [GrenadeBase] Grenade landed at (2371.066, 298.5646)
[20:35:34] [INFO] [FragGrenade] Impact detected - exploding immediately!
[20:35:34] [INFO] [GrenadeBase] EXPLODED at (2371.066, 298.5646)!
[20:35:34] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[20:35:34] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[20:35:34] [INFO] [LastChance] Starting last chance effect:
[20:35:34] [INFO] [LastChance]   - Time will be frozen (except player)
[20:35:34] [INFO] [LastChance]   - Duration: 2.00 real seconds
[20:35:34] [INFO] [LastChance]   - Trigger: grenade explosion
[20:35:34] [INFO] [LastChance]   - Sepia intensity: 0.70
[20:35:34] [INFO] [LastChance]   - Brightness: 0.60
[20:35:34] [INFO] [LastChance] Set player Player and all 30 children to PROCESS_MODE_ALWAYS
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[20:35:34] [INFO] [LastChance] Skipping player node: Player
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: Casing
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30688
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30691
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30694
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30696
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30722
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30725
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30728
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30731
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30734
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30736
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30747
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30822
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30825
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30829
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30835
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30839
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30847
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30854
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30858
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30862
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30897
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30900
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30903
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30906
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30910
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30915
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30934
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@30996
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31000
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31003
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31008
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31011
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31015
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31018
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31022
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31029
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31053
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31074
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31085
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31093
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31098
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31108
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31118
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31125
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31139
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31149
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31166
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31176
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31186
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31238
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31242
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31245
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31248
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31252
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31256
[20:35:34] [INFO] [LastChance] Froze existing grenade: FragGrenade
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31305
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31308
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31311
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31314
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31317
[20:35:34] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@31326
[20:35:34] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[20:35:34] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[20:35:34] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[20:35:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2371.066, 298.5646), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[20:35:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[20:35:34] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[20:35:34] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[20:35:34] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -10.9 degrees
[20:35:34] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@31367
[20:35:34] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@31367
[20:35:34] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.0 degrees
[20:35:34] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@31368
[20:35:34] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@31368
[20:35:34] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 168.9 degrees
[20:35:34] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@31369
[20:35:34] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@31369
[20:35:34] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 253.0 degrees
[20:35:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (2371.066, 298.5646) (radius=225) - using shadow-based wall occlusion
[20:35:34] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@31370
[20:35:34] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@31370
[20:35:34] [INFO] [ReplayManager] Recording frame 1980 (31,1s): player_valid=True, enemies=10
[20:35:35] [INFO] [ReplayManager] Recording frame 2040 (32,1s): player_valid=True, enemies=10
[20:35:36] [INFO] [LastChance] Effect duration expired after 2.02 real seconds
[20:35:36] [INFO] [LastChance] Ending last chance effect
[20:35:36] [INFO] [LastChance] All process modes restored
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: Casing
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30688
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30691
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30694
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30696
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30722
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30725
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30728
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30731
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30734
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30736
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30747
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30822
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30825
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30829
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30835
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30839
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30847
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30854
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30858
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30862
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30897
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30900
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30903
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30906
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30910
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30915
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30934
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@30996
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31000
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31003
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31008
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31011
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31015
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31018
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31022
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31029
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31053
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31074
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31085
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31093
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31098
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31108
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31118
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31125
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31139
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31149
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31166
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31176
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31186
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31238
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31242
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31245
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31248
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31252
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31256
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31305
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31308
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31311
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31314
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31317
[20:35:36] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@31326
[20:35:36] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[20:35:36] [INFO] [LastChance] Unfroze shrapnel: @Area2D@31367
[20:35:36] [INFO] [LastChance] Unfroze shrapnel: @Area2D@31368
[20:35:36] [INFO] [LastChance] Unfroze shrapnel: @Area2D@31369
[20:35:36] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@31370
[20:35:36] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[20:35:36] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[20:35:36] [INFO] [ReplayManager] Recording frame 2100 (33,1s): player_valid=True, enemies=10
[20:35:37] [INFO] [LastChance] Visual effects fade-out complete
[20:35:37] [INFO] [LastChance] Restored original colors to 5 player sprites
[20:35:37] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[20:35:37] [INFO] [ReplayManager] Recording frame 2160 (34,1s): player_valid=True, enemies=10
[20:35:38] [INFO] [BuildingLevel] Player controls disabled (level completed)
[20:35:38] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[20:35:38] [INFO] [ReplayManager] Total frames recorded: 2187
[20:35:38] [INFO] [ReplayManager] Total duration: 34,54s
[20:35:38] [INFO] [ReplayManager] Blood decals at end: 496 (baseline at frame 0: 39)
[20:35:38] [INFO] [ReplayManager] Casings at end: 62 (baseline at frame 0: 0)
[20:35:38] [INFO] [ReplayManager] Footprints recorded: 70
[20:35:38] [INFO] [ReplayManager] has_replay() will return: True
[20:35:38] [INFO] [BuildingLevel] Replay recording stopped
[20:35:38] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=34.54s
[20:35:38] [INFO] [ScoreManager] Combo ended at 6. Max combo: 6
[20:35:38] [INFO] [ProgressManager] No improvement for res://scenes/levels/BuildingLevel.tscn on Power Fantasy (existing: rank=A+, score=44700)
[20:35:38] [INFO] [ScoreManager] Level completed! Final score: 38949, Rank: A
[20:35:39] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[20:35:41] [INFO] [BuildingLevel] Watch Replay triggered
[20:35:41] [INFO] [ReplayManager] Progressive floor state: blood=496 (baseline=39, to spawn=457), casings=62 (baseline=0, to spawn=62), footprints=70 (baseline=0)
[20:35:41] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/mini_uzi_topdown.png
[20:35:41] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[20:35:41] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[20:35:41] [INFO] [ReplayManager] Hidden 62 existing casings for progressive replay
[20:35:41] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[20:35:41] [INFO] [ReplayManager] Memory mode activated: reset progressive floor state, will spawn up to time 0,00s
[20:35:41] [INFO] [ReplayManager] Started replay playback. Frames: 2187, Duration: 34,54s, Mode: Memory
[20:35:42] [INFO] [ReplayManager] Spawned 36 replay blood decals (total: 36/36)
[20:35:42] [INFO] [ReplayManager] Spawned 10 replay blood decals (total: 46/46)
[20:35:42] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 50/50)
[20:35:42] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 54/54)
[20:35:42] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 56/56)
[20:35:42] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 58/58)
[20:35:42] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 63/63)
[20:35:42] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 64/64)
[20:35:42] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 65/65)
[20:35:42] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 66/66)
[20:35:43] [INFO] [ReplayManager] Grenade ghost: loaded texture res://assets/sprites/weapons/defensive_grenade.png
[20:35:47] [INFO] [ReplayManager] Spawned 8 replay blood decals (total: 74/74)
[20:35:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 75/75)
[20:35:47] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 80/80)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 84/84)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 90/90)
[20:35:47] [INFO] [ReplayManager] Spawned 8 replay blood decals (total: 98/98)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 102/102)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 106/106)
[20:35:47] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 109/109)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 113/113)
[20:35:47] [INFO] [ReplayManager] Spawned 8 replay blood decals (total: 121/121)
[20:35:47] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 126/126)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 130/130)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 136/136)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 142/142)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 148/148)
[20:35:47] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 151/151)
[20:35:47] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 153/153)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 159/159)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 165/165)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 169/169)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 173/173)
[20:35:47] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 174/174)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 180/180)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 184/184)
[20:35:47] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 188/188)
[20:35:47] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 190/190)
[20:35:47] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 192/192)
[20:35:47] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 198/198)
[20:35:48] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 204/204)
[20:35:48] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 206/206)
[20:35:49] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 211/211)
[20:35:49] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 217/217)
[20:35:50] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 222/222)
[20:35:50] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 225/225)
[20:35:50] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 229/229)
[20:35:50] [INFO] [ReplayManager] Spawned 7 replay blood decals (total: 236/236)
[20:35:50] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 237/237)
[20:35:50] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 238/238)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 1/1)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 2/2)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 3/3)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 4/4)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay casings (total: 5/5)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 239/239)
[20:35:53] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 242/242)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 243/243)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 244/244)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 245/245)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 246/246)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 247/247)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 248/248)
[20:35:53] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 249/249)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 6/6)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 7/7)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 8/8)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 9/9)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 10/10)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 11/11)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay casings (total: 12/12)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 251/251)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 252/252)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 254/254)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 256/256)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 257/257)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 259/259)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 261/261)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 262/262)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 264/264)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 265/265)
[20:35:59] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 268/268)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 269/269)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 270/270)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 272/272)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 273/273)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 274/274)
[20:35:59] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 277/277)
[20:35:59] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 279/279)
[20:35:59] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 280/280)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 281/281)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 282/282)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 283/283)
[20:36:00] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 285/285)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 286/286)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 287/287)
[20:36:00] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 289/289)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 13/13)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 14/14)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 15/15)
[20:36:00] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 291/291)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 16/16)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 1/70) at time 18,40s
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 292/292)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 17/17)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 293/293)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 294/294)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 295/295)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 18/18)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 2/70) at time 18,50s
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 296/296)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 19/19)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 20/20)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 3/70) at time 18,60s
[20:36:00] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 298/298)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay casings (total: 21/21)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 299/299)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 4/70) at time 18,70s
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 300/300)
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 5/70) at time 18,80s
[20:36:00] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 6/70) at time 18,90s
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 301/301)
[20:36:01] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 303/303)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 304/304)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 7/70) at time 19,00s
[20:36:01] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 306/306)
[20:36:01] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 308/308)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 8/70) at time 19,10s
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 9/70) at time 19,20s
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 10/70) at time 19,30s
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 11/70) at time 19,40s
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 12/70) at time 19,52s
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 22/22)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 23/23)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 24/24)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 25/25)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 26/26)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay casings (total: 27/27)
[20:36:01] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 13/70) at time 19,80s
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 309/309)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay casings (total: 28/28)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 14/70) at time 20,12s
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 15/70) at time 20,22s
[20:36:02] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 312/312)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 313/313)
[20:36:02] [INFO] [ReplayManager] Spawned 5 replay blood decals (total: 318/318)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 16/70) at time 20,32s
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 319/319)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 17/70) at time 20,42s
[20:36:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 321/321)
[20:36:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 323/323)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 18/70) at time 20,52s
[20:36:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 325/325)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 19/70) at time 20,62s
[20:36:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 327/327)
[20:36:02] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 329/329)
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 20/70) at time 20,73s
[20:36:02] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 21/70) at time 20,87s
[20:36:03] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 22/70) at time 21,00s
[20:36:03] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 23/70) at time 21,67s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 24/70) at time 21,77s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 25/70) at time 21,87s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 26/70) at time 21,97s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 27/70) at time 22,07s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 28/70) at time 22,17s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 29/70) at time 22,27s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 30/70) at time 22,37s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 31/70) at time 22,47s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 32/70) at time 22,57s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 33/70) at time 22,67s
[20:36:04] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 34/70) at time 22,77s
[20:36:05] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 35/70) at time 23,67s
[20:36:05] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 36/70) at time 23,77s
[20:36:05] [INFO] [ReplayManager] Spawned 1 replay casings (total: 29/29)
[20:36:05] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 37/70) at time 23,87s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 30/30)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 31/31)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 38/70) at time 23,97s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 32/32)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 33/33)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 39/70) at time 24,08s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 34/34)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 35/35)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 40/70) at time 24,20s
[20:36:06] [INFO] [ReplayManager] Spawned 2 replay casings (total: 37/37)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 41/70) at time 24,32s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 42/70) at time 24,42s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 330/330)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 331/331)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 43/70) at time 24,52s
[20:36:06] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 334/334)
[20:36:06] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 337/337)
[20:36:06] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 339/339)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 340/340)
[20:36:06] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 343/343)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 44/70) at time 24,62s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 38/38)
[20:36:06] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 346/346)
[20:36:06] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 348/348)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 349/349)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 45/70) at time 24,72s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 350/350)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 351/351)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay casings (total: 39/39)
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 46/70) at time 24,82s
[20:36:06] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 352/352)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 353/353)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 40/40)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 41/41)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 354/354)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 42/42)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 355/355)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 356/356)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 43/43)
[20:36:07] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 358/358)
[20:36:07] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 360/360)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 44/44)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 361/361)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 362/362)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 45/45)
[20:36:07] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 365/365)
[20:36:07] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 367/367)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 46/46)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 368/368)
[20:36:07] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 371/371)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 47/47)
[20:36:07] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 374/374)
[20:36:07] [INFO] [ReplayManager] Spawned 6 replay blood decals (total: 380/380)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 48/48)
[20:36:07] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 382/382)
[20:36:07] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 386/386)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 49/49)
[20:36:07] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 389/389)
[20:36:07] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 392/392)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay casings (total: 50/50)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 393/393)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 394/394)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 47/70) at time 25,72s
[20:36:07] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 396/396)
[20:36:07] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 398/398)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 399/399)
[20:36:07] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 402/402)
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 48/70) at time 25,85s
[20:36:07] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 403/403)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 404/404)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 405/405)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 49/70) at time 25,97s
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 406/406)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 407/407)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 408/408)
[20:36:08] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 410/410)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 411/411)
[20:36:08] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 413/413)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 414/414)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 415/415)
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 50/70) at time 26,72s
[20:36:08] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 51/70) at time 26,83s
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 52/70) at time 26,93s
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay casings (total: 51/51)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 53/70) at time 27,03s
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay casings (total: 52/52)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay casings (total: 53/53)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 54/70) at time 27,13s
[20:36:09] [INFO] [ReplayManager] Spawned 2 replay casings (total: 55/55)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 55/70) at time 27,23s
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay casings (total: 56/56)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 56/70) at time 27,35s
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 416/416)
[20:36:09] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 419/419)
[20:36:09] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 422/422)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 57/70) at time 27,47s
[20:36:09] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 424/424)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 425/425)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 426/426)
[20:36:09] [INFO] [ReplayManager] Spawned 3 replay blood decals (total: 429/429)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 430/430)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 58/70) at time 27,57s
[20:36:09] [INFO] [ReplayManager] Spawned 4 replay blood decals (total: 434/434)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 435/435)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 436/436)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 437/437)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 438/438)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 439/439)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 440/440)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 441/441)
[20:36:09] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 443/443)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 444/444)
[20:36:09] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 445/445)
[20:36:10] [INFO] [ReplayManager] Grenade ghost: loaded texture res://assets/sprites/weapons/frag_grenade.png
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay casings (total: 57/57)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay casings (total: 58/58)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay casings (total: 59/59)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay casings (total: 60/60)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay casings (total: 61/61)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay casings (total: 62/62)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 446/446)
[20:36:12] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 448/448)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 449/449)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 450/450)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 451/451)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 452/452)
[20:36:12] [INFO] [ReplayManager] Spawned 2 replay blood decals (total: 454/454)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 455/455)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 456/456)
[20:36:12] [INFO] [ReplayManager] Spawned 1 replay blood decals (total: 457/457)
[20:36:15] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 59/70) at time 33,28s
[20:36:15] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 60/70) at time 33,38s
[20:36:15] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 61/70) at time 33,48s
[20:36:15] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 62/70) at time 33,58s
[20:36:15] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 63/70) at time 33,68s
[20:36:15] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 64/70) at time 33,78s
[20:36:16] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 65/70) at time 33,88s
[20:36:16] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 66/70) at time 33,98s
[20:36:16] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 67/70) at time 34,18s
[20:36:16] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 68/70) at time 34,28s
[20:36:16] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 69/70) at time 34,38s
[20:36:16] [INFO] [ReplayManager] Spawned 1 replay footprints (total: 70/70) at time 34,48s
[20:36:19] [INFO] ------------------------------------------------------------
[20:36:19] [INFO] GAME LOG ENDED: 2026-02-07T20:36:19
[20:36:19] [INFO] ============================================================
